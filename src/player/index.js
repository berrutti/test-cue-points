/*! For license information please see index.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("video.js"),require("react-dom/client")):"function"==typeof define&&define.amd?define(["react","video.js","react-dom/client"],e):"object"==typeof exports?exports.main=e(require("react"),require("video.js"),require("react-dom/client")):t.main=e(t.react,t["video.js"],t["react-dom/client"])}(self,(function(__WEBPACK_EXTERNAL_MODULE__8156__,__WEBPACK_EXTERNAL_MODULE__7815__,__WEBPACK_EXTERNAL_MODULE__715__){return function(){var __webpack_modules__={2779:function(t,e){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var s=typeof r;if("string"===s||"number"===s)t.push(r);else if(Array.isArray(r)){if(r.length){var o=i.apply(null,r);o&&t.push(o)}}else if("object"===s){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){t.push(r.toString());continue}for(var a in r)n.call(r,a)&&r[a]&&t.push(a)}}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},8009:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".audio-animation-overlay_wrapper__ggbZL {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n\n  background-color: black;\n}\n\n.audio-animation-overlay_image__T7NJt {\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  object-fit: cover;\n\n  background-color: black;\n}\n","",{version:3,sources:["webpack://./src/components/audio-animation-overlay.module.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;;EAEvB,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;;EAEX,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,iBAAiB;;EAEjB,uBAAuB;AACzB",sourcesContent:[".wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n\n  background-color: black;\n}\n\n.image {\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  object-fit: cover;\n\n  background-color: black;\n}\n"],sourceRoot:""}]),o.locals={wrapper:"audio-animation-overlay_wrapper__ggbZL",image:"audio-animation-overlay_image__T7NJt"},e.Z=o},2984:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(6372),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".big-play-button_button__SRcnH {\n\n  width: 72px;\n  height: 72px;\n\n  -webkit-tap-highlight-color: transparent;\n}\n\n.big-play-button_button__SRcnH svg {\n  width: 42px;\n  height: 42px;\n}\n","",{version:3,sources:["webpack://./src/components/big-play-button.module.css"],names:[],mappings:"AAAA;;EAGE,WAAW;EACX,YAAY;;EAEZ,wCAAwC;AAC1C;;AAEA;EACE,WAAW;EACX,YAAY;AACd",sourcesContent:[".button {\n  composes: button from '../styles/common.module.css';\n\n  width: 72px;\n  height: 72px;\n\n  -webkit-tap-highlight-color: transparent;\n}\n\n.button svg {\n  width: 42px;\n  height: 42px;\n}\n"],sourceRoot:""}]),l.locals={button:"big-play-button_button__SRcnH "+a.Z.locals.button},e.Z=l},8696:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".error-message_wrapper__RZP-9 {\n  --primaryColor: #009339;\n\n  display: flex;\n  gap: max(8px, min(5%, 30px));\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n\n  font-family: Montserrat, sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  color: "+a.Z.locals["text-color"]+";\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.error-message_wrapper__RZP-9 .error-message_link__S5tnD {\n  color: var(--primaryColor);\n  cursor: pointer;\n  text-decoration: none;\n}\n\n.error-message_wrapper__RZP-9 .error-message_link__S5tnD:hover {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./src/components/error-message.module.css"],names:[],mappings:"AAGA;EACE,uBAAuB;;EAEvB,aAAa;EACb,4BAAyB;EACzB,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;;EAEnB,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;;EAEV,mCAAmC;EACnC,kBAAkB;EAClB,gBAAgB;EAChB,mDAAiB;EACjB,mCAAmC;EACnC,kCAAkC;;EAElC,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,0BAA0B;EAC1B,eAAe;EACf,qBAAqB;AACvB;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value text-color from colors;\n\n.wrapper {\n  --primaryColor: #009339;\n\n  display: flex;\n  gap: clamp(8px, 5%, 30px);\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n\n  font-family: Montserrat, sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  color: text-color;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.wrapper .link {\n  color: var(--primaryColor);\n  cursor: pointer;\n  text-decoration: none;\n}\n\n.wrapper .link:hover {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","text-color":""+a.Z.locals["text-color"],wrapper:"error-message_wrapper__RZP-9",link:"error-message_link__S5tnD"},e.Z=l},892:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".live-badge_liveBadge__7EoZn {\n  display: flex;\n  align-items: center;\n\n  padding: 5px 14px 5px 10px;\n\n  background: "+a.Z.locals["dark-gray"]+";\n  border-radius: 2px;\n\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.live-badge_liveBadge__7EoZn::before {\n  content: '';\n\n  display: block;\n  width: 4px;\n  height: 4px;\n  margin-right: 10px;\n\n  background: red;\n  border-radius: 50%;\n\n  -webkit-animation: live-badge_blink__8hKvp 1s ease-in-out infinite alternate;\n\n          animation: live-badge_blink__8hKvp 1s ease-in-out infinite alternate;\n}\n\n@media (prefers-reduced-motion) {\n  .live-badge_liveBadge__7EoZn::before {\n    -webkit-animation: none;\n            animation: none;\n  }\n}\n\n@-webkit-keyframes live-badge_blink__8hKvp {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0.1;\n  }\n}\n\n@keyframes live-badge_blink__8hKvp {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0.1;\n  }\n}\n","",{version:3,sources:["webpack://./src/components/live-badge.module.css"],names:[],mappings:"AAGA;EACE,aAAa;EACb,mBAAmB;;EAEnB,0BAA0B;;EAE1B,wDAAqB;EACrB,kBAAkB;;EAElB,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,WAAW;;EAEX,cAAc;EACd,UAAU;EACV,WAAW;EACX,kBAAkB;;EAElB,eAAe;EACf,kBAAkB;;EAElB,4EAAkD;;UAAlD,oEAAkD;AACpD;;AAEA;EACE;IACE,uBAAe;YAAf,eAAe;EACjB;AACF;;AAEA;EACE;IACE,UAAU;EACZ;;EAEA;IACE,YAAY;EACd;AACF;;AARA;EACE;IACE,UAAU;EACZ;;EAEA;IACE,YAAY;EACd;AACF",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value dark-gray from colors;\n\n.liveBadge {\n  display: flex;\n  align-items: center;\n\n  padding: 5px 14px 5px 10px;\n\n  background: dark-gray;\n  border-radius: 2px;\n\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.liveBadge::before {\n  content: '';\n\n  display: block;\n  width: 4px;\n  height: 4px;\n  margin-right: 10px;\n\n  background: red;\n  border-radius: 50%;\n\n  animation: blink 1s ease-in-out infinite alternate;\n}\n\n@media (prefers-reduced-motion) {\n  .liveBadge::before {\n    animation: none;\n  }\n}\n\n@keyframes blink {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0.1;\n  }\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","dark-gray":""+a.Z.locals["dark-gray"],liveBadge:"live-badge_liveBadge__7EoZn",blink:"live-badge_blink__8hKvp"},e.Z=l},5044:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".mobile-overlay_wrapper__LZ1b- {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n\n  transition: opacity 0.2s;\n}\n\n.mobile-overlay_wrapper__LZ1b-.mobile-overlay_hidden__IuPMX > *:not(div) {\n  opacity: 0;\n}\n\n.mobile-overlay_wrapper__LZ1b-.mobile-overlay_hidden__IuPMX > div {\n  opacity: 1;\n}\n\n.mobile-overlay_stepButton__9rd4y {\n  flex: 1;\n  display: flex;\n  align-items: center;\n\n  height: 100%;\n\n  background: none;\n  outline: none;\n  border: none;\n  color: inherit;\n\n  -webkit-user-select: none;\n\n          user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.mobile-overlay_stepButton__9rd4y:first-child {\n  justify-content: flex-end;\n}\n\n.mobile-overlay_stepButton__9rd4y:last-child {\n  justify-content: flex-start;\n}\n\n.mobile-overlay_stepButton__9rd4y svg {\n  width: 20px;\n  height: 20px;\n  width: max(20px, min(10%, 42px));\n  height: max(20px, min(10%, 42px));\n  -webkit-animation: mobile-overlay_fade__ygajk 1s both;\n          animation: mobile-overlay_fade__ygajk 1s both;\n}\n\n.mobile-overlay_stepButton__9rd4y:first-child svg {\n  margin-right: 25%;\n}\n\n.mobile-overlay_stepButton__9rd4y:last-child svg {\n  margin-left: 25%;\n}\n\n@-webkit-keyframes mobile-overlay_fade__ygajk {\n  from {\n    opacity: 1;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n\n  to {\n    opacity: 0;\n    -webkit-transform: scale(2);\n            transform: scale(2);\n  }\n}\n\n@keyframes mobile-overlay_fade__ygajk {\n  from {\n    opacity: 1;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n\n  to {\n    opacity: 0;\n    -webkit-transform: scale(2);\n            transform: scale(2);\n  }\n}\n\n@media (prefers-reduced-motion) {\n  .mobile-overlay_stepButton__9rd4y svg {\n    -webkit-animation: mobile-overlay_noAnimation__-zXg2 1s both;\n            animation: mobile-overlay_noAnimation__-zXg2 1s both;\n  }\n}\n\n/* Having empty keyframes will show an element without animation,\nbut will also still trigger onAnimationEnd event. */\n@-webkit-keyframes mobile-overlay_noAnimation__-zXg2 {\n}\n@keyframes mobile-overlay_noAnimation__-zXg2 {\n}\n","",{version:3,sources:["webpack://./src/components/mobile-overlay.module.css"],names:[],mappings:"AAGA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;;EAEvB,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;;EAEX,wBAAwB;AAC1B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,OAAO;EACP,aAAa;EACb,mBAAmB;;EAEnB,YAAY;;EAEZ,gBAAgB;EAChB,aAAa;EACb,YAAY;EACZ,cAAc;;EAEd,yBAAiB;;UAAjB,iBAAiB;EACjB,wCAAwC;AAC1C;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,gCAA6B;EAC7B,iCAA8B;EAC9B,qDAAuB;UAAvB,6CAAuB;AACzB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE;IACE,UAAU;IACV,2BAAmB;YAAnB,mBAAmB;EACrB;;EAEA;IACE,UAAU;IACV,2BAAmB;YAAnB,mBAAmB;EACrB;AACF;;AAVA;EACE;IACE,UAAU;IACV,2BAAmB;YAAnB,mBAAmB;EACrB;;EAEA;IACE,UAAU;IACV,2BAAmB;YAAnB,mBAAmB;EACrB;AACF;;AAEA;EACE;IACE,4DAA8B;YAA9B,oDAA8B;EAChC;AACF;;AAEA;mDACmD;AACnD;AACA;AADA;AACA",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value text-color from colors;\n\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n\n  transition: opacity 0.2s;\n}\n\n.wrapper.hidden > *:not(div) {\n  opacity: 0;\n}\n\n.wrapper.hidden > div {\n  opacity: 1;\n}\n\n.stepButton {\n  flex: 1;\n  display: flex;\n  align-items: center;\n\n  height: 100%;\n\n  background: none;\n  outline: none;\n  border: none;\n  color: inherit;\n\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.stepButton:first-child {\n  justify-content: flex-end;\n}\n\n.stepButton:last-child {\n  justify-content: flex-start;\n}\n\n.stepButton svg {\n  width: 20px;\n  height: 20px;\n  width: clamp(20px, 10%, 42px);\n  height: clamp(20px, 10%, 42px);\n  animation: fade 1s both;\n}\n\n.stepButton:first-child svg {\n  margin-right: 25%;\n}\n\n.stepButton:last-child svg {\n  margin-left: 25%;\n}\n\n@keyframes fade {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale(2);\n  }\n}\n\n@media (prefers-reduced-motion) {\n  .stepButton svg {\n    animation: noAnimation 1s both;\n  }\n}\n\n/* Having empty keyframes will show an element without animation,\nbut will also still trigger onAnimationEnd event. */\n@keyframes noAnimation {\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","text-color":""+a.Z.locals["text-color"],wrapper:"mobile-overlay_wrapper__LZ1b-",hidden:"mobile-overlay_hidden__IuPMX",stepButton:"mobile-overlay_stepButton__9rd4y",fade:"mobile-overlay_fade__ygajk",noAnimation:"mobile-overlay_noAnimation__-zXg2"},e.Z=l},4496:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".overlay_wrapper__qLse7 {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n}\n\n.overlay_wrapper__qLse7 > svg {\n  fill: "+a.Z.locals["text-color"]+";\n  position: absolute;\n  -webkit-animation: overlay_fadeIn__OebeO 0.5s both;\n          animation: overlay_fadeIn__OebeO 0.5s both;\n}\n\n@media (prefers-reduced-motion) {\n  .overlay_wrapper__qLse7 > svg {\n    -webkit-animation-duration: 0s;\n            animation-duration: 0s;\n  }\n}\n\n@-webkit-keyframes overlay_fadeIn__OebeO {\n  from {\n    opacity: 1;\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n  }\n\n  to {\n    opacity: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n\n@keyframes overlay_fadeIn__OebeO {\n  from {\n    opacity: 1;\n    -webkit-transform: scale(0.5);\n            transform: scale(0.5);\n  }\n\n  to {\n    opacity: 0;\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n","",{version:3,sources:["webpack://./src/components/overlay.module.css"],names:[],mappings:"AAGA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;;EAEvB,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;AACb;;AAEA;EACE,kDAAgB;EAChB,kBAAkB;EAClB,kDAA2B;UAA3B,0CAA2B;AAC7B;;AAEA;EACE;IACE,8BAAsB;YAAtB,sBAAsB;EACxB;AACF;;AAEA;EACE;IACE,UAAU;IACV,6BAAqB;YAArB,qBAAqB;EACvB;;EAEA;IACE,UAAU;IACV,2BAAmB;YAAnB,mBAAmB;EACrB;AACF;;AAVA;EACE;IACE,UAAU;IACV,6BAAqB;YAArB,qBAAqB;EACvB;;EAEA;IACE,UAAU;IACV,2BAAmB;YAAnB,mBAAmB;EACrB;AACF",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value text-color from colors;\n\n.wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n}\n\n.wrapper > svg {\n  fill: text-color;\n  position: absolute;\n  animation: fadeIn 0.5s both;\n}\n\n@media (prefers-reduced-motion) {\n  .wrapper > svg {\n    animation-duration: 0s;\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 1;\n    transform: scale(0.5);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale(1);\n  }\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","text-color":""+a.Z.locals["text-color"],wrapper:"overlay_wrapper__qLse7",fadeIn:"overlay_fadeIn__OebeO"},e.Z=l},33:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".video_wrapper__223lQ {\n  position: relative;\n  background: black;\n}\n\n.vjs-fluid.video_wrapper__223lQ {\n  width: 100%;\n  height: auto;\n}\n\n.video_wrapper__223lQ video {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n.vjs-fluid.video_wrapper__223lQ video {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.vjs-poster {\n  display: none;\n}\n\n.video_wrapper__223lQ:not(.vjs-has-started) .vjs-poster {\n  display: block;\n  height: 100%;\n  width: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n}\n","",{version:3,sources:["webpack://./src/components/player/hooks/video.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,cAAc;EACd,WAAW;EACX,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;AACT;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;EACd,YAAY;EACZ,WAAW;;EAEX,kBAAkB;EAClB,MAAM;EACN,OAAO;;EAEP,4BAA4B;EAC5B,2BAA2B;EAC3B,sBAAsB;AACxB",sourcesContent:[".wrapper {\n  position: relative;\n  background: black;\n}\n\n:global(.vjs-fluid).wrapper {\n  width: 100%;\n  height: auto;\n}\n\n.wrapper video {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n:global(.vjs-fluid).wrapper video {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n:global(.vjs-poster) {\n  display: none;\n}\n\n.wrapper:not(:global(.vjs-has-started)) :global(.vjs-poster) {\n  display: block;\n  height: 100%;\n  width: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n}\n"],sourceRoot:""}]),o.locals={wrapper:"video_wrapper__223lQ"},e.Z=o},4032:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".settings-menu-button_menuButton__bEvMU > svg {\n  transition: -webkit-transform 0.2s ease-out;\n  transition: transform 0.2s ease-out;\n  transition: transform 0.2s ease-out, -webkit-transform 0.2s ease-out;\n}\n\n.settings-menu-button_menuButton__bEvMU.settings-menu-button_active__m7aBs > svg {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n@media (prefers-reduced-motion) {\n  .settings-menu-button_menuButton__bEvMU.settings-menu-button_active__m7aBs > svg {\n    -webkit-transform: none;\n            transform: none;\n  }\n}\n","",{version:3,sources:["webpack://./src/components/settings-menu/settings-menu-button.module.css"],names:[],mappings:"AAAA;EACE,2CAAmC;EAAnC,mCAAmC;EAAnC,oEAAmC;AACrC;;AAEA;EACE,gCAAwB;UAAxB,wBAAwB;AAC1B;;AAEA;EACE;IACE,uBAAe;YAAf,eAAe;EACjB;AACF",sourcesContent:[".menuButton > svg {\n  transition: transform 0.2s ease-out;\n}\n\n.menuButton.active > svg {\n  transform: rotate(90deg);\n}\n\n@media (prefers-reduced-motion) {\n  .menuButton.active > svg {\n    transform: none;\n  }\n}\n"],sourceRoot:""}]),o.locals={menuButton:"settings-menu-button_menuButton__bEvMU",active:"settings-menu-button_active__m7aBs"},e.Z=o},3731:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".settings-menu_wrapper__e7EXW {\n  width: 100vw;\n  position: absolute;\n  z-index: 1;\n  font-size: 12px;\n  line-height: 15px;\n  outline: none;\n  transition: all 0.2s;\n}\n\n.settings-menu_closed__WyBZJ {\n  pointer-events: none;\n}\n\n.mobile .settings-menu_wrapper__e7EXW {\n  width: max(200px, min(50vw, 320px));\n  max-width: 320px;\n  padding: 4px;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: "+a.Z.locals["dark-gray"]+";\n  color: "+a.Z.locals["text-color"]+";\n}\n\n.mobile .settings-menu_wrapper__e7EXW.settings-menu_closed__WyBZJ {\n  opacity: 0;\n}\n\n.desktop .settings-menu_wrapper__e7EXW {\n  max-width: 242px;\n  right: -54px;\n  bottom: 35px;\n  background: #fff;\n  border-radius: 2px;\n  color: "+a.Z.locals["medium-gray"]+";\n}\n\n.desktop .settings-menu_wrapper__e7EXW.settings-menu_closed__WyBZJ {\n  opacity: 0;\n  -webkit-transform: scale(0.95);\n          transform: scale(0.95);\n}\n\n.desktop .settings-menu_wrapper__e7EXW::after {\n  content: '';\n  display: block;\n\n  position: absolute;\n  top: 100%;\n  right: 63px;\n\n  border: 3px solid transparent;\n  border-top-width: 5px;\n  border-top-color: #fff;\n}\n\n.settings-menu_scroller__w32HG {\n  overflow: auto;\n}\n\n.settings-menu_menu__dqMHx {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 6px;\n}\n\n.settings-menu_item__KvEIG {\n  display: flex;\n  align-items: center;\n\n  background: none;\n  outline: none;\n  border: none;\n  color: inherit;\n\n  font: inherit;\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n\n  transition: color 0.2s;\n}\n\n.settings-menu_item__KvEIG:disabled {\n  cursor: default;\n}\n\n.settings-menu_item__KvEIG:focus {\n  border: 2px solid var(--primaryColor);\n}\n\n/* Remove :focus styles in browsers that support :focus-visible pseudo-class */\n/* This makes focus state work in Safari but applies it only when tabbing in better browsers */\n.settings-menu_item__KvEIG:focus:not(.settings-menu_focus-visible__EyTud) {\n  border: none;\n}\n.settings-menu_item__KvEIG:focus:not(:focus-visible) {\n  border: none;\n}\n\n.settings-menu_item__KvEIG.settings-menu_focus-visible__EyTud {\n  outline: 2px solid var(--primaryColor);\n}\n\n.settings-menu_item__KvEIG:focus-visible {\n  outline: 2px solid var(--primaryColor);\n}\n\n.desktop .settings-menu_mainMenuItem__BLCEH.settings-menu_active__R7bv2 span:first-child,\n.desktop .settings-menu_mainMenuItem__BLCEH:hover span:first-child,\n.desktop .settings-menu_subMenuItem__k2sOR:hover span,\n.desktop .settings-menu_subMenuItem__k2sOR.settings-menu_active__R7bv2 span {\n  color: "+a.Z.locals["dark-gray"]+";\n}\n\n.settings-menu_mainMenuItem__BLCEH {\n  padding: 10px 14px;\n}\n\n.settings-menu_mainMenuItem__BLCEH > span:first-child {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin-right: auto;\n  position: relative;\n}\n\n.settings-menu_mainMenuItem__BLCEH > span:first-child::after {\n  content: '';\n  display: block;\n\n  width: 0;\n  height: 3px;\n\n  position: absolute;\n  bottom: -7px;\n\n  background: var(--primaryColor);\n  opacity: 0;\n\n  transition-property: width, opacity;\n  transition-duration: 0.1s, 0.2s;\n}\n\n.settings-menu_mainMenuItem__BLCEH:hover > span:first-child::after {\n  width: 100%;\n  opacity: 1;\n}\n\n.settings-menu_mainMenuItem__BLCEH > svg {\n  margin-left: 16px;\n  transition: fill 0.1s;\n}\n\n.settings-menu_mainMenuItem__BLCEH:hover > svg {\n  fill: var(--primaryColor);\n}\n\n.settings-menu_subMenuItem__k2sOR svg {\n  margin-right: 11px;\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n\n.settings-menu_subMenuItem__k2sOR.settings-menu_active__R7bv2 svg {\n  opacity: 1;\n}\n\n.settings-menu_subMenuItem__k2sOR,\n.settings-menu_backButton__BhUBa {\n  padding: 10px 20px 10px 16px;\n}\n\n.desktop .settings-menu_backButton__BhUBa:hover {\n  color: "+a.Z.locals["dark-gray"]+";\n}\n\n.settings-menu_backButton__BhUBa svg {\n  margin-right: 16px;\n  -webkit-transform: rotateY(180deg);\n          transform: rotateY(180deg);\n  transition: fill 0.1s;\n}\n\n.settings-menu_backButton__BhUBa:hover svg {\n  fill: var(--primaryColor);\n}\n\n@media (prefers-reduced-motion) {\n  .settings-menu_wrapper__e7EXW,\n  .settings-menu_mainMenuItem__BLCEH > span:first-child::after,\n  .settings-menu_mainMenuItem__BLCEH > svg,\n  .settings-menu_subMenuItem__k2sOR.settings-menu_active__R7bv2 svg {\n    transition: none;\n  }\n}\n","",{version:3,sources:["webpack://./src/components/settings-menu/settings-menu.module.css"],names:[],mappings:"AAGA;EACE,YAAY;EACZ,kBAAkB;EAClB,UAAU;EACV,eAAe;EACf,iBAAiB;EACjB,aAAa;EACb,oBAAoB;AACtB;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,mCAAgC;EAChC,gBAAgB;EAChB,YAAY;EACZ,MAAM;EACN,QAAQ;EACR,SAAS;EACT,wDAAqB;EACrB,mDAAiB;AACnB;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,gBAAgB;EAChB,YAAY;EACZ,YAAY;EACZ,gBAAgB;EAChB,kBAAkB;EAClB,mDAAkB;AACpB;;AAEA;EACE,UAAU;EACV,8BAAsB;UAAtB,sBAAsB;AACxB;;AAEA;EACE,WAAW;EACX,cAAc;;EAEd,kBAAkB;EAClB,SAAS;EACT,WAAW;;EAEX,6BAA6B;EAC7B,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,YAAY;AACd;;AAEA;EACE,aAAa;EACb,mBAAmB;;EAEnB,gBAAgB;EAChB,aAAa;EACb,YAAY;EACZ,cAAc;;EAEd,aAAa;EACb,eAAe;EACf,yBAAiB;UAAjB,iBAAiB;;EAEjB,sBAAsB;AACxB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,qCAAqC;AACvC;;AAEA,8EAA8E;AAC9E,8FAA8F;AAC9F;EACE,YAAY;AACd;AAFA;EACE,YAAY;AACd;;AAEA;EACE,sCAAsC;AACxC;;AAFA;EACE,sCAAsC;AACxC;;AAEA;;;;EAIE,mDAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;;EAEnB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,cAAc;;EAEd,QAAQ;EACR,WAAW;;EAEX,kBAAkB;EAClB,YAAY;;EAEZ,+BAA+B;EAC/B,UAAU;;EAEV,mCAAmC;EACnC,+BAA+B;AACjC;;AAEA;EACE,WAAW;EACX,UAAU;AACZ;;AAEA;EACE,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,UAAU;EACV,wBAAwB;AAC1B;;AAEA;EACE,UAAU;AACZ;;AAEA;;EAEE,4BAA4B;AAC9B;;AAEA;EACE,mDAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,kCAA0B;UAA1B,0BAA0B;EAC1B,qBAAqB;AACvB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE;;;;IAIE,gBAAgB;EAClB;AACF",sourcesContent:["@value colors: '../../styles/variables.module.css';\n@value text-color, medium-gray, dark-gray from colors;\n\n.wrapper {\n  width: 100vw;\n  position: absolute;\n  z-index: 1;\n  font-size: 12px;\n  line-height: 15px;\n  outline: none;\n  transition: all 0.2s;\n}\n\n.closed {\n  pointer-events: none;\n}\n\n:global(.mobile) .wrapper {\n  width: clamp(200px, 50vw, 320px);\n  max-width: 320px;\n  padding: 4px;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: dark-gray;\n  color: text-color;\n}\n\n:global(.mobile) .wrapper.closed {\n  opacity: 0;\n}\n\n:global(.desktop) .wrapper {\n  max-width: 242px;\n  right: -54px;\n  bottom: 35px;\n  background: #fff;\n  border-radius: 2px;\n  color: medium-gray;\n}\n\n:global(.desktop) .wrapper.closed {\n  opacity: 0;\n  transform: scale(0.95);\n}\n\n:global(.desktop) .wrapper::after {\n  content: '';\n  display: block;\n\n  position: absolute;\n  top: 100%;\n  right: 63px;\n\n  border: 3px solid transparent;\n  border-top-width: 5px;\n  border-top-color: #fff;\n}\n\n.scroller {\n  overflow: auto;\n}\n\n.menu {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding: 6px;\n}\n\n.item {\n  display: flex;\n  align-items: center;\n\n  background: none;\n  outline: none;\n  border: none;\n  color: inherit;\n\n  font: inherit;\n  cursor: pointer;\n  user-select: none;\n\n  transition: color 0.2s;\n}\n\n.item:disabled {\n  cursor: default;\n}\n\n.item:focus {\n  border: 2px solid var(--primaryColor);\n}\n\n/* Remove :focus styles in browsers that support :focus-visible pseudo-class */\n/* This makes focus state work in Safari but applies it only when tabbing in better browsers */\n.item:focus:not(:focus-visible) {\n  border: none;\n}\n\n.item:focus-visible {\n  outline: 2px solid var(--primaryColor);\n}\n\n:global(.desktop) .mainMenuItem.active span:first-child,\n:global(.desktop) .mainMenuItem:hover span:first-child,\n:global(.desktop) .subMenuItem:hover span,\n:global(.desktop) .subMenuItem.active span {\n  color: dark-gray;\n}\n\n.mainMenuItem {\n  padding: 10px 14px;\n}\n\n.mainMenuItem > span:first-child {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  margin-right: auto;\n  position: relative;\n}\n\n.mainMenuItem > span:first-child::after {\n  content: '';\n  display: block;\n\n  width: 0;\n  height: 3px;\n\n  position: absolute;\n  bottom: -7px;\n\n  background: var(--primaryColor);\n  opacity: 0;\n\n  transition-property: width, opacity;\n  transition-duration: 0.1s, 0.2s;\n}\n\n.mainMenuItem:hover > span:first-child::after {\n  width: 100%;\n  opacity: 1;\n}\n\n.mainMenuItem > svg {\n  margin-left: 16px;\n  transition: fill 0.1s;\n}\n\n.mainMenuItem:hover > svg {\n  fill: var(--primaryColor);\n}\n\n.subMenuItem svg {\n  margin-right: 11px;\n  opacity: 0;\n  transition: opacity 0.1s;\n}\n\n.subMenuItem.active svg {\n  opacity: 1;\n}\n\n.subMenuItem,\n.backButton {\n  padding: 10px 20px 10px 16px;\n}\n\n:global(.desktop) .backButton:hover {\n  color: dark-gray;\n}\n\n.backButton svg {\n  margin-right: 16px;\n  transform: rotateY(180deg);\n  transition: fill 0.1s;\n}\n\n.backButton:hover svg {\n  fill: var(--primaryColor);\n}\n\n@media (prefers-reduced-motion) {\n  .wrapper,\n  .mainMenuItem > span:first-child::after,\n  .mainMenuItem > svg,\n  .subMenuItem.active svg {\n    transition: none;\n  }\n}\n"],sourceRoot:""}]),l.locals={colors:"'../../styles/variables.module.css'","text-color":""+a.Z.locals["text-color"],"medium-gray":""+a.Z.locals["medium-gray"],"dark-gray":""+a.Z.locals["dark-gray"],wrapper:"settings-menu_wrapper__e7EXW",closed:"settings-menu_closed__WyBZJ",scroller:"settings-menu_scroller__w32HG",menu:"settings-menu_menu__dqMHx",item:"settings-menu_item__KvEIG","focus-visible":"settings-menu_focus-visible__EyTud",mainMenuItem:"settings-menu_mainMenuItem__BLCEH",active:"settings-menu_active__R7bv2",subMenuItem:"settings-menu_subMenuItem__k2sOR",backButton:"settings-menu_backButton__BhUBa"},e.Z=l},5725:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".spinner_wrapper__iJSYF {\n  display: none;\n\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n\n  background: rgba(0, 0, 0, 0.5);\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n}\n\n.vjs-waiting .spinner_wrapper__iJSYF {\n  display: flex;\n}\n\n.spinner_spinner__Mweo2 {\n  display: inline-block;\n  width: 80px;\n  height: 80px;\n  position: relative;\n}\n\n.spinner_spinner__Mweo2 div {\n  display: block;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n\n  position: absolute;\n\n  border: 8px solid #fff;\n  border-radius: 50%;\n  border-color: #fff transparent transparent transparent;\n  -webkit-animation: spinner_spin__311b7 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n          animation: spinner_spin__311b7 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n}\n\n.spinner_spinner__Mweo2 div:nth-child(1) {\n  -webkit-animation-delay: -0.45s;\n          animation-delay: -0.45s;\n}\n\n.spinner_spinner__Mweo2 div:nth-child(2) {\n  -webkit-animation-delay: -0.3s;\n          animation-delay: -0.3s;\n}\n\n.spinner_spinner__Mweo2 div:nth-child(3) {\n  -webkit-animation-delay: -0.15s;\n          animation-delay: -0.15s;\n}\n\n@-webkit-keyframes spinner_spin__311b7 {\n  from {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes spinner_spin__311b7 {\n  from {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n\n  to {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n","",{version:3,sources:["webpack://./src/components/spinner.module.css"],names:[],mappings:"AAAA;EACE,aAAa;;EAEb,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;EACX,YAAY;;EAEZ,8BAA8B;;EAE9B,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;AACb;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,qBAAqB;EACrB,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,WAAW;;EAEX,kBAAkB;;EAElB,sBAAsB;EACtB,kBAAkB;EAClB,sDAAsD;EACtD,iFAA0D;UAA1D,yEAA0D;AAC5D;;AAEA;EACE,+BAAuB;UAAvB,uBAAuB;AACzB;;AAEA;EACE,8BAAsB;UAAtB,sBAAsB;AACxB;;AAEA;EACE,+BAAuB;UAAvB,uBAAuB;AACzB;;AAEA;EACE;IACE,+BAAuB;YAAvB,uBAAuB;EACzB;;EAEA;IACE,iCAAyB;YAAzB,yBAAyB;EAC3B;AACF;;AARA;EACE;IACE,+BAAuB;YAAvB,uBAAuB;EACzB;;EAEA;IACE,iCAAyB;YAAzB,yBAAyB;EAC3B;AACF",sourcesContent:[".wrapper {\n  display: none;\n\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n\n  background: rgba(0, 0, 0, 0.5);\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n}\n\n:global(.vjs-waiting) .wrapper {\n  display: flex;\n}\n\n.spinner {\n  display: inline-block;\n  width: 80px;\n  height: 80px;\n  position: relative;\n}\n\n.spinner div {\n  display: block;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n\n  position: absolute;\n\n  border: 8px solid #fff;\n  border-radius: 50%;\n  border-color: #fff transparent transparent transparent;\n  animation: spin 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n}\n\n.spinner div:nth-child(1) {\n  animation-delay: -0.45s;\n}\n\n.spinner div:nth-child(2) {\n  animation-delay: -0.3s;\n}\n\n.spinner div:nth-child(3) {\n  animation-delay: -0.15s;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n"],sourceRoot:""}]),o.locals={wrapper:"spinner_wrapper__iJSYF",spinner:"spinner_spinner__Mweo2",spin:"spinner_spin__311b7"},e.Z=o},4687:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".subtitles_subtitles__C5idk {\n  display: flex;\n  align-self: center;\n\n  margin: 0 16px;\n  padding: 0.4em 1em;\n\n  position: absolute;\n  bottom: 24px;\n\n  background: rgba(0, 0, 0, 0.5);\n  pointer-events: none;\n\n  font-size: max(12px, min(calc(var(--wrapperWidth) / 50 * 1px), 24px));\n  text-align: center;\n\n  transition: bottom 0.2s;\n}\n\n.mobile .subtitles_withSpaceForBottomBar__bfITv {\n  bottom: 70px;\n}\n\n.desktop .subtitles_withSpaceForBottomBar__bfITv {\n  bottom: 180px;\n  bottom: max(90px, min(25%, 180px));\n}\n","",{version:3,sources:["webpack://./src/components/subtitles.module.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,kBAAkB;;EAElB,cAAc;EACd,kBAAkB;;EAElB,kBAAkB;EAClB,YAAY;;EAEZ,8BAA8B;EAC9B,oBAAoB;;EAEpB,qEAAkE;EAClE,kBAAkB;;EAElB,uBAAuB;AACzB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;EACb,kCAA+B;AACjC",sourcesContent:[".subtitles {\n  display: flex;\n  align-self: center;\n\n  margin: 0 16px;\n  padding: 0.4em 1em;\n\n  position: absolute;\n  bottom: 24px;\n\n  background: rgba(0, 0, 0, 0.5);\n  pointer-events: none;\n\n  font-size: clamp(12px, calc(var(--wrapperWidth) / 50 * 1px), 24px);\n  text-align: center;\n\n  transition: bottom 0.2s;\n}\n\n:global(.mobile) .withSpaceForBottomBar {\n  bottom: 70px;\n}\n\n:global(.desktop) .withSpaceForBottomBar {\n  bottom: 180px;\n  bottom: clamp(90px, 25%, 180px);\n}\n"],sourceRoot:""}]),o.locals={subtitles:"subtitles_subtitles__C5idk",withSpaceForBottomBar:"subtitles_withSpaceForBottomBar__bfITv"},e.Z=o},560:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".timeline-preview_wrapper__I7TTV {\n  position: absolute;\n  bottom: 100%;\n  z-index: 1;\n\n  background: "+a.Z.locals["dark-gray"]+";\n  border-radius: 2px;\n\n  font-size: 14px;\n  line-height: 23px;\n  letter-spacing: 0px;\n  text-align: center;\n\n  opacity: 0;\n  overflow: hidden;\n  pointer-events: none;\n\n  -webkit-transform: translateY(10px) scale(0.9);\n\n          transform: translateY(10px) scale(0.9);\n  -webkit-transform-origin: center bottom;\n          transform-origin: center bottom;\n\n  transition-property: opacity, -webkit-transform;\n\n  transition-property: opacity, transform;\n\n  transition-property: opacity, transform, -webkit-transform;\n  transition-duration: 0.15s;\n}\n\n.mobile .timeline-preview_wrapper__I7TTV {\n  bottom: calc(100% + 16px);\n}\n\n.desktop .timeline-preview_wrapper__I7TTV {\n  bottom: 100%;\n}\n\n.timeline-preview_active__1yDnd {\n  opacity: 1;\n  -webkit-transform: translateY(0) scale(1);\n          transform: translateY(0) scale(1);\n}\n\n@media (prefers-reduced-motion) {\n  .timeline-preview_wrapper__I7TTV {\n    -webkit-transform: none;\n            transform: none;\n    transition: none;\n  }\n}\n\n.timeline-preview_wrapper__I7TTV div {\n  background-repeat: no-repeat;\n}\n","",{version:3,sources:["webpack://./src/components/timeline-preview.module.css"],names:[],mappings:"AAGA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;;EAEV,wDAAqB;EACrB,kBAAkB;;EAElB,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,kBAAkB;;EAElB,UAAU;EACV,gBAAgB;EAChB,oBAAoB;;EAEpB,8CAAsC;;UAAtC,sCAAsC;EACtC,uCAA+B;UAA/B,+BAA+B;;EAE/B,+CAAuC;;EAAvC,uCAAuC;;EAAvC,0DAAuC;EACvC,0BAA0B;AAC5B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,UAAU;EACV,yCAAiC;UAAjC,iCAAiC;AACnC;;AAEA;EACE;IACE,uBAAe;YAAf,eAAe;IACf,gBAAgB;EAClB;AACF;;AAEA;EACE,4BAA4B;AAC9B",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value dark-gray from colors;\n\n.wrapper {\n  position: absolute;\n  bottom: 100%;\n  z-index: 1;\n\n  background: dark-gray;\n  border-radius: 2px;\n\n  font-size: 14px;\n  line-height: 23px;\n  letter-spacing: 0px;\n  text-align: center;\n\n  opacity: 0;\n  overflow: hidden;\n  pointer-events: none;\n\n  transform: translateY(10px) scale(0.9);\n  transform-origin: center bottom;\n\n  transition-property: opacity, transform;\n  transition-duration: 0.15s;\n}\n\n:global(.mobile) .wrapper {\n  bottom: calc(100% + 16px);\n}\n\n:global(.desktop) .wrapper {\n  bottom: 100%;\n}\n\n.active {\n  opacity: 1;\n  transform: translateY(0) scale(1);\n}\n\n@media (prefers-reduced-motion) {\n  .wrapper {\n    transform: none;\n    transition: none;\n  }\n}\n\n.wrapper div {\n  background-repeat: no-repeat;\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","dark-gray":""+a.Z.locals["dark-gray"],wrapper:"timeline-preview_wrapper__I7TTV",active:"timeline-preview_active__1yDnd"},e.Z=l},88:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".timeline_wrapper__cOzBc {\n  --thumb-size: 18px;\n\n  display: flex;\n  align-items: center;\n  height: var(--thumb-height);\n  position: relative;\n}\n\n.mobile .timeline_wrapper__cOzBc {\n  flex: 1;\n}\n\n.desktop .timeline_wrapper__cOzBc {\n  flex: none;\n}\n\n.timeline_indicators__X6cbO {\n  position: absolute;\n\n  width: 100%;\n\n  background: "+a.Z.locals["slider-background-color"]+";\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n.mobile .timeline_indicators__X6cbO {\n  height: 4px;\n}\n\n.desktop .timeline_indicators__X6cbO {\n  height: 2px;\n  transition: -webkit-transform 0.2s;\n  transition: transform 0.2s;\n  transition: transform 0.2s, -webkit-transform 0.2s;\n}\n\n@media (prefers-reduced-motion) {\n  .desktop .timeline_indicators__X6cbO {\n    transition: none;\n  }\n}\n\n.desktop .timeline_wrapper__cOzBc:hover .timeline_indicators__X6cbO {\n  -webkit-transform: scaleY(2);\n          transform: scaleY(2);\n}\n\n.timeline_indicators__X6cbO div {\n  position: absolute;\n  background: var(--primaryColor);\n  height: 100%;\n}\n\n.timeline_indicators__X6cbO div:nth-child(2) {\n  opacity: 0.5;\n}\n\n.timeline_indicators__X6cbO div:nth-child(3) {\n  opacity: 0.2;\n}\n\n.timeline_input__9UtGd {\n  width: 100%;\n  position: relative;\n  background: none;\n  cursor: pointer;\n}\n\n.timeline_indicators__X6cbO div {\n  transition: width 0.2s linear;\n}\n","",{version:3,sources:["webpack://./src/components/timeline.module.css"],names:[],mappings:"AAGA;EACE,kBAAkB;;EAElB,aAAa;EACb,mBAAmB;EACnB,2BAA2B;EAC3B,kBAAkB;AACpB;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,kBAAkB;;EAElB,WAAW;;EAEX,wDAAmC;EACnC,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,WAAW;EACX,kCAA0B;EAA1B,0BAA0B;EAA1B,kDAA0B;AAC5B;;AAEA;EACE;IACE,gBAAgB;EAClB;AACF;;AAEA;EACE,4BAAoB;UAApB,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,6BAA6B;AAC/B",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value slider-background-color from colors;\n\n.wrapper {\n  --thumb-size: 18px;\n\n  display: flex;\n  align-items: center;\n  height: var(--thumb-height);\n  position: relative;\n}\n\n:global(.mobile) .wrapper {\n  flex: 1;\n}\n\n:global(.desktop) .wrapper {\n  flex: none;\n}\n\n.indicators {\n  position: absolute;\n\n  width: 100%;\n\n  background: slider-background-color;\n  border-radius: 2px;\n  overflow: hidden;\n}\n\n:global(.mobile) .indicators {\n  height: 4px;\n}\n\n:global(.desktop) .indicators {\n  height: 2px;\n  transition: transform 0.2s;\n}\n\n@media (prefers-reduced-motion) {\n  :global(.desktop) .indicators {\n    transition: none;\n  }\n}\n\n:global(.desktop) .wrapper:hover .indicators {\n  transform: scaleY(2);\n}\n\n.indicators div {\n  position: absolute;\n  background: var(--primaryColor);\n  height: 100%;\n}\n\n.indicators div:nth-child(2) {\n  opacity: 0.5;\n}\n\n.indicators div:nth-child(3) {\n  opacity: 0.2;\n}\n\n.input {\n  width: 100%;\n  position: relative;\n  background: none;\n  cursor: pointer;\n}\n\n.indicators div {\n  transition: width 0.2s linear;\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","slider-background-color":""+a.Z.locals["slider-background-color"],wrapper:"timeline_wrapper__cOzBc",indicators:"timeline_indicators__X6cbO",input:"timeline_input__9UtGd"},e.Z=l},6824:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".mobile .timer_wrapper__0pCX- {\n  font-size: 12px;\n  line-height: 15px;\n}\n\n.desktop .timer_wrapper__0pCX- {\n  font-size: 16px;\n  line-height: 20px;\n  margin-right: auto;\n}\n\n.timer_wrapper__0pCX- > *:nth-child(2) {\n  opacity: 0.5;\n  margin-left: 5px;\n}\n","",{version:3,sources:["webpack://./src/components/timer.module.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,iBAAiB;AACnB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,gBAAgB;AAClB",sourcesContent:[":global(.mobile) .wrapper {\n  font-size: 12px;\n  line-height: 15px;\n}\n\n:global(.desktop) .wrapper {\n  font-size: 16px;\n  line-height: 20px;\n  margin-right: auto;\n}\n\n.wrapper > *:nth-child(2) {\n  opacity: 0.5;\n  margin-left: 5px;\n}\n"],sourceRoot:""}]),o.locals={wrapper:"timer_wrapper__0pCX-"},e.Z=o},6985:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".tooltip_tooltip__RV9Uj {\n  flex: none;\n\n  position: absolute;\n  top: 0;\n  left: 50%;\n  -webkit-transform: translate(-50%);\n          transform: translate(-50%);\n\n  background: "+a.Z.locals["dark-gray"]+";\n  border-radius: 2px;\n  padding: 6px 12px;\n\n  font-size: 12px;\n  line-height: 15px;\n  white-space: nowrap;\n\n  opacity: 0;\n  pointer-events: none;\n  transition-property: opacity, top;\n  transition-duration: 0.2s;\n}\n\n[class*='buttonsSection'] > *:first-child .tooltip_tooltip__RV9Uj {\n  left: 0;\n  -webkit-transform: none;\n          transform: none;\n}\n\n[class*='buttonsSection'] > *:last-child .tooltip_tooltip__RV9Uj {\n  right: 0;\n  left: auto;\n  -webkit-transform: none;\n          transform: none;\n}\n\n*:hover > .tooltip_tooltip__RV9Uj {\n  opacity: 1;\n  top: -34px;\n  transition-delay: 0.5s;\n}\n\n.menuIsOpen *:hover > .tooltip_tooltip__RV9Uj,\n.mobile *:hover > .tooltip_tooltip__RV9Uj {\n  opacity: 0;\n  top: 0;\n  transition: none;\n}\n","",{version:3,sources:["webpack://./src/components/tooltip.module.css"],names:[],mappings:"AAGA;EACE,UAAU;;EAEV,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,kCAA0B;UAA1B,0BAA0B;;EAE1B,wDAAqB;EACrB,kBAAkB;EAClB,iBAAiB;;EAEjB,eAAe;EACf,iBAAiB;EACjB,mBAAmB;;EAEnB,UAAU;EACV,oBAAoB;EACpB,iCAAiC;EACjC,yBAAyB;AAC3B;;AAEA;EACE,OAAO;EACP,uBAAe;UAAf,eAAe;AACjB;;AAEA;EACE,QAAQ;EACR,UAAU;EACV,uBAAe;UAAf,eAAe;AACjB;;AAEA;EACE,UAAU;EACV,UAAU;EACV,sBAAsB;AACxB;;AAEA;;EAEE,UAAU;EACV,MAAM;EACN,gBAAgB;AAClB",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value dark-gray from colors;\n\n.tooltip {\n  flex: none;\n\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translate(-50%);\n\n  background: dark-gray;\n  border-radius: 2px;\n  padding: 6px 12px;\n\n  font-size: 12px;\n  line-height: 15px;\n  white-space: nowrap;\n\n  opacity: 0;\n  pointer-events: none;\n  transition-property: opacity, top;\n  transition-duration: 0.2s;\n}\n\n[class*='buttonsSection'] > *:first-child .tooltip {\n  left: 0;\n  transform: none;\n}\n\n[class*='buttonsSection'] > *:last-child .tooltip {\n  right: 0;\n  left: auto;\n  transform: none;\n}\n\n*:hover > .tooltip {\n  opacity: 1;\n  top: -34px;\n  transition-delay: 0.5s;\n}\n\n:global(.menuIsOpen) *:hover > .tooltip,\n:global(.mobile) *:hover > .tooltip {\n  opacity: 0;\n  top: 0;\n  transition: none;\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","dark-gray":""+a.Z.locals["dark-gray"],tooltip:"tooltip_tooltip__RV9Uj"},e.Z=l},3116:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".trimmer_wrapper__WKalo {\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  height: 52px;\n\n  position: relative;\n  outline: none;\n}\n\n.trimmer_backgroundLine__S5QnU {\n  width: 100%;\n  height: 4px;\n\n  position: absolute;\n  left: 0;\n\n  border-radius: 2px;\n  pointer-events: none;\n}\n\n.trimmer_currentTimeIndicator__f7idI {\n  width: 1px;\n  height: 54px;\n\n  position: absolute;\n  bottom: 0;\n  z-index: 1;\n\n  background: white;\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.trimmer_currentTimeIndicator__f7idI::before {\n  content: '';\n  display: block;\n  position: absolute;\n  top: -16px;\n  -webkit-transform: translateX(-48%);\n          transform: translateX(-48%);\n  border-top: 18px solid white;\n  border-bottom: none;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n}\n\n.trimmer_hoverIndicator__DkTv\\+ {\n  width: 1px;\n  height: 63px;\n\n  position: absolute;\n  bottom: 0;\n\n  background: rgba(255, 255, 255, 0.5);\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.trimmer_wrapper__WKalo:hover .trimmer_hoverIndicator__DkTv\\+ {\n  opacity: 1;\n}\n\n@media (prefers-reduced-motion) {\n  .trimmer_hoverIndicator__DkTv\\+ {\n    transition: none;\n  }\n}\n\n.trimmer_trimArea__mu64B {\n  height: 100%;\n  min-width: 22px;\n  position: absolute;\n  border: 2px solid var(--primaryColor);\n  pointer-events: none;\n}\n\n/* Background for .trimArea is created as a pseudo-element because its color\nis dynamic and we want to add opacity to it and we can't do something like\n`background: rgba(var(--primaryColor), 0.2);` with CSS just yet */\n.trimmer_trimArea__mu64B::after {\n  content: '';\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  background: var(--primaryColor);\n  opacity: 0.2;\n}\n\n.trimmer_label__iIPW1 {\n  position: absolute;\n  top: -17px;\n\n  font-size: 10px;\n  transition: -webkit-transform 0.2s;\n  transition: transform 0.2s;\n  transition: transform 0.2s, -webkit-transform 0.2s;\n}\n\n.trimmer_label__iIPW1:nth-child(1) {\n  left: -2px;\n}\n\n.trimmer_label__iIPW1:nth-child(2) {\n  right: -2px;\n}\n\n.trimmer_trimArea__mu64B.trimmer_narrow__KVlPO .trimmer_label__iIPW1:nth-child(1) {\n  -webkit-transform: translateX(-100%);\n          transform: translateX(-100%);\n}\n\n.trimmer_trimArea__mu64B.trimmer_narrow__KVlPO .trimmer_label__iIPW1:nth-child(2) {\n  -webkit-transform: translateX(100%);\n          transform: translateX(100%);\n}\n\n.trimmer_trimArea__mu64B button {\n  height: 100%;\n  padding: 0;\n\n  position: absolute;\n  z-index: 1;\n\n  background: none;\n  border: none;\n  outline: none;\n  cursor: col-resize;\n  pointer-events: all;\n}\n\n.trimmer_trimArea__mu64B button.trimmer_focus-visible__CmE8d svg {\n  outline: 2px solid var(--primaryColor);\n}\n\n.trimmer_trimArea__mu64B button:focus-visible svg {\n  outline: 2px solid var(--primaryColor);\n}\n\n.trimmer_trimArea__mu64B button:nth-of-type(1) {\n  left: -11px;\n}\n\n.trimmer_trimArea__mu64B button:nth-of-type(2) {\n  right: -11px;\n}\n\n.trimmer_trimArea__mu64B button svg {\n  display: block;\n}\n","",{version:3,sources:["webpack://./src/components/trimmer.module.css"],names:[],mappings:"AAAA;EACE,aAAa;EACb,mBAAmB;;EAEnB,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,WAAW;EACX,WAAW;;EAEX,kBAAkB;EAClB,OAAO;;EAEP,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,UAAU;EACV,YAAY;;EAEZ,kBAAkB;EAClB,SAAS;EACT,UAAU;;EAEV,iBAAiB;EACjB,oBAAoB;EACpB,wBAAwB;AAC1B;;AAEA;EACE,WAAW;EACX,cAAc;EACd,kBAAkB;EAClB,UAAU;EACV,mCAA2B;UAA3B,2BAA2B;EAC3B,4BAA4B;EAC5B,mBAAmB;EACnB,mCAAmC;EACnC,oCAAoC;AACtC;;AAEA;EACE,UAAU;EACV,YAAY;;EAEZ,kBAAkB;EAClB,SAAS;;EAET,oCAAoC;EACpC,UAAU;EACV,oBAAoB;EACpB,wBAAwB;AAC1B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE;IACE,gBAAgB;EAClB;AACF;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,kBAAkB;EAClB,qCAAqC;EACrC,oBAAoB;AACtB;;AAEA;;iEAEiE;AACjE;EACE,WAAW;;EAEX,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,MAAM;EACN,OAAO;;EAEP,+BAA+B;EAC/B,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,UAAU;;EAEV,eAAe;EACf,kCAA0B;EAA1B,0BAA0B;EAA1B,kDAA0B;AAC5B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,oCAA4B;UAA5B,4BAA4B;AAC9B;;AAEA;EACE,mCAA2B;UAA3B,2BAA2B;AAC7B;;AAEA;EACE,YAAY;EACZ,UAAU;;EAEV,kBAAkB;EAClB,UAAU;;EAEV,gBAAgB;EAChB,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,sCAAsC;AACxC;;AAFA;EACE,sCAAsC;AACxC;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,cAAc;AAChB",sourcesContent:[".wrapper {\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  height: 52px;\n\n  position: relative;\n  outline: none;\n}\n\n.backgroundLine {\n  width: 100%;\n  height: 4px;\n\n  position: absolute;\n  left: 0;\n\n  border-radius: 2px;\n  pointer-events: none;\n}\n\n.currentTimeIndicator {\n  width: 1px;\n  height: 54px;\n\n  position: absolute;\n  bottom: 0;\n  z-index: 1;\n\n  background: white;\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.currentTimeIndicator::before {\n  content: '';\n  display: block;\n  position: absolute;\n  top: -16px;\n  transform: translateX(-48%);\n  border-top: 18px solid white;\n  border-bottom: none;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n}\n\n.hoverIndicator {\n  width: 1px;\n  height: 63px;\n\n  position: absolute;\n  bottom: 0;\n\n  background: rgba(255, 255, 255, 0.5);\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.wrapper:hover .hoverIndicator {\n  opacity: 1;\n}\n\n@media (prefers-reduced-motion) {\n  .hoverIndicator {\n    transition: none;\n  }\n}\n\n.trimArea {\n  height: 100%;\n  min-width: 22px;\n  position: absolute;\n  border: 2px solid var(--primaryColor);\n  pointer-events: none;\n}\n\n/* Background for .trimArea is created as a pseudo-element because its color\nis dynamic and we want to add opacity to it and we can't do something like\n`background: rgba(var(--primaryColor), 0.2);` with CSS just yet */\n.trimArea::after {\n  content: '';\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  background: var(--primaryColor);\n  opacity: 0.2;\n}\n\n.label {\n  position: absolute;\n  top: -17px;\n\n  font-size: 10px;\n  transition: transform 0.2s;\n}\n\n.label:nth-child(1) {\n  left: -2px;\n}\n\n.label:nth-child(2) {\n  right: -2px;\n}\n\n.trimArea.narrow .label:nth-child(1) {\n  transform: translateX(-100%);\n}\n\n.trimArea.narrow .label:nth-child(2) {\n  transform: translateX(100%);\n}\n\n.trimArea button {\n  height: 100%;\n  padding: 0;\n\n  position: absolute;\n  z-index: 1;\n\n  background: none;\n  border: none;\n  outline: none;\n  cursor: col-resize;\n  pointer-events: all;\n}\n\n.trimArea button:focus-visible svg {\n  outline: 2px solid var(--primaryColor);\n}\n\n.trimArea button:nth-of-type(1) {\n  left: -11px;\n}\n\n.trimArea button:nth-of-type(2) {\n  right: -11px;\n}\n\n.trimArea button svg {\n  display: block;\n}\n"],sourceRoot:""}]),o.locals={wrapper:"trimmer_wrapper__WKalo",backgroundLine:"trimmer_backgroundLine__S5QnU",currentTimeIndicator:"trimmer_currentTimeIndicator__f7idI",hoverIndicator:"trimmer_hoverIndicator__DkTv+",trimArea:"trimmer_trimArea__mu64B",label:"trimmer_label__iIPW1",narrow:"trimmer_narrow__KVlPO","focus-visible":"trimmer_focus-visible__CmE8d"},e.Z=o},7297:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(1818),l=o()(i());l.i(a.Z,"",!0),l.push([t.id,".user-interface_wrapper__ggi\\+L {\n  --primaryColor: #009339;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n\n  font-family: Montserrat, sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  color: "+a.Z.locals["text-color"]+";\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.user-interface_wrapper__ggi\\+L *,\n.user-interface_wrapper__ggi\\+L *::before,\n.user-interface_wrapper__ggi\\+L *::after {\n  box-sizing: inherit;\n}\n\n.user-interface_topBar__cpk9H {\n  display: flex;\n  align-items: center;\n\n  margin-bottom: auto;\n\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.user-interface_topBar__cpk9H.user-interface_hidden__Q9cD1 {\n  opacity: 0;\n}\n\n.user-interface_topBar__cpk9H > * {\n  pointer-events: auto;\n}\n\n.user-interface_topBar__cpk9H span {\n  margin-left: 19px;\n\n  font-size: 12px;\n  line-height: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  pointer-events: all;\n  overflow: hidden;\n}\n\n.user-interface_topBar__cpk9H img {\n  width: 34px;\n  height: 34px;\n  object-fit: contain;\n  object-position: center;\n}\n\n.mobile .user-interface_topBar__cpk9H {\n  padding: 20px;\n}\n\n.mobile .user-interface_topBar__cpk9H button {\n  margin-left: auto;\n}\n\n.mobile .user-interface_topBar__cpk9H img {\n  width: 24px;\n  height: 24px;\n}\n\n.desktop .user-interface_topBar__cpk9H {\n  padding: 3% 5%;\n  padding: max(8px, min(3%, 23px)) max(16px, min(5%, 40px));\n}\n\n.desktop .user-interface_topBar__cpk9H img {\n  width: 34px;\n  height: 34px;\n}\n\n.user-interface_bottomBar__O0dey {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n\n  margin-top: auto;\n\n  background: linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.user-interface_bottomBar__O0dey.user-interface_hidden__Q9cD1:not(:hover) {\n  opacity: 0;\n}\n\n.user-interface_bottomBar__O0dey > * {\n  pointer-events: all;\n}\n\n.mobile .user-interface_bottomBar__O0dey {\n  justify-content: center;\n  height: 70px;\n  padding: 0 20px;\n}\n\n.desktop .user-interface_bottomBar__O0dey {\n  padding: 52px 40px 46px;\n  padding: max(10px, min(4%, 52px)) max(16px, min(5%, 40px)) max(10px, min(4%, 46px));\n}\n\n.desktop .user-interface_bottomBar__O0dey > *:first-child:not(:only-child) {\n  margin-bottom: 40px;\n  margin-bottom: max(4px, min(4%, 40px));\n}\n\n.user-interface_buttonsSection__bvB3H {\n  flex: none;\n  display: flex;\n  flex-direction: column;\n}\n\n.desktop .user-interface_buttonsSection__bvB3H {\n  flex-direction: row;\n  align-items: center;\n  gap: 30px;\n  gap: max(8px, min(5%, 30px));\n}\n\n.desktop .user-interface_buttonsSection__bvB3H > *:first-child:not(.left-side),\n.desktop .user-interface_buttonsSection__bvB3H > *.left-side + *.right-side {\n  margin-left: auto;\n}\n\n.user-interface_timelineWrapper__4Zpwn {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.user-interface_timelineWrapper__4Zpwn > button:first-child {\n  margin-left: auto;\n}\n\n.user-interface_menuButtonWrapper__7DecK {\n  display: flex;\n  position: relative;\n}\n\n.user-interface_mobilePlayControls__\\+F6YE {\n  display: flex;\n  justify-content: space-between;\n  align-self: center;\n\n  width: 50%;\n  max-width: 400px;\n  align-items: center;\n}\n","",{version:3,sources:["webpack://./src/components/user-interface.module.css"],names:[],mappings:"AAGA;EACE,uBAAuB;;EAEvB,aAAa;EACb,sBAAsB;;EAEtB,WAAW;EACX,YAAY;;EAEZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;;EAEV,mCAAmC;EACnC,kBAAkB;EAClB,gBAAgB;EAChB,mDAAiB;EACjB,mCAAmC;EACnC,kCAAkC;;EAElC,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;;;EAGE,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,mBAAmB;;EAEnB,mBAAmB;;EAEnB,0EAA0E;EAC1E,oBAAoB;EACpB,wBAAwB;AAC1B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;;EAEjB,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,uBAAuB;;EAEvB,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,cAAc;EACd,yDAAmD;AACrD;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,yBAAyB;;EAEzB,gBAAgB;;EAEhB,uEAAuE;EACvE,oBAAoB;EACpB,wBAAwB;AAC1B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,mFAA0E;AAC5E;;AAEA;EACE,mBAAmB;EACnB,sCAAmC;AACrC;;AAEA;EACE,UAAU;EACV,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,mBAAmB;EACnB,mBAAmB;EACnB,SAAS;EACT,4BAAyB;AAC3B;;AAEA;;EAEE,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,kBAAkB;;EAElB,UAAU;EACV,gBAAgB;EAChB,mBAAmB;AACrB",sourcesContent:["@value colors: '../styles/variables.module.css';\n@value text-color from colors;\n\n.wrapper {\n  --primaryColor: #009339;\n\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1;\n\n  font-family: Montserrat, sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  color: text-color;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.wrapper *,\n.wrapper *::before,\n.wrapper *::after {\n  box-sizing: inherit;\n}\n\n.topBar {\n  display: flex;\n  align-items: center;\n\n  margin-bottom: auto;\n\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.topBar.hidden {\n  opacity: 0;\n}\n\n.topBar > * {\n  pointer-events: auto;\n}\n\n.topBar span {\n  margin-left: 19px;\n\n  font-size: 12px;\n  line-height: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  pointer-events: all;\n  overflow: hidden;\n}\n\n.topBar img {\n  width: 34px;\n  height: 34px;\n  object-fit: contain;\n  object-position: center;\n}\n\n:global(.mobile) .topBar {\n  padding: 20px;\n}\n\n:global(.mobile) .topBar button {\n  margin-left: auto;\n}\n\n:global(.mobile) .topBar img {\n  width: 24px;\n  height: 24px;\n}\n\n:global(.desktop) .topBar {\n  padding: 3% 5%;\n  padding: clamp(8px, 3%, 23px) clamp(16px, 5%, 40px);\n}\n\n:global(.desktop) .topBar img {\n  width: 34px;\n  height: 34px;\n}\n\n.bottomBar {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n\n  margin-top: auto;\n\n  background: linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n  pointer-events: none;\n  transition: opacity 0.2s;\n}\n\n.bottomBar.hidden:not(:hover) {\n  opacity: 0;\n}\n\n.bottomBar > * {\n  pointer-events: all;\n}\n\n:global(.mobile) .bottomBar {\n  justify-content: center;\n  height: 70px;\n  padding: 0 20px;\n}\n\n:global(.desktop) .bottomBar {\n  padding: 52px 40px 46px;\n  padding: clamp(10px, 4%, 52px) clamp(16px, 5%, 40px) clamp(10px, 4%, 46px);\n}\n\n:global(.desktop) .bottomBar > *:first-child:not(:only-child) {\n  margin-bottom: 40px;\n  margin-bottom: clamp(4px, 4%, 40px);\n}\n\n.buttonsSection {\n  flex: none;\n  display: flex;\n  flex-direction: column;\n}\n\n:global(.desktop) .buttonsSection {\n  flex-direction: row;\n  align-items: center;\n  gap: 30px;\n  gap: clamp(8px, 5%, 30px);\n}\n\n:global(.desktop) .buttonsSection > *:first-child:not(:global(.left-side)),\n:global(.desktop) .buttonsSection > *:global(.left-side) + *:global(.right-side) {\n  margin-left: auto;\n}\n\n.timelineWrapper {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.timelineWrapper > button:first-child {\n  margin-left: auto;\n}\n\n.menuButtonWrapper {\n  display: flex;\n  position: relative;\n}\n\n.mobilePlayControls {\n  display: flex;\n  justify-content: space-between;\n  align-self: center;\n\n  width: 50%;\n  max-width: 400px;\n  align-items: center;\n}\n"],sourceRoot:""}]),l.locals={colors:"'../styles/variables.module.css'","text-color":""+a.Z.locals["text-color"],wrapper:"user-interface_wrapper__ggi+L",topBar:"user-interface_topBar__cpk9H",hidden:"user-interface_hidden__Q9cD1",bottomBar:"user-interface_bottomBar__O0dey",buttonsSection:"user-interface_buttonsSection__bvB3H",timelineWrapper:"user-interface_timelineWrapper__4Zpwn",menuButtonWrapper:"user-interface_menuButtonWrapper__7DecK",mobilePlayControls:"user-interface_mobilePlayControls__+F6YE"},e.Z=l},574:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".volume_wrapper__E9mwU {\n  --thumb-size: 12px;\n  --track-height: 4px;\n\n  flex: none;\n  display: flex;\n  align-items: center;\n}\n\ninput[type='range'].volume_input__TPDX8 {\n  width: 1px; /* This cannot be 0 because Safari doesn't understand that */\n  opacity: 0;\n\n  transition-property: margin-left, width, opacity;\n  transition-duration: 0.3s;\n  transition-delay: 0.4s;\n}\n\n.volume_wrapper__E9mwU:hover .volume_input__TPDX8,\n.volume_wrapper__E9mwU[focus-within] .volume_input__TPDX8 {\n  width: 60px;\n  margin-left: 3px;\n  opacity: 1;\n\n  transition-delay: 0s;\n  transition-duration: 0.3s, 0.5s;\n}\n\n.volume_wrapper__E9mwU:hover .volume_input__TPDX8,\n.volume_wrapper__E9mwU:focus-within .volume_input__TPDX8 {\n  width: 60px;\n  margin-left: 3px;\n  opacity: 1;\n\n  transition-delay: 0s;\n  transition-duration: 0.3s, 0.5s;\n}\n","",{version:3,sources:["webpack://./src/components/volume.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,mBAAmB;;EAEnB,UAAU;EACV,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,UAAU,EAAE,4DAA4D;EACxE,UAAU;;EAEV,gDAAgD;EAChD,yBAAyB;EACzB,sBAAsB;AACxB;;AAEA;;EAEE,WAAW;EACX,gBAAgB;EAChB,UAAU;;EAEV,oBAAoB;EACpB,+BAA+B;AACjC;;AARA;;EAEE,WAAW;EACX,gBAAgB;EAChB,UAAU;;EAEV,oBAAoB;EACpB,+BAA+B;AACjC",sourcesContent:[".wrapper {\n  --thumb-size: 12px;\n  --track-height: 4px;\n\n  flex: none;\n  display: flex;\n  align-items: center;\n}\n\ninput[type='range'].input {\n  width: 1px; /* This cannot be 0 because Safari doesn't understand that */\n  opacity: 0;\n\n  transition-property: margin-left, width, opacity;\n  transition-duration: 0.3s;\n  transition-delay: 0.4s;\n}\n\n.wrapper:hover .input,\n.wrapper:focus-within .input {\n  width: 60px;\n  margin-left: 3px;\n  opacity: 1;\n\n  transition-delay: 0s;\n  transition-duration: 0.3s, 0.5s;\n}\n"],sourceRoot:""}]),o.locals={wrapper:"volume_wrapper__E9mwU",input:"volume_input__TPDX8"},e.Z=o},1691:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,".waveform_waveform__P3yB9 {\n  position: absolute;\n  width: 75%;\n  height: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.waveform_waveform__P3yB9 .waveform_bar__9PWAn {\n  -webkit-animation-name: waveform_wave__O0Hsi;\n          animation-name: waveform_wave__O0Hsi;\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n  -webkit-animation-timing-function: ease-in-out;\n          animation-timing-function: ease-in-out;\n  -webkit-animation-direction: alternate;\n          animation-direction: alternate;\n  background: white;\n  margin: 1%;\n  height: 100%;\n  width: 100%;\n}\n\n@-webkit-keyframes waveform_wave__O0Hsi {\n  0% {\n    opacity: 0.35;\n    height: 15%;\n  }\n  100% {\n    opacity: 1;\n    height: 70%;\n  }\n}\n\n@keyframes waveform_wave__O0Hsi {\n  0% {\n    opacity: 0.35;\n    height: 15%;\n  }\n  100% {\n    opacity: 1;\n    height: 70%;\n  }\n}\n","",{version:3,sources:["webpack://./src/components/waveform.module.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,UAAU;EACV,WAAW;EACX,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,4CAAoB;UAApB,oCAAoB;EACpB,2CAAmC;UAAnC,mCAAmC;EACnC,8CAAsC;UAAtC,sCAAsC;EACtC,sCAA8B;UAA9B,8BAA8B;EAC9B,iBAAiB;EACjB,UAAU;EACV,YAAY;EACZ,WAAW;AACb;;AAEA;EACE;IACE,aAAa;IACb,WAAW;EACb;EACA;IACE,UAAU;IACV,WAAW;EACb;AACF;;AATA;EACE;IACE,aAAa;IACb,WAAW;EACb;EACA;IACE,UAAU;IACV,WAAW;EACb;AACF",sourcesContent:[".waveform {\n  position: absolute;\n  width: 75%;\n  height: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.waveform .bar {\n  animation-name: wave;\n  animation-iteration-count: infinite;\n  animation-timing-function: ease-in-out;\n  animation-direction: alternate;\n  background: white;\n  margin: 1%;\n  height: 100%;\n  width: 100%;\n}\n\n@keyframes wave {\n  0% {\n    opacity: 0.35;\n    height: 15%;\n  }\n  100% {\n    opacity: 1;\n    height: 70%;\n  }\n}\n"],sourceRoot:""}]),o.locals={waveform:"waveform_waveform__P3yB9",bar:"waveform_bar__9PWAn",wave:"waveform_wave__O0Hsi"},e.Z=o},2843:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(8991),l=r.n(a),u=new URL(r(7201),r.b),c=o()(i()),h=l()(u);c.push([t.id,"@font-face {\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url("+h+") format('woff');\n}\n","",{version:3,sources:["webpack://./src/fonts/fonts.module.css"],names:[],mappings:"AAAA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,gBAAgB;EAChB,kBAAkB;EAClB,2DAAiD;AACnD",sourcesContent:["@font-face {\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 700;\n  font-display: swap;\n  src: url('./montserrat-bold.woff') format('woff');\n}\n"],sourceRoot:""}]),c.locals={},e.Z=c},6372:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s),a=r(2843),l=o()(i());l.i(a.Z),l.push([t.id,".common_button__8\\+QIM {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 24px;\n  height: 24px;\n  padding: 0;\n\n  position: relative;\n\n  background: none;\n  outline: none;\n  border: none;\n  color: inherit;\n\n  font: inherit;\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n}\n\n.common_button__8\\+QIM svg {\n  pointer-events: none;\n}\n\n.common_button__8\\+QIM:focus {\n  border: 2px solid var(--primaryColor);\n}\n\n/* Remove :focus styles in browsers that support :focus-visible pseudo-class */\n/* This makes focus state work in Safari but applies it only when tabbing in better browsers */\n.common_button__8\\+QIM:focus:not(.common_focus-visible__0G9Bl) {\n  border: none;\n}\n.common_button__8\\+QIM:focus:not(:focus-visible) {\n  border: none;\n}\n\n.common_button__8\\+QIM.common_focus-visible__0G9Bl {\n  outline: 2px solid var(--primaryColor);\n}\n\n.common_button__8\\+QIM:focus-visible {\n  outline: 2px solid var(--primaryColor);\n}\n\n.common_button__8\\+QIM::after {\n  content: '';\n  display: block;\n\n  width: 0;\n  height: 3px;\n\n  position: absolute;\n  bottom: -7px;\n\n  background: var(--primaryColor);\n  opacity: 0;\n\n  transition-property: width, opacity;\n  transition-duration: 0.1s, 0.2s;\n}\n\n.common_button__8\\+QIM.common_active__cfwZT::after {\n  width: 100%;\n  opacity: 1;\n}\n\n.common_rangeInput__jNn0g {\n  height: var(--track-height);\n  margin: 0;\n  -webkit-appearance: none;\n          appearance: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.common_rangeInput__jNn0g:focus {\n  outline: none;\n}\n\n/* -- Track -- */\n\n/* Chrome, Safari, Opera */\n.common_rangeInput__jNn0g::-webkit-slider-runnable-track {\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n/* Firefox */\n.common_rangeInput__jNn0g::-moz-range-track {\n  cursor: pointer;\n}\n\n/* -- Thumb -- */\n\n/* Chrome, Safari, Opera */\n.common_rangeInput__jNn0g::-webkit-slider-thumb {\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  background: white;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n  -webkit-appearance: none;\n}\n\n.common_rangeInput__jNn0g.common_focus-visible__0G9Bl::-webkit-slider-thumb {\n  outline: 2px solid var(--primaryColor);\n}\n\n.common_rangeInput__jNn0g:focus-visible::-webkit-slider-thumb {\n  outline: 2px solid var(--primaryColor);\n}\n\n.common_rangeInput__jNn0g.common_animated__NumCc::-webkit-slider-thumb {\n  opacity: 0;\n  -webkit-transform: scale(0);\n          transform: scale(0);\n  -webkit-transition: opacity, -webkit-transform;\n  transition: opacity, -webkit-transform;\n  transition: opacity, transform;\n  transition: opacity, transform, -webkit-transform;\n  transition-duration: 0.2s;\n  transition-timing-function: ease-in-out;\n}\n\n.common_rangeInput__jNn0g.common_animated__NumCc:hover::-webkit-slider-thumb {\n  opacity: 1;\n  -webkit-transform: scale(1);\n          transform: scale(1);\n}\n\n.common_rangeInput__jNn0g.common_animated__NumCc.common_focus-visible__0G9Bl::-webkit-slider-thumb {\n  opacity: 1;\n  -webkit-transform: scale(1);\n          transform: scale(1);\n}\n\n.common_rangeInput__jNn0g.common_animated__NumCc:focus-visible::-webkit-slider-thumb {\n  opacity: 1;\n  -webkit-transform: scale(1);\n          transform: scale(1);\n}\n\n@media (prefers-reduced-motion) {\n  .common_rangeInput__jNn0g.common_animated__NumCc::-webkit-slider-thumb {\n    -webkit-transition: none;\n    transition: none;\n  }\n}\n\n/* Firefox */\n.common_rangeInput__jNn0g::-moz-range-thumb {\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  background: white;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.common_rangeInput__jNn0g::-moz-focus-outer {\n  border: none;\n}\n\n.common_rangeInput__jNn0g.common_focus-visible__0G9Bl::-moz-range-thumb {\n  outline: 2px solid var(--primaryColor);\n}\n\n.common_rangeInput__jNn0g:focus-visible::-moz-range-thumb {\n  outline: 2px solid var(--primaryColor);\n}\n\n.common_rangeInput__jNn0g.common_animated__NumCc::-moz-range-thumb {\n  opacity: 0;\n  transform: scale(0);\n  -moz-transition: opacity, transform;\n  transition: opacity, transform;\n  transition-duration: 0.2s;\n  transition-timing-function: ease-in-out;\n}\n\n.common_rangeInput__jNn0g.common_animated__NumCc:hover::-moz-range-thumb,\n.common_rangeInput__jNn0g.common_animated__NumCc.common_focus-visible__0G9Bl::-moz-range-thumb {\n  opacity: 1;\n  transform: scale(1);\n}\n\n.common_rangeInput__jNn0g.common_animated__NumCc:hover::-moz-range-thumb,\n.common_rangeInput__jNn0g.common_animated__NumCc:focus-visible::-moz-range-thumb {\n  opacity: 1;\n  transform: scale(1);\n}\n\n@media (prefers-reduced-motion) {\n  .common_rangeInput__jNn0g.common_animated__NumCc::-moz-range-thumb {\n    -moz-transition: none;\n    transition: none;\n  }\n}\n","",{version:3,sources:["webpack://./src/styles/common.module.css"],names:[],mappings:"AAEA;EACE,oBAAoB;EACpB,uBAAuB;EACvB,mBAAmB;;EAEnB,WAAW;EACX,YAAY;EACZ,UAAU;;EAEV,kBAAkB;;EAElB,gBAAgB;EAChB,aAAa;EACb,YAAY;EACZ,cAAc;;EAEd,aAAa;EACb,eAAe;EACf,yBAAiB;UAAjB,iBAAiB;AACnB;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,qCAAqC;AACvC;;AAEA,8EAA8E;AAC9E,8FAA8F;AAC9F;EACE,YAAY;AACd;AAFA;EACE,YAAY;AACd;;AAEA;EACE,sCAAsC;AACxC;;AAFA;EACE,sCAAsC;AACxC;;AAEA;EACE,WAAW;EACX,cAAc;;EAEd,QAAQ;EACR,WAAW;;EAEX,kBAAkB;EAClB,YAAY;;EAEZ,+BAA+B;EAC/B,UAAU;;EAEV,mCAAmC;EACnC,+BAA+B;AACjC;;AAEA;EACE,WAAW;EACX,UAAU;AACZ;;AAEA;EACE,2BAA2B;EAC3B,SAAS;EACT,wBAAgB;UAAhB,gBAAgB;EAChB,wCAAwC;AAC1C;;AAEA;EACE,aAAa;AACf;;AAEA,gBAAgB;;AAEhB,0BAA0B;AAC1B;EACE,kBAAkB;EAClB,eAAe;AACjB;;AAEA,YAAY;AACZ;EACE,eAAe;AACjB;;AAEA,gBAAgB;;AAEhB,0BAA0B;AAC1B;EACE,wBAAwB;EACxB,yBAAyB;EACzB,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,wBAAwB;AAC1B;;AAEA;EACE,sCAAsC;AACxC;;AAFA;EACE,sCAAsC;AACxC;;AAEA;EACE,UAAU;EACV,2BAAmB;UAAnB,mBAAmB;EACnB,8CAA8B;EAA9B,sCAA8B;EAA9B,8BAA8B;EAA9B,iDAA8B;EAC9B,yBAAyB;EACzB,uCAAuC;AACzC;;AAEA;EACE,UAAU;EACV,2BAAmB;UAAnB,mBAAmB;AACrB;;AAEA;EACE,UAAU;EACV,2BAAmB;UAAnB,mBAAmB;AACrB;;AAHA;EACE,UAAU;EACV,2BAAmB;UAAnB,mBAAmB;AACrB;;AAEA;EACE;IACE,wBAAgB;IAAhB,gBAAgB;EAClB;AACF;;AAEA,YAAY;AACZ;EACE,wBAAwB;EACxB,yBAAyB;EACzB,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,sCAAsC;AACxC;;AAFA;EACE,sCAAsC;AACxC;;AAEA;EACE,UAAU;EACV,mBAAmB;EACnB,mCAA8B;EAA9B,8BAA8B;EAC9B,yBAAyB;EACzB,uCAAuC;AACzC;;AAEA;;EAEE,UAAU;EACV,mBAAmB;AACrB;;AAJA;;EAEE,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE;IACE,qBAAgB;IAAhB,gBAAgB;EAClB;AACF",sourcesContent:["@import '../fonts/fonts.module.css';\n\n.button {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 24px;\n  height: 24px;\n  padding: 0;\n\n  position: relative;\n\n  background: none;\n  outline: none;\n  border: none;\n  color: inherit;\n\n  font: inherit;\n  cursor: pointer;\n  user-select: none;\n}\n\n.button svg {\n  pointer-events: none;\n}\n\n.button:focus {\n  border: 2px solid var(--primaryColor);\n}\n\n/* Remove :focus styles in browsers that support :focus-visible pseudo-class */\n/* This makes focus state work in Safari but applies it only when tabbing in better browsers */\n.button:focus:not(:focus-visible) {\n  border: none;\n}\n\n.button:focus-visible {\n  outline: 2px solid var(--primaryColor);\n}\n\n.button::after {\n  content: '';\n  display: block;\n\n  width: 0;\n  height: 3px;\n\n  position: absolute;\n  bottom: -7px;\n\n  background: var(--primaryColor);\n  opacity: 0;\n\n  transition-property: width, opacity;\n  transition-duration: 0.1s, 0.2s;\n}\n\n.button.active::after {\n  width: 100%;\n  opacity: 1;\n}\n\n.rangeInput {\n  height: var(--track-height);\n  margin: 0;\n  appearance: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.rangeInput:focus {\n  outline: none;\n}\n\n/* -- Track -- */\n\n/* Chrome, Safari, Opera */\n.rangeInput::-webkit-slider-runnable-track {\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n/* Firefox */\n.rangeInput::-moz-range-track {\n  cursor: pointer;\n}\n\n/* -- Thumb -- */\n\n/* Chrome, Safari, Opera */\n.rangeInput::-webkit-slider-thumb {\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  background: white;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n  -webkit-appearance: none;\n}\n\n.rangeInput:focus-visible::-webkit-slider-thumb {\n  outline: 2px solid var(--primaryColor);\n}\n\n.rangeInput.animated::-webkit-slider-thumb {\n  opacity: 0;\n  transform: scale(0);\n  transition: opacity, transform;\n  transition-duration: 0.2s;\n  transition-timing-function: ease-in-out;\n}\n\n.rangeInput.animated:hover::-webkit-slider-thumb {\n  opacity: 1;\n  transform: scale(1);\n}\n\n.rangeInput.animated:focus-visible::-webkit-slider-thumb {\n  opacity: 1;\n  transform: scale(1);\n}\n\n@media (prefers-reduced-motion) {\n  .rangeInput.animated::-webkit-slider-thumb {\n    transition: none;\n  }\n}\n\n/* Firefox */\n.rangeInput::-moz-range-thumb {\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  background: white;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.rangeInput::-moz-focus-outer {\n  border: none;\n}\n\n.rangeInput:focus-visible::-moz-range-thumb {\n  outline: 2px solid var(--primaryColor);\n}\n\n.rangeInput.animated::-moz-range-thumb {\n  opacity: 0;\n  transform: scale(0);\n  transition: opacity, transform;\n  transition-duration: 0.2s;\n  transition-timing-function: ease-in-out;\n}\n\n.rangeInput.animated:hover::-moz-range-thumb,\n.rangeInput.animated:focus-visible::-moz-range-thumb {\n  opacity: 1;\n  transform: scale(1);\n}\n\n@media (prefers-reduced-motion) {\n  .rangeInput.animated::-moz-range-thumb {\n    transition: none;\n  }\n}\n"],sourceRoot:""}]),l.locals={button:"common_button__8+QIM","focus-visible":"common_focus-visible__0G9Bl",active:"common_active__cfwZT",rangeInput:"common_rangeInput__jNn0g",animated:"common_animated__NumCc"},e.Z=l},1818:function(t,e,r){"use strict";var n=r(272),i=r.n(n),s=r(2609),o=r.n(s)()(i());o.push([t.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),o.locals={"dark-gray":"#333","medium-gray":"#4f4f4f","text-color":"#fff","slider-background-color":"rgba(255, 255, 255, 0.2)"},e.Z=o},2609:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);n&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},8991:function(t){"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},272:function(t){"use strict";t.exports=function(t){var e=t[1],r=t[3];if(!r)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),s="/*# ".concat(i," */"),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(o).concat([s]).join("\n")}return[e].join("\n")}},1837:function(t,e,r){"use strict";var n=r(8156),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,r){var n,s={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,n)&&!l.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:i,type:t,key:u,ref:c,props:s,_owner:a.current}}e.Fragment=s,e.jsx=u,e.jsxs=u},2322:function(t,e,r){"use strict";t.exports=r(1837)},6062:function(t){"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var s={},o=[],a=0;a<t.length;a++){var l=t[a],u=n.base?l[0]+n.base:l[0],c=s[u]||0,h="".concat(u," ").concat(c);s[u]=c+1;var p=r(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var d=i(f,n);n.byIndex=a,e.splice(a,0,{identifier:h,updater:d,references:1})}o.push(h)}return o}function i(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,i){var s=n(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=r(s[o]);e[a].references--}for(var l=n(t,i),u=0;u<s.length;u++){var c=r(s[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=l}}},6793:function(t){"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},1173:function(t){"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},7892:function(t,e,r){"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},4036:function(t){"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},2464:function(t){"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},919:function(t,e,r){var n=r(2866),i=r(1699);n.adapters.Freewheel=n.Adapter.extend({getVersion:function(){return i.version+"-"+i.name+"-"+i.tech},getPlayhead:function(){return this._getAdInstanceMethodCall("getPlayheadTime")},getDuration:function(){return this._getAdInstanceMethodCall("getDuration")},getTitle:function(){try{if(this.titles)return this.titles[this._getAdNumber()]._adId}catch(t){}return"unknown"},getResource:function(){var t=null,e=this._getAdInstanceMethodCall("getActiveCreativeRendition");return e&&("function"==typeof e.getPrimaryCreativeRenditionAsset?(asset=e.getPrimaryCreativeRenditionAsset(),asset&&"function"==typeof asset.getUrl&&(t=asset.getUrl())):"function"==typeof e.getWrapperUrl&&(t=e.getWrapperUrl())),t},getPlayerVersion:function(){var t=null;return"undefined"!=typeof tv&&tv.freewheel&&tv.freewheel.SDK&&(t=tv.freewheel.SDK.version),t},getPlayerName:function(){return"Freewheel"},getPosition:function(){return this.position},getIsVisible:function(){if(!this.contentPlayer)for(var t in this.player){var e=this.player[t];if(e&&e.videoHeight&&e.clientHeight){this.contentPlayer=e;break}}return n.Util.calculateAdViewability(this.contentPlayer)},getAudioEnabled:function(){for(var t in this.player){var e=this.player[t];if(e&&e.adManager&&e.adManager._context&&e.adManager._context.getAdVolume)return!!e.adManager._context.getAdVolume()}},getGivenAds:function(){return this.slot.getAdCount()},getBreaksTime:function(){var t=this.getSlots();if(!t)return null;var e=[];for(var r in t){var n=t[r];if(n.getAdCount()>0){var i=n.getAdInstances();for(var s in i)if("video"===i[s]._creativeRenditions[0]._baseUnit){var o=this.plugin.getDuration(),a=n.getTimePosition();e.push(o&&a>o?o:a);break}}}return e},getGivenBreaks:function(){var t=this.getSlots();if(!t)return null;var e=0;for(var r in t){var n=t[r];if(n.getAdCount()>0){var i=n.getAdInstances();for(var s in i)if("video"===i[s]._creativeRenditions[0]._baseUnit){e++;break}}}return e},getCreativeId:function(){var t=null;if(this.slot){var e=this.slot.getAdInstances(),r=this._getAdNumber();e&&e[r]&&(t=e[r]._creativeId)}return t},getSlots:function(){if(this.player.currentAdContext)return this.player.currentAdContext._adResponse.getTemporalSlots();for(var t in this.player){var e=this.player[t];if(e&&e._adResponse&&e._adResponse.getTemporalSlots)return e}return null},_getAdNumber:function(){return(this.plugin.requestBuilder.lastSent.adNumber||1)-1},_getAdInstanceMethodCall:function(t){if(ret=null,this.slot){var e=this.slot.getAdInstances(),r=this._getAdNumber();e&&e[r]&&"function"==typeof e[r][t]&&(ret=e[r][t]())}return ret},registerListeners:function(){for(var t in this.canRemoveListeners=!0,this.events=tv.freewheel.SDK,this.manifestNoResponse=[this.events.ERROR_SECURITY,this.events.ERROR_TIMEOUT],this.manifestEmpty=[this.events.ERROR_NO_AD_AVAILABLE,this.events.ERROR_VAST_NO_AD],this.manifestWrong=[this.events.ERROR_VAST_VERSION_NOT_SUPPORTED,this.events.ERROR_VAST_WRAPPER_LIMIT_REACH,this.events.ERROR_VAST_XML_PARSING,this.events.ERROR_PARSE],this.ignoredErrors=[this.events.ERROR_ADINSTANCE_UNAVAILABLE],this.references={},this.references[this.events.EVENT_AD]=this.logListener.bind(this),this.references[this.events.EVENT_ERROR]=this.errorListener.bind(this),this.references[this.events.EVENT_SLOT_STARTED]=this.slotListener.bind(this),this.references[this.events.EVENT_SLOT_ENDED]=this.closeListener.bind(this),this.manifestNoResponse)this.references[t]=this.noResponseManifestListener.bind(this);for(var e in this.manifestEmpty)this.references[e]=this.manifestEmptyListener.bind(this);for(var r in this.manifestWrong)this.references[r]=this.manifestWrongListener.bind(this);for(var n in this.references)this.player.currentAdContext.addEventListener(n,this.references[n])},unregisterListeners:function(){if(this.player&&this.references){for(var t in this.references)this.player.currentAdContext.removeEventListener(t,this.references[t]);this.references={}}},noResponseManifestListener:function(t){this.fireManifest(n.Constants.ManifestError.NO_RESPONSE,"No response")},manifestEmptyListener:function(t){this.fireManifest(n.Constants.ManifestError.EMPTY,"Empty manifest")},manifestWrongListener:function(t){this.fireManifest(n.Constants.ManifestError.WRONG,"Wrong manifest format")},logListener:function(t){if(n.Log.debug(t.subType),t.errorCode||t.errorInfo||t.errorModule)this.errorListener(t);else switch(t.subType){case this.events.EVENT_AD_PAUSE:this.pauseListener(t);break;case this.events.EVENT_AD_RESUME:this.resumeListener(t);break;case this.events.EVENT_AD_IMPRESSION_END:this.endedListener(t);break;case this.events.EVENT_AD_INITIATED:this.playListener(t);break;case this.events.EVENT_AD_IMPRESSION:this.playingListener(t);break;case this.events.EVENT_AD_SKIPPED:this.skipListener(t);break;case this.events.EVENT_SLOT_STARTED:this.slotListener(t);break;case this.events.EVENT_AD_CLOSE:case this.events.EVENT_SLOT_ENDED:this.closeListener(t);break;case this.events.EVENT_AD_CLICK:this.clickListener(t);break;case this.events.EVENT_AD_FIRST_QUARTILE:this.fireQuartile(1);break;case this.events.EVENT_AD_MIDPOINT:this.fireQuartile(2);break;case this.events.EVENT_AD_THIRD_QUARTILE:this.fireQuartile(3);break;case this.events.ERROR_SECURITY:case this.events.ERROR_TIMEOUT:this.noResponseManifestListener(t);break;case this.events.ERROR_NO_AD_AVAILABLE:case this.events.ERROR_VAST_NO_AD:this.manifestEmptyListener(t);break;case this.events.ERROR_VAST_VERSION_NOT_SUPPORTED:case this.events.ERROR_VAST_WRAPPER_LIMIT_REACH:case this.events.ERROR_VAST_XML_PARSING:case this.events.ERROR_PARSE:this.manifestWrongListener(t)}},slotListener:function(t){this.slot=t.slot;var e=this.plugin.getAdapter();switch(this.disable=!1,slot.getTimePositionClass()){case"POSTROLL":this.position=n.Constants.AdPosition.Postroll;break;case"MIDROLL":this.position=n.Constants.AdPosition.Midroll;break;case"PREROLL":e&&e.flags.isJoined?this.position=n.Constants.AdPosition.Midroll:this.position=n.Constants.AdPosition.Preroll;break;default:this.disable=!0}this.disable||(this.titles=slot.getAdInstances(),this.unregister(),this.plugin.fireInit(),this.fireInit())},playListener:function(t){this.disable||this.fireStart()},playingListener:function(t){this.disable||(this.fireStart(),this.fireJoin(),this.fireResume())},pauseListener:function(t){this.firePause()},resumeListener:function(t){this.playListener(),this.fireResume()},endedListener:function(t){this.fireStop()},skipListener:function(t){this.fireSkip()},clickListener:function(t){var e=t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0],r=(new Date).getTime();this.lastUrl===e&&r<(this.lastTime||0)+2e3||(this.lastUrl=e,this.lastTime=r,this.fireClick(e))},closeListener:function(t){this.register(),this.position!==n.Constants.AdPosition.Postroll||this.disable||this.plugin.fireStop()},errorListener:function(t){this.fireError(t.errorCode||t.subType,t.errorInfo),this.fireStop(),this.register()},register:function(t){var e=this.plugin.getAdapter();e&&!this.canRemoveListeners&&(e.registerListeners(),e.fireResume(),this.canRemoveListeners=!0)},unregister:function(t){adapter&&this.canRemoveListeners&&(this.canRemoveListeners=!1,adapter.unregisterListeners(),adapter.firePause())},changeVideo:function(t){(this.flags.isStarted||this.flags.isInited)&&(this.fireStop(),this.plugin.fireStop(),this.register())}}),t.exports=n.adapters.Freewheel},5350:function(t,e,r){var n=r(2866),i=r(7768),s=n.Adapter.extend({getVersion:function(){return i.version+"-"+i.name+"-"+i.tech},getTitle:function(){var t=null;return this.player.mediainfo&&(t=this.player.mediainfo.name),t},getPlayhead:function(){var t=this.player.currentTime();return this.plugin._adsAdapter&&this.plugin._adsAdapter.flags.isStarted&&(t=this.lastPlayhead||t),t},getIsLive:function(){var t=null;return this.player.mediainfo&&(t=!0,"number"==typeof this.player.mediainfo.duration&&(t=this.player.mediainfo.duration<1)),t},getDuration:function(){var t=this.player.duration();return this.player.mediainfo&&void 0!==this.player.mediainfo.duration&&(t=this.player.mediainfo.duration),t},getResource:function(){var t=null,e=this.getUsedTech();return e&&e.getResource&&(t=e.getResource(this)),t||(t=this.player.currentSrc()),t},getBitrate:function(){var t=null,e=this.getUsedTech();return e&&e.getBitrate&&(t=e.getBitrate(this)),t},getRendition:function(){var t=null,e=this.getUsedTech();return e&&e.getRendition&&(t=e.getRendition(this)),t},getTotalBytes:function(){var t=null,e=this.getUsedTech();return e&&e.getTotalBytes&&(t=e.getTotalBytes(this)),t},getPlayerName:function(){var t="videojs";return s.ContribHlsTech.isUsed(this)?t+="-hls":s.HlsJsTech.isUsed(this)?t+="-hlsjs":s.ShakaTech.isUsed(this)?t+="-shaka":s.DashShakaTech.isUsed(this)?t+="-dash-shaka":s.DashTech.isUsed(this)&&(t+="-dash"),s.ImaAdsAdapter.isUsed(this)?t+="-ima":s.OnceUXAdsAdapter.isUsed(this)?this.pluginName+="-oux":this.player.FreeWheelPlugin&&(t+="-fw"),this.player.mediainfo&&(t+="-bcove"),t},getPlayerVersion:function(){var t=null;return"undefined"!=typeof videojs&&(t=videojs.VERSION),t},getPlayrate:function(){return this.player.playbackRate()},getTech:function(){return this.player.tech({IWillNotUseThisInPlugins:!0})},getUsedTech:function(){var t=null;return s.ContribHlsTech.isUsed(this)?t=s.ContribHlsTech:s.HlsJsTech.isUsed(this)?t=s.HlsJsTech:s.ShakaTech.isUsed(this)?t=s.ShakaTech:s.DashShakaTech.isUsed(this)?t=s.DashShakaTech:s.DashTech.isUsed(this)&&(t=s.DashTech),t},registerListeners:function(){if(this.monitorPlayhead(!0,!1,1200),this.acumBytes=0,this.ignoreList=[],this.fatalList=[],this.nonFatalList=[],this.references={loadstart:this.loadstartListener.bind(this),adsready:this.loadAdsAdapter.bind(this),play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),ended:this.conditionalStop.bind(this),dispose:this.disposeListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),error:this.errorListener.bind(this),adserror:this.aderrorListener.bind(this),adsEnded:this.adsEndedListener.bind(this),texttrackchange:this.textListener.bind(this),waiting:this.bufferingListener.bind(this)},this.player)for(var t in this.references)this.player.on(t,this.references[t]);setTimeout(this.loadAdsAdapter.bind(this),50)},unregisterListeners:function(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var t in this.references)this.player.off(t,this.references[t]);delete this.references}},textListener:function(t){if(this.player.textTracks)for(var e=this.player.textTracks(),r=e.length,n=0;n<r;++n)e[n]&&"showing"===e[n].mode&&(this.plugin.options["content.subtitles"]=e[n].label||e[n].language)},aderrorListener:function(t){this.loadAdsAdapter(),this.plugin.getAdsAdapter()&&this.plugin.getAdsAdapter().adPlayerErrorListener&&this.plugin.getAdsAdapter().adPlayerErrorListener(t)},loadstartListener:function(t){this.loadAdsAdapter(),n.Log.notice("Player detected "+this.getPlayerName())},playListener:function(t){this.flags.isStarted?this.lastSrc&&this.lastSrc!==this.getResource()&&(this.fireStop(),this.acumBytesFunc(),this.lastPlayhead=void 0,this._startEvent(),this.lastSrc=this.getResource()):(this.lastSrc=this.getResource(),this._startEvent())},_startEvent:function(t){this.loadAdsAdapter(),this.player.options_&&this.plugin&&!this.plugin.options["content.id"]&&(this.plugin.options["content.id"]=this.player.options_["data-video-id"]),this.fireStart(),this.flags.isJoined||(this.joinPolling||(this.joinPolling=new n.Timer(this._jointimePolling.bind(this),500)),this.joinPolling.start())},_jointimePolling:function(t){this.plugin?this.plugin.getAdsAdapter()&&this.plugin.getAdsAdapter().flags.isStarted||(0!==this.lastPlayhead&&"number"==typeof this.lastPlayhead&&this.lastPlayhead!==this.getPlayhead()&&(this.fireJoin(),this.joinPolling&&this.joinPolling.stop()),this.lastPlayhead=this.getPlayhead()):this.joinPolling&&this.joinPolling.stop()},timeupdateListener:function(t){this.getPlayhead()>.1&&(this.fireJoin(),this.joinPolling&&this.joinPolling.stop(),!this.flags.isPaused&&this.lastSeekPlayhead&&this.lastSeekPlayhead!==this.getPlayhead()&&(this.fireSeekEnd(),this.lastSeekPlayhead=!1)),this.flags.isJoined||(void 0===this.lastPlayhead&&(this.lastPlayhead=this.getPlayhead()),this.lastPlayhead!==this.getPlayhead()&&(this.player.options_&&this.plugin&&!this.plugin.options["content.id"]&&(this.plugin.options["content.id"]=this.player.options_["data-video-id"]),this.fireStart(),this.fireJoin(),this.joinPolling&&this.joinPolling.stop(),this.lastPlayhead=void 0)),this.plugin._adsAdapter&&!this.plugin._adsAdapter.flags.isStarted&&(this.lastPlayhead=this.getPlayhead())},pauseListener:function(t){this.firePause()},playingListener:function(t){this._startEvent(),this.fireResume(),this.getPlayhead()<1&&this.fireSeekEnd()},disposeListener:function(t){this.plugin&&(this.plugin.fireStop(),this.plugin.removeAdsAdapter(),this.plugin.removeAdapter())},conditionalStop:function(t){this.plugin&&(this.adsEnded=!1,this.fireStop(),this.plugin&&!this.plugin.options["content.id"]&&(this.plugin.options["content.id"]=null),this.acumBytesFunc(),this.lastPlayhead=void 0)},adsEndedListener:function(t){this.adsEnded=!0,this.plugin.requestBuilder.lastSent.adPosition===n.Constants.AdPosition.Postroll&&(this.plugin.fireStop(),this.acumBytesFunc(),this.lastPlayhead=void 0)},seekingListener:function(t){this.fireSeekBegin({},!1)},seekedListener:function(t){this.lastSeekPlayhead=this.getPlayhead()},bufferingListener:function(t){this.fireBufferBegin()},errorListener:function(t){var e=!1,r=!1,n=null,i=null;this.player.error&&this.player.error()&&(n=Number(this.player.error().code),i=this.player.error().message,(2===n||4===n||n<0)&&(r=!0)),null!==n&&(this.ignoreList.includes(n)&&(e=!0),!r&&this.fatalList.includes(n)?r=!0:r&&this.nonFatalList.includes(n)&&(r=!1)),e||(r?(this.fireFatalError(n,i),this.acumBytesFunc(),this.lastPlayhead=void 0,this.crashed=!0):this.fireError(n,i))},loadAdsAdapter:function(){if(this.plugin)if(null===this.plugin.getAdsAdapter()||this.plugin.getAdsAdapter().isGeneric){var t=null;s.ImaAdsAdapter.isUsed(this)?t=new s.ImaAdsAdapter(this.player):s.OnceUXAdsAdapter.isUsed(this)?t=new s.OnceUXAdsAdapter(this.player):s.BcoveImaAdsAdapter.isUsed(this)?t=new s.BcoveImaAdsAdapter(this.player):s.BcoveFreewheelAdsAdapter.isUsed(this)?t=new s.BcoveFreewheelAdsAdapter(this.player):s.FreewheelAdsAdapter.isUsed(this)?t=new s.FreewheelAdsAdapter(this.player.freewheelAds.controller):null===this.plugin.getAdsAdapter()&&(t=new s.GenericAdsAdapter(this.player)),t&&this.plugin.setAdsAdapter(t)}else this.plugin.getAdsAdapter().registerImaEvents&&this.plugin.getAdsAdapter().registerImaEvents()},acumBytesFunc:function(){this.acumBytes+=this.getTotalBytes()||0},errorModifyer:function(t,e,r){this.fatalList=t||[],this.nonFatalList=e||[],this.ignoreList=r||[]}},{GenericAdsAdapter:r(2215),BcoveImaAdsAdapter:r(8424),BcoveFreewheelAdsAdapter:r(2928),FreewheelAdsAdapter:r(7908),ImaAdsAdapter:r(3748),OnceUXAdsAdapter:r(7234),ContribHlsTech:r(7536),HlsJsTech:r(9438),ShakaTech:r(1487),DashShakaTech:r(127),DashTech:r(8283)});n.adapters.Videojs=s,t.exports=n.adapters.Videojs},2928:function(t,e,r){var n=r(2866),i=n.Adapter.extend({getVersion:function(){var t="unknown";return this.player.FreeWheelPlugin.getVersion?t="bcove-fw "+this.player.FreeWheelPlugin.getVersion():this.player.FreeWheelPlugin.VERSION&&(t="bcove-ssai "+this.player.FreeWheelPlugin.VERSION),t},getDuration:function(){var t=null;if(this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration)t=this.player.ads.ad.duration;else{var e=this.plugin.player;if(this.player.FreeWheelPlugin){var r=this.player.FreeWheelPlugin.tech;this.player.FreeWheelPlugin[r].adPlayer&&(e=this.player.FreeWheelPlugin[r].adPlayer)}e&&e.duration&&(t=e.duration())}return t},getPosition:function(){var t=n.Constants.AdPosition.Midroll;if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":t=n.Constants.AdPosition.Preroll;break;case"MIDROLL":t=n.Constants.AdPosition.Midroll;break;case"POSTROLL":t=n.Constants.AdPosition.Postroll}else this.plugin._adapter.flags.isJoined?this.plugin._adapter.getPlayhead()>=this.plugin._adapter.getDuration()&&(t=n.Constants.AdPosition.Postroll):t=n.Constants.AdPosition.Preroll;return t},getResource:function(){var t=null;if(this.slot){var e=this.slot.getAdInstances();if(e){var r=(this.plugin.requestBuilder.lastSent.adNumber||1)-1;if(e[r]&&e[r].getActiveCreativeRendition){var n=e[r].getActiveCreativeRendition();if(n&&n.getPrimaryCreativeRenditionAsset){var i=n.getPrimaryCreativeRenditionAsset();i&&i.getUrl&&i.getUrl()&&(t=i.getUrl())}n&&n.getWrapperUrl&&!t&&(t=n.getWrapperUrl())}}}return t||"unknown"},getTitle:function(){var t=null;return this.player.FreeWheelPlugin.adsManager&&this.player.FreeWheelPlugin.adsManager.getCurrentAd()&&this.player.FreeWheelPlugin.adsManager.getCurrentAd().getTitle()?t=this.player.FreeWheelPlugin.adsManager.getCurrentAd().getTitle():this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._adId),t},getPlayhead:function(){var t=this.plugin.getAdapter().player;return this.player.FreeWheelPlugin.adPlayer&&(t=this.player.FreeWheelPlugin.adPlayer),t.currentTime()},getGivenBreaks:function(){var t=this.player.FreeWheelPlugin.tech,e=this.player.FreeWheelPlugin[t]._adContext._adResponse.getTemporalSlots(),r=0;for(var n in e){var i=e[n];if(i.getAdCount()>0){var s=i.getAdInstances();for(var o in s)if("video"===s[o]._creativeRenditions[0]._baseUnit){r++;break}}}return r},getBreaksTime:function(){var t=this.player.FreeWheelPlugin[this.player.FreeWheelPlugin.tech]._adContext._adResponse.getTemporalSlots(),e=[];for(var r in t){var n=t[r];if(n.getAdCount()>0){var i=n.getAdInstances();for(var s in i)if("video"===i[s]._creativeRenditions[0]._baseUnit){this.plugin.getDuration()&&n.getTimePosition()>this.plugin.getDuration()?e.push(this.plugin.getDuration()):e.push(n.getTimePosition());break}}}return e.sort()},getGivenAds:function(){var t=this.player.FreeWheelPlugin.tech;return this.player.FreeWheelPlugin[t]._currentSlot.getAdCount()},getAudioEnabled:function(){return!this.player.muted()&&!!this.player.volume()},getIsSkippable:function(){return!1},getIsFullscreen:function(){var t=null;if(this.plugin.deviceDetector.isIphone())t=!this.plugin.deviceDetector.isInBackground;else{var e,r=this.player.FreeWheelPlugin.tech;t=!!(e=this.player.FreeWheelPlugin[r]._video)&&window.innerHeight<=e.clientHeight+30&&window.innerWidth<=e.clientWidth+30}return t},getIsVisible:function(){var t=null;if(this.plugin.deviceDetector.isIphone())t=!this.plugin.deviceDetector.isInBackground;else{if(!this.contentPlayer){var e=this.player.FreeWheelPlugin.tech;for(var r in this.player.FreeWheelPlugin[e]){var i=this.player.FreeWheelPlugin[e][r];if(i.videoHeight&&i.clientHeight){this.contentPlayer=i;break}}}t=n.Util.calculateAdViewability(this.contentPlayer)}return t},getCreativeId:function(){var t=null;return this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._creativeId),t},registerListeners:function(){if(this.monitorPlayhead(!0,!1),this.references={"ads-ad-started":this.startJoinListener.bind(this),"ads-pause":this.pausedListener.bind(this),"ads-play":this.resumedListener.bind(this),"ads-ad-ended":this.adEndedListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},"undefined"!=typeof tv){var t=this.player.FreeWheelPlugin[this.player.FreeWheelPlugin.tech]._adContext;for(var e in this.events=tv.freewheel.SDK,this.fwreferences={},this.fwreferences[this.events.EVENT_AD]=this.logListener.bind(this),this.fwreferences[this.events.EVENT_SLOT_STARTED]=this.slotListener.bind(this),this.fwreferences[this.events.EVENT_ERROR]=this.errorFwListener.bind(this),this.manifestNoResponse=[this.events.ERROR_SECURITY,this.events.ERROR_TIMEOUT],this.manifestNoResponse)this.fwreferences[e]=this.noResponseManifestListener.bind(this);for(var r in this.manifestEmpty=[this.events.ERROR_NO_AD_AVAILABLE,this.events.ERROR_VAST_NO_AD],this.manifestEmpty)this.fwreferences[r]=this.manifestEmptyListener.bind(this);for(var n in this.manifestWrong=[this.events.ERROR_VAST_VERSION_NOT_SUPPORTED,this.events.ERROR_VAST_WRAPPER_LIMIT_REACH,this.events.ERROR_VAST_XML_PARSING,this.events.ERROR_PARSE],this.manifestWrong)this.fwreferences[n]=this.manifestWrongListener.bind(this);if(this.player)for(var e in this.fwreferences)t.addEventListener(e,this.fwreferences[e])}if(this.player)for(var e in this.references)this.player.on(e,this.references[e])},logListener:function(t){if(t.errorCode||t.errorInfo||t.errorModule)this.errorFwListener(t);else switch(t.subType){case this.events.EVENT_AD_SKIPPED:this.skippedListener(t);break;case this.events.EVENT_SLOT_STARTED:this.slotListener(t);break;case this.events.EVENT_AD_CLICK:this.clickFwListener(t)}},skippedListener:function(t){this.fireSkip(),this.plugin._adapter&&this.plugin._adapter.fireResume()},noResponseManifestListener:function(t){this.fireManifest(n.Constants.ManifestError.NO_RESPONSE,"No response")},manifestEmptyListener:function(t){this.fireManifest(n.Constants.ManifestError.EMPTY,"Empty manifest")},manifestWrongListener:function(t){this.fireManifest(n.Constants.ManifestError.WRONG,"Wrong manifest format")},slotListener:function(t){this.slot=t.slot,t&&t.slot&&t.slot.getAdInstances&&(this.titles=t.slot.getAdInstances())},startJoinListener:function(t){this.plugin._adapter&&this.plugin._adapter.firePause(),this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},adEndedListener:function(t){var e=this.plugin.requestBuilder.lastSent.adPosition===n.Constants.AdPosition.Preroll?0:this.plugin._adapter.lastPlayhead;this.fireStop({playhead:e,adPlayhead:this.getDuration()})},errorFwListener:function(t){this.fireError(t.errorCode||t.subType,t.errorInfo),this.fireStop()},clickFwListener:function(t){var e=t.adInstance.getEventCallbackUrls(this.events.EVENT_AD_CLICK,this.events.EVENT_TYPE_CLICK)[0];this.fireClick(e)},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},podEndListener:function(t){this.fireBreakStop()},unregisterListeners:function(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var t in this.references)this.player.off(t,this.references[t]);delete this.references}}},{isUsed:function(t){return t.player.ads&&t.player.FreeWheelPlugin}});t.exports=i},8424:function(t,e,r){var n=r(2866),i=n.Adapter.extend({getVersion:function(){var t=null;return"undefined"!=typeof google&&google.ima&&(t="bcove-ima "+google.ima.VERSION),t},getPlayhead:function(){var t=this.plugin.getAdapter().player;return this.player.ima3&&this.player.ima3&&this.player.ima3.adPlayer&&(t=this.player.ima3.adPlayer),t.currentTime()},getDuration:function(){var t=null;if(this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration)t=this.player.ads.ad.duration;else{var e=this.plugin.player;this.player.ima3&&(e=this.player.ima3.adPlayer),t=e&&e.duration?e.duration():null}return t},getPosition:function(){var t=n.Constants.AdPosition.Midroll;if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":t=n.Constants.AdPosition.Preroll;break;case"MIDROLL":t=n.Constants.AdPosition.Midroll;break;case"POSTROLL":t=n.Constants.AdPosition.Postroll}else this.plugin._adapter.getPlayhead()>=this.plugin._adapter.getDuration()&&(t=n.Constants.AdPosition.Postroll);return this.plugin._adapter.flags.isJoined||(t=n.Constants.AdPosition.Preroll),t},getResource:function(){var t="unknown";return this.player.ima3&&(t=this.player.ima3.currentAd.getMediaUrl()),t},getTitle:function(){var t=null;return this.player.ima3&&this.player.ima3.currentAd&&(t=this.player.ima3.currentAd.getTitle()),t},getPlayerVersion:function(){var t=null;return this.player.ima3&&(t=this.player.ima3.VERSION),t},getGivenBreaks:function(){var t=null;return this.player.ima3&&(t=this.player.ima3.adsManager.getCuePoints().length),t},getBreaksTime:function(){var t=null;if(this.player.ima3){var e=this.player.ima3.adsManager.getCuePoints();for(var r in e)(!e[r]&&0!==e[r]||-1===e[r])&&(e[r]=this.plugin._adapter.getDuration());t=e}return t},getGivenAds:function(){var t=null;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getAdPodInfo()&&(t=this.player.ima3.currentAd.getAdPodInfo().getTotalAds()),t},getAudioEnabled:function(){return!this.player.muted()&&!!this.player.volume()},getIsSkippable:function(){var t=!1;return this.player.ima3&&(t=this.player.ima3.currentAd&&this.player.ima3.currentAd.isSkippable()),t},getIsFullscreen:function(){var t=null;if(this.plugin.deviceDetector.isIphone())t=!this.plugin.deviceDetector.isInBackground;else{var e=null;this.player.ima3&&(e=this.player.ima3.el),t=!!e&&window.innerHeight<=e.clientHeight+30&&window.innerWidth<=e.clientWidth+30}return t},getIsVisible:function(){var t=null;return this.plugin.deviceDetector.isIphone()?t=!this.plugin.deviceDetector.isInBackground:this.player.ima3&&(t=n.Util.calculateAdViewability(this.player.ima3.el)),t},getBitrate:function(){var t=-1;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getVastMediaBitrate()&&(t=this.player.ima3.currentAd.getVastMediaBitrate()),t},getCreativeId:function(){var t=null;return this.player.ima3&&this.player.ima3.currentAd?t=this.player.ima3.currentAd.getCreativeAdId()||this.player.ima3.currentAd.getCreativeId():this.titles&&(t=this.titles[(this.plugin.requestBuilder.lastSent.adNumber||1)-1]._creativeId),t},registerListeners:function(){if(this.monitorPlayhead(!0,!1),this.references={"ima3-started":this.startJoinListener.bind(this),"ima3-paused":this.pausedListener.bind(this),"ima3-resumed":this.resumedListener.bind(this),"ima3-complete":this.adEndedListener.bind(this),"ima3-skipped":this.skippedListener.bind(this),"ima3-ad-error":this.errorListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-click":this.clickListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},this.player)for(var t in this.references)this.player.on(t,this.references[t])},startJoinListener:function(t){this.plugin._adapter&&this.plugin._adapter.firePause(),this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},skippedListener:function(t){this.fireSkip(),this.plugin._adapter&&this.plugin._adapter.fireResume()},adEndedListener:function(t){var e=this.plugin.requestBuilder.lastSent.adPosition===n.Constants.AdPosition.Preroll?0:this.plugin._adapter.lastPlayhead;this.fireStop({playhead:e,adPlayhead:this.getDuration()})},errorListener:function(t){if(this.player.ima3)if(t.getError&&t.getError()){var e=t.getError();this.fireError(e.getCode(),e.getMessage())}else this.fireError()},clickListener:function(t){if(this.player.ima3){var e=null;this.player.ima3.currentAd&&this.player.ima3.currentAd.g&&(e=this.player.ima3.currentAd.g.clickThroughUrl),this.fireClick(e)}},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},podEndListener:function(t){this.fireBreakStop()},unregisterListeners:function(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var t in this.references)this.player.off(t,this.references[t]);delete this.references}},adPlayerErrorListener:function(t){var e=t.data.AdError;[1012,1005,301,402,302].indexOf(e.getErrorCode())>=0?this.fireManifest(n.Constants.ManifestError.NO_RESPONSE,e.getMessage()):[1007,1009,303].indexOf(e.getErrorCode())>=0?this.fireManifest(n.Constants.ManifestError.EMPTY,e.getMessage()):[403,100,503,101,102].indexOf(e.getErrorCode())>=0?this.fireManifest(n.Constants.ManifestError.WRONG,e.getMessage()):this.fireError(e.getErrorCode(),e.getMessage())}},{isUsed:function(t){return"undefined"!=typeof google&&t.player.ima3&&t.player.ads}});t.exports=i},7908:function(t,e,r){var n=r(919).extend({register:function(){},unregister:function(){}},{isUsed:function(t){return t.player&&t.player.freewheelAds}});t.exports=n},2215:function(t,e,r){var n=r(2866),i=r(7768),s=n.Adapter.extend({isGeneric:!0,getVersion:function(){return i.version+"-videojs-ads"},registerListeners:function(){if(this.references={adstart:this.adStartListener.bind(this),adend:this.adEndListener.bind(this),adskip:this.adSkipListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player)for(var t in this.references)this.player.on(t,this.references[t])},unregisterListeners:function(){if(this.player&&this.references){for(var t in this.references)this.player.off(t,this.references[t]);delete this.references}},adStartListener:function(t){this.fireStart(),this.fireJoin()},adEndListener:function(t){this.fireStop()},adSkipListener:function(t){this.fireSkip()},errorListener:function(t){this.fireError()},clickListener:function(t){this.fireClick()}});t.exports=s},3748:function(t,e,r){var n=r(2866),i=r(7768),s=n.Adapter.extend({getVersion:function(){return i.version+"-videojs-ima-ads"},getDuration:function(){return this.ima.getAdsManager()&&null!==this.ima.getAdsManager().getCurrentAd()&&(this.duration=this.ima.getAdsManager().getCurrentAd().getDuration()),this.duration},getResource:function(){var t=null,e=this.ima.getAdsManager();return e&&(t=e.getCurrentAd().getMediaUrl()),t},getTitle:function(){var t=null,e=this.ima.getAdsManager();return e&&(t=e.getCurrentAd().getTitle()),t},getPlayhead:function(){var t=null,e=this.ima.getAdsManager();return e&&(t=this.getDuration()-e.getRemainingTime()),t},getPlayerVersion:function(){return"IMA"+google.ima.VERSION+"; contrib-ads "+this.player.ads.VERSION},getPosition:function(){var t=n.Constants.AdPosition.Preroll;return this.plugin._adapter.flags.isJoined&&(!this.plugin.getIsLive()&&this.plugin._adapter.getDuration()-1<this.plugin._adapter.getPlayhead()?t=n.Constants.AdPosition.Postroll:this.plugin._adapter.getPlayhead()>1&&(t=n.Constants.AdPosition.Midroll)),t},getGivenBreaks:function(){var t=null;return this.cuepoints&&(t=this.cuepoints.length),t},getBreaksTime:function(){return this.cuepoints},getGivenAds:function(){return this.totalAds},getAudioEnabled:function(){return!this.ima.adMuted},getIsSkippable:function(){return this.isSkippable},getIsFullscreen:function(){var t=!1,e=this.ima.adDisplayContainer;for(var r in e)e[r]&&e[r].width&&e[r].height&&window.innerHeight&&window.innerWidth&&e[r].width&&e[r].height&&(t=window.innerHeight<=e[r].height+30&&window.innerWidth<=e[r].width+30);return t},getIsVisible:function(){return n.Util.calculateAdViewability(this.ima.adContainerDiv)},registerListeners:function(){this.monitorPlayhead(!0,!1);var t=google.ima.AdEvent.Type;if(this.references={},this.references[t.AD_METADATA]=this.metadataListener.bind(this),this.references[t.LOADED]=this.loadedListener.bind(this),this.references[t.CONTENT_PAUSE_REQUESTED]=this.contentPauseRequestedListener.bind(this),this.references[t.STARTED]=this.startedListener.bind(this),this.references[t.PAUSED]=this.pausedListener.bind(this),this.references[t.RESUMED]=this.resumedListener.bind(this),this.references[t.COMPLETE]=this.completeListener.bind(this),this.references[t.SKIPPED]=this.skippedListener.bind(this),this.references[t.CLICK]=this.clickListener.bind(this),this.references[google.ima.AdErrorEvent.Type.AD_ERROR]=this.errorListener.bind(this),this.references[t.ALL_ADS_COMPLETED]=this.adsEndedListener.bind(this),this.references[t.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[t.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[t.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this),this.playerReferences={adend:this.adEndedListener.bind(this),adstart:this.startedListener.bind(this),adskip:this.skippedListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player)for(var e in this.registerImaEvents(),this.playerReferences)this.player.on(e,this.playerReferences[e])},registerImaEvents:function(){if(this.player.ima.addEventListener?this.ima=this.player.ima:this.player.ima.sdkImpl&&this.player.ima.sdkImpl.addEventListener&&(this.ima=this.player.ima.sdkImpl),this.ima)for(var t in this.references)this.ima.addEventListener(t,this.references[t])},metadataListener:function(t){this.cuepoints=t.getAdCuePoints().getCuePoints().slice(),this.plugin._adapter&&this.cuepoints.forEach(function(t,e){-1!==this.cuepoints[e]&&null!=this.cuepoints[e]&&void 0!==this.cuepoints[e]||(this.cuepoints[e]=this.plugin._adapter.getDuration())}.bind(this))},loadedListener:function(t){this.isSkippable=t.getAdData().skippable,this.totalAds=t.getAdData().adPodInfo.totalAds,this.fireInit()},contentPauseRequestedListener:function(t){this.fireInit()},startedListener:function(t){this.fireStart(),this.fireJoin(),this.plugin.getAdapter().firePause()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},completeListener:function(t){this.fireStop()},skippedListener:function(t){this.fireSkip()},adEndedListener:function(t){this.fireStop()},errorListener:function(t){var e=null,r=null;"function"==typeof t.getError?r=(e=t.getError()).getCode():t.data&&t.data.AdError&&(r=(e=t.data.AdError).getErrorCode());var n=e?e.getMessage():null;this.fireError(r,n)},clickListener:function(t){var e=null;try{if(t&&"function"==typeof t.getAd){var r=t.getAd();for(prop in r)"object"==typeof r[prop]&&r[prop].clickThroughUrl&&(e=r[prop].clickThroughUrl.substring(r[prop].clickThroughUrl.indexOf("adurl=")).replace("adurl=",""))}}catch(t){n.Log.notice("Couldnt get adclick url")}this.fireClick(e)},adsEndedListener:function(t){this.plugin.getAdapter().adsEnded=!0,this.fireStop(),this.plugin.getAdapter().fireResume(),this.plugin.requestBuilder.lastSent.adPosition===n.Constants.AdPosition.Postroll&&this.plugin.fireStop()},firstQuartileListener:function(t){this.fireQuartile(1)},secondQuartileListener:function(t){this.fireQuartile(2)},thirdQuartileListener:function(t){this.fireQuartile(3)},unregisterListeners:function(){if(this.monitor&&this.monitor.stop(),this.player&&this.ima&&this.references&&this.playerReferences){for(var t in this.references);for(var t in this.playerReferences)this.player.off(t,this.playerReferences[t])}delete this.references,delete this.playerReferences},adPlayerErrorListener:function(t){var e=t.data.AdError,r=e.getErrorCode(),i=e.getMessage();[1012,1005,301,402,302].indexOf(r)>=0?this.fireManifest(n.Constants.ManifestError.NO_RESPONSE,i):[1007,1009,303].indexOf(r)>=0?this.fireManifest(n.Constants.ManifestError.EMPTY,i):[403,100,503,101,102].indexOf(r)>=0?this.fireManifest(n.Constants.ManifestError.WRONG,i):this.fireError(r,i)}},{isUsed:function(t){return"undefined"!=typeof google&&google.ima&&t.player.ima}});t.exports=s},7234:function(t,e,r){var n=r(2866),i=r(7768),s=n.Adapter.extend({getVersion:function(){return i.version+"-videojs-onceux-ads"},getResource:function(){return this.player.ads.contentSrc},getPlayhead:function(){return this.player.onceux.currentTime()},getDuration:function(){return this.player.onceux.duration()},getPosition:function(){var t=n.Constants.AdPosition.Preroll;return this.plugin.getAdapter().flags.isJoined&&(t=this.plugin.getAdapter().getPlayhead()<=this.plugin.getAdapter().getDuration()?n.Constants.AdPosition.Midroll:n.Constants.AdPosition.Postroll),t},registerListeners:function(){if(n.Util.logAllEvents(this.player,[null,"onceux-ads-complete","onceux-adroll-start","onceux-adroll-complete","onceux-linearad-start","onceux-linearad-impression","onceux-linearad-complete","onceux-linearad-skipped","onceux-linearad-pause","onceux-linearad-resume","onceux-companionad-creativeView","adserror","ads-click"]),this.monitorPlayhead(!0,!1),this.references={"onceux-linearad-start":this.startedListener.bind(this),"onceux-linearad-pause":this.pausedListener.bind(this),"onceux-linearad-resume":this.resumedListener.bind(this),"onceux-linearad-complete":this.completeListener.bind(this),"onceux-linearad-skipped":this.skippedListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player)for(var t in this.references)this.player.on(t,this.references[t])},unregisterListeners:function(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var t in this.references)this.player.off(t,this.references[t]);delete this.references}},startedListener:function(t){this.fireStart(),this.fireJoin()},pausedListener:function(t){this.firePause()},resumedListener:function(t){this.fireResume()},completeListener:function(t){this.fireStop({adPlayhead:this.getDuration()})},skippedListener:function(t){this.fireSkip()},errorListener:function(t){this.fireError()},clickListener:function(t){this.fireClick()}},{isUsed:function(t){return t.player.onceux}});t.exports=s},7536:function(t,e,r){var n=r(2866);t.exports={getHls:function(t){return t.getTech().vhs||t.getTech().hls||t.getTech().hls_},isUsed:function(t){return!!this.getHls(t)},getBitrate:function(t){var e=null,r=this.getHls(t).playlists.media();if(t.player.qualityLevels){var n=t.player.qualityLevels(),i=n[n.selectedIndex];i&&(e=i.bitrate)}else r&&r.attributes&&r.attributes.BANDWIDTH?e=r.attributes.BANDWIDTH:t.player.tech_&&t.player.tech_.vhs&&t.player.tech_.vhs.stats?e=t.player.tech_.vhs.stats.bandwidth:t.player.tech_&&t.player.tech_.hls&&t.player.tech_.hls.bandwidth?e=t.player.tech_.hls.bandwidth:t.player.hls&&t.player.hls.bandwidth&&(e=t.player.hls.bandwidth);return e},getRendition:function(t){var e=null,r=this.getHls(t).playlists.media();if(t.player.qualityLevels){var i=t.player.qualityLevels(),s=i[i.selectedIndex];s&&(e=n.Util.buildRenditionString(s.width,s.height,s.bitrate))}else if(r&&r.attributes){var o=r.attributes;o.RESOLUTION?e=n.Util.buildRenditionString(o.RESOLUTION.width,o.RESOLUTION.height,o.BANDWIDTH):o.BANDWIDTH?e=n.Util.buildRenditionString(o.BANDWIDTH):o.NAME&&(e=o.NAME)}return e},getTotalBytes:function(t){var e=this.getHls(t),r=e.bytesReceived;return!r&&e.stats&&(r=e.stats.mediaBytesTransferred-t.acumBytes),r}}},127:function(t,e,r){var n=r(2866);t.exports={isUsed:function(t){return t.player.dash&&t.player.dash.shakaPlayer},getResource:function(t){var e="",r=t.player.dash.shakaPlayer;return"function"==typeof r.getManifestUri?e=r.getManifestUri():"function"==typeof r.getAssetUri&&(e=r.getAssetUri()),e},getBitrate:function(t){return t.player.dash.shakaPlayer.getStats().streamBandwidth},getRendition:function(t){var e=t.player.dash.shakaPlayer,r=e.getStats(),i=n.Util.buildRenditionString(r.width,r.height,r.streamBandwidth),s=e.getVariantTracks();for(var o in s){var a=s[o];a.active&&"video"===a.type&&(i=n.Util.buildRenditionString(a.width,a.height,a.bandwidth))}return i}}},8283:function(t,e,r){var n=r(2866);t.exports={isUsed:function(t){return t.player.dash&&t.player.dash.mediaPlayer&&!t.player.dash.shakaPlayer},getResource:function(t){return this._getDashPlayer(t).getSource()},getBitrate:function(t){var e=null,r=this._getDashPlayer(t);if(r){var n=r.getQualityFor("video");n&&(e=r.getBitrateInfoListFor("video")[n].bitrate)}return e},getRendition:function(t){var e=null,r=this._getDashPlayer(t);if(r){var i=r.getQualityFor("video");if(i){var s=r.getBitrateInfoListFor("video")[i];s&&(e=n.Util.buildRenditionString(s.width,s.height,s.bitrate))}}return e},_getDashPlayer:function(t){return t.player.dash.mediaPlayer}}},9438:function(t,e,r){var n=r(2866);t.exports={getHls:function(t){return this.getTech()},isUsed:function(t){return!!this.getTech(t)},getResource:function(t){var e=null;return this.getTech(t)&&this.getTech(t).url?e=this.getTech(t).url:this.getHls(t)&&this.getHls(t).source_&&(e=this.getHls(t).source_.src),e},getBitrate:function(t){var e=null,r=this.getTech(t).currentLevel;if(void 0!==r&&-1!==r&&this.getTech(t).levels){var n=this.getTech(t).levels[r];n&&n.bitrate&&(e=n.bitrate)}return e},getRendition:function(t){var e=null,r=this.getTech(t).currentLevel;if(void 0!==r&&-1!==r&&this.getTech(t).levels){var i=this.getTech(t).levels[r];i&&(e=n.Util.buildRenditionString(i.width,i.height,i.bitrate))}return e},getTech:function(t){var e=t.getTech();return e.vhs||e.hls||e.hls_}}},1487:function(t,e,r){var n=r(2866);t.exports={_getShaka:function(t){var e=t.getTech();return e.shakaPlayer||e._shakaplayerInstance},isUsed:function(t){return!!this._getShaka(t)},getResource:function(t){var e="",r=this._getShaka(t);return"function"==typeof r.getManifestUri?e=r.getManifestUri():"function"==typeof r.getCurrentSrc&&(e=r.getCurrentSrc()),e},getBitrate:function(t){var e=-1,r=this._getShaka(t);if("function"==typeof r.getStats)e=r.getStats().streamBandwidth;else if("function"==typeof r.getVideoTracks&&"function"==typeof r.getVideoTrackCurrentIndex){var n=r.getVideoTrackCurrentIndex(),i=r.getVideoTracks();for(var s in i){var o=i[s];o.index==n&&(e=o.bitrate)}}return e},getRendition:function(t){var e=this._getShaka(t),r=e.getStats(),i=n.Util.buildRenditionString(r.width,r.height,r.streamBandwidth),s=e.getVariantTracks();for(var o in s){var a=s[o];if(a.active&&"video"===a.type){i=n.Util.buildRenditionString(a.width,a.height,a.bandwidth);break}}return i}}},5342:function(t,e,r){var n=r(1142),i=r(477),s={getPosition:function(){return null},getGivenBreaks:function(){return null},getExpectedBreaks:function(){return null},getExpectedPattern:function(){return null},getBreaksTime:function(){return null},getGivenAds:function(){return null},getExpectedAds:function(){return null},getIsVisible:function(){return!0},getAudioEnabled:function(){return null},getIsSkippable:function(){return null},getIsFullscreen:function(){return null},getCampaign:function(){return null},getCreativeId:function(){return null},getProvider:function(){return null},getAdInsertionType:function(){return null},fireClick:function(t){"string"==typeof t&&(t={url:t}),this.emit(n.Event.CLICK,{params:t})},fireQuartile:function(t){this.flags.isStarted&&"number"==typeof t&&t>this.flags.lastQuartileSent&&t<4&&(this.flags.lastQuartileSent++,this.emit(n.Event.QUARTILE,{params:{quartile:t}}))},startChronoView:function(){if(this.getIsVisible()&&!this.plugin.backgroundDetector.isInBackground){var t=this.chronos.viewedMax;0!==t.length&&0===t[t.length-1].stopTime||(t.push(new i),t[t.length-1].start())}},stopChronoView:function(){var t=this.chronos.viewedMax;t[0]&&t.length>0&&0===t[t.length-1].stopTime&&t[t.length-1].stop()},fireManifest:function(t,e){var r={params:t};"string"==typeof t&&(r={params:{errorType:t,errorMessage:e}}),this.emit(n.Event.MANIFEST,r)},fireSkip:function(t){void 0===t&&(t={}),t.skipped=!0,this.fireStop(t)},fireBreakStart:function(t){this.emit(n.Event.PODSTART,{params:t})},fireBreakStop:function(t){this.emit(n.Event.PODSTOP,{params:t})}};t.exports=s},3858:function(t,e,r){var n=r(1142),i=r(9467),s={getPlayrate:function(){return this.flags.isPaused?0:1},getFramesPerSecond:function(){return null},getDroppedFrames:function(){return null},getThroughput:function(){return null},getRendition:function(){return null},getTitle2:function(){return null},getIsLive:function(){return null},getCdnTraffic:function(){return null},getP2PTraffic:function(){return null},getUploadTraffic:function(){return null},getIsP2PEnabled:function(){return null},getSegmentDuration:function(){return null},getHouseholdId:function(){return null},getLatency:function(){return null},getPacketLoss:function(){return null},getPacketSent:function(){return null},getMetrics:function(){return null},getAudioCodec:function(){return null},getVideoCodec:function(){return null},getURLToParse:function(){return null},fireSeekBegin:function(t,e){if(this.plugin&&this.plugin.getIsLive()&&this.plugin.options["content.isLive.noSeek"])return null;if(this.flags.isJoined&&!this.flags.isSeeking){if(this.flags.isBuffering){if(!1===e)return;i.notice("Converting current buffer to seek"),this.chronos.seek=this.chronos.buffer.clone(),this.chronos.buffer.reset(),this.flags.isBuffering=!1}else this.chronos.seek.start();this.flags.isSeeking=!0,this.emit(n.Event.SEEK_BEGIN,{params:t})}},fireSeekEnd:function(t){if(this.plugin&&this.plugin.getIsLive()&&this.plugin.options["content.isLive.noSeek"])return null;this.flags.isJoined&&this.flags.isSeeking&&(this.cancelSeek(),this.emit(n.Event.SEEK_END,{params:t}))},cancelSeek:function(t){this.flags.isJoined&&this.flags.isSeeking&&(this.flags.isSeeking=!1,this.chronos.seek.stop(),this.monitor&&this.monitor.skipNextTick())},fireEvent:function(t,e,r,i){var s=i||{};s.name=t||"",s.dimensions=e||{},s.values=r||{},this.emit(n.Event.VIDEO_EVENT,{params:s})}};t.exports=s},7129:function(t,e,r){var n=r(8963),i=r(9467),s=r(4492),o=r(5963),a=r(8902),l=r(3121),u=r(6466),c=r(1142),h=n.extend({constructor:function(t){this.flags=new l,this.chronos=new a,this.monitor=null,this.plugin=null,this.player=null,this._isAdsAdapter=null,this.setPlayer(t),this.tag=this.player,i.notice("Adapter "+this.getVersion()+" with Lib "+o+" is ready.")},setPlayer:function(t){this.player&&this.unregisterListeners(),"string"==typeof t&&"undefined"!=typeof document?this.player=document.getElementById(t):this.player=t,this.registerListeners()},registerListeners:function(){},unregisterListeners:function(){},dispose:function(){this.monitor&&this.monitor.stop(),this.fireStop(),this.unregisterListeners(),this.player=null,this.tag=null},monitorPlayhead:function(t,e,r){this.stopMonitor();var n=0;t&&(n|=u.Type.BUFFER),e&&(n|=u.Type.SEEK),this.monitor&&this.monitor._timer.isRunning?this.monitor.skipNextTick():this.monitor=new u(this,n,r)},stopMonitor:function(){this.monitor&&this.monitor.stop()},getPlayhead:function(){return null},getDuration:function(){return null},getBitrate:function(){return null},getTotalBytes:function(){return null},getTitle:function(){return null},getResource:function(){return null},getPlayerVersion:function(){return null},getPlayerName:function(){return null},getVersion:function(){return o+"-generic-js"},fireInit:function(t){this.plugin&&this.plugin.fireInit()},fireStart:function(t){if(this.plugin&&this.plugin.backgroundDetector&&this.plugin.backgroundDetector.canBlockStartCalls())return null;this.flags.isStarted||(this.flags.isStarted=!0,this.chronos.total.start(),this.chronos.join.start(),this.emit(c.Event.START,{params:t}))},fireJoin:function(t){this.flags.isJoined||this.flags.isStarted||this._isAds()||!this.plugin||!this.plugin.isInitiated||this.fireStart(),this.flags.isStarted&&!this.flags.isJoined&&(this.flags.isStarted=!0,this.monitor&&this.monitor.start(),this.flags.isJoined=!0,this.chronos.join.stop(),this.emit(c.Event.JOIN,{params:t}))},firePause:function(t){this.flags.isBuffering&&this.fireBufferEnd(),this.flags.isJoined&&!this.flags.isPaused&&(this.flags.isPaused=!0,this.chronos.pause.start(),this.emit(c.Event.PAUSE,{params:t}))},fireResume:function(t){this.flags.isJoined&&this.flags.isPaused&&(this.flags.isPaused=!1,this.chronos.pause.stop(),this.monitor&&this.monitor.skipNextTick(),this.emit(c.Event.RESUME,{params:t}))},fireBufferBegin:function(t,e){if(this.flags.isJoined&&!this.flags.isBuffering){if(this.flags.isSeeking){if(!e)return;i.notice("Converting current buffer to seek"),this.chronos.buffer=this.chronos.seek.clone(),this.chronos.seek.reset(),this.flags.isSeeking=!1}else this.chronos.buffer.start();this.flags.isBuffering=!0,this.emit(c.Event.BUFFER_BEGIN,{params:t})}},fireBufferEnd:function(t){this.flags.isJoined&&this.flags.isBuffering&&(this.cancelBuffer(),this.emit(c.Event.BUFFER_END,{params:t}))},cancelBuffer:function(t){this.flags.isJoined&&this.flags.isBuffering&&(this.flags.isBuffering=!1,this.chronos.buffer.stop(),this.monitor&&this.monitor.skipNextTick())},fireStop:function(t){(this._isAds()||this.plugin&&this.plugin._isStopReady())&&(this._isAds()&&this.flags.isStarted||!this._isAds()&&(this.flags.isStarted||this.plugin&&this.plugin.isInitiated))&&(this.monitor&&this.monitor.stop(),this.flags.reset(),this.chronos.total.stop(),this.chronos.join.reset(),this.chronos.pause.stop(),this.chronos.buffer.stop(),this.chronos.seek.stop(),this.emit(c.Event.STOP,{params:t}),this.chronos.pause.reset(),this.chronos.buffer.reset(),this.chronos.seek.reset(),this.chronos.viewedMax.splice(0,this.chronos.viewedMax.length))},setIsAds:function(t){this._isAdsAdapter=t},_isAds:function(){return this._isAdsAdapter},fireCasted:function(t){t||(t={}),t.casted=!0,this.fireStop(t)},fireError:function(t,e,r,n){var i=s.buildErrorParams(t,e,r,n);i.code&&delete i.code;var o=this.plugin?this.plugin.options:{};void 0!==i.errorCode&&o["errors.ignore"]&&o["errors.ignore"].indexOf(i.errorCode.toString())>-1||(this.emit(c.Event.ERROR,{params:i}),void 0!==i.errorCode&&o["errors.fatal"]&&o["errors.fatal"].indexOf(i.errorCode.toString())>-1&&this.fireStop())},fireFatalError:function(t,e,r,n){var i=this.plugin?this.plugin.options:{};void 0!==t&&i["errors.ignore"]&&i["errors.ignore"].indexOf(t.toString())>-1||(this.monitor&&this.monitor.stop(),this.fireError(t,e,r,n),void 0!==t&&i["errors.nonFatal"]&&i["errors.nonFatal"].indexOf(t.toString())>-1||this.fireStop())}},{Event:c.Event});s.assign(h.prototype,r(5342)),s.assign(h.prototype,r(3858)),t.exports=h},8902:function(t,e,r){var n=r(4443),i=r(477),s=n.extend({constructor:function(){this.reset()},reset:function(){this.join=new i,this.seek=new i,this.pause=new i,this.buffer=new i,this.total=new i,this.viewedMax=[]}});t.exports=s},3121:function(t,e,r){var n=r(4443).extend({constructor:function(){this.reset()},reset:function(){this.isStarted=!1,this.isJoined=!1,this.isPaused=!1,this.isSeeking=!1,this.isBuffering=!1,this.isEnded=!1,this.isStopped=!1,this.lastQuartileSent=0}});t.exports=n},6466:function(t,e,r){var n=r(4443),i=r(6638),s=r(477),o=n.extend({constructor:function(t,e,r){this._adapter=t,this._seekEnabled=e&o.Type.SEEK,this._bufferEnabled=e&o.Type.BUFFER,r=r||800,this._chrono=new s,this._lastPlayhead=0,r>0&&(this._timer=new i(this.progress.bind(this),r))},start:function(){this.stop(),this.canBeUsed()&&this._timer.start()},stop:function(){this._lastPlayhead=0,this._timer&&this._timer.stop()},skipNextTick:function(){this._lastPlayhead=0},progress:function(){var t=this._chrono.stop();this._chrono.start();var e=t*o.kBUFFER_THRESHOLD_RATIO,r=t*o.kSEEK_THRESHOLD_RATIO;this._adapter.getPlayrate&&this._adapter.getPlayrate()&&1!==this._adapter.getPlayrate()&&(e*=this._adapter.getPlayrate(),r*=this._adapter.getPlayrate());var n=this._getPlayhead(),i=1e3*Math.abs(this._lastPlayhead-n);i<e?this._bufferEnabled&&this._lastPlayhead>0&&!this._adapter.flags.isPaused&&!this._adapter.flags.isSeeking&&this._adapter.fireBufferBegin(null,!1):i>r?this._seekEnabled&&this._lastPlayhead>0&&this._adapter.fireSeekBegin(null,!1):(this._seekEnabled&&this._adapter.fireSeekEnd(),this._bufferEnabled&&this._adapter.fireBufferEnd()),this._lastPlayhead=n},canBeUsed:function(){var t=this._adapter.plugin;return!t||!t.getIsLive()||!t.options["content.isLive.noMonitor"]},_getPlayhead:function(){return this._adapter.getPlayhead()}},{Type:{NONE:0,BUFFER:1,SEEK:2},kBUFFER_THRESHOLD_RATIO:.5,kSEEK_THRESHOLD_RATIO:2});t.exports=o},477:function(t,e,r){var n=r(4443).extend({constructor:function(){this.reset()},reset:function(){this.startTime=0,this.stopTime=0,this.pauseTime=0,this.offset=0},getDeltaTime:function(t){var e=-1,r=(new Date).getTime();if(this.startTime){t&&!this.stopTime&&(this.stopTime=r);var n=this.pauseTime?r-this.pauseTime:0,i=this.stopTime?this.stopTime:r;e=this.offset-n+(i-this.startTime)}return e},start:function(){this.startTime=(new Date).getTime(),this.stopTime=0,this.offset=0},stop:function(){return this.pauseTime&&this.resume(),this.stopTime=(new Date).getTime(),this.startTime?this.offset+(this.stopTime-this.startTime):-1},pause:function(){this.pauseTime=(new Date).getTime()},resume:function(){this.offset-=(new Date).getTime()-this.pauseTime,this.pauseTime=0},clone:function(){var t=new n;return t.startTime=this.startTime,t.stopTime=this.stopTime,t.offset=this.offset,t}});t.exports=n},6550:function(t,e,r){var n=r(4443),i=r(9467),s=r(1659),o=r(5669),a=n.extend({constructor:function(t){this.transforms=[],this.pluginRef=t,this._requests=[]},sendRequest:function(t,e,r){t&&("function"==typeof e&&t.on(s.Event.SUCCESS,e,r),this._registerRequest(t))},buildRequest:function(t,e,r,n){var i=new s(t,e,r=r||{});"function"==typeof n&&i.on(s.Event.SUCCESS,n),this._registerRequest(i)},addTransform:function(t){t.parse&&t.isBlocking?(this.transforms.push(t),t.on(o.Event.DONE,this._processRequests.bind(this))):i.warn(t+" is not a valid RequestTransform.")},removeTransform:function(t){var e=this.transforms.indexOf(t);-1!==e?this.transforms.splice(e,1):i.warn("Trying to remove unexisting Transform '"+t+"'.")},_registerRequest:function(t){if(this.pluginRef){var e=this.pluginRef.options;e.authToken&&(t.options.requestHeaders.Authorization=e.authType+" "+e.authToken)}this._requests.push(t),this._processRequests()},_processRequests:function(){var t=this._requests;this._requests=[];for(var e=[];t.length;){var r=t.shift(),n=this._transform(r);n===o.STATE_NO_BLOCKED?(this.pluginRef&&(r.host=this.pluginRef.getHost()),r.send()):n===o.STATE_BLOCKED&&e.push(r)}for(;e.length;)this._requests.push(e.shift())},_transform:function(t){var e=o.STATE_NO_BLOCKED;return this.transforms.forEach((function(r){r.isBlocking(t)?e=o.STATE_BLOCKED:(r.parse(t),r.getState()===o.STATE_OFFLINE&&(e=o.STATE_OFFLINE))})),e}});t.exports=a},1659:function(t,e,r){var n=r(4443),i=r(9467),s=r(4492),o=n.extend({constructor:function(t,e,r,n){this.xhr=this.createXHR(),this.host=t||"",this.service=e||"",this.params=r||{},this.options=s.assign({},o.defaultOptions,n),this.retries=0,this.options.cache||this.setParam("timemark",(new Date).getTime())},createXHR:function(){var t={};try{t=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(t){i.error(t)}return t},getXHR:function(){return this.xhr},getResponse:function(){return this.xhr.response},getResponseText:function(){return this.xhr.responseText},getResponseHeaders:function(){return this.xhr.getAllResponseHeaders()},getUrl:function(){return this.host+this.service+this.getParamString()},on:function(t,e,r){return this.xhr.addEventListener?this.xhr.addEventListener(t,e.bind(this,this,r)):t===o.Event.SUCCESS&&(this.xhr.onreadystatechange=function(){4===this.xhr.readyState&&e.bind(this,this,r)}.bind(this)),this},off:function(t,e){return this.xhr.removeEventListener(t,e),this},getParamString:function(){try{var t="?";for(var e in this.params){var r=this.params[e];if(null!==r&&"object"==typeof r){var n=JSON.stringify(r);"{}"!==n&&(t+=encodeURIComponent(e)+"="+encodeURIComponent(n)+"&")}else null!=r&&""!==r&&(t+=encodeURIComponent(e)+"="+encodeURIComponent(r)+"&")}return t.slice(0,-1)}catch(t){return i.error(t),""}},getParam:function(t){return this.params[t]},setParam:function(t,e){return this.params[t]=e,this},setBody:function(t){this.body=t},send:function(){try{if(this.xhr.open(this.options.method,this.getUrl(),!0),this.options.requestHeaders)for(var t in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(t)&&this.xhr.setRequestHeader(t,this.options.requestHeaders[t]);for(var e in this.options.retryAfter>0&&this.options.maxRetries>0&&0===this.retries&&this.on(o.Event.ERROR,function(){if(this.retries>=this.options.maxRetries)i.error('Aborting failed request "'+this.service+'". Max retries reached.');else{i.warn('YBRequest "'+this.service+'" failed. Retry '+(this.retries+1)+" of "+this.options.maxRetries+" in "+this.options.retryAfter+"ms.");try{setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter)}catch(t){"undefined"!=typeof atv?atv.setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter):i.error(t)}}}.bind(this)),i.logLevel<=i.Level.VERBOSE&&i.verbose("XHR Req: "+this.getUrl()),o._globalListeners)o._globalListeners[e].forEach(function(t){this.on(e,t)}.bind(this));return this.xhr.send(this.body)}catch(t){i.error(t)}}},{Event:{SUCCESS:"load",LOAD:"load",ERROR:"error",ABORT:"abort"},defaultOptions:{method:"GET",requestHeaders:{},maxRetries:3,retryAfter:5e3,cache:!1},_globalListeners:{},onEvery:function(t,e){o._globalListeners[t]=o._globalListeners[t]||[],o._globalListeners[t].push(e)},offEvery:function(t,e){if(o._globalListeners[t]){var r=o._globalListeners[t].indexOf(e);-1!==r&&o._globalListeners[t].splice(r,1)}}});t.exports=o},974:function(t,e,r){var n=r(5669),i=r(6306),s=n.extend({_services:[i.Service.INIT,i.Service.START,i.Service.OFFLINE_EVENTS],isBlocking:function(t){if(this._isBusy&&null!=t)if(-1!==this._services.indexOf(t.service))this.done();else if(t.service===i.Service.ERROR)return!1;return n.prototype.isBlocking.apply(this,arguments)}});t.exports=s},7660:function(t,e,r){var n=r(5669),i=n.extend({constructor:function(t,e){this._sendRequest=!1,this._isBusy=!1,this.plugin=t,this.session=e,this.transformName="Offline"},parse:function(t){t&&this.plugin.offlineStorage&&this.plugin.offlineStorage.addEvent(t.service,t.params)},hasToSend:function(t){return!1},getState:function(){return n.STATE_OFFLINE}});t.exports=i},4043:function(t,e,r){var n=r(5669),i=r(7254),s=r(5026),o=r(189),a=r(199),l=r(744),u=r(4873),c=r(9467),h=r(6306),p=n.extend({constructor:function(t){p.__super__.constructor.apply(this,arguments),this._plugin=t,this._realResource=null,this._transportFormat=null,this._initResource=null,this._cdnName=null,this._cdnNodeHost=null,this._cdnNodeTypeString=null,this._cdnNodeType=null,this._responses={},this._isBusy=!1,this.transformName="Resource"},getResource:function(){return this._realResource},_getInitialCdnResource:function(){return this._realResource||this._initResource},getTransportFormat:function(){return this._transportFormat},getCdnName:function(){return this._cdnName},getNodeHost:function(){return this._cdnNodeHost},getNodeTypeString:function(){return this._cdnNodeTypeString},getNodeType:function(){return this._cdnNodeType},init:function(t){t?this._isBusy||(this._isBusy=!0,this._initResource=t,this._parseManifestEnabled=this._plugin.isParseManifest(),this._cdnEnabled=this._plugin.isParseCdnNode(),this._cdnList=this._plugin.getParseCdnNodeList().slice(),s.setBalancerHeaderName(this._plugin.getParseCdnNodeNameHeader(),this._plugin.getParseNodeHeader()),this._setTimeout(),this._parseManifestEnabled?this._isFinalUrl(this._initResource)?(this._realResource=this._initResource,this.done()):this.parseManifest():this._parseCDN()):this.done()},_isFinalUrl:function(t){var e=[".ts",".mp4",".m4s",".cmfv"];for(var r in t=t||"",e){var n=e[r];if(t.lastIndexOf(n)===t.length-n.length)return!0}return!1},_setTimeout:function(){var t=function(){this._isBusy&&(this.done(),c.warn("ResourceTransform has exceded the maximum execution time (3s) and will be aborted."))}.bind(this);try{this._parseTimeout=setTimeout(t,3e3)}catch(e){"undefined"!=typeof atv?this._parseTimeout=atv.setTimeout(t,3e3):c.error(e)}},parseManifest:function(t,e){var r=this._plugin.options["parse.manifest.auth"],n=[new u(r),new a(r),new i(r)];this._parseManifest(n,t,e||this._initResource)},_parseManifest:function(t,e,r,n){if(t.length>0){var i=t[0];i.shouldExecute(e)?(i.on(l.Event.DONE,function(){this._parseManifest(t.slice(1,t.length),i.getLastManifest(),i.getResource(),i.getTransportFormat()||n)}.bind(this)),i.parse(r,e)):this._parseManifest(t.slice(1,t.length),e,r,n)}else this._transportFormat=n,this._realResource=r,this._parseCDN()},_parseCDN:function(){if(this._plugin.isCdnSwitch())this.switchDetector=new o(this._plugin),this.switchDetector.on(o.Events.DONE,function(t){this._cdnName=t.data,this.done()}.bind(this)),this.switchDetector.on(o.Events.ERROR,function(){this.done()}.bind(this)),this.switchDetector.init();else if(this._cdnEnabled&&this._cdnList.length>0){var t=this._cdnList.shift();if(this.getNodeHost())return;var e=s.create(t);e?(e.on(s.Event.DONE,function(){this._responses=e.getResponses(),this._cdnName=e.getParsedCdnName(),this._cdnNodeHost=e.getParsedNodeHost(),this._cdnNodeTypeString=e.getParsedNodeTypeString(),this._cdnNodeType=e.getParsedNodeType(),this.getNodeHost()?this.done():this._parseCDN()}.bind(this)),e.parse(this._getInitialCdnResource(),this._responses)):this._parseCDN()}else this.done()},parse:function(t){if(t.service===h.Service.START){var e=this._plugin.requestBuilder.lastSent;e.parsedResource=t.params.parsedResource=this.getResource()||t.params.parsedResource,e.transportFormat=t.params.transportFormat=this.getTransportFormat()||t.params.transportFormat,this._cdnEnabled&&(e.cdn=t.params.cdn=t.params.cdn||this.getCdnName(),e.nodeHost=t.params.nodeHost=this.getNodeHost()||t.params.nodeHost,e.nodeType=t.params.nodeType=this.getNodeType()||t.params.nodeType,e.nodeTypeString=t.params.nodeTypeString=this.getNodeTypeString()||t.params.nodeTypeString)}}});t.exports=p},189:function(t,e,r){var n=r(8963),i=r(9467),s=r(1659),o=n.extend({constructor:function(t){this.plugin=t,this.headerName="x-cdn"},init:function(){var t=null;this.plugin&&(t=this.plugin.getAdapter()&&this.plugin.getAdapter().getURLToParse()?this.plugin.getAdapter().getURLToParse():this.plugin.getResource()),this.plugin&&this.plugin.getAdapter()&&this.plugin.getAdapter().flags.isStarted&&this._request(t)},done:function(t){this.emit(o.Events.DONE,t)},error:function(){this.emit(o.Events.ERROR)},_successfulRequest:function(t){setTimeout(this.init.bind(this),1e3*parseInt(this.plugin.options["parse.cdnTTL"]));var e=t.getResponseHeaders().split("\n"),r=null;for(var n in e){var i=e[n],s=i.indexOf(this.headerName);s>-1&&(r=i.substring(s+this.headerName.length+1,i.length-1).replace(" ",""))}this.done(r)},_failedRequest:function(){setTimeout(this.init.bind(this),1e3*parseInt(this.plugin.options["parse.cdnTTL"])),i.warn("CDN switch detection request failed"),this.error()},_request:function(t){var e=new s(t,null,null,{method:"HEAD",cache:!0});e.on(s.Event.SUCCESS,this._successfulRequest.bind(this)),e.on(s.Event.ERROR,this._failedRequest.bind(this)),e.send()}},{Events:{DONE:"done",ERROR:"error"}});t.exports=o},5026:function(t,e,r){var n=r(8963),i=r(9467),s=r(4492),o=r(1659),a=n.extend({constructor:function(t){this._options=s.assign({cdnName:null,parsers:[],requestMethod:"HEAD",requestHeaders:{},parseType:function(){return 0}},t),this._responses={}},done:function(){this.emit(a.Event.DONE)},addParser:function(t){return this._options.parsers.push(t),this},setCdnName:function(t){return this._options.cdnName=t,this},setRequestMethod:function(t){return this._options.requestMethod=t,this},setRequestHeader:function(t,e){return this._options.requestHeaders[t]=e,this},setParseType:function(t){return this._options.parseType=t,this},getParsedCdnName:function(){return this._cdnName},getParsedNodeHost:function(){return this._cdnNodeHost},getParsedNodeTypeString:function(){return this._cdnNodeTypeString},getParsedNodeType:function(){return this._cdnNodeType},getResponses:function(){return this._responses},parse:function(t,e){this._responses=e||{};var r=JSON.stringify(this._options.requestHeaders);this._responses[r]?this._parseResponse(this._responses[r]):this._requestResponse(t)},_requestResponse:function(t){var e=JSON.stringify(this._options.requestHeaders),r="{}"!==e,n=new o(t,null,null,{method:this._options.requestMethod,maxRetries:0,requestHeaders:this._options.requestHeaders,cache:!0});n.on(o.Event.SUCCESS,function(t){this._responses[e]=t.getResponseHeaders(),this._parseResponse(this._responses[e])}.bind(this)),n.on(o.Event.ERROR,function(e){r?(this._options.requestHeaders={},this._requestResponse(t)):this.done()}.bind(this)),n.send()},_parseResponse:function(t){this._options.parsers.forEach(function(e){var r=e.headerName?e.headerName.toLowerCase():"";r&&t.split("\n").forEach(function(t){var n=t.indexOf(":");-1!==n&&t.slice(0,n).toLowerCase()===r&&this._executeParser(e,t.slice(n+1))}.bind(this))}.bind(this)),this.done()},_executeParser:function(t,e){try{var r=t.regex.exec(e.trim());if(null!==r)switch(this._options.cdnName&&(this._cdnName=this._options.cdnName),t.element){case a.ElementType.HOST:this._cdnNodeHost=r[1];break;case a.ElementType.TYPE:this._cdnNodeTypeString=r[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case a.ElementType.HOST_AND_TYPE:this._cdnNodeHost=r[1],this._cdnNodeTypeString=r[2],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case a.ElementType.TYPE_AND_HOST:this._cdnNodeTypeString=r[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString),this._cdnNodeHost=r[2];break;case a.ElementType.NAME:this._cdnName=r[1].toUpperCase()}}catch(t){i.warn("CDN parsing for "+this._options.cdnName+" could not parse header value "+e)}},shouldExecute:function(){return!0}},{Event:{DONE:"done"},ElementType:{HOST:"host",TYPE:"type",HOST_AND_TYPE:"host+type",TYPE_AND_HOST:"type+host",NAME:"name"},_cdnConfigs:{},setBalancerHeaderName:function(t,e){a._cdnConfigs.Balancer.parsers[0].headerName=t,a._cdnConfigs.Balancer.parsers[1].headerName=e},create:function(t){if(a._cdnConfigs[t])return new a(a._cdnConfigs[t]);i.warn("Tried to create an unexisting CdnParser named "+t)},add:function(t,e){a._cdnConfigs[t]=e}});a.add("Level3",r(4949)),a.add("Cloudfront",r(2817)),a.add("Akamai",r(2154)),a.add("Highwinds",r(3326)),a.add("Fastly",r(6403)),a.add("Telefonica",r(3109)),a.add("Amazon",r(726)),a.add("Edgecast",r(2302)),a.add("Balancer",r(9488)),a.add("NosOtt",r(7734)),t.exports=a},2154:function(t){t.exports={cdnName:"AKAMAI",parsers:[{element:"type+host",headerName:"X-Cache",regex:/(.+)\sfrom.+AkamaiGHost\/(.+)\).+/},{element:"host",headerName:"akamai-mon-iucid-del",regex:/(.*)/},{element:"type",headerName:"akamai-cache-status",regex:/(.+)\sfrom\schild/}],requestHeaders:{Pragma:"akamai-x-cache-on"},parseType:function(t){var e=t.toLowerCase();return-1!==e.indexOf("hit")?1:-1!==e.indexOf("miss")?2:0}}},726:function(t){t.exports={cdnName:"AMAZON",parsers:[{element:"host",headerName:"x-amz-cf-pop",regex:/(.+)/},{element:"type",headerName:"x-cache",regex:/(.+)\sfrom.+/}],parseType:function(t){return-1!==t.toLowerCase().indexOf("hit")?1:-1!==t.toLowerCase().indexOf("miss")?2:0}}},9488:function(t){t.exports={parsers:[{element:"name",headerName:null,regex:/(.+)/},{element:"host",headerName:null,regex:/(.+)/}]}},2817:function(t){t.exports={cdnName:"CLOUDFRT",parsers:[{element:"host",headerName:"X-Amz-Cf-Id",regex:/(.+)/},{element:"type",headerName:"X-Cache",regex:/(\S+)\s.+/}],parseType:function(t){switch(t){case"Hit":return 1;case"Miss":return 2;default:return 0}}}},2302:function(t){t.exports={cdnName:"EDGECAST",parsers:[{element:"host",headerName:"Server",regex:/\((.+)\/.+\)/},{element:"type",headerName:"X-Cache",regex:/(.+)/}],parseType:function(t){return"HIT"===t?1:2}}},6403:function(t){t.exports={cdnName:"FASTLY",parsers:[{element:"host",headerName:"X-Served-By",regex:/([^,\s]+)$/},{element:"type",headerName:"X-Cache",regex:/([^,\s]+)$/}],parseType:function(t){switch(t){case"HIT":return 1;case"MISS":return 2;default:return 0}}}},3326:function(t){t.exports={cdnName:"HIGHNEGR",parsers:[{element:"host+type",headerName:"X-HW",regex:/.+,[0-9]+\.(.+)\.(.+)/}],parseType:function(t){switch(t){case"c":case"x":return 1;default:return 2}}}},4949:function(t){t.exports={cdnName:"LEVEL3",parsers:[{element:"host+type",headerName:"X-WR-Diag",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"X-WR-Diag":"host"},parseType:function(t){if(t){if(0===t.indexOf("TCP_HIT")||0===t.indexOf("TCP_MEM_HIT")||0===t.indexOf("TCP_IMS_HIT"))return 1;if(0===t.indexOf("TCP_MISS"))return 2}return 0}}},7734:function(t){t.exports={cdnName:"NOSOTT",parsers:[{element:"host",headerName:"X-NOS-Server",regex:/(.+)/},{element:"type",headerName:"X-Cache",regex:/(.*)/}],parseType:function(t){switch(t){case"Hit":return 1;case"Miss":return 2;default:return 0}}}},3109:function(t){t.exports={cdnName:"TELEFO",parsers:[{element:"host+type",headerName:"x-tcdn",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"x-tcdn":"host"},parseType:function(t){if(t){if(-1!==t.indexOf("p")||-1!==t.indexOf("c"))return 1;if(-1!==t.indexOf("i")||-1!==t.indexOf("m"))return 2}return 0}}},199:function(t,e,r){var n=r(1659),i=r(744),s=r(9467),o=r(1004),a=i.extend({parse:function(t,e){if(e)this.parseLocation(e,t);else{var r=new n(t,null,null,{cache:!0,requestHeaders:this._headers});r.on(n.Event.SUCCESS,function(e){this.parseLocation(e,t)}.bind(this)),r.on(n.Event.ERROR,function(t){this.done()}.bind(this)),r.send()}},parseLocation:function(t,e){this.iterations--;var r=new RegExp(/<Location>([\s\S]+)<\/Location>/);try{this._lastManifest=t;var n=t.getResponseText(),i=r.exec(n);if(i&&i[1])var o=this._htmlDecode(i[1].replace("\n",""));o&&o!==e&&this.iterations>0?this.parse(o):this.parseFinalResource(n,e)}catch(t){s.warn("Dash parse failed"),this.done()}},_htmlDecode:function(t){if("undefined"!=typeof document&&"function"==typeof document.createElement){var e=document.createElement("textarea");return e.innerHTML=t,e.childNodes&&e.childNodes.length?e.childNodes[0].nodeValue:t}return t},parseFinalResource:function(t,e){var r=new RegExp(/<BaseURL>[\r\n]*(.*?)[\r\n]*<\/BaseURL>/),n=new RegExp(/<SegmentURL[\s\S]*media="([^"]+)/),i=new RegExp(/<SegmentTemplate[\s\S]*media="([^"]+)/),o=null;try{o=r.exec(t)||i.exec(t)||n.exec(t),this._getManifestMetadata(t),o&&o[1]&&this._isFullUrl(o[1])?o[1].indexOf('"')>0?this._realResource=o[1].substr(0,o[1].indexOf('"')).replace("\n",""):this._realResource=o[1].replace("\n",""):this._realResource=e}catch(t){s.warn("Dash manifest parse failed")}this.done()},_getManifestMetadata:function(t){try{var e=new RegExp(/<AdaptationSet[\s\S]*mimeType="video\/([^"]+)/).exec(t),r=null;switch(e[1]){case"mp4":case"m4s":r=o.MP4;break;case"mp2t":r=o.MPEG2;break;case"cmfv":r=o.CMF}this._transportFormat=r}catch(t){s.warn("Couldnt find the transport format")}},_isFullUrl:function(t){return-1!==t.indexOf("http")},shouldExecute:function(t){var e=!0;return t&&(e=-1!==t.getResponseText().indexOf("<MPD")),e}});t.exports=a},7254:function(t,e,r){var n=r(1659),i=r(744),s=r(9467),o=r(1004),a=i.extend({parse:function(t,e,r){r=r||"";var i=null;try{i=/((\S*?)(\.m3u8|\.m3u|\.ts|\.m4s|\.mp4|\.cmfv)((\?|;)\S*|\n|\r|$))/i.exec(t.replaceAll(",URI=","\n").replaceAll('"',"").replaceAll(",","\n"))}catch(t){s.warn("Parse HLS Regex failed",t),this.done()}if(null!==i){var a=i[1].trim(),l="",u=r.lastIndexOf("/");if(0!==a.indexOf("http")&&-1!==u){if("/"===a[0]&&"/"!==a[1]){var c=r.indexOf("/")+1;c+=r.substr(c,r.length).indexOf("/")+1,c+=r.substr(c,r.length).indexOf("/"),a=r.slice(0,c)+a}else a=r.slice(0,u)+"/"+a;l=r.slice(0,u)+"/"}if(".m3u8"===i[3]||".m3u"===i[3])if(e)this._parseWithManifest(e,l,i);else{var h=new n(a,null,null,{cache:!0,requestHeaders:this._headers});h.on(n.Event.SUCCESS,function(t){this._parseWithManifest(t,l,i)}.bind(this)),h.on(n.Event.ERROR,function(t){this.done()}.bind(this)),h.send()}else{switch(i[3]){case".mp4":case".m4s":this._transportFormat=o.MP4;break;case".ts":this._transportFormat=o.MPEG2;break;case".cmfv":this._transportFormat=o.CMF}this._realResource=a,this.done()}}else this.done()},_parseWithManifest:function(t,e,r){this._lastManifest=t,this.parse(t.getResponseText(),null,e+r[2])},shouldExecute:function(t){var e=!0;return t&&(e=-1!==t.getResponseText().indexOf("#EXTM3U")),e}});t.exports=a},4873:function(t,e,r){var n=r(1659),i=r(744).extend({parse:function(t,e){if(e)this._parseWithManifest(e);else{this._realResource=t;var r=new n(t,null,null,{cache:!0,requestHeaders:this._headers});r.on(n.Event.SUCCESS,function(t){this._parseWithManifest(t)}.bind(this)),r.on(n.Event.ERROR,function(t){this.done()}.bind(this)),r.send()}},_parseWithManifest:function(t){this._lastManifest=t;var e=t.getResponseHeaders(),r=!1;t&&t.xhr&&t.xhr.responseURL&&t.xhr.responseURL!==this._realResource?(this._realResource=t.xhr.responseURL,this.parse(this._realResource),r=!0):e.split("\n").forEach(function(t){t.startsWith("Location:")&&(this._realResource=t.slice(10),this.parse(this._realResource),r=!0)}.bind(this)),r||this.done()}});t.exports=i},744:function(t,e,r){var n=r(8963).extend({constructor:function(t){this._realResource=null,this._lastManifest=null,this._transportFormat=null,this.iterations=3,this._headers=t},done:function(){this.iterations=3,this.emit(n.Event.DONE)},parse:function(t,e){},getResource:function(){return this._realResource},getTransportFormat:function(){return this._transportFormat},getLastManifest:function(){return this._lastManifest},shouldExecute:function(t){return!0}},{Event:{DONE:"done"}});t.exports=n},5669:function(t,e,r){var n=r(8963).extend({constructor:function(){this._isBusy=!0,this._sendRequest=!0,this.transformName="Transform"},parse:function(t){},isBlocking:function(t){return this._isBusy},done:function(){this._isBusy=!1,this.emit(n.Event.DONE)},hasToSend:function(t){return this._sendRequest},getState:function(){return this._sendRequest?this._isBusy?this.STATE_BLOCKED:this.STATE_NO_BLOCKED:this.STATE_OFFLINE}},{STATE_OFFLINE:2,STATE_BLOCKED:1,STATE_NO_BLOCKED:0,Event:{DONE:"done"}});t.exports=n},653:function(t,e,r){var n=r(1659),i=r(5669),s=r(9467),o=r(4492),a=r(6306),l=i.extend({constructor:function(t,e){i.prototype.constructor.apply(this,arguments),this.response={},this._viewIndex=(new Date).getTime(),this._session=e,this._httpSecure=t.options["app.https"],this._plugin=t,this.transformName="View"},init:function(){if(this._plugin.options&&this._plugin.options.offline)return this.response.host="OFFLINE",this.response.code="OFFLINE",this.response.pingTime=60,this.response.beatTime=60,this.done(),null;if(this._plugin.storage.isEnabled()&&(new Date).getTime()<this._plugin.sessionExpire+(Number(this._plugin.getDataTime())||0)&&this._plugin.getStoredData())return this.setData(this._plugin.getStoredData()),null;var t=a.Service.DATA,e={outputformat:"json"};null!==(e=this._plugin.requestBuilder.buildParams(e,t))&&(s.notice(t+" "+e.system),"nicetest"===e.system&&s.error("No accountCode has been set. Please set your accountCode inside plugin's options."),new n(this._plugin.getHost(),t,e).on(n.Event.SUCCESS,this._receiveData.bind(this)).on(n.Event.ERROR,this._failedData.bind(this)).send())},setData:function(t){try{var e=JSON.parse(t);this._plugin.options["parse.fdsResponseHost"]&&(t=t.replace(e.q.h,this._plugin.options["parse.fdsResponseHost"](e.q.h)),e=JSON.parse(t)),this.response.msg=t,this.response.host=o.addProtocol(e.q.h,this._httpSecure),this.response.code=e.q.c,this.response.pingTime=e.q.pt||5,this.response.beatTime=e.q.i&&e.q.i.bt||30,this.response.sessionExpire=e.q.i&&e.q.i.exp||300,this._plugin.storage.setLocal("sessionExpire",this.response.sessionExpire),this.done()}catch(t){s.error("Fastdata response is invalid.")}},_receiveData:function(t,e){var r=t.getResponse();this.setData(r)},_failedData:function(t,e){s.error("Fastdata request has failed.")},nextView:function(){return this._viewIndex=(new Date).getTime(),this.getViewCode()},getViewCode:function(){return this.response.code+"_"+this._viewIndex},getSession:function(){return this._session},setSession:function(t){this._session=t},setHost:function(t){this.response.host=t},parse:function(t){t.host=t.host||this.response.host,t.params.system=this._plugin.getAccountCode(),t.params.sessionRoot=t.params.sessionRoot||this.getSession(),-1!==l.EventList.PingTime.indexOf(t.service)&&(t.params.pingTime=t.params.pingTime||this.response.pingTime),-1===l.EventList.Infinity.indexOf(t.service)?t.params.code=t.params.code||this.getViewCode():t.params.sessionId=t.params.sessionRoot,-1!==l.EventList.CreateView.indexOf(t.service)&&(this._plugin.infinity.infinityStarted||this._plugin.storage.isEnabled()&&this._plugin.storage.getLocal("infinityStarted"))&&(t.params.parentId=t.params.sessionRoot,t.params.navContext=t.params.navContext||this._plugin.getContext())}},{EventList:{CreateView:[a.Service.START,a.Service.INIT,a.Service.ERROR],Infinity:[a.Service.NAV,a.Service.SESSION_START,a.Service.SESSION_STOP,a.Service.EVENT,a.Service.BEAT],PingTime:[a.Service.START,a.Service.PING]}});t.exports=l},9061:function(t,e,r){var n=r(5669).extend({isBlocking:function(t){return!t.params.sessionId}});t.exports=n},6306:function(t,e,r){var n=r(7546),i=r(1142),s={AdPosition:n,ManifestError:r(4202),Service:r(6596),WillSendEvent:r(7162),AdInsertionType:r(7253),Adapter:i};t.exports=s},7253:function(t){t.exports={ClientSide:"csai",ServerSide:"ssai"}},7546:function(t){t.exports={Preroll:"pre",Midroll:"mid",Postroll:"post"}},1142:function(t,e,r){var n={Event:r(8271)};t.exports=n},8271:function(t){t.exports={START:"start",JOIN:"join",PAUSE:"pause",RESUME:"resume",SEEK_BEGIN:"seek-begin",SEEK_END:"seek-end",BUFFER_BEGIN:"buffer-begin",BUFFER_END:"buffer-end",ERROR:"error",STOP:"stop",CLICK:"click",MANIFEST:"manifest",PODSTART:"break-start",PODSTOP:"break-stop",QUARTILE:"quartile",VIDEO_EVENT:"video-event"}},4202:function(t){t.exports={NO_RESPONSE:"NO_RESPONSE",EMPTY:"EMPTY_RESPONSE",WRONG:"WRONG_RESPONSE"}},6596:function(t){t.exports={DATA:"/data",INIT:"/init",START:"/start",JOIN:"/joinTime",PAUSE:"/pause",RESUME:"/resume",SEEK:"/seek",BUFFER:"/bufferUnderrun",ERROR:"/error",STOP:"/stop",PING:"/ping",VIDEO_EVENT:"/infinity/video/event",AD_INIT:"/adInit",AD_START:"/adStart",AD_JOIN:"/adJoin",AD_PAUSE:"/adPause",AD_RESUME:"/adResume",AD_BUFFER:"/adBufferUnderrun",AD_STOP:"/adStop",AD_CLICK:"/adClick",AD_ERROR:"/adError",AD_MANIFEST:"/adManifest",AD_POD_START:"/adBreakStart",AD_POD_STOP:"/adBreakStop",AD_QUARTILE:"/adQuartile",EVENT:"/infinity/session/event",SESSION_START:"/infinity/session/start",SESSION_STOP:"/infinity/session/stop",NAV:"/infinity/session/nav",BEAT:"/infinity/session/beat",OFFLINE_EVENTS:"/offlineEvents"}},4610:function(t){t.exports={HDS:"HDS",HLS:"HLS",MSS:"MSS",DASH:"DASH",RTMP:"RTMP",RTP:"RTP",RTSP:"RTSP"}},1004:function(t){t.exports={MP4:"MP4",MPEG2:"TS",CMF:"CMF"}},7162:function(t){t.exports={WILL_SEND_INIT:"will-send-init",WILL_SEND_START:"will-send-start",WILL_SEND_JOIN:"will-send-join",WILL_SEND_PAUSE:"will-send-pause",WILL_SEND_RESUME:"will-send-resume",WILL_SEND_SEEK:"will-send-seek",WILL_SEND_BUFFER:"will-send-buffer",WILL_SEND_ERROR:"will-send-error",WILL_SEND_FATAL_ERROR:"will-send-fatal-error",WILL_SEND_STOP:"will-send-stop",WILL_SEND_PING:"will-send-ping",WILL_SEND_VIDEO_EVENT:"will-send-video-event",WILL_SEND_AD_START:"will-send-ad-start",WILL_SEND_AD_JOIN:"will-send-ad-join",WILL_SEND_AD_PAUSE:"will-send-ad-pause",WILL_SEND_AD_RESUME:"will-send-ad-resume",WILL_SEND_AD_BUFFER:"will-send-ad-buffer",WILL_SEND_AD_STOP:"will-send-ad-stop",WILL_SEND_AD_CLICK:"will-send-ad-click",WILL_SEND_AD_ERROR:"will-send-ad-error",WILL_SEND_AD_MANIFEST:"will-send-ad-manifest",WILL_SEND_AD_POD_START:"will-send-ad-break-start",WILL_SEND_AD_POD_STOP:"will-send-ad-break-stop",WILL_SEND_AD_QUARTILE:"will-send-ad-quartile",WILL_SEND_SESSION_START:"will-send-session-start",WILL_SEND_SESSION_STOP:"will-send-session-stop",WILL_SEND_NAV:"will-send-nav",WILL_SEND_BEAT:"will-send-beat",WILL_SEND_EVENT:"will-send-event",WILL_SEND_OFFLINE_EVENTS:"will-send-offline-events"}},533:function(t,e,r){var n=r(4443).extend({constructor:function(t){this.plugin=t,this.isInBackground=!1,this.listenerReference=this._visibilityListener.bind(this),this._reset()},startDetection:function(){this.isBackgroundDetectorStarted||"undefined"==typeof document||(this.isBackgroundDetectorStarted=!0,document.addEventListener("visibilitychange",this.listenerReference))},stopDetection:function(){this.isBackgroundDetectorStarted&&"undefined"!=typeof document&&(document.removeEventListener("visibilitychange",this.listenerReference),this._reset())},_reset:function(){this.isBackgroundDetectorStarted=!1},_visibilityListener:function(t){if("undefined"!=typeof document){var e=this._getSettings();"hidden"===document.visibilityState?this._toBackground(e):"visible"===document.visibilityState&&this._toForeground(e)}},_toBackground:function(t){if(this.isInBackground=!0,this.plugin&&this.plugin._adsAdapter&&this.plugin._adsAdapter.stopChronoView(),"string"==typeof t){switch(t){case"stop":this._fireStop();break;case"pause":this._firePause()}if(this.plugin.infinity.infinityStarted){this.lastBeatTime=(new Date).getTime();var e=this.plugin._beat.chrono.startTime?this.lastBeatTime-this.plugin._beat.chrono.startTime:0;this.plugin._sendBeat(e),this.plugin._beat.stop()}}},_toForeground:function(t){if(this.isInBackground=!1,this.plugin&&this.plugin._adsAdapter&&this.plugin._adsAdapter.startChronoView(),"string"==typeof t&&t&&this.plugin.infinity.infinityStarted){var e=(new Date).getTime();e-this.lastBeatTime<this.plugin.sessionExpire?(this.plugin._sendBeat(e-this.lastBeatTime),this.plugin._beat.start()):this.plugin.infinity.newSession()}},_getSettings:function(){return"string"==typeof this.plugin.options["background.settings"]&&this.plugin.options["background.settings"]?this.plugin.options["background.settings"]:this.plugin.deviceDetector.isSmartTV()?this.plugin.options["background.settings.tv"]:this.plugin.deviceDetector.isDesktop()?this.plugin.options["background.settings.desktop"]:this.plugin.deviceDetector.isAndroid()?this.plugin.options["background.settings.android"]:this.plugin.deviceDetector.isIphone()?this.plugin.options["background.settings.iOS"]:this.plugin.deviceDetector.isPlayStation()?this.plugin.options["background.settings.playstation"]:void 0},_firePause:function(){this._fireX("firePause")},_fireStop:function(){this._fireX("fireStop"),this.plugin.fireStop()},_fireX:function(t){this.adsAdapter=this.plugin.getAdsAdapter(),this.adsAdapter&&this.adsAdapter[t](),this.contentAdapter=this.plugin.getAdapter(),this.contentAdapter&&this.contentAdapter[t]()},canBlockStartCalls:function(){return this.isInBackground&&!0===this.plugin.options["background.enabled"]&&this._getSettings()}});t.exports=n},1605:function(t,e,r){var n=r(4443).extend({constructor:function(){"undefined"!=typeof navigator&&navigator.userAgent&&(this._isSmartTVDevice=navigator.userAgent.toLowerCase().match(/smarttv/)||navigator.userAgent.toLowerCase().match(/smart-tv/)||navigator.userAgent.toLowerCase().match(/appletv/)||navigator.userAgent.toLowerCase().match(/apple tv/),this._isPlaystationDevice=null!==navigator.userAgent.match(/PlayStation/),this._isIphoneDevice=null!==navigator.userAgent.match(/iPhone|iPad|iPod/i),this._isAndroidDevice=null!==navigator.userAgent.match(/Android/),this._isSmartphoneDevice=!this._isSmartTVDevice&&!this._isPlaystationDevice&&(this._isIphoneDevice||this._isAndroidDevice),this._isDesktopDevice=!this._isSmartphoneDevice&&!this._isSmartTVDevice&&!this._isPlaystationDevice)},isIphone:function(){return this._isIphoneDevice},isAndroid:function(){return this._isAndroidDevice},isSmartphone:function(){return this._isSmartphoneDevice},isDesktop:function(){return this._isDesktopDevice},isSmartTV:function(){return this._isSmartTVDevice},isPlayStation:function(){return this._isPlaystationDevice}});t.exports=n},4015:function(t,e,r){var n=r(4443).extend({constructor:function(t){this.pluginref=t,this.listenerReference=this._changeListener.bind(this),this.loadReference=this._loadListener.bind(this),this.isEnabled=!1,this.pageHeight=0,this.maxHeight=0,this.startDetection()},startDetection:function(){this.isEnabled||"undefined"==typeof window||"function"!=typeof window.addEventListener||(window.addEventListener("scroll",this.listenerReference),window.addEventListener("resize",this.listenerReference),window.addEventListener("load",this.loadReference),this.isEnabled=!0)},stopDetection:function(){this.isEnabled&&"undefined"!=typeof window&&"function"==typeof window.removeEventListener&&(window.removeEventListener("scroll",this.listenerReference),window.removeEventListener("resize",this.listenerReference),window.removeEventListener("load",this.loadReference),this.isEnabled=!1)},getScrollDepth:function(){var t=null;return this.maxHeight&&this.pageHeight&&(t=Math.min(Math.trunc(this.maxHeight/this.pageHeight*100),100)),t},_loadListener:function(){if("undefined"!=typeof document){var t=document.documentElement;t&&(this.pageHeight=Math.round(t.scrollHeight,t.clientHeight,t.offsetHeight),this.maxHeight=window.innerHeight,this._updateCompletionRate())}},_changeListener:function(){if(this.pageHeight){var t=this.maxHeight;this.maxHeight=Math.max(this.maxHeight,window.pageYOffset+window.innerHeight),t!==this.maxHeight&&this._updateCompletionRate()}var e=this.pluginref.getAdsAdapter();e&&e.flags.isStarted&&(e.getIsVisible()?e.startChronoView():e.stopChronoView())},_updateCompletionRate:function(){setTimeout(function(){this.pluginref.storage.setSession("pageScrollDepth",this.getScrollDepth())}.bind(this),3e3)}});t.exports=n},1436:function(t,e,r){var n=r(4443).extend({constructor:function(t){this.plugin=t},getAllData:function(){var t=this.getNonRandomData();return t.timestamp=this.getTimestamp(),t},getNonRandomData:function(){var t={};return t.userAgent=this.getUserAgent(),t.threads=this.getVirtualCores(),t.language=this.getLanguage(),t.langList=this.getAvailableLanguages(),t.resolution=this.getResolution(),t.colorDepth=this.getColorDepth(),t.deviceMemory=this.getMemory(),t.touchscreen=this.getTouchscreen(),t.localStorage=this.getLocalStorage(),t.sessionStorage=this.getSessionStorage(),t.cookiesAvailable=this.getCookiesAvailable(),t.flashAvailable=this.getHasFlash(),t.timeZone=this.getTimeZone(),t.plugins=this.getPluginList(),t},getUserAgent:function(){return this._getNavigatorValue("userAgent")},getVirtualCores:function(){return this._getNavigatorValue("hardwareConcurrency")},getLanguage:function(){return this._getNavigatorValue("language")},getAvailableLanguages:function(){return this._getNavigatorValue("languages")},getResolution:function(){var t=null;try{this._getNavigatorValue("screen")&&(t=navigator.screen.width.toString()+navigator.screen.height.toString())}catch(t){}return t},getColorDepth:function(){var t=null;try{this._getNavigatorValue("screen")&&(t=navigator.screen.colorDepth)}catch(t){}return t},getMemory:function(){return this._getNavigatorValue("deviceMemory")},getTouchscreen:function(){return this._getNavigatorValue("maxTouchPoints")||!1},getLocalStorage:function(){var t=!1;try{t="undefined"!=typeof localStorage}catch(t){}return t},getSessionStorage:function(){var t=!1;try{t="undefined"!=typeof sessionStorage}catch(t){}return t},getCookiesAvailable:function(){return this._getNavigatorValue("cookieEnabled")||!1},getHasFlash:function(){var t=!1;try{var e=this._getNavigatorValue("plugins");t=e&&"object"==typeof e["Shockwave Flash"]||"undefined"!=typeof window&&window.ActiveXObject&&!1!==new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){}return t},getPluginList:function(){var t=null;try{var e=this._getNavigatorValue("plugins");if(e&&0!==e.length){for(var r="",n=0;n<navigator.plugins.length;n++)r+=navigator.plugins[n].description+" "+navigator.plugins[n].filename+" "+navigator.plugins[n].name+" ";t=r}}catch(t){}return t},getTimeZone:function(){var t=null;try{t=(new Date).getTimezoneOffset().toString()}catch(t){}return t},getTimestamp:function(){return(new Date).getTime()},_navigatorCheck:function(){return"undefined"!=typeof navigator},_getNavigatorValue:function(t){var e=null;try{this._navigatorCheck()&&(e=navigator[t])}catch(t){}return e}});t.exports=n},3152:function(t,e,r){var n=r(1436),i=r(4443),s=r(1384),o=i.extend({constructor:function(t){this.plugin=t,this.dataExtractor=new n,this.key=this.getPreviousKey()},generateHashKey:function(){if(!this.key){var t=this.dataExtractor.getAllData();this.key=this._hashFunction(t),this.plugin.storage.setLocal("youboraDeviceUUID",this.key)}},getKey:function(){return this.key||this.generateHashKey(),this.key},_hashFunction:function(t){var e=t;return"string"!=typeof t&&(e=JSON.stringify(t)),s(e)},_reset:function(){this.key=void 0},getPreviousKey:function(){return this.plugin.storage.getLocal("youboraDeviceUUID")}});t.exports=o},1384:function(t){t.exports=function(t){function e(t,e){return t<<e|t>>>32-e}function r(t,e){var r,n,i,s,o;return i=2147483648&t,s=2147483648&e,o=(1073741823&t)+(1073741823&e),(r=1073741824&t)&(n=1073741824&e)?2147483648^o^i^s:r|n?1073741824&o?3221225472^o^i^s:1073741824^o^i^s:o^i^s}function n(t,n,i,s,o,a,l){return t=r(t,r(r(function(t,e,r){return t&e|~t&r}(n,i,s),o),l)),r(e(t,a),n)}function i(t,n,i,s,o,a,l){return t=r(t,r(r(function(t,e,r){return t&r|e&~r}(n,i,s),o),l)),r(e(t,a),n)}function s(t,n,i,s,o,a,l){return t=r(t,r(r(function(t,e,r){return t^e^r}(n,i,s),o),l)),r(e(t,a),n)}function o(t,n,i,s,o,a,l){return t=r(t,r(r(function(t,e,r){return e^(t|~r)}(n,i,s),o),l)),r(e(t,a),n)}function a(t){var e,r="",n="";for(e=0;e<=3;e++)r+=(n="0"+(t>>>8*e&255).toString(16)).substr(n.length-2,2);return r}var l,u,c,h,p,f,d,g,v,m=Array();for(m=function(t){for(var e,r=t.length,n=r+8,i=16*((n-n%64)/64+1),s=Array(i-1),o=0,a=0;a<r;)o=a%4*8,s[e=(a-a%4)/4]=s[e]|t.charCodeAt(a)<<o,a++;return o=a%4*8,s[e=(a-a%4)/4]=s[e]|128<<o,s[i-2]=r<<3,s[i-1]=r>>>29,s}(t=function(t){t=t.replace(/rn/g,"n");for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e+=String.fromCharCode(n):n>127&&n<2048?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e}(t)),f=1732584193,d=4023233417,g=2562383102,v=271733878,l=0;l<m.length;l+=16)u=f,c=d,h=g,p=v,f=n(f,d,g,v,m[l+0],7,3614090360),v=n(v,f,d,g,m[l+1],12,3905402710),g=n(g,v,f,d,m[l+2],17,606105819),d=n(d,g,v,f,m[l+3],22,3250441966),f=n(f,d,g,v,m[l+4],7,4118548399),v=n(v,f,d,g,m[l+5],12,1200080426),g=n(g,v,f,d,m[l+6],17,2821735955),d=n(d,g,v,f,m[l+7],22,4249261313),f=n(f,d,g,v,m[l+8],7,1770035416),v=n(v,f,d,g,m[l+9],12,2336552879),g=n(g,v,f,d,m[l+10],17,4294925233),d=n(d,g,v,f,m[l+11],22,2304563134),f=n(f,d,g,v,m[l+12],7,1804603682),v=n(v,f,d,g,m[l+13],12,4254626195),g=n(g,v,f,d,m[l+14],17,2792965006),f=i(f,d=n(d,g,v,f,m[l+15],22,1236535329),g,v,m[l+1],5,4129170786),v=i(v,f,d,g,m[l+6],9,3225465664),g=i(g,v,f,d,m[l+11],14,643717713),d=i(d,g,v,f,m[l+0],20,3921069994),f=i(f,d,g,v,m[l+5],5,3593408605),v=i(v,f,d,g,m[l+10],9,38016083),g=i(g,v,f,d,m[l+15],14,3634488961),d=i(d,g,v,f,m[l+4],20,3889429448),f=i(f,d,g,v,m[l+9],5,568446438),v=i(v,f,d,g,m[l+14],9,3275163606),g=i(g,v,f,d,m[l+3],14,4107603335),d=i(d,g,v,f,m[l+8],20,1163531501),f=i(f,d,g,v,m[l+13],5,2850285829),v=i(v,f,d,g,m[l+2],9,4243563512),g=i(g,v,f,d,m[l+7],14,1735328473),f=s(f,d=i(d,g,v,f,m[l+12],20,2368359562),g,v,m[l+5],4,4294588738),v=s(v,f,d,g,m[l+8],11,2272392833),g=s(g,v,f,d,m[l+11],16,1839030562),d=s(d,g,v,f,m[l+14],23,4259657740),f=s(f,d,g,v,m[l+1],4,2763975236),v=s(v,f,d,g,m[l+4],11,1272893353),g=s(g,v,f,d,m[l+7],16,4139469664),d=s(d,g,v,f,m[l+10],23,3200236656),f=s(f,d,g,v,m[l+13],4,681279174),v=s(v,f,d,g,m[l+0],11,3936430074),g=s(g,v,f,d,m[l+3],16,3572445317),d=s(d,g,v,f,m[l+6],23,76029189),f=s(f,d,g,v,m[l+9],4,3654602809),v=s(v,f,d,g,m[l+12],11,3873151461),g=s(g,v,f,d,m[l+15],16,530742520),f=o(f,d=s(d,g,v,f,m[l+2],23,3299628645),g,v,m[l+0],6,4096336452),v=o(v,f,d,g,m[l+7],10,1126891415),g=o(g,v,f,d,m[l+14],15,2878612391),d=o(d,g,v,f,m[l+5],21,4237533241),f=o(f,d,g,v,m[l+12],6,1700485571),v=o(v,f,d,g,m[l+3],10,2399980690),g=o(g,v,f,d,m[l+10],15,4293915773),d=o(d,g,v,f,m[l+1],21,2240044497),f=o(f,d,g,v,m[l+8],6,1873313359),v=o(v,f,d,g,m[l+15],10,4264355552),g=o(g,v,f,d,m[l+6],15,2734768916),d=o(d,g,v,f,m[l+13],21,1309151649),f=o(f,d,g,v,m[l+4],6,4149444226),v=o(v,f,d,g,m[l+11],10,3174756917),g=o(g,v,f,d,m[l+2],15,718787259),d=o(d,g,v,f,m[l+9],21,3951481745),f=r(f,u),d=r(d,c),g=r(g,h),v=r(v,p);return(a(f)+a(d)+a(g)+a(v)).toLowerCase()}},8963:function(t,e,r){var n=r(4443),i=r(5417),s=n.extend({on:function(t,e){if(this._listeners=this._listeners||{},"function"==typeof e)return this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e),this},off:function(t,e){if(this._listeners=this._listeners||{},this._listeners[t]){var r=this._listeners[t].indexOf(e);-1!==r&&this._listeners[t].splice(r,1)}return this},emit:function(t,e){return this._listeners=this._listeners||{},e=e||{},i(this._listeners[t])&&this._listeners[t].forEach(this._eachCallback.bind(this,t,e)),i(this._listeners["*"])&&this._listeners["*"].forEach(this._eachCallback.bind(this,t,e)),this},_eachCallback:function(t,e,r){"function"==typeof r&&r({type:t,data:e,target:this})}});t.exports=s},2248:function(t,e,r){var n=r(8963),i=r(6550),s=r(9061),o=r(4492),a=n.extend({constructor:function(t){this._plugin=t},andBeyond:function(){a.prototype.begin.apply(this,arguments)},begin:function(t){this._comm=new i(this._plugin),this._comm.addTransform(this._plugin.viewTransform),this._comm.addTransform(new s(this._plugin)),this._plugin&&this._plugin.storage&&"function"==typeof this._plugin.storage.getLocal&&(this._registeredProperties=this._plugin.storage.getLocal("inifnityRegisteredProperties"));var e=this._plugin.storage.getLocal("infinityStarted");this._plugin.getIsSessionExpired()||"false"===e||!e?this.fireSessionStart(t):(this.fireNav(t),this._sendExtraBeat())},_generateNewContext:function(){var t=null;try{t=btoa((new Date).getTime())}catch(e){t="Default"}this._plugin.storage.setSession("context",t)},_setLastActive:function(){this._firstActive||(this._firstActive=this.getFirstActive()),this._plugin.storage.setStorages("lastactive",(new Date).getTime())},getFirstActive:function(){return Number(this._plugin.getLastActive())||0},getComm:function(){return this._comm},fireSessionStart:function(t){this.infinityStarted||(this._plugin.storage.setLocal("infinityStarted","true"),this.infinityStarted=!0,this._generateNewContext(),this.emit(a.Event.SESSION_START,this._getParamsJson(t,null,null,!0,!0)),this._setLastActive())},fireSessionStop:function(t){this.infinityStarted&&(this.infinityStarted=!1,this._plugin.storage.removeStorages("infinityStarted"),this.emit(a.Event.SESSION_STOP,t),this._plugin.storage.removeStorages("data"),this._plugin.storage.removeStorages("session"),this._plugin.storage.removeStorages("lastactive"))},newSession:function(t,e){this.isActive()&&(this.fireSessionStop(),this._plugin.storage.removeStorages("infinityStarted"),this._plugin.storage.removeStorages("data"),this._comm&&this._comm.removeTransform(this._plugin.viewTransform),this._plugin.restartViewTransform(),this._comm&&this._comm.addTransform(this._plugin.viewTransform)),this._plugin.setOptions(t),this.begin(e)},fireNav:function(t){this.isActive()&&(this._plugin.getContext()||this._generateNewContext(),this.infinityStarted=!0,this.emit(a.Event.NAV,this._getParamsJson(t,null,null,!0)))},_sendExtraBeat:function(){if(this._plugin&&this._plugin._beat){var t=(new Date).getTime(),e=this._plugin._beat.chrono.startTime?t-this._plugin._beat.chrono.startTime:0;this._plugin._sendBeat(e),this._plugin._beat.chrono.startTime=t}this._setLastActive()},fireEvent:function(t,e,r,n){if(this.infinityStarted){var i=this._getParamsJson(e,r,t);o.assign(i.params,n||{}),this.emit(a.Event.EVENT,i),this._setLastActive()}},register:function(t,e){this._registeredProperties={dimensions:t,values:e},this._plugin.storage.setLocal("inifnityRegisteredProperties",JSON.stringify(this._registeredProperties))},registerOnce:function(t,e){this._registeredProperties||this.register(t,e)},unregister:function(){this._registeredProperties=null,this._plugin.storage.removeLocal("inifnityRegisteredProperties")},_getParamsJson:function(t,e,r,n,i){var s={};if(r&&(s.name=r),s.dimensions=t||{},s.values=e||{},this._registeredProperties){for(var o in this._registeredProperties.dimensions)s.dimensions[o]=this._registeredProperties.dimensions[o];for(var a in this._registeredProperties.values)s.values[a]=this._registeredProperties.values[a]}var l={params:s};return n&&(l.params.dimensions.page&&(l.params.page=l.params.dimensions.page,delete l.params.dimensions.page),l.params.dimensions.route&&(l.params.route=l.params.dimensions.route,delete l.params.dimensions.route),i||delete l.params.dimensions,delete l.params.values),l},isActive:function(){var t=this._plugin.storage.getLocal("infinityStarted");if(this.infinityStarted||t&&"false"!==t)return!0;var e=(new Date).getTime();return Number(this._plugin.getLastActive())+this._plugin.sessionExpire>e}},{Event:{NAV:"nav",SESSION_START:"sessionStart",SESSION_STOP:"sessionStop",BEAT:"beat",EVENT:"event"}});t.exports=a},9467:function(t,e,r){var n=r(8963),i=r(5417),s={_emitter:new n,on:function(){s._emitter.on.apply(s._emitter,arguments)},off:function(){s._emitter.off.apply(s._emitter,arguments)},emit:function(){s._emitter.emit.apply(s._emitter,arguments)},Level:{SILENT:6,ERROR:5,WARNING:4,NOTICE:3,DEBUG:2,VERBOSE:1},Event:{LOG:"log"},logLevel:5,plainLogs:!1,report:function(t,e,r){if("undefined"!=typeof console&&console.log&&"undefined"!=typeof document){r=r||"darkcyan";var n,o={5:"e",4:"w",3:"n",2:"d",1:"v"}[e=e||s.Level.NOTICE],a="[Youbora]"+s._getCurrentTime()+" "+o+":";this.emit("log",{level:e,msg:t,prefix:a}),s.logLevel<=e&&(s.plainLogs||document.documentMode?s._plainReport(t,a):(n=e===s.Level.ERROR&&console.error?console.error:e===s.Level.WARNING&&console.warn?console.warn:e===s.Level.DEBUG&&console.debug?console.debug:console.log,a="%c"+a,i(t)?(t.splice(0,0,a,"color: "+r),n.apply(console,t)):n.call(console,a,"color: "+r,t)))}},_getCurrentTime:function(){var t=new Date;return"["+("0"+t.getDate()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+("00"+t.getMilliseconds()).slice(-3)+"]"},_plainReport:function(t,e){if(t instanceof Array)for(var r in t)s._plainReport(t[r],e);else"string"==typeof t?console.log(e+" "+t):(console.log(e+" <next line>"),console.log(t))},error:function(){s.report([].slice.call(arguments),s.Level.ERROR,"darkred")},warn:function(){s.report([].slice.call(arguments),s.Level.WARNING,"darkorange")},notice:function(){s.report([].slice.call(arguments),s.Level.NOTICE,"darkgreen")},debug:function(){s.report([].slice.call(arguments),s.Level.DEBUG,"indigo")},verbose:function(){s.report([].slice.call(arguments),s.Level.VERBOSE,"navy")},loadLevelFromUrl:function(){"undefined"!=typeof window&&window.location&&this._parseLevelFromUrl(window.location.search)},_parseLevelFromUrl:function(t){if(t){var e=/\?.*&*youbora-debug=(.+)/i.exec(t);null!==e&&(s.logLevel=e[1]),null!==/\?.*&*youbora-debug=plain/i.exec(t)&&(s.plainLogs=!0)}}};t.exports=s},5451:function(t){t.exports=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}},9510:function(t){var e=function(){};t.exports=function(t){if(arguments.length>1)throw Error("Second argument not supported");if(null===t)throw Error("Cannot set a null [[Prototype]]");if("object"!=typeof t)throw TypeError("Argument must be an object");return e.prototype=t,new e}},5417:function(t){t.exports=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},7579:function(t,e,r){var n=r(4443),i=r(312),s=n.extend({constructor:function(t){if(this.infinity=t.infinity,this.timeObject=null,this.playerSetup=null,this.perfObject=null,this.myTimesObject={},"undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("load",this._windowLoaded.bind(this)),window.performance&&window.performance.timing)){try{"function"==typeof window.performance.getEntriesByType&&(this.perfObject=window.performance)}catch(t){}this.timeObject=window.performance.timing}try{if("function"==typeof PerformanceObserver){var e=new PerformanceObserver(function(t,e){var r=t.getEntries();this.myTimesObject.largestContentfulPaint=r[r.length-1].renderTime}.bind(this));PerformanceObserver.supportedEntryTypes.indexOf("largest-contentful-paint")>-1&&e.observe({entryTypes:["largest-contentful-paint"]})}}catch(t){}},_windowLoaded:function(){this.myTimesObject.onLoad=(new Date).getTime(),this._getEnoughFPS(),setTimeout(this._fireLoadTimesEvent.bind(this),1e3)},_fireLoadTimesEvent:function(){this._getLastMetrics(),this.infinity.fireEvent("loadTimes",{},this._getAllValues())},_getAllValues:function(){var t={PageLoadTime:this.getPageLoadTime(),DNSTime:this.getDnsTime(),TCPTime:this.getTcpTime(),HandshakeTime:this.getHandshakeTime(),DomReadyTime:this.getDomReadyTime(),BackendTime:this.getBackendTime(),FrontendTime:this.getFrontendTime(),VisualReady:this.getTimeToVisuallyReady(),TimeToInteractive:this.getTimeToInteractive(),JsTime:this.getJSTime(),CssTime:this.getCSSTime(),ImageTime:this.getImageTime(),FontTime:this.getFontTime(),AvgReqLatency:this.getAvgReqLatency(),MaxReqLatency:this.getMaxReqLatency(),FirstPaint:this.getFirstPaint(),FirstContentfulPaint:this.getFirstContentfulPaint(),LargestContentfulPaint:this.getLargestContentfulPaint(),SpeedIndex:this.getSpeedIndex()};for(var e in t)null===t[e]||void 0===t[e]||t[e]<0?delete t[e]:t[e]=Math.round(t[e]);return t},getPageLoadTime:function(){var t=null;return this.timeObject&&(t=this.timeObject.loadEventEnd-this.timeObject.navigationStart),t},getPlayerStartupTime:function(){var t=null;return this.timeObject&&this.playerSetup&&(t=this.playerSetup-this.timeObject.navigationStart),t},getDnsTime:function(){var t=null;return this.timeObject&&(t=this.timeObject.domainLookupEnd-this.timeObject.domainLookupStart),t},getTcpTime:function(){var t=null;return this.timeObject&&(t=this.timeObject.connectEnd-this.timeObject.connectStart),t},getHandshakeTime:function(){var t=null;return this.timeObject&&this.timeObject.secureConnectionStart&&(t=this.timeObject.connectEnd-this.timeObject.secureConnectionStart),t},getDomReadyTime:function(){var t=null;return this.timeObject&&(t=this.timeObject.domComplete-this.timeObject.navigationStart),t},getBackendTime:function(){var t=null;return this.timeObject&&(t=this.timeObject.responseStart-this.timeObject.navigationStart),t},getFrontendTime:function(){var t=null;return this.timeObject&&(t=this.myTimesObject.onLoad-this.timeObject.responseStart),t},getTimeToVisuallyReady:function(){var t=this.myTimesObject.firstPaint||0;return this.timeObject?Math.max(t,this.timeObject.domContentLoadedEventEnd-this.timeObject.navigationStart||0):t||null},getTimeToInteractive:function(){if(this.myTimesObject.fps&&this.getTimeToVisuallyReady())return Math.max(this.myTimesObject.fps,this.getTimeToVisuallyReady());setTimeout(function(){this.getTimeToInteractive()}.bind(this),500)},getJSTime:function(){return this._getXTime("script")},getCSSTime:function(){return this._getXTime("css")},getImageTime:function(){return this._getXTime("img")},getFontTime:function(){return this._getXTime("css",[".woff",".otf",".ttf"])},getAvgReqLatency:function(){try{if(this.perfObject&&"function"==typeof this.perfObject.getEntriesByType){var t=0,e=0,r=this.perfObject.getEntriesByType("resource");for(var n in r)r[n].requestStart&&r[n].responseStart&&(e+=r[n].responseStart-r[n].requestStart),t++;return e/t}}catch(t){}return null},getFirstPaint:function(){return this.myTimesObject?this.myTimesObject.firstPaint:null},getFirstContentfulPaint:function(){return this.myTimesObject?this.myTimesObject.firstContentfulPaint:null},getLargestContentfulPaint:function(){return this.myTimesObject?this.myTimesObject.largestContentfulPaint:null},getMaxReqLatency:function(){try{if(this.perfObject&&"function"==typeof this.perfObject.getEntriesByType){var t=this.perfObject.getEntriesByType("resource"),e=0;for(var r in t)t[r].requestStart&&t[r].responseStart&&(e=Math.max(e,t[r].responseStart-t[r].requestStart));return e}}catch(t){}return null},getSpeedIndex:function(){var t=null;if("undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.getEntriesByType)try{t=i()}catch(t){}return t},_getXTime:function(t,e){var r=0;try{if(this.perfObject&&"function"==typeof this.perfObject.getEntriesByType){var n=this.perfObject.getEntriesByType("resource");for(var i in n)if(n[i].initiatorType===t)if(e){var s=!1;for(var o in e)n[i].name.indexOf(e[o]>0)&&(s=!0);s&&(r+=n[i].duration)}else r+=n[i].duration}}catch(t){}return Math.round(r)||null},_getLastMetrics:function(){var t=null,e=null;try{if(this.perfObject&&"function"==typeof this.perfObject.getEntriesByType){var r=this.perfObject.getEntriesByType("paint");for(var n in r)"first-paint"===r[n].name?t=r[n].startTime:"first-contentful-paint"===r[n].name&&(e=r[n].startTime)}}catch(t){}!t&&this.timeObject&&(t=this.timeObject.msFirstPaint-this.timeObject.navigationStart),this.myTimesObject.firstPaint=t,this.myTimesObject.firstContentfulPaint=e,this.getTimeToInteractive()},_getEnoughFPS:function(){if(!this.timeObject||"undefined"==typeof window)return!0;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(){};this.preFPS=(new Date).getTime(),t(function(){var t=(new Date).getTime();t<this.preFPS+50?this.myTimesObject.fps=t-this.timeObject.navigationStart:setTimeout(function(){return this._getEnoughFPS()}.bind(this),50)}.bind(this))},setPlayerSetupTime:function(){this.playerSetup=this.playerSetup||(new Date).getTime()}});t.exports=s},6939:function(t,e,r){var n=r(4443).extend({getCdnTraffic:function(){var t=null;if("undefined"!=typeof CdnBalancerStats&&CdnBalancerStats.cdn)t=CdnBalancerStats.cdn.totalDownloadedBytes;else if("undefined"!=typeof Streamroot)t=this._getStreamrootPeerObject("cdn",!1)||this._getStreamrootInstanceObject("cdnDownload");else if("undefined"!=typeof peer5&&peer5.getStats)t=peer5.getStats().totalHttpDownloaded;else if("undefined"!=typeof teltoo&&teltoo.getStats){var e=teltoo.getStats();t=e.totalReceivedBytes-e.p2pReceivedBytes}return t},getMultiCdnInfo:function(){var t=null;if("undefined"!=typeof CdnBalancerStats&&CdnBalancerStats.cdn&&CdnBalancerStats.cdn.cdns){var e=CdnBalancerStats.p2p;t={P2P:{downloaded_bytes:e.downloadedBytes,uploaded_bytes:e.uploadedBytes,downloaded_chunks:e.downloadedSegments,uploaded_chunks:e.uploadedSegments,errors:e.failedRequests?e.failedRequests.total:0,missed_downloaded_chunks:e.failedRequests?e.failedRequests.absent:0,timeout_errors:e.failedRequests?e.failedRequests.timeout:0,other_errors:e.failedRequests?e.failedRequests.error:0,late_uploaded_chunks:e.discardedUploadedSegments,late_uploaded_bytes:e.discardedUploadedBytes,late_downloaded_bytes:e.discardedDownloadedBytes,time:e.downloadMillis,active_peers:e.activePeers,peers:e.totalPeers}},CdnBalancerStats.cdn.cdns.forEach((function(e){t[e.name]={downloaded_bytes:e.bytes,downloaded_chunks:e.chunks,errors:e.failures,time:e.downloadMillis}}))}return t},getSegmentDuration:function(){return"undefined"!=typeof CdnBalancerStats&&CdnBalancerStats.segmentDuration?CdnBalancerStats.segmentDuration:null},getBalancerResponseId:function(){return"undefined"!=typeof CdnBalancerStats&&CdnBalancerStats.cdn?CdnBalancerStats.cdn.responseUUID:null},getP2PTraffic:function(){var t=null;return"undefined"!=typeof CdnBalancerStats&&CdnBalancerStats.p2p?t=CdnBalancerStats.p2p.downloadedBytes:"undefined"!=typeof Streamroot?t=this._getStreamrootPeerObject("p2p",!0)||this._getStreamrootInstanceObject("dnaDownload"):"undefined"!=typeof peer5&&peer5.getStats?t=peer5.getStats().totalP2PDownloaded:"undefined"!=typeof teltoo&&teltoo.getStats&&(t=teltoo.getStats().p2pReceivedBytes),t},getUploadTraffic:function(){var t=null;return"undefined"!=typeof CdnBalancerStats&&CdnBalancerStats.p2p?t=CdnBalancerStats.p2p.uploadedBytes:"undefined"!=typeof Streamroot?t=this._getStreamrootPeerObject("upload",!0)||this._getStreamrootInstanceObject("dnaUpload"):"undefined"!=typeof peer5&&peer5.getStats&&(t=peer5.getStats().totalP2PUploaded),t},getIsP2PEnabled:function(){var t=!1;if("undefined"!=typeof CdnBalancerStats&&CdnBalancerStats.p2p)t=CdnBalancerStats.p2p.downloadEnabled;else if("undefined"!=typeof Streamroot)if(Streamroot.p2pAvailable&&Streamroot.peerAgents)for(var e in Streamroot.peerAgents)t=t||Streamroot.peerAgents[e].isP2PEnabled;else Streamroot.instances&&Streamroot.instances.forEach((function(e){t=t||e.dnaDownloadEnabled||e.dnaUploadEnabled}));else"undefined"!=typeof peer5&&peer5.isEnabled?t=peer5.isEnabled():"undefined"!=typeof teltoo&&(t=!0);return t},_getStreamrootPeerObject:function(t,e){var r=null;if(Streamroot.p2pAvailable&&Streamroot.peerAgents)for(var n in Streamroot.peerAgents){var i=Streamroot.peerAgents[n];!i.stats||e&&!i.isP2PEnabled||(r+=i.stats[t])}return r},_getStreamrootInstanceObject:function(t){var e=null;return Streamroot.instances&&Streamroot.instances.forEach((function(r){r.stats&&r.stats.currentContent&&(e+=r.stats.currentContent[t])})),e}});t.exports=n},312:function(t){var e=function(t){var r,n,i=(t=t||window).document,s=function(e){var r=!1;if(e.getBoundingClientRect){var n=e.getBoundingClientRect();(r={top:Math.max(n.top,0),left:Math.max(n.left,0),bottom:Math.min(n.bottom,t.innerHeight||i.documentElement.clientHeight),right:Math.min(n.right,t.innerWidth||i.documentElement.clientWidth)}).bottom<=r.top||r.right<=r.left?r=!1:r.area=(r.bottom-r.top)*(r.right-r.left)}return r},o=function(t,e){if(e){var r=s(t);r&&a.push({url:e,area:r.area,rect:r})}},a=[],l=[];try{var u=t.performance.timing.navigationStart;!function(){for(var r=i.getElementsByTagName("*"),n=/url\(.*(http.*)\)/gi,l=0;l<r.length;l++){var u=r[l],c=t.getComputedStyle(u);if("IMG"===u.tagName&&o(u,u.src),c["background-image"]){n.lastIndex=0;var h=n.exec(c["background-image"]);h&&h.length>1&&o(u,h[1].replace('"',""))}if("IFRAME"===u.tagName)try{var p=s(u);if(p){var f=e(u.contentWindow);f&&a.push({tm:f,area:p.area,rect:p})}}catch(t){}}}(),function(){for(var e={},r=t.performance.getEntriesByType("resource"),n=0;n<r.length;n++)e[r[n].name]=r[n].responseEnd;for(var i=0;i<a.length;i++)"tm"in a[i]||(a[i].tm=void 0!==e[a[i].url]?e[a[i].url]:0)}(),function(){"msFirstPaint"in t.performance.timing&&(r=t.performance.timing.msFirstPaint-u);for(var e=t.performance.getEntriesByType("paint"),n=0;n<e.length;n++)"first-paint"===e[n].name&&(r=e[n].startTime);if(void 0===r||r<0||r>12e4){r=t.performance.timing.responseStart-u;for(var s={},o=i.getElementsByTagName("head")[0].children,a=0;a<o.length;a++){var l=o[a];"SCRIPT"===l.tagName&&l.src&&!l.async&&(s[l.src]=!0),"LINK"===l.tagName&&"stylesheet"===l.rel&&l.href&&(s[l.href]=!0)}for(var c=t.performance.getEntriesByType("resource"),h=!1,p=0;p<c.length;p++)if(h||!s[c[p].name]||"script"!==c[p].initiatorType&&"link"!==c[p].initiatorType)h=!0;else{var f=c[p].responseEnd;(void 0===r||f>r)&&(r=f)}}r=Math.max(r,0)}(),function(){for(var e={0:0},n=0,s=0;s<a.length;s++){var o=r;"tm"in a[s]&&a[s].tm>r&&(o=a[s].tm),void 0===e[o]&&(e[o]=0),e[o]+=a[s].area,n+=a[s].area}var u=Math.max(i.documentElement.clientWidth,t.innerWidth||0)*Math.max(i.documentElement.clientHeight,t.innerHeight||0);if(u>0&&(u=.1*Math.max(u-n,0),void 0===e[r]&&(e[r]=0),e[r]+=u,n+=u),n){for(var c in e)e.hasOwnProperty(c)&&l.push({tm:c,area:e[c]});l.sort((function(t,e){return t.tm-e.tm}));for(var h=0,p=0;p<l.length;p++)h+=l[p].area,l[p].progress=h/n}}(),function(){if(l.length){n=0;for(var t=0,e=0,i=0;i<l.length;i++){var s=l[i].tm-t;s>0&&e<1&&(n+=(1-e)*s),t=l[i].tm,e=l[i].progress}}else n=r}()}catch(t){}return n};t.exports=e},4443:function(t,e,r){var n=r(5451),i=r(9510),s=function(){};s.prototype={constructor:function(){}},s.extend=function(t,e){var r,s=this;return r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return s.apply(this,arguments)},n(r,s,e),r.prototype=i(s.prototype),t&&n(r.prototype,t),r.prototype.constructor=r,r.__super__=s.prototype,r},t.exports=s},1022:function(t,e,r){var n=r(4443),i=r(9467),s=n.extend({exists:function(t){return s.Dictionary.hasOwnProperty(t)},getNewName:function(t){var e=s.Dictionary[t];return i.warn('The option "'+t+'" is deprecated, use "'+e+'" instead'),e}},{Dictionary:{httpSecure:"app.https",username:"user.name",anonymousUser:"user.anonymousId",obfuscateIp:"user.obfuscateIp",userType:"user.type","content.title2":"content.program","background.settings.iphone":"background.settings.iOS","parse.hls":"parse.manifest","parse.dash":"parse.manifest","parse.locationHeader":"parse.manifest","extraparam.1":"content.customDimension.1","extraparam.2":"content.customDimension.2","extraparam.3":"content.customDimension.3","extraparam.4":"content.customDimension.4","extraparam.5":"content.customDimension.5","extraparam.6":"content.customDimension.6","extraparam.7":"content.customDimension.7","extraparam.8":"content.customDimension.8","extraparam.9":"content.customDimension.9","extraparam.10":"content.customDimension.10","extraparam.11":"content.customDimension.11","extraparam.12":"content.customDimension.12","extraparam.13":"content.customDimension.13","extraparam.14":"content.customDimension.14","extraparam.15":"content.customDimension.15","extraparam.16":"content.customDimension.16","extraparam.17":"content.customDimension.17","extraparam.18":"content.customDimension.18","extraparam.19":"content.customDimension.19","extraparam.20":"content.customDimension.20","ad.extraparam.1":"ad.customDimension.1","ad.extraparam.2":"ad.customDimension.2","ad.extraparam.3":"ad.customDimension.3","ad.extraparam.4":"ad.customDimension.4","ad.extraparam.5":"ad.customDimension.5","ad.extraparam.6":"ad.customDimension.6","ad.extraparam.7":"ad.customDimension.7","ad.extraparam.8":"ad.customDimension.8","ad.extraparam.9":"ad.customDimension.9","ad.extraparam.10":"ad.customDimension.10"}});t.exports=s},3502:function(t,e,r){var n=r(4443),i=r(2301),s=n.extend({constructor:function(){this.storage=new i("youboraOffline",!0),this.actualView=null,this.viewList=[],this.givenIds=[],this._getOldViewList()},_newView:function(){var t=this._getValidId();this.storage.setLocal(t,""),this.viewList.push(t),this.storage.setLocal("views",this.viewList),this.actualView=t},addEvent:function(t,e){if("/start"===t&&this._newView(),"/init"===t)return null;if(!this.actualView)return null;var r='{"request":"'+t.slice(1)+'",';for(var n in r+='"unixtime":'+Date.now()+",",e){if(void 0===e[n])break;r+='"'+n+'":',"code"===n?r+='"CODE_PLACEHOLDER",':"sessionId"===n?r+='"SESSION_PLACEHOLDER",':"sessionRoot"===n?r+='"ROOT_PLACEHOLDER",':"string"==typeof e[n]?r+='"'+e[n]+'",':"object"==typeof e[n]?r+='"'+JSON.stringify(e[n]).replace(/"/g,'\\"')+'",':r+=e[n]+","}r=r.slice(0,-1),r+="}";var i=this.storage.getLocal(this.actualView);""!==i&&(i+=","),this.storage.setLocal(this.actualView,i+r)},getView:function(){if(this.viewList.length>this.givenIds.length)for(var t=0;;){var e=this.viewList[t];if(this.givenIds.indexOf(e)<0)return this.givenIds.push(e),["["+this.storage.getLocal(e)+"]",e];t++}return[null,null]},removeView:function(t){this.storage.removeLocal(t);var e=this.viewList.indexOf(t);-1!==e&&this.viewList.splice(e,1),-1!==(e=this.givenIds.indexOf(t))&&this.givenIds.splice(e,1),this.storage.setLocal("views",this.viewList.toString()),t===this.actualView&&(this.actualView=null)},_getOldViewList:function(){var t="";this.storage.getLocal("views")?t=this.storage.getLocal("views"):this.storage.setLocal("views",""),""===t?this.viewList=[]:"function"==typeof t.split&&(this.viewList=t.split(","))},_getValidId:function(){var t=Math.floor(1e8*Math.random()).toString();return this.viewList.indexOf(t)>=0?this._getValidId():t},sent:function(){this.givenIds=[]}});t.exports=s},6222:function(t,e,r){var n=r(4443),i=r(1022),s=r(9467),o=r(1004),a=r(4610),l=n.extend({constructor:function(t){this.enabled=!0,this.host="a-fds.youborafds01.com",this.accountCode="nicetest",this.authToken=null,this.authType="Bearer",this.preventZombieViews=!0,this.offline=!1,this.referer=null,this.referral=null,this.disableCookies=!0,this.forceCookies=!1,this.disableStorage=!1,this["user.email"]=null,this["user.type"]=null,this["user.name"]=null,this["user.obfuscateIp"]=!1,this["user.anonymousId"]=null,this["user.privacyProtocol"]=null,this["parse.manifest"]=!1,this["parse.manifest.auth"]={},this["parse.cdnNameHeader"]="x-cdn-forward",this["parse.cdnNodeHeader"]="",this["parse.cdnNode"]=!1,this["parse.cdnNode.list"]=["Akamai","Amazon","Cloudfront","Level3","Fastly","Highwinds","Telefonica","Edgecast","NosOtt"],this["parse.fdsResponseHost"]=null,this["parse.cdnSwitchHeader"]=!1,this["parse.cdnTTL"]=60,this["network.ip"]=null,this["network.isp"]=null,this["network.connectionType"]=null,this["device.id"]=null,this["device.code"]=null,this["device.model"]=null,this["device.brand"]=null,this["device.type"]=null,this["device.name"]=null,this["device.osName"]=null,this["device.osVersion"]=null,this["device.browserName"]=null,this["device.browserVersion"]=null,this["device.browserType"]=null,this["device.browserEngine"]=null,this["device.EDID"]=null,this["device.isAnonymous"]=!1,this["content.transactionCode"]=null,this["content.resource"]=null,this["content.isLive"]=null,this["content.isLive.noSeek"]=!1,this["content.isLive.noMonitor"]=!1,this["content.title"]=null,this["content.program"]=null,this["content.duration"]=null,this["content.fps"]=null,this["content.segmentDuration"]=null,this["content.bitrate"]=null,this["content.totalBytes"]=null,this["content.sendTotalBytes"]=!1,this["content.throughput"]=null,this["content.rendition"]=null,this["content.cdn"]=null,this["content.cdnNode"]=null,this["content.cdnType"]=null,this["content.metadata"]={},this["content.metrics"]={},this["content.streamingProtocol"]=null,this["content.transportFormat"]=null,this["content.package"]=null,this["content.saga"]=null,this["content.tvShow"]=null,this["content.season"]=null,this["content.episodeTitle"]=null,this["content.channel"]=null,this["content.id"]=null,this["content.imdbId"]=null,this["content.gracenoteId"]=null,this["content.type"]=null,this["content.genre"]=null,this["content.language"]=null,this["content.autodetect.language"]=!0,this["content.subtitles"]=null,this["content.autodetect.subtitles"]=!0,this["content.contractedResolution"]=null,this["content.cost"]=null,this["content.price"]=null,this["content.playbackType"]=null,this["content.drm"]=null,this["content.encoding.videoCodec"]=null,this["content.encoding.audioCodec"]=null,this["content.encoding.codecSettings"]=null,this["content.encoding.codecProfile"]=null,this["content.encoding.containerFormat"]=null,this["ad.metadata"]={},this["ad.campaign"]=null,this["ad.creativeId"]=null,this["ad.provider"]=null,this["ad.resource"]=null,this["ad.title"]=null,this["ad.duration"]=null,this["ad.expectedPattern"]=null,this["ad.givenAds"]=null,this["ad.breaksTime"]=null,this["ad.expectedBreaks"]=null,this["ad.givenBreaks"]=null,this["ad.ignore"]=!1,this["ad.blockerDetected"]=null,this["app.name"]=null,this["app.releaseVersion"]=null,this["app.https"]=!1,this["background.enabled"]=!0,this["background.settings"]=null,this["background.settings.android"]="stop",this["background.settings.iOS"]="stop",this["background.settings.desktop"]=null,this["background.settings.tv"]="stop",this["background.settings.playstation"]="stop",this["smartswitch.configCode"]=null,this["smartswitch.groupCode"]=null,this["smartswitch.contractCode"]=null,this["content.customDimensions"]={},this["content.customDimension.1"]=null,this["content.customDimension.2"]=null,this["content.customDimension.3"]=null,this["content.customDimension.4"]=null,this["content.customDimension.5"]=null,this["content.customDimension.6"]=null,this["content.customDimension.7"]=null,this["content.customDimension.8"]=null,this["content.customDimension.9"]=null,this["content.customDimension.10"]=null,this["content.customDimension.11"]=null,this["content.customDimension.12"]=null,this["content.customDimension.13"]=null,this["content.customDimension.14"]=null,this["content.customDimension.15"]=null,this["content.customDimension.16"]=null,this["content.customDimension.17"]=null,this["content.customDimension.18"]=null,this["content.customDimension.19"]=null,this["content.customDimension.20"]=null,this["ad.customDimension.1"]=null,this["ad.customDimension.2"]=null,this["ad.customDimension.3"]=null,this["ad.customDimension.4"]=null,this["ad.customDimension.5"]=null,this["ad.customDimension.6"]=null,this["ad.customDimension.7"]=null,this["ad.customDimension.8"]=null,this["ad.customDimension.9"]=null,this["ad.customDimension.10"]=null,this.forceInit=!1,this["session.metrics"]={},this["session.context"]=!1,this["errors.fatal"]=[],this["errors.nonFatal"]=[],this["errors.ignore"]=[],this.linkedViewId=null,this.waitForMetadata=!1,this.pendingMetadata=[],this.setOptions(t)},setOptions:function(t,e){var r=!1;if(void 0===e){e=this,r=!0;var n=new i}if(void 0!==t)for(var o in t){var a=!1,l=null;r&&(this.hasOwnProperty(o)||(n.exists(o)?(l=n.getNewName(o),a=!0):s.warn('The option "'+o+'" does not exist, so it cannot be set'))),"object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])||"parse.cdnNode.list"!==o?a?e[l]=t[o]:e[o]=t[o]:this.setOptions(t[o],e[o])}},setExtraParams:function(t){if("object"==typeof t&&t.length){for(t.length>=20&&(t=t.slice(0,20));t.length<20;)t.push(null);t.forEach(function(t,e){this["content.customDimension."+(e+1).toString()]=t}.bind(this))}},setCustomDimensions:function(){l.prototype.setExtraParams.apply(this,arguments)},setAdExtraParams:function(t){if("object"==typeof t&&t.length){for(t.length>=10&&(t=t.slice(0,10));t.length<10;)t.push(null);t.forEach(function(t,e){this["ad.customDimension."+(e+1).toString()]=t}.bind(this))}},setAdCustomDimensions:function(){l.prototype.setAdExtraParams.apply(this,arguments)}},{StreamingProtocol:a,TransportFormat:o});t.exports=l},8906:function(t,e,r){var n=r(9467),i=r(4492),s=r(6306),o={getAdPlayerVersion:function(){return this._safeGetterAdsAdapter("getPlayerVersion")||""},getAdPosition:function(){var t=s.AdPosition.Preroll;if(this._adsAdapter)try{var e=this._adsAdapter.getPosition();s.AdPosition.Preroll!==e&&s.AdPosition.Midroll!==e&&s.AdPosition.Postroll!==e||(t=e)}catch(t){n.warn("An error occured while calling getAdPosition",t)}return!t&&this._adapter&&(t=this._adapter.flags.isJoined?s.AdPosition.Midroll:s.AdPosition.Preroll),t},getAdNumber:function(){return this.requestBuilder.lastSent.adNumber||0},getAdNumberInBreak:function(){return this.requestBuilder.lastSent.adNumberInBreak||0},getBreakNumber:function(){return this.requestBuilder.lastSent.breakNumber||0},getAdPlayhead:function(){var t=this._safeGetterAdsAdapter("getPlayhead");return i.parseNumber(t,0)},getAdDuration:function(){var t=this._safeGetterAdsAdapter("getDuration","ad.duration");return i.parseNumber(t,0)},getAdBitrate:function(){var t=this._safeGetterAdsAdapter("getBitrate");return t&&-1!==t||(t=this.getWebkitAdBitrate()),i.parseNumber(t,-1)},getWebkitAdBitrate:function(){if(this._adsAdapter&&this._adsAdapter.tag&&this._adsAdapter.tag.webkitVideoDecodedByteCount){var t=this._adsAdapter.tag.webkitVideoDecodedByteCount;if(this._lastWebkitAdBitrate){var e=this._adsAdapter.tag.webkitVideoDecodedByteCount-this._lastWebkitAdBitrate;t=Math.round(e/this.viewTransform.response.pingTime*8)}return this._lastWebkitAdBitrate=this._adsAdapter.tag.webkitVideoDecodedByteCount,0!==t?t:-1}},getAdTitle:function(){return this._safeGetterAdsAdapter("getTitle","ad.title")},getAdResource:function(){return this._safeGetterAdsAdapter("getResource","ad.resource")},getAdCampaign:function(){return this._safeGetterAdsAdapter("getCampaign","ad.campaign")},getAdCreativeId:function(){return this._safeGetterAdsAdapter("getCreativeId","ad.creativeId")},getAdProvider:function(){return this._safeGetterAdsAdapter("getProvider","ad.provider")},getAdAdapterVersion:function(){return this._safeGetterAdsAdapter("getVersion")},getAdMetadata:function(){return this.options["ad.metadata"]},getAdInsertionType:function(){return this._safeGetterAdsAdapter("getAdInsertionType")},getGivenBreaks:function(){return this._safeGetterAdsAdapter("getGivenBreaks","ad.givenBreaks")},getExpectedBreaks:function(){var t=null,e=this.options["ad.expectedBreaks"],r=this.options["ad.expectedPattern"];if(e)t=e;else if(r)t=0,t=r.pre?r.pre.length:0,t+=r.mid?r.mid.length:0,t+=r.post?r.post.length:0;else if(this._adsAdapter)try{t=this._adsAdapter.getExpectedBreaks()}catch(t){n.warn("An error occured while calling expectedBreaks",t)}return t},getExpectedPattern:function(){return this._safeGetterAdsAdapter("getExpectedPattern","ad.expectedPattern")},getBreaksTime:function(){return this._safeGetterAdsAdapter("getBreaksTime","ad.breaksTime")},getGivenAds:function(){return this._safeGetterAdsAdapter("getGivenAds","ad.givenAds")},getExpectedAds:function(){var t=null;try{if(this._adsAdapter){var e=this.options["ad.expectedPattern"];if(e&&this.getAdPosition()){var r=[];if(e.pre&&(r=r.concat(e.pre)),e.mid&&(r=r.concat(e.mid)),e.post&&(r=r.concat(e.post)),r.length>0){var i=this.requestBuilder.lastSent.breakNumber;i>r.length&&(i=r.length),t=r[i-1]}}else t=this._adsAdapter.getExpectedAds()}}catch(t){n.warn("An error occured while calling expectedAds",t)}return t},getAdsExpected:function(){var t=null;try{t=this.getExpectedPattern()||this.getGivenAds()||!1}catch(t){n.warn("An error occured while calling givenAds or expectedPattern",t)}return t},getAdJoinDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.join.getDeltaTime(!1):-1},getAdBufferDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.buffer.getDeltaTime(!1):-1},getAdPauseDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.pause.getDeltaTime(!1):0},getAdTotalDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.total.getDeltaTime(!1):-1},getAdViewedDuration:function(){return this._getTimeMaxOrAcum(!0)},getAdViewability:function(){return this._getTimeMaxOrAcum()},_getTimeMaxOrAcum:function(t){var e=0;return this._adsAdapter&&this._adsAdapter.chronos.viewedMax.forEach((function(r){t?e+=r.getDeltaTime(!1):e=Math.max(r.getDeltaTime(!1),e)})),e},getAudioEnabled:function(){return this._safeGetterAdsAdapter("getAudioEnabled")},getIsSkippable:function(){return this._safeGetterAdsAdapter("getIsSkippable")},getIsFullscreen:function(){return this._safeGetterAdsAdapter("getIsFullscreen")},_safeGetterAdsAdapter:function(t,e){var r=null;if(e&&this.options[e])r=this.options[e];else try{this._adsAdapter&&"function"==typeof this._adsAdapter[t]&&(r=this._adsAdapter[t]())}catch(e){n.warn("An error occured while calling "+t,e)}return r}};t.exports=o},5326:function(t,e,r){var n=r(9467),i=r(6306),s=r(7129),o=r(4492),a={getAdsAdapter:function(){return this._adsAdapter},setAdsAdapter:function(t){if(t.plugin)n.warn("Adapters can only be added to a single plugin");else for(var e in this.removeAdsAdapter(),t.plugin=this,this._adsAdapter=t,t.setIsAds(!0),this.adsAdapterListeners={},this.adsAdapterListeners[s.Event.START]=this._adStartListener.bind(this),this.adsAdapterListeners[s.Event.JOIN]=this._adJoinListener.bind(this),this.adsAdapterListeners[s.Event.PAUSE]=this._adPauseListener.bind(this),this.adsAdapterListeners[s.Event.RESUME]=this._adResumeListener.bind(this),this.adsAdapterListeners[s.Event.BUFFER_BEGIN]=this._adBufferBeginListener.bind(this),this.adsAdapterListeners[s.Event.BUFFER_END]=this._adBufferEndListener.bind(this),this.adsAdapterListeners[s.Event.STOP]=this._adStopListener.bind(this),this.adsAdapterListeners[s.Event.ERROR]=this._adErrorListener.bind(this),this.adsAdapterListeners[s.Event.CLICK]=this._adClickListener.bind(this),this.adsAdapterListeners[s.Event.MANIFEST]=this._adManifestListener.bind(this),this.adsAdapterListeners[s.Event.PODSTART]=this._adBreakStartListener.bind(this),this.adsAdapterListeners[s.Event.PODSTOP]=this._adBreakStopListener.bind(this),this.adsAdapterListeners[s.Event.QUARTILE]=this._adQuartileListener.bind(this),this.adsAdapterListeners)this._adsAdapter.on(e,this.adsAdapterListeners[e])},removeAdsAdapter:function(){if(this._adsAdapter){if(this._adsAdapter.dispose(),this._adsAdapter.plugin=null,this.adsAdapterListeners){for(var t in this.adsAdapterListeners)this._adsAdapter.off(t,this.adsAdapterListeners[t]);delete this.adsAdapterListeners}this.resizeScrollDetector.stopDetection(),this._adsAdapter=null}},_adStartListener:function(t){this._adapter?(this._adapter.fireBufferEnd(),this._adapter.fireSeekEnd(),this.isInitiated||this._adapter.flags.isStarted||this._adapter.fireStart(),this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset()):this.fireInit(),this._adsAdapter&&(this._adsAdapter.chronos.viewedMax=[]);var e=t.data.params||{};e.adNumber=this.requestBuilder.getNewAdNumber(),(this.getAdResource()||this.getAdTitle())&&"number"==typeof this.getAdDuration()?(this.adStartSent=!0,this._adsAdapter.fireManifest(),this._adsAdapter.fireBreakStart(),e.adNumberInBreak=this.requestBuilder.getNewAdNumberInBreak(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_START,i.Service.AD_START,e)):(this.adInitSent=!0,e.adNumberInBreak=this.requestBuilder.getNewAdNumberInBreak(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_INIT,i.Service.AD_INIT,e))},_adJoinListener:function(t){var e={};o.assign(e,t.data.params||{}),this.adInitSent&&!this.adStartSent&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireBreakStart(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_START,i.Service.AD_START,e)),this._adsAdapter.startChronoView(),this.adConnected&&(this._adsAdapter.chronos.join.startTime=this.adConnectedTime,this._adsAdapter.chronos.total.startTime=this.adConnectedTime,this.adConnectedTime=0,this.adConnected=!1),e=t.data.params||{},this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_JOIN,i.Service.AD_JOIN,e),this.adInitSent=!1,this.adStartSent=!1},_adPauseListener:function(t){var e=t.data.params||{};this._adsAdapter.stopChronoView(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_PAUSE,i.Service.AD_PAUSE,e)},_adResumeListener:function(t){var e=t.data.params||{};this._adsAdapter.startChronoView(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_RESUME,i.Service.AD_RESUME,e)},_adBufferBeginListener:function(t){n.notice("Ad Buffer Begin"),this._adsAdapter.stopChronoView(),this._adsAdapter&&this._adsAdapter.flags.isPaused&&this._adsAdapter.chronos.pause.reset()},_adBufferEndListener:function(t){var e=t.data.params||{};this._adsAdapter.startChronoView(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_BUFFER,i.Service.AD_BUFFER,e)},_adStopListener:function(t){this._adsAdapter.stopChronoView(),this._adsAdapter.flags.reset(),this._totalPrerollsTime=(this._totalPrerollsTime||0)+this._adsAdapter.chronos.total.getDeltaTime();var e=t.data.params||{};if(e.position=this.requestBuilder.lastSent.position,this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_STOP,i.Service.AD_STOP,e),this.requestBuilder.lastSent.position===i.AdPosition.Postroll){var r=this.options["ad.expectedPattern"];this.playedPostrolls++,(this.requestBuilder.lastSent.givenAds&&this.requestBuilder.lastSent.givenAds<=this.playedPostrolls||!this.requestBuilder.lastSent.givenAds&&r&&r.post&&r.post[0]&&r.post[0]<=this.playedPostrolls)&&this.fireStop()}this.adConnected=!0,this.adConnectedTime=(new Date).getTime()},_adErrorListener:function(t){var e=t.data.params||{};return!this._adapter||this._adapter.flags.isStarted||this.isInitiated?this._blockAdError(t.data.params)?null:(this._adsAdapter&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireBreakStart()),this._adsAdapter&&this._adsAdapter.flags.isStarted||(e.adNumber=this.requestBuilder.getNewAdNumber(),e.adNumberInBreak=this.requestBuilder.getNewAdNumberInBreak()),this.isBreakStarted||(e.breakNumber=this.requestBuilder.getNewBreakNumber()),void this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_ERROR,i.Service.AD_ERROR,e)):(this._savedAdError=t,null)},_adSavedError:function(){this._savedAdError&&(this._adErrorListener(this._savedAdError),this._savedAdError=null)},_adSavedManifest:function(){this._savedAdManifest&&(this._adManifestListener(this._savedAdManifest),this._savedAdManifest=null)},_blockAdError:function(t){var e=Date.now();return this._lastAdErrorParams&&this._lastAdErrorParams.errorCode===t.errorCode&&this._lastAdErrorParams.msg===t.msg&&this._lastAdErrorParams.adCreativeId===this.getAdCreativeId()&&this._lastAdErrorTime+5e3>e?(this._lastAdErrorTime=e,!0):(this._lastAdErrorTime=e,this._lastAdErrorParams=t,!1)},_adClickListener:function(t){var e=t.data.params||{};this._adsAdapter.stopChronoView(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_CLICK,i.Service.AD_CLICK,e)},_adManifestListener:function(t){if(!this.isAdsManifestSent){if(this._adapter&&!this._adapter.flags.isStarted&&!this.isInitiated)return this._savedAdManifest=t,null;var e=t.data.params||{};this.isAdsManifestSent=!0,this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_MANIFEST,i.Service.AD_MANIFEST,e)}},_adBreakStartListener:function(t){if(!this.isBreakStarted){this.isBreakStarted=!0,this._adapter&&this._adapter.firePause();var e=t.data.params||{};e.breakNumber=this.requestBuilder.getNewBreakNumber(),this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_POD_START,i.Service.AD_POD_START,e),this.adConnected=!1}},_adBreakStopListener:function(t){if(this.isBreakStarted){this.isBreakStarted=!1;var e=t.data.params||{};e.position=this.requestBuilder.lastSent.position,this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_POD_STOP,i.Service.AD_POD_STOP,e),this.adConnected=!1,this._adapter&&this._adapter.fireResume()}},_adQuartileListener:function(t){var e=t.data.params||{};e.quartile&&this._sendAdEventIfAllowed(i.WillSendEvent.WILL_SEND_AD_QUARTILE,i.Service.AD_QUARTILE,e)},_sendAdEventIfAllowed:function(t,e,r){this.options["ad.ignore"]||this._send(t,e,r),n.notice(e)}};t.exports=a},9167:function(t,e,r){var n=r(9467),i=r(4492),s=r(5963),o=r(1004),a=r(4610),l={getPlayhead:function(){var t=this._safeGetterAdapter("getPlayhead");return i.parseNumber(t,0)},getPlayrate:function(){var t=0;if(this._adapter&&this._adapter.flags&&!this._adapter.flags.isPaused)try{t=this._adapter.getPlayrate()}catch(t){n.warn("An error occured while calling getPlayrate",t)}return t},getFramesPerSecond:function(){return this._safeGetterAdapter("getFramesPerSecond","content.fps")},getSegmentDuration:function(){return this.hybridNetwork.getSegmentDuration()||this._safeGetterAdapter("getSegmentDuration","content.segmentDuration")},getDroppedFrames:function(){var t=this._safeGetterAdapter("getDroppedFrames");return t||(t=this.getWebkitDroppedFrames()),i.parseNumber(t,0)},getWebkitDroppedFrames:function(){return this._adapter&&this._adapter.tag&&this._adapter.tag.webkitDroppedFrameCount?this._adapter.tag.webkitDroppedFrameCount:null},getDuration:function(){var t=this._safeGetterAdapter("getDuration","content.duration")||null;return i.parseNumber(Math.round(t),null)},getBitrate:function(){var t=this._safeGetterAdapter("getBitrate","content.bitrate");return t&&-1!==t||(t=this.getWebkitBitrate()),i.parseNumber(t,-1)},getTotalBytes:function(){return this.options["content.sendTotalBytes"]?this._safeGetterAdapter("getTotalBytes","content.totalBytes"):null},getWebkitBitrate:function(){if(this._adapter&&this._adapter.tag&&this._adapter.tag.webkitVideoDecodedByteCount){var t=this._adapter.tag.webkitVideoDecodedByteCount;if(this._lastWebkitBitrate){var e=this._adapter.tag.webkitVideoDecodedByteCount-this._lastWebkitBitrate;t=Math.round(e/this.viewTransform.response.pingTime*8)}return this._lastWebkitBitrate=this._adapter.tag.webkitVideoDecodedByteCount,0!==t?t:-1}},getThroughput:function(){var t=this._safeGetterAdapter("getThroughput","content.throughput");return i.parseNumber(t,-1)},getRendition:function(){return this._safeGetterAdapter("getRendition","content.rendition")},getTitle:function(){return this._safeGetterAdapter("getTitle","content.title")},getTitle2:function(){return this._safeGetterAdapter("getTitle2","content.program")},getIsLive:function(){var t=this.options["content.isLive"];return t||!1===t||(t=this._safeGetterAdapter("getIsLive")||!1),t},getResource:function(){return this._safeGetterAdapter("getResource","content.resource")},getParsedResource:function(){var t=null;return this.resourceTransform.isBlocking()||(t=this.resourceTransform.getResource()),(t=t||this._safeGetterAdapter("getURLToParse"))===this.getResource()?null:t},getTransactionCode:function(){return this.options["content.transactionCode"]},getMetadata:function(){return this.options["content.metadata"]},getPlayerVersion:function(){return this._safeGetterAdapter("getPlayerVersion")||""},getPlayerName:function(){return this._safeGetterAdapter("getPlayerName")||""},getCdn:function(){var t=null;return this.resourceTransform.isBlocking()||(t=this.resourceTransform.getCdnName()),t||this.options["content.cdn"]},getPluginVersion:function(){var t=this.getAdapterVersion();return t||(t=s+"-adapterless-js"),t},getLibVersion:function(){return s},getAdapterVersion:function(){return this._safeGetterAdapter("getVersion")},getCdnTraffic:function(){return this._safeGetterAdapter("getCdnTraffic")||this.hybridNetwork.getCdnTraffic()},getMultiCdnInfo:function(){return this.hybridNetwork.getMultiCdnInfo()},getBalancerResponseId:function(){return this.hybridNetwork.getBalancerResponseId()},getP2PTraffic:function(){return this._safeGetterAdapter("getP2PTraffic")||this.hybridNetwork.getP2PTraffic()},getUploadTraffic:function(){return this._safeGetterAdapter("getUploadTraffic")||this.hybridNetwork.getUploadTraffic()},getIsP2PEnabled:function(){return this._safeGetterAdapter("getIsP2PEnabled")||this.hybridNetwork.getIsP2PEnabled()},getStreamingProtocol:function(){var t=this.options["content.streamingProtocol"];if(t)for(var e in a)if(a[e]===t)return t;return null},getTransportFormat:function(){var t=this.options["content.transportFormat"];if(t||!this.options["parse.manifest"]||this.resourceTransform.isBlocking()||(t=this.resourceTransform.getTransportFormat()),t)for(var e in o)if(o[e]===t)return t;return null},getHouseholdId:function(){return this._safeGetterAdapter("getHouseholdId")},getLatency:function(){return this.getIsLive()?this._safeGetterAdapter("getLatency"):null},getPacketLoss:function(){return this._safeGetterAdapter("getPacketLoss")},getPacketSent:function(){return this._safeGetterAdapter("getPacketSent")},getVideoMetrics:function(){return i.getMetricsFrom(this._adapter?this._adapter.getMetrics():null,this.options["content.metrics"])},getPlayerStartupTime:function(){return this.browserLoadTimes.getPlayerStartupTime()},getJoinDuration:function(){return this._adapter?this._adapter.chronos.join.getDeltaTime(!1):-1},getBufferDuration:function(){return this._adapter?this._adapter.chronos.buffer.getDeltaTime(!1):-1},getSeekDuration:function(){return this._adapter?this._adapter.chronos.seek.getDeltaTime(!1):-1},getPauseDuration:function(){return this._adapter?this._adapter.chronos.pause.getDeltaTime(!1):0},getPackage:function(){return this.options["content.package"]},getSaga:function(){return this.options["content.saga"]},getTvShow:function(){return this.options["content.tvShow"]},getSeason:function(){return this.options["content.season"]},getEpisodeTitle:function(){return this.options["content.episodeTitle"]},getChannel:function(){return this.options["content.channel"]},getID:function(){return this.options["content.id"]},getImdbId:function(){return this.options["content.imdbId"]},getGracenoteID:function(){return this.options["content.gracenoteId"]},getType:function(){return this.options["content.type"]},getGenre:function(){return this.options["content.genre"]},getVideoLanguage:function(){return this.options["content.language"]},getSubtitles:function(){return this.options["content.subtitles"]},getContractedResolution:function(){return this.options["content.contractedResolution"]},getCost:function(){return this.options["content.cost"]},getPrice:function(){return this.options["content.price"]},getPlaybackType:function(){var t=this.options["content.playbackType"];if(!t){var e=this.options["content.isLive"];"boolean"!=typeof e&&(e=this._safeGetterAdapter("getIsLive")),"boolean"==typeof e&&(t=e?"Live":"VoD")}return t},getDRM:function(){return this.options["content.drm"]},getVideoCodec:function(){return this._safeGetterAdapter("getVideoCodec","content.encoding.videoCodec")},getAudioCodec:function(){return this._safeGetterAdapter("getAudioCodec","content.encoding.audioCodec")},getCodecSettings:function(){return this.options["content.encoding.codecSettings"]},getCodecProfile:function(){return this.options["content.encoding.codecProfile"]},getContainerFormat:function(){return this.options["content.encoding.containerFormat"]},getLinkedViewId:function(){return this.options.linkedViewId},_safeGetterAdapter:function(t,e){var r=null;if(e&&this.options[e])r=this.options[e];else try{this._adapter&&"function"==typeof this._adapter[t]&&(r=this._adapter[t]())}catch(e){n.warn("An error occured while calling "+t,e)}return r}};t.exports=l},3135:function(t,e,r){var n=r(9467),i=r(6306),s=r(4492),o=r(7129),a={setAdapter:function(t){if(this.browserLoadTimes&&this.browserLoadTimes.setPlayerSetupTime(),t.plugin)n.warn("Adapters can only be added to a single plugin");else for(var e in this.removeAdapter(),this._adapter=t,t.plugin=this,t.setIsAds(!1),this.contentAdapterListeners={},this.contentAdapterListeners[o.Event.START]=this._startListener.bind(this),this.contentAdapterListeners[o.Event.JOIN]=this._joinListener.bind(this),this.contentAdapterListeners[o.Event.PAUSE]=this._pauseListener.bind(this),this.contentAdapterListeners[o.Event.RESUME]=this._resumeListener.bind(this),this.contentAdapterListeners[o.Event.SEEK_BEGIN]=this._seekBufferBeginListener.bind(this),this.contentAdapterListeners[o.Event.SEEK_END]=this._seekEndListener.bind(this),this.contentAdapterListeners[o.Event.BUFFER_BEGIN]=this._seekBufferBeginListener.bind(this),this.contentAdapterListeners[o.Event.BUFFER_END]=this._bufferEndListener.bind(this),this.contentAdapterListeners[o.Event.ERROR]=this._errorListener.bind(this),this.contentAdapterListeners[o.Event.STOP]=this._stopListener.bind(this),this.contentAdapterListeners[o.Event.VIDEO_EVENT]=this._videoEventListener.bind(this),this.contentAdapterListeners)this._adapter.on(e,this.contentAdapterListeners[e])},getAdapter:function(){return this._adapter},removeAdapter:function(){if(this._adapter){if(this._adapter.dispose(),this._adapter.plugin=null,this.contentAdapterListeners){for(var t in this.contentAdapterListeners)this._adapter.off(t,this.contentAdapterListeners[t]);delete this.contentAdapterListeners}this._adapter=null}},_startListener:function(t){this.isInitiated?0!==this.initChrono.startTime&&(this._adapter.chronos.join.startTime=this.initChrono.startTime):(this.viewTransform.nextView(),this._initComm(),this._startPings());var e=t.data.params||{},r=this.getResource()&&"boolean"==typeof this.getIsLive()&&(this.getIsLive()||"number"==typeof this.getDuration()&&this.getDuration()>0)&&this.getTitle();(r=!this.options.forceInit&&r&&this._isExtraMetadataReady())&&!this.isInitiated?(this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,e),this._adSavedError(),this._adSavedManifest(),n.notice(i.Service.START+" "+(e.title||e.mediaResource)),this.isStarted=!0):this.isInitiated||(this.isInitiated=!0,this._adapter.chronos.join.start(),this._send(i.WillSendEvent.WILL_SEND_INIT,i.Service.INIT,e),this._adSavedError(),this._adSavedManifest(),n.notice(i.Service.INIT+" "+(e.title||e.mediaResource)))},_retryStart:function(t){this._isExtraMetadataReady()&&(this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,{}),this.startDelayed=!1)},_joinListener:function(t){var e={};s.assign(e,t.data.params||{}),this._adsAdapter&&this._adsAdapter.flags.isStarted?(this._adapter.monitor&&this._adapter.monitor.stop(),this._adapter.flags.isJoined=!1,this._adapter.chronos.join.stopTime=0):(this._adapter&&(this._adapter.chronos.join.startTime=Math.min(this._adapter.chronos.join.startTime+(this._totalPrerollsTime||0),(new Date).getTime()),this._totalPrerollsTime=0),this.isInitiated&&!this.isStarted&&(this._isExtraMetadataReady()?this._send(i.WillSendEvent.WILL_SEND_START,i.Service.START,e):this.startDelayed=!0,this._adSavedError(),this._adSavedManifest(),n.notice(i.Service.START+" "+(e.title||e.mediaResource)),this.isStarted=!0),e=t.data.params||{},this._adsAdapter&&this.isBreakStarted&&this._adsAdapter.fireBreakStop(),this._send(i.WillSendEvent.WILL_SEND_JOIN,i.Service.JOIN,e),n.notice(i.Service.JOIN+" "+e.joinDuration+"ms"))},_pauseListener:function(t){this._adapter&&(this._adapter.flags.isBuffering||this._adapter.flags.isSeeking||this._adsAdapter&&this._adsAdapter.flags.isStarted)&&this._adapter.chronos.pause.reset();var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_PAUSE,i.Service.PAUSE,e),n.notice(i.Service.PAUSE+" at "+e.playhead+"s")},_resumeListener:function(t){this._adsAdapter&&this.isBreakStarted&&!this._adsAdapter.flags.isStarted&&this._adsAdapter.fireBreakStop();var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_RESUME,i.Service.RESUME,e),n.notice(i.Service.RESUME+" "+e.pauseDuration+"ms"),this._adapter.chronos.pause.reset()},_seekEndListener:function(t){var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_SEEK,i.Service.SEEK,e),n.notice(i.Service.SEEK+" to "+e.playhead+" in "+e.seekDuration+"ms")},_seekBufferBeginListener:function(t){this._adapter&&this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset(),n.notice(t.type)},_bufferEndListener:function(t){var e=t.data.params||{};this._send(i.WillSendEvent.WILL_SEND_BUFFER,i.Service.BUFFER,e),n.notice(i.Service.BUFFER+" to "+e.playhead+" in "+e.bufferDuration+"ms")},_errorListener:function(t){this._blockError(t.data.params)||(this.fireError(t.data.params||{}),this._adSavedError(),this._adSavedManifest())},_blockError:function(t){var e=Date.now();return this._lastErrorParams&&this._lastErrorParams.errorCode===t.errorCode&&this._lastErrorParams.msg===t.msg&&this._lastErrorTime+5e3>e?(this._lastErrorTime=e,!0):(this._lastErrorTime=e,this._lastErrorParams=t,!1)},_stopListener:function(t){this.fireStop(t.data.params||{})},_isStopReady:function(t){var e=!1;if(!this.requestBuilder.lastSent.live&&this._adsAdapter&&this._adapter&&(!this._adapter.getPlayhead()||this._adapter.getPlayhead()>=this.requestBuilder.lastSent.mediaDuration-1)){var r=0,n=this.options["ad.expectedPattern"];if(n&&n.post&&n.post[0])r=n.post[0];else if(this.requestBuilder.lastSent.breaksTime){if(this.requestBuilder.lastSent.position===i.AdPosition.Postroll&&(r=this.requestBuilder.lastSent.givenAds),!r&&this.requestBuilder.lastSent.breaksTime){var s=this.requestBuilder.lastSent.breaksTime;s.length>0&&this.requestBuilder.lastSent.mediaDuration&&Math.round(s[s.length-1])+1>=this.requestBuilder.lastSent.mediaDuration&&(r=1)}}else e=!0;r<=this.playedPostrolls&&(e=!0)}else e=!0;return e},_videoEventListener:function(t){this._send(i.WillSendEvent.WILL_SEND_VIDEO_EVENT,i.Service.VIDEO_EVENT,t.data.params)},_isExtraMetadataReady:function(t){if(!this.options.waitForMetadata||this.options.pendingMetadata.length<1)return!0;var e=this.requestBuilder.getGetters();return this.options.pendingMetadata.map(function(t){if(e.hasOwnProperty(t))return!!this[e[t]]()}.bind(this)).indexOf(!1)<0}};t.exports=a},8774:function(t,e,r){var n=r(9467),i=r(4492),s=r(6306),o=r(5669),a={fireInit:function(t){this.isInitiated||(!this.getAdapter()||this.getAdapter()&&!this.getAdapter().flags.isStarted)&&(this.viewTransform.nextView(),this._initComm(),this._startPings(),this.initChrono.start(),this.isInitiated=!0,t=t||{},this._send(s.WillSendEvent.WILL_SEND_INIT,s.Service.INIT,t),this._adSavedError(),this._adSavedManifest(),n.notice(s.Service.INIT+" "+(t.title||t.mediaResource)))},fireError:function(t,e,r,o){this.fireInit();var a=i.buildErrorParams(t,e,r,o);a.code&&delete a.code,this._send(s.WillSendEvent.WILL_SEND_ERROR,s.Service.ERROR,a),this._adSavedError(),this._adSavedManifest(),n.notice(s.Service.ERROR+" "+a.errorLevel+" "+a.errorCode),"fatal"===a.errorLevel&&this.fireStop()},fireFatalError:function(t,e,r,n){this.fireError(t,e,r,n),this.fireStop()},fireStop:function(t){if(this.isInitiated||this.isStarted){this._adapter&&(this._adapter.flags.isStopped=!0,this._adapter.monitor&&this._adapter.monitor.stop()),this._adsAdapter&&this.isBreakStarted&&(this._adsAdapter.fireStop(),this._adsAdapter.fireBreakStop()),t=t||{},this._send(s.WillSendEvent.WILL_SEND_STOP,s.Service.STOP,t);var e=this._adapter?this._adapter.chronos:null;e&&(e.total.stop(),e.join.reset(),e.pause.reset(),e.buffer.reset(),e.seek.reset()),n.notice(s.Service.STOP+" at "+t.playhead+"s"),this._reset()}},fireOfflineEvents:function(t){this.options&&!this.options.offline?this.isInitiated||this._adapter&&this._adapter.flags.isStarted||this._adsAdapter&&this._adsAdapter.flags.isStarted?n.error("Adapters have to be stopped"):(this._offlineParams=t,this.viewTransform.response.code&&this.viewTransform.response.host?this._generateAndSendOffline():(this.offlineReference=this._generateAndSendOffline.bind(this),this.viewTransform.on(o.Event.DONE,this.offlineReference))):n.error("To send offline events, offline option must be disabled")},_generateAndSendOffline:function(){if(this.options.disableStorage)return null;var t=this._offlineParams;for(this._initComm();;){var e=this.requestBuilder.buildBody(s.Service.OFFLINE_EVENTS).viewJson;if(null===e[0])break;var r=this.viewTransform.nextView(),n=e[0].replace(/CODE_PLACEHOLDER/g,r.toString()).replace(/,"sessionId":"SESSION_PLACEHOLDER"/g,"").replace(/,"sessionRoot":"ROOT_PLACEHOLDER"/g,"");this._send(s.WillSendEvent.WILL_SEND_OFFLINE_EVENTS,s.Service.OFFLINE_EVENTS,t,n,"POST",function(t,e){this.offlineStorage.removeView(e.offlineId)}.bind(this),{offlineId:e[1]})}this.offlineStorage.sent(),this._offlineParams=null}};t.exports=a},1242:function(t,e,r){var n=r(4492),i=r(5963),s={getHost:function(){var t=this.options.host;return this.viewTransform&&this.viewTransform.response&&this.viewTransform.response.host&&(t=this.viewTransform.response.host),n.addProtocol(n.stripProtocol(t),this.options["app.https"])},getUserType:function(){return this.options["user.type"]},isParseManifest:function(){return this.options["parse.manifest"]},isParseCdnNode:function(){return this.options["parse.cdnNode"]},isCdnSwitch:function(){return this.options["parse.cdnSwitchHeader"]},getParseCdnNodeList:function(){return this.options["parse.cdnNode.list"]},getParseCdnNodeNameHeader:function(){return this.options["parse.cdnNameHeader"]},getParseNodeHeader:function(){return this.options["parse.cdnNodeHeader"]},getObfuscateIp:function(){return this.options["user.obfuscateIp"]},getPrivacyProtocol:function(){var t=this.options["user.privacyProtocol"];return"string"==typeof t&&(t=t.toLowerCase()),"optin"===t||"optout"===t?t:null},getCustomDimensions:function(){var t=this.options["content.customDimensions"];return"object"==typeof t?t:null},getExtraparam1:function(){return this.options["content.customDimension.1"]},getExtraparam2:function(){return this.options["content.customDimension.2"]},getExtraparam3:function(){return this.options["content.customDimension.3"]},getExtraparam4:function(){return this.options["content.customDimension.4"]},getExtraparam5:function(){return this.options["content.customDimension.5"]},getExtraparam6:function(){return this.options["content.customDimension.6"]},getExtraparam7:function(){return this.options["content.customDimension.7"]},getExtraparam8:function(){return this.options["content.customDimension.8"]},getExtraparam9:function(){return this.options["content.customDimension.9"]},getExtraparam10:function(){return this.options["content.customDimension.10"]},getExtraparam11:function(){return this.options["content.customDimension.11"]},getExtraparam12:function(){return this.options["content.customDimension.12"]},getExtraparam13:function(){return this.options["content.customDimension.13"]},getExtraparam14:function(){return this.options["content.customDimension.14"]},getExtraparam15:function(){return this.options["content.customDimension.15"]},getExtraparam16:function(){return this.options["content.customDimension.16"]},getExtraparam17:function(){return this.options["content.customDimension.17"]},getExtraparam18:function(){return this.options["content.customDimension.18"]},getExtraparam19:function(){return this.options["content.customDimension.19"]},getExtraparam20:function(){return this.options["content.customDimension.20"]},getAdExtraparam1:function(){return this.options["ad.customDimension.1"]},getAdExtraparam2:function(){return this.options["ad.customDimension.2"]},getAdExtraparam3:function(){return this.options["ad.customDimension.3"]},getAdExtraparam4:function(){return this.options["ad.customDimension.4"]},getAdExtraparam5:function(){return this.options["ad.customDimension.5"]},getAdExtraparam6:function(){return this.options["ad.customDimension.6"]},getAdExtraparam7:function(){return this.options["ad.customDimension.7"]},getAdExtraparam8:function(){return this.options["ad.customDimension.8"]},getAdExtraparam9:function(){return this.options["ad.customDimension.9"]},getAdExtraparam10:function(){return this.options["ad.customDimension.10"]},getPluginInfo:function(){return{lib:i,adapter:this.getAdapterVersion(),adAdapter:this.getAdAdapterVersion()}},getIp:function(){return this.options["network.ip"]},getIsp:function(){return this.options["network.isp"]},getConnectionType:function(){return this.options["network.connectionType"]},getDeviceInfo:function(){var t={};return this.getDeviceCode()&&(t.deviceCode=this.getDeviceCode()),this.getModel()&&(t.model=this.getModel()),this.getBrand()&&(t.brand=this.getBrand()),this.getDeviceType()&&(t.deviceType=this.getDeviceType()),this.getDeviceName()&&(t.deviceName=this.getDeviceName()),this.getOsName()&&(t.osName=this.getOsName()),this.getOsVersion()&&(t.osVersion=this.getOsVersion()),this.getBrowserName()&&(t.browserName=this.getBrowserName()),this.getBrowserVersion()&&(t.browserVersion=this.getBrowserVersion()),this.getBrowserType()&&(t.browserType=this.getBrowserType()),this.getBrowserEngine()&&(t.browserEngine=this.getBrowserEngine()),t!=={}?t:null},getEDID:function(){var t=this.options["device.EDID"];return t?t.toString():null},getDeviceCode:function(){return this.options["device.code"]},getModel:function(){return this.options["device.model"]},getBrand:function(){return this.options["device.brand"]},getDeviceType:function(){return this.options["device.type"]},getDeviceName:function(){return this.options["device.name"]},getOsName:function(){return this.options["device.osName"]},getOsVersion:function(){return this.options["device.osVersion"]},getBrowserName:function(){return this.options["device.browserName"]},getBrowserVersion:function(){return this.options["device.browserVersion"]},getBrowserType:function(){return this.options["device.browserType"]},getBrowserEngine:function(){return this.options["device.browserEngine"]},getAccountCode:function(){return this.options.accountCode},getUsername:function(){return this.options["user.name"]},getAnonymousUser:function(){return this.options["user.anonymousId"]},getEmail:function(){return this.options["user.email"]},getReferer:function(){var t=this.options.referer||"";return!t&&"undefined"!=typeof window&&window.location&&(t=window.location.href),t},getReferral:function(){var t=this.options.referral||"";return t||"undefined"==typeof document||(t=document.referrer),t},getLanguage:function(){var t=null;return"undefined"!=typeof navigator&&(t=navigator.language),t},getNodeHost:function(){return this.options["content.cdnNode"]||this.resourceTransform.getNodeHost()},getNodeType:function(){return this.options["content.cdnType"]||this.resourceTransform.getNodeType()},getNodeTypeString:function(){return this.resourceTransform.getNodeTypeString()},getRequestNumber:function(){return Math.random()},getOfflineView:function(){var t=null;return this.offlineStorage&&(t=this.offlineStorage.getView()),t},getDeviceUUID:function(){var t=null;return this.options["device.isAnonymous"]||(t=this.options["device.id"]||this.uuidGenerator.getKey()),t},getSmartswitchConfigCode:function(){return this.options["smartswitch.configCode"]},getSmartswitchGroupCode:function(){return this.options["smartswitch.groupCode"]},getSmartswitchContractCode:function(){return this.options["smartswitch.contractCode"]},getAppName:function(){return this.options["app.name"]},getAppReleaseVersion:function(){return this.options["app.releaseVersion"]},getIsBlocked:function(){return this.options["ad.blockerDetected"]}};t.exports=s},2262:function(t,e,r){const n=r(4492);var i={getContext:function(){var t="Default";return this.options["session.context"]&&(t=this.storage.getSession("context")),t},getScrollDepth:function(){var t=this.storage.getSession("pageScrollDepth");return this.storage.removeSession("pageScrollDepth"),t},getSession:function(){var t=this.storage.getStorages("session");if("undefined"===t&&(t=void 0),!t){var e=this.getStoredData();if(e)try{t=JSON.parse(e).q.c}catch(t){}}return t},getStorageHost:function(){var t=null,e=this.getStoredData();if(e)try{t=JSON.parse(e).q.h}catch(t){}return t?n.addProtocol(t,this.options["app.https"]):t},getStoredData:function(){return this.storage.getStorages("data")},getDataTime:function(){return this.storage.getStorages("dataTime")},getLastActive:function(){return this.storage.getStorages("lastactive")},setStoredData:function(t){this.storage.setStorages("data",t)},setSession:function(t){this.storage.setStorages("session",t)},setDataTime:function(t){this.storage.setStorages("dataTime",t)},setLastActive:function(t){this.storage.setStorages("lastactive",t)},getPageName:function(){if("undefined"!=typeof document&&document.title)return document.title},getPageLoadTime:function(){return this.browserLoadTimes.getPageLoadTime()},getIsSessionExpired:function(){var t=(new Date).getTime();return!this.getSession()||this.infinity.getFirstActive()<t-this.sessionExpire},getIsDataExpired:function(){var t=(new Date).getTime();return!this.storage.isEnabled()||!this.getStoredData()||this.infinity.getFirstActive()<t-this.sessionExpire}};t.exports=i},5647:function(t,e,r){var n=r(6306),i=r(9467),s=r(1659),o=r(4492),a=r(2248),l={_initInfinity:function(){this.infinity.on(a.Event.NAV,this._navListener.bind(this)),this.infinity.on(a.Event.SESSION_START,this._sessionStartListener.bind(this)),this.infinity.on(a.Event.SESSION_STOP,this._sessionStopListener.bind(this)),this.infinity.on(a.Event.EVENT,this._eventListener.bind(this))},_sendInfinity:function(t,e,r){var n={params:r=this.requestBuilder.buildParams(r,e),plugin:this,adapter:this.getAdapter(),adsAdapter:this.getAdsAdapter()};this.emit(t,n),this.infinity._comm&&null!==r&&this.options.enabled&&(this.lastServeiceSent=e,this.infinity._comm.sendRequest(new s(null,e,r)))},_navListener:function(t){var e=t.data.params||{};this._sendInfinity(n.WillSendEvent.WILL_SEND_NAV,n.Service.NAV,e),this._beat.isRunning||this._beat.start(),i.notice(n.Service.NAV+" "+e.route)},_sessionStartListener:function(t){var e=t.data.params||{};this._sendInfinity(n.WillSendEvent.WILL_SEND_SESSION_START,n.Service.SESSION_START,e),this._beat.isRunning||this._beat.start(),i.notice(n.Service.SESSION_START+" "+e.route)},_sessionStopListener:function(t){var e=t.data.params||{};this._sendInfinity(n.WillSendEvent.WILL_SEND_SESSION_STOP,n.Service.SESSION_STOP,e),this._beat.isRunning&&this._beat.stop(),i.notice(n.Service.SESSION_STOP+" "+e.route)},_eventListener:function(t){var e=t.data.params||{};this._sendInfinity(n.WillSendEvent.WILL_SEND_EVENT,n.Service.EVENT,e),i.notice(n.Service.EVENT+" "+e.name)},_sendBeat:function(t){var e={diffTime:t};this._sendInfinity(n.WillSendEvent.WILL_SEND_BEAT,n.Service.BEAT,e),this.infinity&&this.infinity._setLastActive(),i.verbose(n.Service.BEAT)},getSessionMetrics:function(){return o.getMetricsFrom(this.options["session.metrics"])}};t.exports=l},9587:function(t,e,r){var n=r(9467),i=r(6306),s={_startPings:function(){this._ping.isRunning||this._ping.start()},_stopPings:function(){this._ping.stop()},_sendPing:function(t){var e={diffTime:t,entities:this.requestBuilder.getChangedEntities()};this._adapter&&(e=this._adapter.flags.isPaused?this.requestBuilder.fetchParams(e,["pauseDuration"]):this.requestBuilder.fetchParams(e,["bitrate","throughput","fps"]),this._adapter.flags.isJoined&&(e=this.requestBuilder.fetchParams(e,["playhead"])),this._adapter.flags.isBuffering&&(e=this.requestBuilder.fetchParams(e,["bufferDuration"])),this._adapter.flags.isSeeking&&(e=this.requestBuilder.fetchParams(e,["seekDuration"]))),this._adsAdapter&&!this.options["ad.ignore"]&&(this._adsAdapter.flags.isStarted&&(e=this.requestBuilder.fetchParams(e,["adPlayhead","adViewedDuration","adViewability"]),e=this._adsAdapter.flags.isPaused?this.requestBuilder.fetchParams(e,["adPauseDuration"]):this.requestBuilder.fetchParams(e,["adBitrate"])),this._adsAdapter.flags.isBuffering&&(e=this.requestBuilder.fetchParams(e,["adBufferDuration"]))),this._send(i.WillSendEvent.WILL_SEND_PING,i.Service.PING,e),this.startDelayed&&this._retryStart(),n.verbose(i.Service.PING)}};t.exports=s},2523:function(t,e,r){var n=r(8963),i=r(6638),s=r(477),o=r(6306),a=r(4492),l=r(1659),u=r(6550),c=r(974),h=r(653),p=r(4043),f=r(7660),d=r(6222),g=r(2301),v=r(3502),m=r(4600),y=r(2248),b=r(6939),E=r(7579),w=r(533),A=r(1605),S=r(4015),T=r(3152),I=n.extend({constructor:function(t,e,r){"string"!=typeof e||r||(r=e,e=null),this.storage=new g,this.uuidGenerator=new T(this),this.infinity=new y(this),this.isInitiated=!1,this.isAdsManifestSent=!1,this.playedPostrolls=0,this.isBreakStarted=!1,this.initChrono=new s,this.options=new d(t),this.storage=new g(null,this.options.disableCookies,this.options.forceCookies,this.options.disableStorage),this.options.disableStorage||(this.offlineStorage=new v),this._adapter=null,this._adsAdapter=null,this._ping=new i(this._sendPing.bind(this),5e3),this._beat=new i(this._sendBeat.bind(this),3e4),this._refreshData=new i(this._checkOldData.bind(this),36e5),this._refreshData.start(),this.sessionExpire=1e3*Number(this.storage.getLocal("sessionExpire"))||3e5,this.requestBuilder=new m(this),this.resourceTransform=new p(this),this.lastEventTime=null,this.restartViewTransform(r),this._initInfinity(),this.hybridNetwork=new b,this.browserLoadTimes=new E(this),this.deviceDetector=new A,this.backgroundDetector=new w(this),this.resizeScrollDetector=new S(this),this.options["background.enabled"]&&this.backgroundDetector.startDetection(),e&&this.setAdapter(e)},_checkOldData:function(){this._adapter&&this._adapter.flags.isStarted||this.infinity.infinityStarted||this.restartViewTransform()},restartViewTransform:function(t){this.viewTransform=new h(this),this.viewTransform.on(h.Event.DONE,this._receiveData.bind(this)),t?this.viewTransform.setData(t):this.getIsDataExpired()||!this.getStorageHost()||this.storage.getLocal("accCode")!==this.options.accountCode&&this.storage.getSession("accCode")!==this.options.accountCode?(this.storage.removeStorages("data"),this.storage.removeStorages("session"),this.storage.removeLocal("infinityStarted"),this.viewTransform.init()):this.viewTransform.setData(this.getStoredData())},_receiveData:function(t){this._ping.interval=1e3*t.target.response.pingTime,this._beat.interval=1e3*t.target.response.beatTime,this.sessionExpire=1e3*t.target.response.sessionExpire,this.storage.setStorages("data",t.target.response.msg),this.storage.setStorages("dataTime",(new Date).getTime()),this.storage.setStorages("accCode",this.options.accountCode),this.getIsSessionExpired()?(this.viewTransform.setSession(this.viewTransform.response.code),this.storage.setStorages("session",this.viewTransform.response.code),this.storage.setStorages("host",this.viewTransform.response.host)):(this.viewTransform.setSession(this.getSession()),this.viewTransform.setHost(this.getStorageHost()))},_reset:function(){this._stopPings(),this.resourceTransform=new p(this),this._adapter&&this._adapter.flags.reset(),this.isInitiated=!1,this.isStarted=!1,this.startDelayed=!1,this.isAdsManifestSent=!1,this.initChrono.reset(),this._totalPrerollsTime=0,this.requestBuilder.lastSent.breakNumber=0,this.requestBuilder.lastSent.adNumber=0,this._savedAdManifest=null,this._savedAdError=null,this.playedPostrolls=0,this.isBreakStarted=!1},_send:function(t,e,r,n,i,s,a){var u=(new Date).getTime();this.options.preventZombieViews&&this.lastEventTime&&u>this.lastEventTime+6e5&&this.viewTransform.nextView(),this.lastEventTime=e===o.Service.STOP?null:u,r=this.requestBuilder.buildParams(r,e),this.getIsLive()&&(r.mediaDuration=this.options["content.duration"],r.playhead=void 0);var c={params:r,plugin:this,adapter:this.getAdapter(),adsAdapter:this.getAdsAdapter()};if(this.emit(t,c),this._comm&&(null!==r||void 0!==i)&&this.options.enabled){this.lastServeiceSent=e;var h={};void 0!==i&&"GET"!==i&&(h.method=i);var p=new l(null,e,r,h);n&&p.setBody(n),this._comm.sendRequest(p,s,a)}},_initComm:function(){var t=this.getResource();this._adapter&&this._adapter.getURLToParse()&&(t=this._adapter.getURLToParse()),this.resourceTransform.init(t),this._comm=new u,this._comm.addTransform(new c),this._comm.addTransform(this.viewTransform),this.options&&this.options.offline?this._comm.addTransform(new f(this)):this._comm.addTransform(this.resourceTransform)},getComm:function(){return this._comm},setOptions:function(t){t&&(this.options.setOptions(t),"boolean"==typeof t["background.enabled"]&&(t["background.enabled"]?this.backgroundDetector.startDetection():this.backgroundDetector.stopDetection()))},getFastDataConfig:function(){return this.viewTransform.response.msg},disable:function(){this.setOptions({enabled:!1})},enable:function(){this.setOptions({enabled:!0})}},{Event:o.WillSendEvent});a.assign(I.prototype,r(3135)),a.assign(I.prototype,r(1242)),a.assign(I.prototype,r(9167)),a.assign(I.prototype,r(5326)),a.assign(I.prototype,r(8906)),a.assign(I.prototype,r(9587)),a.assign(I.prototype,r(8774)),a.assign(I.prototype,r(5647)),a.assign(I.prototype,r(2262)),t.exports=I},4600:function(t,e,r){var n=r(4443),i=r(9467),s=["accountCode","username","anonymousUser","rendition","deviceInfo","player","title","title2","live","segmentDuration","mediaDuration","mediaResource","parsedResource","transactionCode","properties","cdn","playerVersion","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","dimensions","playerStartupTime","obfuscateIp","privacyProtocol","p2pEnabled","pluginVersion","pluginInfo","isp","connectionType","ip","referer","userType","streamingProtocol","transportFormat","householdId","adsBlocked","adsExpected","deviceUUID","smartswitchConfigCode","smartswitchGroupCode","smartswitchContractCode","libVersion","nodeHost","nodeType","appName","appReleaseVersion","package","saga","tvshow","season","titleEpisode","channel","imdbID","gracenoteID","contentType","genre","contentLanguage","subtitles","cost","price","playbackType","email","drm","videoCodec","audioCodec","codecSettings","codecProfile","containerFormat","contentId","contractedResolution","linkedViewId","edid","cdnBalancerResponseUUID"],o=["player","playhead","adTitle","position","adDuration","adCampaign","adCreativeId","adProvider","adResource","adPlayerVersion","adProperties","adAdapterVersion","adInsertionType","extraparam1","extraparam2","extraparam3","extraparam4","extraparam5","extraparam6","extraparam7","extraparam8","extraparam9","extraparam10","fullscreen","audio","skippable","adNumber","adNumberInBreak","breakNumber"],a=n.extend({constructor:function(t){this._plugin=t,this._adNumber=0,this._adNumberInBreak=0,this.lastSent={}},fetchParams:function(t,e,r){t=t||{},e=e||[];for(var n=0;n<e.length;n++){var s=e[n];if(!t[s]){var o=a.getters[s];if(this._plugin[o]){var l=this._plugin[o]();null===l||r&&this.lastSent[s]===l||(t[s]=l,this.lastSent[s]=l)}else i.warn("Trying to call undefined getter "+s+":"+o)}}return t},getGetters:function(){return a.getters},buildBody:function(t){return this.fetchParams(null,a.bodyParams[t],!1)},buildParams:function(t,e){return t=t||{},this.fetchParams(t,a.params[e],!1),this.fetchParams(t,a.differentParams[e],!0),t},getNewAdNumber:function(){var t=this.lastSent.adNumber;return t&&this.lastSent.position===this._plugin.getAdPosition()?t+=1:t=1,this.lastSent.adNumber=t,t},getNewAdNumberInBreak:function(){return this._adNumberInBreak++,this.lastSent.adNumberInBreak=this._adNumberInBreak,this._adNumberInBreak},getNewBreakNumber:function(){var t=1;return this._adNumberInBreak=0,this.lastSent.breakNumber&&(t=this.lastSent.breakNumber+1),this.lastSent.breakNumber=t,t},getChangedEntities:function(){return this.fetchParams({},a.differentParams.entities,!0)}},{params:{"/data":["system","pluginVersion","requestNumber","username"],"/init":s,"/start":s,"/joinTime":["joinDuration","playhead","bitrate"],"/pause":["playhead"],"/resume":["pauseDuration","playhead"],"/seek":["seekDuration","playhead"],"/bufferUnderrun":["bufferDuration","playhead"],"/error":["player","playhead"].concat(s),"/stop":["bitrate","totalBytes","playhead","pauseDuration","metrics","cdnDownloadedTraffic","multiCdnInfo","p2pDownloadedTraffic","uploadTraffic"],"/infinity/video/event":[],"/adInit":o,"/adStart":o,"/adJoin":["playhead","position","adJoinDuration","adPlayhead","adNumber","adNumberInBreak","breakNumber"],"/adPause":["playhead","position","adPlayhead","adNumber","adNumberInBreak","breakNumber"],"/adResume":["playhead","position","adPlayhead","adPauseDuration","adNumber","adNumberInBreak","breakNumber"],"/adBufferUnderrun":["playhead","position","adPlayhead","adBufferDuration","adNumber","adNumberInBreak","breakNumber"],"/adStop":["playhead","position","adPlayhead","adBitrate","adTotalDuration","pauseDuration","adViewedDuration","adViewability","adNumber","adNumberInBreak","breakNumber"],"/adClick":["playhead","position","adPlayhead","adNumber","adNumberInBreak","breakNumber"],"/adError":["playhead"].concat(o),"/adManifest":["givenBreaks","expectedBreaks","expectedPattern","breaksTime"],"/adBreakStart":["position","givenAds","expectedAds","breakNumber","adInsertionType"],"/adBreakStop":["position","breakNumber"],"/adQuartile":["position","adViewedDuration","adViewability","adNumber","adNumberInBreak","breakNumber"],"/ping":["droppedFrames","playrate","cdnDownloadedTraffic","multiCdnInfo","p2pDownloadedTraffic","uploadTraffic","latency","packetLoss","packetSent","metrics","totalBytes","segmentDuration"],"/infinity/session/start":["accountCode","username","userType","anonymousUser","navContext","route","page","referer","referral","language","deviceInfo","adsBlocked","deviceUUID","libVersion","appName","appReleaseVersion","isp","connectionType","ip","obfuscateIp","privacyProtocol","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","edid"],"/infinity/session/stop":["sessionMetrics"],"/infinity/session/nav":["navContext","route","page","scrollDepth"],"/infinity/session/beat":["sessionMetrics"],"/infinity/session/event":["accountCode","navContext"],"/offlineEvents":{}},bodyParams:{"/offlineEvents":["viewJson"]},differentParams:{entities:["rendition","title","title2","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","cdn","nodeHost","nodeType","nodeTypeString","subtitles","contentLanguage"]},getters:{requestNumber:"getRequestNumber",playhead:"getPlayhead",playrate:"getPlayrate",fps:"getFramesPerSecond",segmentDuration:"getSegmentDuration",droppedFrames:"getDroppedFrames",mediaDuration:"getDuration",bitrate:"getBitrate",totalBytes:"getTotalBytes",throughput:"getThroughput",rendition:"getRendition",title:"getTitle",title2:"getTitle2",live:"getIsLive",mediaResource:"getResource",parsedResource:"getParsedResource",transactionCode:"getTransactionCode",properties:"getMetadata",playerVersion:"getPlayerVersion",player:"getPlayerName",cdn:"getCdn",pluginVersion:"getPluginVersion",libVersion:"getLibVersion",userType:"getUserType",streamingProtocol:"getStreamingProtocol",transportFormat:"getTransportFormat",obfuscateIp:"getObfuscateIp",privacyProtocol:"getPrivacyProtocol",householdId:"getHouseholdId",latency:"getLatency",packetLoss:"getPacketLoss",packetSent:"getPacketSent",metrics:"getVideoMetrics",dimensions:"getCustomDimensions",param1:"getExtraparam1",param2:"getExtraparam2",param3:"getExtraparam3",param4:"getExtraparam4",param5:"getExtraparam5",param6:"getExtraparam6",param7:"getExtraparam7",param8:"getExtraparam8",param9:"getExtraparam9",param10:"getExtraparam10",param11:"getExtraparam11",param12:"getExtraparam12",param13:"getExtraparam13",param14:"getExtraparam14",param15:"getExtraparam15",param16:"getExtraparam16",param17:"getExtraparam17",param18:"getExtraparam18",param19:"getExtraparam19",param20:"getExtraparam20",extraparam1:"getAdExtraparam1",extraparam2:"getAdExtraparam2",extraparam3:"getAdExtraparam3",extraparam4:"getAdExtraparam4",extraparam5:"getAdExtraparam5",extraparam6:"getAdExtraparam6",extraparam7:"getAdExtraparam7",extraparam8:"getAdExtraparam8",extraparam9:"getAdExtraparam9",extraparam10:"getAdExtraparam10",position:"getAdPosition",adNumber:"getAdNumber",adNumberInBreak:"getAdNumberInBreak",breakNumber:"getBreakNumber",adPlayhead:"getAdPlayhead",adDuration:"getAdDuration",adCampaign:"getAdCampaign",adCreativeId:"getAdCreativeId",adBitrate:"getAdBitrate",adTitle:"getAdTitle",adResource:"getAdResource",adPlayerVersion:"getAdPlayerVersion",adProperties:"getAdMetadata",adAdapterVersion:"getAdAdapterVersion",givenBreaks:"getGivenBreaks",expectedBreaks:"getExpectedBreaks",expectedPattern:"getExpectedPattern",breaksTime:"getBreaksTime",givenAds:"getGivenAds",expectedAds:"getExpectedAds",adsExpected:"getAdsExpected",adViewedDuration:"getAdViewedDuration",adViewability:"getAdViewability",fullscreen:"getIsFullscreen",audio:"getAudioEnabled",skippable:"getIsSkippable",adProvider:"getAdProvider",adInsertionType:"getAdInsertionType",pluginInfo:"getPluginInfo",isp:"getIsp",connectionType:"getConnectionType",ip:"getIp",deviceInfo:"getDeviceInfo",edid:"getEDID",system:"getAccountCode",accountCode:"getAccountCode",username:"getUsername",anonymousUser:"getAnonymousUser",joinDuration:"getJoinDuration",bufferDuration:"getBufferDuration",seekDuration:"getSeekDuration",pauseDuration:"getPauseDuration",adJoinDuration:"getAdJoinDuration",adBufferDuration:"getAdBufferDuration",adPauseDuration:"getAdPauseDuration",adTotalDuration:"getAdTotalDuration",referer:"getReferer",referral:"getReferral",language:"getLanguage",nodeHost:"getNodeHost",nodeType:"getNodeType",nodeTypeString:"getNodeTypeString",route:"getReferer",navContext:"getContext",page:"getPageName",playerStartupTime:"getPlayerStartupTime",pageLoadTime:"getPageLoadTime",cdnDownloadedTraffic:"getCdnTraffic",multiCdnInfo:"getMultiCdnInfo",p2pDownloadedTraffic:"getP2PTraffic",p2pEnabled:"getIsP2PEnabled",uploadTraffic:"getUploadTraffic",cdnBalancerResponseUUID:"getBalancerResponseId",viewJson:"getOfflineView",deviceUUID:"getDeviceUUID",sessionMetrics:"getSessionMetrics",scrollDepth:"getScrollDepth",adsBlocked:"getIsBlocked",linkedViewId:"getLinkedViewId",smartswitchConfigCode:"getSmartswitchConfigCode",smartswitchGroupCode:"getSmartswitchGroupCode",smartswitchContractCode:"getSmartswitchContractCode",appName:"getAppName",appReleaseVersion:"getAppReleaseVersion",package:"getPackage",saga:"getSaga",tvshow:"getTvShow",season:"getSeason",titleEpisode:"getEpisodeTitle",channel:"getChannel",drm:"getDRM",videoCodec:"getVideoCodec",audioCodec:"getAudioCodec",codecSettings:"getCodecSettings",codecProfile:"getCodecProfile",containerFormat:"getContainerFormat",contentId:"getID",imdbID:"getImdbId",gracenoteID:"getGracenoteID",contentType:"getType",genre:"getGenre",contentLanguage:"getVideoLanguage",subtitles:"getSubtitles",contractedResolution:"getContractedResolution",cost:"getCost",price:"getPrice",playbackType:"getPlaybackType",email:"getEmail"}});t.exports=a},2301:function(t,e,r){var n=r(4443),i=r(9467),s=n.extend({constructor:function(t,e,r,n){this.prefix=t||"youbora",this.disableCookies=e,this.forceCookies=r,this.disabled=n},isEnabled:function(){if(this.disabled)return!1;var t=!0;if(!this.forceCookies)try{localStorage.setItem(this.prefix+".test","true"),localStorage.removeItem(this.prefix+".test")}catch(e){t=!1}return t},setLocal:function(t,e){if(this.disabled)return null;var r=null;try{r=!this.forceCookies&&("undefined"!=typeof localStorage&&localStorage||this.disableCookies)?localStorage.setItem(this.prefix+"."+t,e):this._setCookie(this.prefix+".local."+t,e)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return r},getLocal:function(t){return this.disabled?null:this._localGetRemove("getItem","_getCookie",t)},removeLocal:function(t){return this.disabled?null:this._localGetRemove("removeItem","_removeCookie",t)},_localGetRemove:function(t,e,r){var n=null;try{n=!this.forceCookies&&("undefined"!=typeof localStorage&&localStorage||this.disableCookies)?localStorage[t](this.prefix+"."+r):this[e](this.prefix+".local."+r)}catch(t){i.error("Youbora Infinity needs localStorage or cookies, not supported by your browser.")}return n},setSession:function(t,e){if(this.disabled)return null;var r=null;try{r=!this.forceCookies&&("undefined"!=typeof sessionStorage&&sessionStorage||this.disableCookies)?sessionStorage.setItem(this.prefix+"."+t,e):this._setCookie(this.prefix+".session."+t,e)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return r},getSession:function(t){return this.disabled?null:this._sessionGetRemove("getItem","_getCookie",t)},removeSession:function(t){return this.disabled?null:this._sessionGetRemove("removeItem","_removeCookie",t)},_sessionGetRemove:function(t,e,r){var n=null;try{n=!this.forceCookies&&("undefined"!=typeof sessionStorage&&sessionStorage||this.disableCookies)?sessionStorage[t](this.prefix+"."+r):this[e](this.prefix+".session."+r)}catch(t){i.error("Youbora Infinity needs sessionStorage or cookies, not supported by your browser.")}return n},getStorages:function(t){return this.getSession(t)||this.getLocal(t)},setStorages:function(t,e){this.setSession(t,e),this.setLocal(t,e)},removeStorages:function(t){this.removeSession(t),this.removeLocal(t)},_setCookie:function(t,e){if("undefined"!=typeof document){var r=";";"undefined"!=typeof location&&(r+="domain="+location.host.split(".").reverse().splice(0,2).reverse().join(".")+";path=/;"),document.cookie=t+"="+e+r}},_getCookie:function(t){if("undefined"!=typeof document)for(var e=t+"=",r=decodeURIComponent(document.cookie).split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null},_removeCookie:function(t){this._setCookie(t,"")}});t.exports=s},3750:function(t){t.exports=function(){Function.prototype.bind=Function.prototype.bind||function(t){var e=Array.prototype.slice,r=this,n=e.call(arguments,1);function i(){var i=r.prototype&&this instanceof r;return r.apply(!i&&t||this,n.concat(e.call(arguments)))}return i.prototype=r.prototype,i},Array.prototype.forEach=Array.prototype.forEach||function(t,e){if("function"!=typeof t)throw new TypeError(t+" is not a function!");for(var r=this.length,n=0;n<r;n++)t.call(e,this[n],n,this)},Math.trunc=Math.trunc||function(t){return isNaN(t)?NaN:t>0?Math.floor(t):Math.ceil(t)}}},6638:function(t,e,r){var n=r(4443),i=r(477),s=n.extend({constructor:function(t,e){this.callback=t,this.interval=e||5e3,this.isRunning=!1,this._timer=null,this.chrono=new i},start:function(){this.isRunning||(this.isRunning=!0,this._setTick())},stop:function(){if(this.isRunning=!1,this._timer)try{clearTimeout(this._timer)}catch(t){"undefined"!=typeof atv&&atv.clearTimeout(this._timer)}},_setTick:function(){this.chrono.start();try{this._timer=setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval)}catch(t){"undefined"!=typeof atv&&(this._timer=atv.setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval))}}});t.exports=s},4492:function(t,e,r){var n=r(9467),i={stripProtocol:function(t){var e=t;try{e=t.replace(/^(.*?:\/\/|\/\/)/i,"")}catch(t){n.warn(t)}return e},addProtocol:function(t,e){var r="http://localhost/";try{r="http://"+t,e||"undefined"!=typeof window&&0===window.location.protocol.indexOf("https")?r="https://"+t:"undefined"!=typeof window&&0===window.location.protocol.indexOf("http")&&(r="//"+t)}catch(t){n.warn(t)}return r},parseNumber:function(t,e){return!isNaN(t)&&t>=0&&t!==1/0&&t!==-1/0&&null!=t?t:e},logAllEvents:function(t,e,r){try{if(n.logLevel<=n.Level.DEBUG){r=r||function(t){n.debug("Event: "+t.type)};var i=["canplay","buffering","waiting","ended","play","playing","pause","resume","error","abort","seek","seeking","seeked","stalled","dispose","loadeddata","loadstart"];e&&(null===e[0]?(e.shift(),i=e):i=i.concat(e));for(var s=0;s<i.length;s++)"function"==typeof t?t.call(window,i[s],r):t.on?t.on(i[s],r):t.addEventListener&&t.addEventListener(i[s],r)}}catch(t){n.error(t)}},buildRenditionString:function(t,e,r){1===arguments.length&&(r=t,t=null,e=null);var n=null;return t&&e&&(n=t+"x"+e),"number"==typeof r&&!isNaN(r)&&r>=1&&(n?n+="@":n="",n+=r<1e3?Math.round(r)+"bps":r<1e6?(r=Math.round(r/1e3))+"Kbps":(r=Math.round(r/1e4)/100)+"Mbps"),n},buildErrorParams:function(t,e,r,n){var i={};return"object"==typeof t&&null!==t?i=t:(i.errorCode=t||"FAILURE",i.msg=e||i.errorCode,i.errorMetadata=r,i.errorLevel=n),i},calculateAdViewability:function(t,e){var r=!0;if("undefined"!=typeof window&&t&&"function"==typeof t.getBoundingClientRect){var n=t.getBoundingClientRect();if(n.top>=window.innerHeight||n.bottom<=0||n.right<=0||n.left>=window.innerWidth)r=!1;else{var i=Math.trunc(n.height*n.width),s=n.top>0?n.top:0,o=n.bottom>window.innerHeight?window.innerHeight:n.bottom,a=n.left>0?n.left:0;r=((n.right>window.innerWidth?window.innerWidth:n.right)-a)*(o-s)*100>i*(e||50)}}return r},getMetricsFrom:function(t,e){var r=t||e;for(var n in r)if("object"!=typeof r[n]||!r[n].value){var i={};i.value=r[n],r[n]=i}return r},assign:r(5451),isArray:r(5417)};t.exports=i},5963:function(t,e,r){t.exports=r(1060).version},2866:function(t,e,r){var n=i,i={noConflict:function(){return i=n,this}};i.VERSION=r(5963),i.polyfills=r(3750),i.polyfills(),i.Object=r(4443),i.Emitter=r(8963),i.Log=r(9467),i.Log.loadLevelFromUrl(),i.Util=r(4492),i.HybridNetwork=r(6939),i.Chrono=r(477),i.Timer=r(6638),i.Constants=r(6306),i.Request=r(1659),i.Communication=r(6550),i.Transform=r(5669),i.ViewTransform=r(653),i.ResourceTransform=r(4043),i.CdnParser=r(5026),i.HlsParser=r(7254),i.DashParser=r(199),i.OfflineParser=r(7660),i.LocationheaderParser=r(4873),i.Options=r(6222),i.Plugin=r(2523),i.Storage=r(2301),i.RequestBuilder=r(4600),i.PlayheadMonitor=r(6466),i.Adapter=r(7129),i.adapters={},i.Infinity=r(2248),i.BackgroundDetector=r(533),i.DeviceDetector=r(1605),i.UUIDGenerator=r(3152),i.registerAdapter=function(t,e){this.adapters[t]=e}.bind(i),i.unregisterAdapter=function(t){this.adapters[t]=null}.bind(i),t.exports=i},7899:function(module,__unused_webpack_exports,__webpack_require__){var a,i;!function(t){function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t){return void 0===t}if(t){var n={},i=t.TraceKit,s=[].slice,o="?";n.noConflict=function(){return t.TraceKit=i,n},n.wrap=function(t){return function(){try{return t.apply(this,arguments)}catch(t){throw n.report(t),t}}},n.report=function(){function r(t,r,i){var s=null;if(!r||n.collectWindowErrors){for(var o in c)if(e(c,o))try{c[o](t,r,i)}catch(t){s=t}if(s)throw s}}function i(t,e,i,s,a){if(p)n.computeStackTrace.augmentStackTraceWithInitialElement(p,e,i,t),o();else if(a)r(n.computeStackTrace(a),!0,a);else{var u={url:e,line:i,column:s};u.func=n.computeStackTrace.guessFunctionName(u.url,u.line),u.context=n.computeStackTrace.gatherContext(u.url,u.line),r({mode:"onerror",message:t,stack:[u]},!0,null)}return!!l&&l.apply(this,arguments)}function s(){!0!==u&&(l=t.onerror,t.onerror=i,u=!0)}function o(){var t=p,e=h;p=null,h=null,r(t,!1,e)}function a(e){if(p){if(h===e)return;o()}var r=n.computeStackTrace(e);throw p=r,h=e,t.setTimeout((function(){h===e&&o()}),r.incomplete?2e3:0),e}var l,u,c=[],h=null,p=null;return a.subscribe=function(t){s(),c.push(t)},a.unsubscribe=function(t){for(var e=c.length-1;e>=0;--e)c[e]===t&&c.splice(e,1)},a}(),n.computeStackTrace=function(){function i(r){if("string"!=typeof r)return[];if(!e(b,r)){var n="",i="";try{i=t.document.domain}catch(t){}var s=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(r);s&&s[2]===i&&(n=function(t){return"string"!=typeof t?[]:""}(r)),b[r]=n?n.split("\n"):[]}return b[r]}function s(t,e){var n,s=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,l="",u=i(t);if(!u.length)return o;for(var c=0;10>c;++c)if(!r(l=u[e-c]+l)){if(n=a.exec(l))return n[1];if(n=s.exec(l))return n[1]}return o}function a(t,e){var s=i(t);if(!s.length)return null;var o=[],a=Math.floor(n.linesOfContext/2),l=a+n.linesOfContext%2,u=Math.max(0,e-a-1),c=Math.min(s.length,e+l-1);e-=1;for(var h=u;c>h;++h)r(s[h])||o.push(s[h]);return o.length>0?o:null}function l(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function u(t){return l(t).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function c(t,e){for(var r,n,s=0,o=e.length;o>s;++s)if((r=i(e[s])).length&&(r=r.join("\n"),n=t.exec(r)))return{url:e[s],line:r.substring(0,n.index).split("\n").length,column:n.index-r.lastIndexOf("\n",n.index)-1};return null}function h(t,e,r){var n,s=i(e),o=new RegExp("\\b"+l(t)+"\\b");return r-=1,s&&s.length>r&&(n=o.exec(s[r]))?n.index:null}function p(e){if(!r(t&&t.document)){for(var n,i,s,o,a=[t.location.href],h=t.document.getElementsByTagName("script"),p=""+e,f=0;f<h.length;++f){var d=h[f];d.src&&a.push(d.src)}if(s=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(p)){var g=s[1]?"\\s+"+s[1]:"",v=s[2].split(",").join("\\s*,\\s*");n=l(s[3]).replace(/;$/,";?"),i=new RegExp("function"+g+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else i=new RegExp(l(p).replace(/\s+/g,"\\s+"));if(o=c(i,a))return o;if(s=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(p)){var m=s[1];if(n=u(s[2]),o=c(i=new RegExp("on"+m+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),a[0]))return o;if(o=c(i=new RegExp(n),a))return o}return null}}function f(t){if(!t.stack)return null;for(var e,n,i=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|webpack|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=t.stack.split("\n"),p=[],f=/^(.*) is undefined$/.exec(t.message),d=0,g=c.length;g>d;++d){if(e=i.exec(c[d])){var v=e[2]&&-1!==e[2].indexOf("native");n={url:v?null:e[2],func:e[1]||o,args:v?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=u.exec(c[d]))n={url:e[2],func:e[1]||o,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=l.exec(c[d])))continue;n={url:e[3],func:e[1]||o,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!n.func&&n.line&&(n.func=s(n.url,n.line)),n.line&&(n.context=a(n.url,n.line)),p.push(n)}return p.length?(p[0]&&p[0].line&&!p[0].column&&f?p[0].column=h(f[1],p[0].url,p[0].line):p[0].column||r(t.columnNumber)||(p[0].column=t.columnNumber+1),{mode:"stack",name:t.name,message:t.message,stack:p}):null}function d(r){var n=r.message.split("\n");if(n.length<4)return null;var o,l=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,h=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,f=[],d=t&&t.document&&t.document.getElementsByTagName("script"),g=[];for(var v in d)e(d,v)&&!d[v].src&&g.push(d[v]);for(var m=2;m<n.length;m+=2){var y=null;if(o=l.exec(n[m]))y={url:o[2],func:o[3],args:[],line:+o[1],column:null};else if(o=h.exec(n[m])){y={url:o[3],func:o[4],args:[],line:+o[1],column:null};var b=+o[1],E=g[o[2]-1];if(E){var w=i(y.url);if(w){var A=(w=w.join("\n")).indexOf(E.innerText);A>=0&&(y.line=b+w.substring(0,A).split("\n").length)}}}else if(o=p.exec(n[m])){var S=t.location.href.replace(/#.*$/,""),T=c(new RegExp(u(n[m+1])),[S]);y={url:S,func:"",args:[],line:T?T.line:o[1],column:null}}if(y){y.func||(y.func=s(y.url,y.line));var I=a(y.url,y.line),P=I?I[Math.floor(I.length/2)]:null;y.context=I&&P.replace(/^\s*/,"")===n[m+1].replace(/^\s*/,"")?I:[n[m+1]],f.push(y)}}return f.length?{mode:"multiline",name:r.name,message:n[0],stack:f}:null}function g(t,e,r,n){var i={url:e,line:r};if(i.url&&i.line){t.incomplete=!1,i.func||(i.func=s(i.url,i.line)),i.context||(i.context=a(i.url,i.line));var o=/ '([^']+)' /.exec(n);if(o&&(i.column=h(o[1],i.url,i.line)),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,t.stack[0].context=i.context,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function v(t,e){for(var r,i,a,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],c={},f=!1,d=v.caller;d&&!f;d=d.caller)if(d!==m&&d!==n.report){if(i={url:null,func:o,args:[],line:null,column:null},d.name?i.func=d.name:(r=l.exec(d.toString()))&&(i.func=r[1]),void 0===i.func)try{i.func=r.input.substring(0,r.input.indexOf("{"))}catch(t){}if(a=p(d)){i.url=a.url,i.line=a.line,i.func===o&&(i.func=s(i.url,i.line));var y=/ '([^']+)' /.exec(t.message||t.description);y&&(i.column=h(y[1],a.url,a.line))}c[""+d]?f=!0:c[""+d]=!0,u.push(i)}e&&u.splice(0,e);var b={mode:"callers",name:t.name,message:t.message,stack:u};return g(b,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),b}function m(t,e){var r=null;e=null==e?0:+e;try{if(r=function(t){var e=t.stacktrace;if(e){for(var r,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=e.split("\n"),l=[],u=0;u<o.length;u+=2){var c=null;if((r=n.exec(o[u]))?c={url:r[2],line:+r[1],column:null,func:r[3],args:[]}:(r=i.exec(o[u]))&&(c={url:r[6],line:+r[1],column:+r[2],func:r[3]||r[4],args:r[5]?r[5].split(","):[]}),c){if(!c.func&&c.line&&(c.func=s(c.url,c.line)),c.line)try{c.context=a(c.url,c.line)}catch(t){}c.context||(c.context=[o[u+1]]),l.push(c)}}return l.length?{mode:"stacktrace",name:t.name,message:t.message,stack:l}:null}}(t))return r}catch(t){if(y)throw t}try{if(r=f(t))return r}catch(t){if(y)throw t}try{if(r=d(t))return r}catch(t){if(y)throw t}try{if(r=v(t,e+1))return r}catch(t){if(y)throw t}return{mode:"failed"}}var y=!1,b={};return m.augmentStackTraceWithInitialElement=g,m.guessFunctionName=s,m.gatherContext=a,m.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return m(e,t+1)}},m.getSource=i,m}(),n.extendToAsynchronousCallbacks=function(){var e=function(e){var r=t[e];t[e]=function(){var t=s.call(arguments),e=t[0];return"function"==typeof e&&(t[0]=n.wrap(e)),r.apply?r.apply(this,t):r(t[0],t[1])}};e("setTimeout"),e("setInterval")},n.remoteFetching||(n.remoteFetching=!0),n.collectWindowErrors||(n.collectWindowErrors=!0),(!n.linesOfContext||n.linesOfContext<1)&&(n.linesOfContext=11),t.TraceKit=n}}("undefined"!=typeof window?window:__webpack_require__.g),function(t,e){"use strict";if(t&&t.event&&t.event.add){var r=t.event.add;t.event.add=function(n,i,s,o,a){return"function"!=typeof s&&"function"!=typeof s.handler||(s.handler?(l=s.handler,s.handler=e.wrap(s.handler)):(l=s,s=e.wrap(s)),s.guid=l.guid?l.guid:l.guid=t.guid++),r.call(this,n,i,s,o,a);var l};var n=t.fn.ready;t.fn.ready=function(t){return n.call(this,e.wrap(t))};var i=t.ajax;t.ajax=function(r,n){"object"==typeof r&&(n=r,r=void 0),n=n||{};for(var s,o=["complete","error","success"];s=o.pop();)t.isFunction(n[s])&&(n[s]=e.wrap(n[s]));try{return r?i.call(this,r,n):i.call(this,n)}catch(t){throw e.report(t),t}}}}(window.jQuery,window.TraceKit),a=this,function(t){"use strict";var e,r,n=function(){return"".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)},i=function(t){return{name:t,value:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,delta:0,entries:[],id:n(),isFinal:!1}},s=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return r.observe({type:t,buffered:!0}),r}}catch(t){}},o=!1,a=!1,l=function(t){o=!t.persisted},u=function(){addEventListener("pagehide",l),addEventListener("beforeunload",(function(){}))},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a||(u(),a=!0),addEventListener("visibilitychange",(function(e){var r=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:r,isUnloading:o})}),{capture:!0,once:e})},h=function(t,e,r,n){var i;return function(){r&&e.isFinal&&r.disconnect(),e.value>=0&&(n||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||void 0===i)&&(t(e),i=e.value))}},p=function(){return void 0===e&&(e="hidden"===document.visibilityState?0:1/0,c((function(t){var r=t.timeStamp;return e=r}),!0)),{get timeStamp(){return e}}},f=function(){return r||(r=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),r};t.getCLS=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i("CLS",0),o=function(t){t.hadRecentInput||(n.value+=t.value,n.entries.push(t),e())},a=s("layout-shift",o);a&&(e=h(t,n,a,r),c((function(t){var r=t.isUnloading;a.takeRecords().map(o),r&&(n.isFinal=!0),e()})))},t.getFCP=function(t){var e,r=i("FCP"),n=p(),o=s("paint",(function(t){"first-contentful-paint"===t.name&&t.startTime<n.timeStamp&&(r.value=t.startTime,r.isFinal=!0,r.entries.push(t),e())}));o&&(e=h(t,r,o))},t.getFID=function(t){var e=i("FID"),r=p(),n=function(t){t.startTime<r.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,a())},o=s("first-input",n),a=h(t,e,o);o?c((function(){o.takeRecords().map(n),o.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,n){n.timeStamp<r.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+t}],a())}))},t.getLCP=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i("LCP"),o=p(),a=function(t){var r=t.startTime;r<o.timeStamp?(n.value=r,n.entries.push(t)):n.isFinal=!0,e()},l=s("largest-contentful-paint",a);if(l){e=h(t,n,l,r);var u=function(){n.isFinal||(l.takeRecords().map(a),n.isFinal=!0,e())};f().then(u),c(u,!0)}},t.getTTFB=function(){var t,e=i("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var r in t)"navigationStart"!==r&&"toJSON"!==r&&(e[r]=Math.max(t[r]-t.navigationStart,0));return e}();e.value=e.delta=t.responseStart,e.entries=[t],e.isFinal=!0,r(e)}catch(t){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},Object.defineProperty(t,"__esModule",{value:!0})}((a="undefined"!=typeof globalThis?globalThis:a||self).webVitals={}),function(t,e,r,n){function i(t,e,r,i){if(0!==e.status&&e.getAllResponseHeaders()){var s="AJAX Error: "+(e.statusText||"unknown")+" "+(r.type||"unknown")+" "+(function(t){var e=t,r=t.split("//")[1];if(r){var n=r.indexOf("?"),i=r.toString().substring(0,n),s=i.split("/").slice(0,4).join("/"),o=i.substring(0,48);(e=s.length<o.length?s:o)!==i&&(e+="..")}return e}(r.url)||"unknown");bt.send(i||t.type,{status:e.status,statusText:e.statusText,type:r.type,url:r.url,ajaxErrorMessage:s,contentType:r.contentType,requestData:r.data&&r.data.slice?r.data.slice(0,10240):n,responseData:e.responseText&&e.responseText.slice?e.responseText.slice(0,10240):n,activeTarget:t.target&&t.target.activeElement&&t.target.activeElement.outerHTML&&t.target.activeElement.outerHTML.slice?t.target.activeElement.outerHTML.slice(0,10240):n})}}function s(t){if(gt.log("Atatus: Caught unhandled promise rejection:",t),t){var e=t.reason;bt.notify(e&&(e instanceof Error||e.message)?e:new Error("UnhandledRejection: "+e))}}function o(){return!(!d||""===d)||(gt.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function a(){try{return"localStorage"in t&&null!==t.localStorage}catch(t){return!1}}function l(){try{if(a()&&localStorage.length>0)for(var t in localStorage)if("atatusjs="===t.substring(0,9)){try{var e=JSON.parse(localStorage[t]);"apikey"in e&&h(J,e)}catch(t){gt.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(t)}}catch(t){gt.log("Atatus sendSavedErrors: LocalStorage read failed!",t)}}function u(t,r){if(r=gt.isObject(r)?r:{},t.stack&&t.stack.length){var n=r.customData&&r.customData.ajaxErrorMessage||t.message;if(n&&0===n.indexOf("Uncaught ")&&(n=t.message.substring(9)),n=n||r.status||"Script error.",k&&k.test(n))gt.log("Atatus: canceling send due to Script error or ignored errors.");else{n=n.substr(0,ot);var i=[];t.stack&&t.stack.length&&gt.forEach(t.stack,(function(t,e){gt.endsWith(e.url,"/atatus.js")||gt.endsWith(e.url,"/atatus-spa.js")||gt.endsWith(e.url,"/atatus.min.js")||i.push({ln:e.line||0,cn:e.column||0,f:e.url||"anonymous",m:e.func||"[anonymous]"})}));var s=[t.name,n,JSON.stringify(i)].join("|");if(s!==R){R=s;var o=r.customData;try{JSON.stringify(o)}catch(t){var a="Cannot add custom data; may contain circular reference";o={error:a},gt.log("Atatus: "+a)}var l=yt.getAllEvents();vt.clear();var u={class:t.name,url:e.location.href,message:n,name:n,backTraces:i,breadCrumbs:l,customData:o||null,tags:r.tags,ts:(new Date).getTime()};"function"==typeof O&&(u.groupingKey=O(u)),"function"==typeof x?x(u)&&(delete u.name,c(u)):(delete u.name,c(u))}else gt.log("Atatus: canceling send due to duplicate errors")}}else gt.log("Atatus: Canceling send due to no stacktrace.")}function c(t){return E?void gt.log("Error Tracking is disabled."):void h(J,{customData:g||null,errors:[t]})}function h(r,n){if(o()){if(!bt._isAllowedUrl(location.host))return void gt.log("Atatus: canceling send due to not an allowed domain/url.");if(!n.ts){var i=t.screen||function(){var r=e.documentElement,n=e.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||n.clientWidth,height:t.innerHeight||r.clientHeight||n.clientHeight}}();n.ts=(new Date).getTime(),n.apikey=d,n.request={url:e.location.href,ua:navigator.userAgent,w:i.width,h:i.height},n.connection=ft,n.tags=n.tags||F,n.user=v&&v.id?v:null,n.aid=m||null,n.sid=bt.sessionId||"",n.v=y||"",n._v=bt.VERSION||M||""}if(_&&!_(n))return void gt.log("Atatus: canceling send due to false from beforeSend callback.");if(C&&C(n),gt.log("Sending data to Atatus Receiver:",n),r===$)!function(t,r){var n=e.createElement("script"),i=Y+t+"?data="+encodeURIComponent(JSON.stringify(r))+"&callback=atatus._setFeatures&"+p(r);n.type="text/javascript",n.src=i;var s=e.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s)}(r,n);else if(r===et){if(!n.sid)return void gt.log("Atatus: canceling session send due to empty session id.");if(pt.session>=ut)return void gt.log("Atatus: Canceling session send due to exceed maximum payload.");pt.session+=1,f(r,n)}else if(r===rt){if(pt.spa>=ht)return void gt.log("Atatus: Canceling SPA send due to exceed maximum payload.");pt.spa+=1,pt.ajax=0,f(r,n)}else{if(r===J){if(pt.error>=at)return void gt.log("Atatus: Canceling error send due to exceed maximum payload.");pt.error+=1}else if(r===tt){if(pt.ajax>=lt)return void gt.log("Atatus: Canceling AJAX send due to exceed maximum payload.");pt.ajax+=1}else if(r===nt){if(pt.txn>=ct)return void gt.log("Atatus: Canceling transaction send due to exceed maximum payload.");pt.txn+=1}!function(t,e){var r=Y+t+"?data="+encodeURIComponent(JSON.stringify(e))+"&"+p(e);if(r.length>it)gt.log("Atatus: Canceling session send due to large payload size.");else{var n=new Image;n.crossOrigin="anonymous",n.onload=function(){l()},n.onerror=n.onabort=function(){z&&t===J&&function(t){try{if(a()&&localStorage.length<50){var e="atatusjs="+(new Date).toJSON()+"="+gt.getRandomInt();void 0===localStorage[e]&&(localStorage[e]=t)}else gt.log("Atatus: Reached local storage limit.")}catch(t){gt.log("Atatus: LocalStorage full, cannot save exception")}}(JSON.stringify(e))},n.src=r}}(r,n)}}}function p(t){return"apikey="+t.apikey+"&v="+t._v}function f(e,r){var n=function(e,r){var n;return"withCredentials"in(n=new t.XMLHttpRequest)?n.open(e,r,!0):t.XDomainRequest&&(r=gt.getTargetUrl(r),(n=new t.XDomainRequest).open(e,r)),n.timeout=1e4,n}("POST",Y+e+"?"+p(r));return n?("function"==typeof n.setRequestHeader&&n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),"withCredentials"in n?(n.onreadystatechange=function(){n.readyState},n.onload=function(){gt.log("Sent data to Atatus. Status - "+n.status)}):t.XDomainRequest&&(n.ontimeout=function(){},n.onload=function(){gt.log("Sent data to Atatus. Status - "+n.status)}),n.onerror=function(){gt.log("Failed to send to Atatus. Status - "+n.status)},void n.send(JSON.stringify(r))):void gt.log("XHR is not supported!")}var d,g,v,m,y,b,E,w,A,S,T,I,P,k,R,C,O,_,x,L,N,D,M="4.3.2",B=t.TraceKit.noConflict(),j=t.atatus,F=[],U=!1,H=[],q=[],V=[],G=!1,z=!1,W=!1,X=!1,Q=!1,Z="atatus-user",K="atatus-aid",Y="https://bm-rx.atatus.com",J="/track/browser/errors",$="/track/browser/perf/pageload",tt="/track/browser/perf/ajax",et="/track/browser/perf/session",rt="/track/browser/perf/spa",nt="/track/browser/perf/txn",it=4e4,st=500,ot=1e3,at=20,lt=5,ut=10,ct=100,ht=100,pt={error:0,ajax:0,session:0,txn:0,spa:0},ft=null,dt=["google-analytics.com","mixpanel.com","bam.nr-data.net","br-rx.atatus.com","bm-rx.atatus.com","segment.io","hotjar.io","hotjar.com","amplitude.com","fullstory.com","autopilothq.com","smartlook.com","charmerly.com","googleapis.com","logrocket.io","taboola.com","sentry.io","doubleclick.net","logentries.com","rb-collector.com"];r&&(D=r(e));var gt={isBoolean:function(t){return void 0!==t&&"boolean"==typeof t},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isFunction:function(t){return"function"==typeof t},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},serialize:function(t){if(!t)return"";if(gt.isString(t)||gt.isNumber(t)||gt.isBoolean(t)||gt.isFunction(t))return""+t;if("object"==typeof t)try{return JSON.stringify(t)}catch(t){return"Unserializable Object"}return""},endsWith:function(t,e){return!(!t||!e)&&-1!==t.indexOf(e,t.length-e.length)},joinRegExp:function(t){if(0===t.length)return null;for(var e,r=[],n=0,i=t.length;i>n;n++)e=t[n],gt.isString(e)?r.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&r.push(e.source);return new RegExp(r.join("|"),"i")},getTargetUrl:function(e){return t.XDomainRequest&&G&&(e=e.slice(6)),e},now:function(){return(new Date).getTime()},pad:function(t){return 1===(t=String(t)).length&&(t="0"+t),t},merge:function(t,e){var r,n={};for(r in t)n[r]=t[r];for(r in e)n[r]=e[r];return n},mergeArray:function(t,e){return null!=e?t.concat(e):t},forEach:function(t,e){for(var r=0;r<t.length;r++)e.call(null,r,t[r])},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(e,r){U&&t.console&&t.console.log&&(t.console.log(e),r&&t.console.log(r))},bind:function(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var e=t.navigator.userAgent,r=e.match(/Trident\/([\d.]+)/),n=r&&"7.0"===r[1]?11:!!(e=e.match(/MSIE ([\d.]+)/))&&parseInt(e[1],10);return n&&9>=n},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},addEventListener:function(e,r,n){return void 0!==t.attachEvent?t.attachEvent("on"+e,r):t.addEventListener?t.addEventListener(e,r,n):void 0},arrayFromObject:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e},createCookie:function(t,r,n,i,s){try{var o,a;if(n){var l=new Date;l.setTime(l.getTime()+60*n*60*1e3),o="; expires="+l.toGMTString()}else o="";var u=i?"; SameSite=Lax; secure":"; SameSite=Lax",c="";if(s){var h=e.location.hostname.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i),p=h?h[0]:"";c=p?"; domain=."+p:""}return a=(new Date).toISOString(),e.cookie=t+"=id|"+r+"&timestamp|"+a+o+"; path=/"+c+u,a}catch(t){gt.log("Creating cookie failed.",t)}},clearCookie:function(t){this.createCookie(t,"",-1)},readCookieElement:function(t,e){var r=t.split(/[|&]/);return"id"===e?r[1]:"timestamp"===e?r[3]:void 0},readCookie:function(t){try{for(var r=t+"=",n=e.cookie.split(";"),i=0;i<n.length;i++){for(var s=n[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(r))return s.substring(r.length,s.length)}return null}catch(t){gt.log("Reading cookie failed.",t)}}},vt={eventObject:{},all:function(t){for(var e=this.getEventObject(t),r=[],n=0;n<e.length;n++)r.push(e[n].value);return r},clear:function(){for(var t in this.eventObject)this.eventObject.hasOwnProperty(t)&&(this.eventObject[t].length=0)},add:function(t,e){var r=this.getEventObject(t),n=gt.uuid4();return e.m?e.m=e.m.length<=st?e.m:e.m.substr(0,st):e.e&&(e.e=e.e.length<=st?e.e:e.e.substr(0,st)),r.push({key:n,value:e}),this.truncateEventObject(t,10),n},get:function(t,e){for(var r=this.getEventObject(t),n=0;n<r.length;n++)if(r[n].key===e)return r[n].value;return!1},getEventObject:function(t){return this.eventObject[t]||(this.eventObject[t]=[]),this.eventObject[t]},truncateEventObject:function(t,e){var r=this.getEventObject(t);r.length>e&&(this.eventObject[t]=r.slice(r.length-e))}},mt={attach:function(e,r,n,i,s){e=e||t.console||{};for(var o=s||["log","debug","info","warn","error"],a=o.pop(),l=function(t,e,n){r&&vt.add("timeline",{ts:gt.now(),c:"console",l:t,m:gt.serialize(e)}),"error"===t&&i&&bt.notify(new Error(e),n)};a;)this.wrapConsoleMethod(e,a,n,l),a=o.pop()},wrapConsoleMethod:function(t,e,r,n){var i=t[e],s=t;e in t&&(t[e]=function(){var t=[].slice.call(arguments),o=""+t.join(" "),a={level:e,logger:"console"};n&&n(e,o,a),i&&r&&Function.prototype.apply.call(i,s,t)})}},yt={attach:function(){var t=gt.bind(this.onDocumentClicked,this),r=gt.bind(this.onInputChanged,this);e.addEventListener?(e.addEventListener("click",t,!0),e.addEventListener("blur",r,!0)):e.attachEvent&&(e.attachEvent("onclick",t),e.attachEvent("onfocusout",r))},writeUserEvent:function(t,e,r,n){"password"===this.getElementType(t)&&(r=void 0),vt.add("timeline",{ts:gt.now(),a:e,e:this.getOuterHTML(t),v:this.getValueKind(r,n)})},onDocumentClicked:function(t){var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isTarget(e,"a")||this.isTarget(e,"button")||this.isTarget(e,"input",["button","submit"])?this.writeUserEvent(e,"click"):this.isTarget(e,"input",["checkbox","radio"])&&this.writeUserEvent(e,"check",e.value,e.checked))},onInputChanged:function(t){var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isTarget(e,"textarea")?this.writeUserEvent(e,"input",e.value):this.isTarget(e,"select")&&e.options&&e.options.length?this.onSelectInputChanged(e):this.isTarget(e,"input")&&!this.isTarget(e,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(e,"input",e.value))},onSelectInputChanged:function(t){if(t.multiple){for(var e=0;e<t.options.length;e++)if(t.options[e].selected){this.writeUserEvent(t,"select",t.options[e].value);break}}else 0<=t.selectedIndex&&t.options[t.selectedIndex]&&this.writeUserEvent(t,"select",t.options[t.selectedIndex].value)},getElementFromEvent:function(t){return t.target||e.elementFromPoint(t.clientX,t.clientY)},isTarget:function(t,e,r){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!r)return!0;for(var n=this.getElementType(t),i=0;i<r.length;i++)if(r[i]===n)return!0;return!1},getElementType:function(t){return(t.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(t){for(var e="<"+t.tagName.toLowerCase(),r=t.attributes,n=0,i=r.length;i>n;n++){var s=r[n].name;"value"!==s.toLowerCase()&&(e+=" "+s+'="'+r[n].value+'"')}return e+" >"},getValueKind:function(t,e){return null==t?null:{length:t.length,checked:e,pattern:this.matchInputPattern(t)}},matchInputPattern:function(t){return""===t?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(t)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(t)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(t)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(t)?"phone":/^\s*$/.test(t)?"whitespace":/^\d*$/.test(t)?"numeric":"character"},getAllEvents:function(){return vt.all("timeline")}},bt={VERSION:M,paintPerformance:{},noConflict:function(){return t.atatus=j,bt},isConfigured:function(){return!!d},config:function(e,r){r=r||{},d=e,B.remoteFetching=!1,k=[],bt.setCustomData(r.customData),bt.setTags(r.tags),U=!!r.debugMode,W=!!r.reportAjaxErrors,X=!!r.reportUnhandledRejections,Q=!!r.allowChromeExtension,b=!!r.disableBreadcrumbs,E=!!r.disableErrorTracking,I=!!r.disableRUM,A=!!r.disableAjaxMonitoring,S=r.disableSession!==n&&r.disableSession,T=r.disableSPA!==n&&r.disableSPA,N=r.urlMaxLength,G=gt.canAllowInsecureSubmissions(),bt.setIgnoreUrls(r.ignoreUrls),bt.setWhitelistUrls(r.whitelistUrls),bt.setAllowedDomains(r.allowedDomains),bt.setVersion(r.version),bt.enableOffline(r.enableOffline||r.offline),bt.onBeforeSend(r.beforeSend),bt.onBeforeErrorSend(r.beforeErrorSend),bt.setGroupingKeyCallback(r.groupingKeyCallback),r.ignoreErrors&&gt.isArray(r.ignoreErrors)&&(k=r.ignoreErrors),k.push(/^Script error\.?$/),k.push(/^Javascript error: Script error\.? on line 0$/),k=gt.joinRegExp(k),l(),P={enabled:!1,timeline:!0,display:!0,error:!0,levels:null},gt.isBoolean(r.console)&&(P.enabled=r.console),gt.isBoolean(r.consoleTimeline)&&(P.timeline=r.consoleTimeline),gt.isBoolean(r.consoleDisplay)&&(P.display=r.consoleDisplay),gt.isBoolean(r.consoleErrorNotify)&&(P.error=r.consoleErrorNotify),gt.isArray(r.consoleTimelineLevels)&&(P.levels=r.consoleTimelineLevels),P.enabled&&"console"in t&&t.console.log&&mt.attach(t.console,P.timeline,P.display,P.error,P.levels),bt.setHashRoutes(r.hashRoutes);var i=t.navigator.connection||t.navigator.mozConnection||t.navigator.webkitConnection;return i&&((ft={}).dlk=i.downlink,ft.eft=i.effectiveType,ft.rtt=i.rtt,ft.type=i.type),bt},install:function(){if(!o())return bt;if(!Q&&-1!==e.location.href.indexOf("chrome-extension://"))return bt;if(function(){try{var t;if(a()&&(t=localStorage.getItem(Z)),t)v=JSON.parse(t),m=null;else{var e,r=gt.readCookie(K);r&&(e=gt.readCookieElement(r,"id")),e&&"undefined"!==e?m=e:(m=gt.uuid4(),gt.createCookie(K,m))}}catch(t){gt.log("Atatus Get User: Invalid JSON object in LocalStorage",t)}}(),b||yt.attach(),E||(B.report.subscribe(u),B.extendToAsynchronousCallbacks(),D&&W&&D.ajaxError(i),X&&"addEventListener"in t&&t.addEventListener("unhandledrejection",s)),A||I||bt.__attachAjaxHooks(),!S&&!I&&bt.SessionTracking){var r=function(){(L=new bt.SessionTracking).attach()};t.addEventListener?t.addEventListener("load",r):t.attachEvent("onload",r)}return T||I||!bt.spa||bt.spa.init({logLevel:U?"debug":"warn",urlMaxLength:N}),bt},uninstall:function(){return d=null,E||(B.report.unsubscribe(u),D&&W&&D.unbind("ajaxError",i),X&&"removeEventListener"in t&&t.removeEventListener("unhandledrejection",s)),bt},setCustomData:function(t){return t?gt.isObject(t)?g=t:gt.log("Custom data must be an object."):g=null,bt},setTags:function(t){return t?gt.isArray(t)?F=t:gt.log("Tags must be an array of string."):F=[],bt},setHashRoutes:function(t){return t?(C=function(t){if(t&&t.request&&t.request.url&&(t.request.url=t.request.url.replace("/#/","/").replace("#/","/")),t&&t.data&&t.data[0]&&t.data[0].spans)for(var e=0;e<t.data.length;e++)t.data[e].n=(t.data[e].n||"").replace("/#/","/").replace("#","");if(t&&t.slowestRoutes&&t.slowestRoutes[0])for(var r=0;r<t.slowestRoutes.length;r++)t.slowestRoutes[r].n=(t.slowestRoutes[r].n||"").replace("/#/","/").replace("#","")},bt):(C=null,bt)},setIgnoreUrls:function(t){return t&&gt.isArray(t)?Array.prototype.push.apply(t,dt):t=dt,q=gt.joinRegExp(t),bt},getIgnoreUrls:function(){return q},setWhitelistUrls:function(t){return t&&gt.isArray(t)&&(V=gt.joinRegExp(t)),bt},getWhitelistUrls:function(){return V},setAllowedDomains:function(t){return t&&gt.isArray(t)&&(H=gt.joinRegExp(t)),bt},getAllowedDomains:function(){return H},setUser:function(t,e,r,n){return function(t,e,r,n){if(t){v={},t&&(v.id=""+t),e&&(v.email=""+e),r&&(v.name=""+r),n&&(v.anonymous=n);try{a()&&localStorage.setItem(Z,JSON.stringify(v)),m=null,gt.createCookie(K,"",-1)}catch(t){gt.log("Atatus Set User: Invalid JSON object in LocalStorage",t)}}}(t,e,r,n),bt},resetUser:function(){return function(){try{v=null,a()&&localStorage.removeItem(Z),m=null,gt.createCookie(K,"",-1)}catch(t){gt.log("Atatus Reset User",t)}}(),bt},setVersion:function(t){return t&&(y=""+t),bt},enableOffline:function(t){return gt.isBoolean(t)&&(z=t),bt},onBeforeSend:function(t){return gt.isFunction(t)&&(_=t),bt},onBeforeErrorSend:function(t){return gt.isFunction(t)&&(x=t),bt},setGroupingKeyCallback:function(t){return gt.isFunction(t)&&(O=t),bt},setAPIEndpoint:function(t){return Y=t,bt},getAPIEndpoint:function(){return Y},init:function(t,e,r){return r&&((e=e||{}).customData=r),bt.config(t,e)},withCustomData:function(t){return bt.setCustomData(t)},withTags:function(t){return bt.setTags(t)},attach:function(){return bt.install()},detach:function(){return bt.uninstall()},endSession:function(){return L&&L.endSession(),bt},_setFeatures:function(t){gt.isObject(t)&&(A=!!t.daj,S=!!t.dss,T=!!t.dspa,I=!!t.drum,E=!!t.derror,w=!!t.dtxn,t.error&&gt.log("Error in sending data to Atatus",t.error))},measureRoute:function(t){return L&&t&&L.virtualPageLoaded(t),bt},leaveBreadcrumb:function(t,e){return t?(vt.add("timeline",{ts:gt.now(),c:"breadcrumb",l:e||"info",m:gt.serialize(t)}),bt):void 0},notify:function(t,e,r){return"string"==typeof t?void gt.log("atatus.notify() was called with a string. Expected instance of Error."):bt.send(t,e,r)},sendPerf:function(t){return I?void gt.log("RUM is disabled."):h($,t)},sendAjaxPerf:function(t){return I||A?void gt.log("AJAX monitoring is disabled."):h(tt,t)},sendSessionPerf:function(t){return I||S?void gt.log("Session Tracking is disabled."):h(et,t)},sendSPAPerf:function(t){return I||T?void gt.log("SPA Tracking is disabled."):h(rt,t)},sendTxnPerf:function(t){return I||w?void gt.log("Transaction monitoring is disabled."):h(nt,t)},sendWebVitals:function(t){return I?void gt.log("Real User Monitoring is disabled."):h("/track/browser/perf/webvitals",t)},send:function(t,e,r){try{u(B.computeStackTrace(t),{customData:e,tags:r})}catch(e){if(t!==e)throw e}return bt},_isAllowedUrl:function(t){return t=t||"",!(q&&q.test&&q.test(t)||(V&&V.test?!V.test(t):H&&H.test&&!H.test(t)))},_helper:gt};t.atatus=bt,module.exports=bt,void 0!==__webpack_require__.g&&(__webpack_require__.g.atatus=bt)}(window,document,window.jQuery),function(t,e,r,n){function i(t){t.pl<=0||(t.nt=t.nt>0?t.nt:0,t.dp=t.dp>0?t.dp:0,t.pr=t.pr>0?t.pr:0,r.sendPerf(t))}function s(e){if(!function(e,r){return"object"==typeof t.performance&&"function"==typeof t.performance[e]}("getEntriesByName"))return e;var n=t.performance.getEntriesByName("first-paint");n.length>0&&n[0].startTime>0?e.fp=+n[0].startTime.toFixed(0):t.performance.timing&&t.performance.timing.msFirstPaint&&(e.fp=+(t.performance.timing.msFirstPaint-t.performance.timing.fetchStart).toFixed(0));var i=t.performance.getEntriesByName("first-contentful-paint");return i.length>0&&i[0].startTime>0&&(e.fcp=+i[0].startTime.toFixed(0)),r.paintPerformance={fp:e.fp,fcp:e.fcp},e}var o=(new Date).getTime(),a=a||{};a.q=a.q||[],a.version="0.3",a.targetOrigin=e.location.protocol+"//"+e.location.hostname,a.bPostMessage=!1,a.beaconUrl=a.beaconUrl||"/images/beacon.gif",a.autorun=!1,a.init=function(){if(a.bDone=!1,a.bUnloaded=!1,a.marks={},a.measures={},a.starts={},a.findStartTime(),a.addEventListener("beforeunload",a.beforeUnload,!1),a.addEventListener("pagehide",a.beforeUnload,!1),a.addEventListener("unload",a.beforeUnload,!1),a.processQ(),"complete"===e.readyState){var r=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance;r&&void 0!==r.timing&&void 0!==r.timing.loadEventEnd&&(a.mark("firstbyte",r.timing.responseStart),a.mark("onload",r.timing.loadEventEnd)),a.done()}else a.addEventListener("load",a.onload,!1)},a.processQ=function(){for(var t=a.q.length,e=0;t>e;e++){var r=a.q[e],n=r[0];"mark"===n?a.mark(r[1],r[2]):"measure"===n?a.measure(r[1],r[2],r[3]):"done"===n&&a.done(r[1])}},a.mark=function(e,r){return a.dprint("RUM_EPISODES.mark: "+e+", "+r),e?(a.marks[e]=parseInt(r||(new Date).getTime()),a.bPostMessage&&t.postMessage("RUM_EPISODES:mark:"+e+":"+r,a.targetOrigin),void("firstbyte"===e?a.measure("backend","starttime","firstbyte"):"onload"===e?(a.measure("frontend","firstbyte","onload"),a.measure("page load time","starttime","onload")):"done"===e&&a.measure("total load time","starttime","done"))):void a.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},a.measure=function(e,r,n){if(a.dprint("RUM_EPISODES.measure: "+e+", "+r+", "+n),e){var i,s;if(void 0===r)i="number"==typeof a.marks[e]?a.marks[e]:(new Date).getTime();else if("number"==typeof a.marks[r])i=a.marks[r];else{if("number"!=typeof r)return void a.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+r);i=r}if(void 0===n)s=(new Date).getTime();else if("number"==typeof a.marks[n])s=a.marks[n];else{if("number"!=typeof n)return void a.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+n);s=n}a.starts[e]=parseInt(i),a.measures[e]=parseInt(s-i),a.bPostMessage&&t.postMessage("RUM_EPISODES:measure:"+e+":"+i+":"+s,a.targetOrigin)}else a.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.")},a.done=function(e){a.bDone=!0,a.mark("done"),a.bPostMessage&&t.postMessage("RUM_EPISODES:done",a.targetOrigin),"function"==typeof e&&e()},a.getMarks=function(){return a.marks},a.getMeasures=function(){return a.measures},a.getStarts=function(){return a.starts},a.findStartTime=function(){var t=a.findStartWebTiming()||a.findStartCookie();t&&a.mark("starttime",t)},a.findStartWebTiming=function(){var e,r=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance;return r&&void 0!==r.timing&&void 0!==r.timing.navigationStart&&(e=r.timing.navigationStart,a.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+e)),e},a.findStartCookie=function(){try{for(var r=e.cookie.split(" "),n=0;n<r.length;n++)if(0===r[n].indexOf("RUM_EPISODES=")){for(var i,s,o=r[n].substring("RUM_EPISODES=".length).split("&"),l=0;l<o.length;l++)if(0===o[l].indexOf("s="))i=o[l].substring(2);else if(0===o[l].indexOf("r=")){var u=o[l].substring(2);u=u.replace(/;$/,""),s=t.escape(e.referrer)===u}if(s&&i)return a.dprint("RUM_EPISODES.findStartCookie: startTime = "+i),i}}catch(t){}},a.beforeUnload=function(){try{if(a.bUnloaded)return;e.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+t.escape(e.location)+"; path=/",a.bUnloaded=!0}catch(t){}},a.onload=function(){a.mark("onload"),a.done()},a.addEventListener=function(e,r,n){return void 0!==t.attachEvent?t.attachEvent("on"+e,r):t.addEventListener?t.addEventListener(e,r,n):void 0},a.dprint=function(){},a.init();var l=null,u={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},c=t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance;c&&void 0!==c.timing&&void 0!==c.navigation?l=setInterval((function(){var e=(t.performance||t.mozPerformance||t.msPerformance||t.webkitPerformance).timing;if(0===e.loadEventEnd)return!1;clearInterval(l),l=null;var r=e.navigationStart;0>=r&&(r=e.fetchStart);var n={};for(var o in u)n[u[o]]=-1,o in e&&(e[o]<=0||(n[u[o]]=e[o]-r));var a={nt:n.rps-n.ns,dp:n.dce-n.rps,pr:n.le-n.dce,pl:n.le-n.ns,timing:n};try{s(a)}catch(t){}i(a)}),100):(a.mark("firstbyte",o),l=setInterval((function(){if(!a||!a.bDone)return!1;clearInterval(l),l=!1;var t=a.getMeasures();if(null!=t&&null!=t.backend&&null!=t.frontend&&null!=t["page load time"]&&null!=t["total load time"]){var e=t.backend,r=t.backend+t.frontend;i({nt:e,dp:r-e,pr:t["total load time"]-r,fe:t["total load time"]-e,pl:t["total load time"]})}}),100))}(window,document,window.atatus),function(t,e,r){e.SessionTracking=function(){function n(t){return Math.min(t,3e5)}function i(t){for(var e in t)(isNaN(t[e])&&"string"!=typeof t[e]||t[e]<0)&&(t[e]=0);return t}function s(e,r){var n;return n="object"==typeof t.performance&&"function"==typeof t.performance.now?t.performance.now():0,{du:Math.min(d.maxVirtualPageDuration,n-(e||r)),o:Math.min(d.maxVirtualPageDuration,n-r)}}function o(t){var r={du:t.loadEventEnd-t.navigationStart,s:t.fetchStart};return t.domainLookupStart&&t.domainLookupStart>0&&(r.dls=t.domainLookupStart-t.fetchStart),t.domainLookupEnd&&t.domainLookupEnd>0&&(r.dle=t.domainLookupEnd-t.fetchStart),t.connectStart&&t.connectStart>0&&(r.cs=t.connectStart-t.fetchStart),t.connectEnd&&t.connectEnd>0&&(r.ce=t.connectEnd-t.fetchStart),t.responseStart&&t.responseStart>0&&(r.rps=t.responseStart-t.fetchStart),t.responseEnd&&t.responseEnd>0&&(r.rpe=t.responseEnd-t.fetchStart),t.domLoading&&t.domLoading>0&&(r.dl=t.domLoading-t.fetchStart),t.domInteractive&&t.domInteractive>0&&(r.di=t.domInteractive-t.fetchStart),t.domContentLoadedEventEnd&&t.domContentLoadedEventEnd>0&&(r.dce=t.domContentLoadedEventEnd-t.fetchStart),t.domComplete&&t.domComplete>0&&(r.dc=n(t.domComplete-t.fetchStart)),t.loadEventStart&&t.loadEventStart>0&&(r.ls=t.loadEventStart-t.fetchStart),t.loadEventEnd&&t.loadEventEnd>0&&(r.le=t.loadEventEnd-t.fetchStart),t.secureConnectionStart&&t.secureConnectionStart>0&&(r.scs=t.secureConnectionStart-t.connectStart-t.fetchStart,r.scs=r.scs>0?r.scs:0),r=i(r),e.paintPerformance&&e.paintPerformance.fp&&(r.fp=e.paintPerformance.fp,r.fcp=e.paintPerformance.fcp),r}function a(t,e){var r={du:n(t.duration),s:e+t.fetchStart};return t.domainLookupStart&&t.domainLookupStart>0&&(r.dls=t.domainLookupStart-t.fetchStart),t.domainLookupEnd&&t.domainLookupEnd>0&&(r.dle=t.domainLookupEnd-t.fetchStart),t.connectStart&&t.connectStart>0&&(r.cs=t.connectStart-t.fetchStart),t.connectEnd&&t.connectEnd>0&&(r.ce=t.connectEnd-t.fetchStart),t.responseStart&&t.responseStart>0&&(r.rps=t.responseStart-t.fetchStart),t.responseEnd&&t.responseEnd>0&&(r.rpe=t.responseEnd-t.fetchStart),t.secureConnectionStart&&t.secureConnectionStart>0&&(r.scs=t.secureConnectionStart-t.connectStart-t.fetchStart,r.scs=r.scs>0?r.scs:0),i(r)}function l(){var e=t.location.pathname,r=t.location.protocol+"//"+t.location.host+e;return r.length>800&&(r=r.substring(0,800)),{u:r,t:o(t.performance.timing),g:"p"}}function u(e,r,n){var i=t.location.protocol+"//"+t.location.host+e;return i.length>800&&(i=i.substring(0,800)),{u:i,t:s(r,n),g:"r"}}function c(e,r){var n=e.name.split("?")[0];return n.length>800&&(n=n.substring(0,800)),{u:n,t:a(e,r?0:t.performance.timing.navigationStart),g:"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType?"x":"s",z:e.decodedBodySize||e.transferSize||0}}function h(e,n){if(t.performance!==r&&t.performance.getEntriesByType)try{for(var i=t.performance.getEntriesByType("resource"),s=d.offset;s<i.length;s++){var o=i[s].name.split("?")[0];0!==o.indexOf(d.atatusHost)&&(o.indexOf("favicon.ico")>0||0!==o.indexOf("about:blank")&&("j"!==o[0]||1!==o.indexOf("avascript:"))&&0!==o.indexOf("chrome-extension://")&&0!==o.indexOf("res://")&&0!==o.indexOf("file://")&&i[s].name&&e.push(c(i[s],n)))}d.offset=i.length}catch(t){}}function p(e,n,i,s){if(t.performance===r||t.performance.timing===r||t.performance.timing.fetchStart===r||isNaN(t.performance.timing.fetchStart))return null;var o=[{rs:[]}];if(n&&(i&&(s?o[0].p=l():o[0].rs.push(l())),h(o[0].rs)),e){d.pendingVirtualPage&&(o[0].r=d.pendingVirtualPage);var a=null==d.pendingVirtualPage;if(d.pendingVirtualPage=u(e,d.previousVirtualPageLoadTimestamp,d.initalStaticPageLoadTimestamp),!a&&o.length>0)return o}return o}var f=e._helper,d=this,g={};e.sessionId=null,this.cookieName="atatus-sid",this.virtualPage=null,this.heartBeatInterval=null,this.offset=0,this.atatusHost=e.getAPIEndpoint(),this.maxVirtualPageDuration=18e5;this.existingTimestamp=null,this.stopSession=!1,this.sendSessionPayload=function(t){d.stopSession||e.sendSessionPerf(t)},this.sendSPAPayload=function(){},this.attach=function(){!function(t){e.sessionId=f.uuid4(),d.existingTimestamp=f.createCookie(d.cookieName,e.sessionId),t(!0)}((function(t){setTimeout((function(){d.pageLoaded(t)}),5e3)}));var r=function(){this.watchCookieTimestamp()}.bind(g),n=function(){"visible"===document.visibilityState&&this.watchCookieTimestamp()}.bind(g);t.addEventListener?(t.addEventListener("click",r),document.addEventListener("visibilitychange",n),t.addEventListener("beforeunload",(function(){var t=[{rs:[]}];if(h(t[0].rs),t[0].rs.length>0){var e={data:t};d.sendSessionPayload(e)}}))):t.attachEvent&&document.attachEvent("onclick",r)},this.pageLoaded=function(e){d.sendPerformance(!0,!0,e),d.heartBeat(),d.initalStaticPageLoadTimestamp="object"==typeof t.performance&&"function"==typeof t.performance.now?t.performance.now():0},this.endSession=function(){d.stopSession=!0,f.createCookie(d.cookieName,e.sessionId,-1)},this.heartBeat=function(){d.heartBeatInterval=setInterval((function(){var t=[{rs:[]}];if(h(t[0].rs,d.virtualPage),t[0].rs.length>0){var e={data:t};d.sendSessionPayload(e)}}),3e4)},this.virtualPageLoaded=function(e){var r=null==this.virtualPage;"string"==typeof e&&(e.length>0&&"/"!==e[0]&&(e+="/"),e.length>800&&(e=e.substring(0,800)),this.virtualPage=e),r?this.sendPerformance(!0,!1,!1):this.sendPerformance(!1,!1,!1),"string"==typeof e&&(this.previousVirtualPageLoadTimestamp="object"==typeof t.performance&&"function"==typeof t.performance.now?t.performance.now():0)},this.sendPerformance=function(t,e,r){var n=p(this.virtualPage,t,e,r);if(n){var i={data:n};n[0].r?d.sendSPAPayload(i):n[0].rs.length>0&&d.sendSessionPayload(i)}},g.watchCookieTimestamp=function(){var t;if(d.existingTimestamp){var e=new Date(new Date-3e5);t=d.existingTimestamp<e}t&&(d.stopSession=!0)}}}(window,window.atatus),function(t,e,r){r.__attachAjaxHooks=function(){var n=r._helper,i={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(t){"string"==typeof t.url&&(t.url.indexOf(".html")>0||-1===t.url.indexOf("://")||!r._isAllowedUrl(t.url)||(this.queue.push(t),this.queue.length>=this.batchSize&&this._processQueue()))},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var t={},e={},i=0;i<this.queue.length;i++){var s,o=this.queue[i],a=o.status;if(400>a){s=o.method+o.url;var l=o.respAvailTime-o.sendTime,u=o.respProcTime-o.respAvailTime,c=o.receivedSize?+o.receivedSize:0,h=o.sendSize?+o.sendSize:0;0>l&&(l=0),0>u&&(u=0),isNaN(c)&&(c=0),isNaN(h)&&(h=0);var p=t[s];p?(p.rt.push(l),p.ct.push(u),p.rz.push(c),p.sz.push(h)):t[s]={m:o.method,u:o.url,rt:[l],ct:[u],rz:[c],sz:[h]}}else{var f=e[s=o.method+a+o.url];f&&f.sc?f.sc[a]?f.sc[a]++:f.sc[a]=1:(e[s]={m:o.method,u:o.url,sc:{}},e[s].sc[a]=1)}}var d={xhr:n.arrayFromObject(t),xhrError:n.arrayFromObject(e)};r.sendAjaxPerf(d)}catch(t){n.log("Error while processing queue: ",t)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){i.bUnloaded||(i._processQueue(),i.bUnloaded=!0)}};n.addEventListener("beforeunload",i.beforeUnload,!1);var s={support:function(t){return!t||"apply"in t},around:function(t,e,r,i){return t=t||function(){},function(){var s,o,a=Array.prototype.slice.call(arguments);try{e&&(s=e.apply(this,a))}catch(t){n.log(i,t)}try{o=t.apply(this,s||a)}finally{try{r&&r.apply(this,a)}catch(t){n.log(i,t)}}return o}},before:function(t,e){return s.around(t,e)},after:function(t,e){return s.around(t,null,e)},timeout:function(t){setTimeout(t,0)},wrapAddEventListener:function(){return function(t,e){var r,n;if(("load"===t||"error"===t)&&e&&this._atrumXhrData)return e.__atrumInterceptor?r=e.__atrumInterceptor:s.support(e)?(r=a.wrapXHR(e,this,"XHR.invokeEventListener"),e.__atrumInterceptor=r):r=null,r&&((n=Array.prototype.slice.call(arguments))[1]=r),n}},wrapRemoveEventListener:function(){return function(t,e){if(this._atrumXhrData){var r=Array.prototype.slice.call(arguments);return e.__atrumInterceptor&&(r[1]=e.__atrumInterceptor),r}}},aroundWithHandleEvent:function(t,e,r,n){var i=t;return t&&"object"==typeof t&&"toString"in t&&"[xpconnect wrapped nsIDOMEventListener]"===t.toString()&&"handleEvent"in t&&(i=function(){t.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),s.around(i,e,r,n)},getFullyQualifiedUrl:function(t){var r=e.createElement("a");return r.href=t,r.href}};if(t.XMLHttpRequest&&t.XMLHttpRequest.prototype){var o=t.XMLHttpRequest.prototype;if(!("open"in o)||!("send"in o))return;if(!s.support(o.open)||!s.support(o.send))return;var a={captureAjaxTimings:function(t){var e=t._atrumXhrData;if(e){var r=(new Date).getTime();2===t.readyState?e.firstByteTime=e.firstByteTime||r:4===t.readyState&&(e.respAvailTime=e.respAvailTime||r,e.firstByteTime=e.firstByteTime||r)}},sendPayload:function(t,e){e.receivedSize=0,t.responseType&&"text"!==t.responseType||"string"==typeof t.responseText&&(e.receivedSize=t.responseText.length),e.status=t.status,i.push(e)},wrapXHR:function(t,e,r){return s.aroundWithHandleEvent(t,(function(){a.captureAjaxTimings(this)}),(function(){var t=e._atrumXhrData;if(t&&4===e.readyState){var r=(new Date).getTime();t.respProcTime=t.respProcTime||r,a.sendPayload(e,t),delete e._atrumXhrData}}),r)},ajaxDone:function(t){if(t._atrumXhrData){var e=(new Date).getTime()+15e4,r=function(){a.captureAjaxTimings(t);var n=t._atrumXhrData;if(n){var i=(new Date).getTime();4===t.readyState?(n.respProcTime=n.respProcTime||i,a.sendPayload(t,n),delete t._atrumXhrData):e>i?setTimeout(r,50):delete t._atrumXhrData}};r()}}};o.open=s.around(o.open,(function(){var t=1<=arguments.length?String(arguments[0]):"",e=2<=arguments.length?String(arguments[1]):"";e=s.getFullyQualifiedUrl(e);var n=r._isAllowedUrl(e);n&&(e=e&&e.split("?")[0],this._atrumXhrData={method:t,url:e,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})}),null,"XHR.open"),o.send=s.around(o.send,(function(){var t=this,e=t._atrumXhrData;if(e){var r=(new Date).getTime();e.sendTime=e.sendTime||r,e.sendSize=1<=arguments.length&&arguments[0]&&arguments[0].length||0;var n=0,i=function(){if(4===t.readyState)a.ajaxDone(t);else{var e=null;try{e=t.onreadystatechange}catch(e){return void a.ajaxDone(t)}n++,e?s.support(e)?t.onreadystatechange=a.wrapXHR(e,t,"XHR.onReadyStateChange"):a.ajaxDone(t):5>n?s.timeout(i):a.ajaxDone(t)}};i()}}),null,"XHR.send"),"addEventListener"in o&&"removeEventListener"in o&&s.support(o.addEventListener)&&s.support(o.removeEventListener)&&(o.addEventListener=s.around(o.addEventListener,s.wrapAddEventListener(),null,"XHR.addEventListener"),o.removeEventListener=s.around(o.removeEventListener,s.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}if("fetch"in t&&!t.fetch.polyfill){var l=t.fetch;t.fetch=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;++n)e[n]=arguments[n];var s="GET",o=0;e[1]&&(e[1].method&&(s=e[1].method),"string"==typeof e[1].body&&(o=e[1].body.length));var a={url:e[0],method:s,sendSize:o,receivedSize:0,sendTime:(new Date).getTime(),respAvailTime:0,respProcTime:0};return t.apply(this,e).then((function(t){return r._isAllowedUrl(a.url)&&(a.respAvailTime=(new Date).getTime(),a.respProcTime=a.respAvailTime,a.status=t.status,t.headers&&t.headers.get&&(a.receivedSize=t.headers.get("Content-Length")),i.push(a)),t}))}}(l)}}}(window,document,window.atatus),function(t,e){function r(t,r,n){if(!(0>=r)){var i={data:[{t:{n:t,s:n,t:{du:r}}}]};e.sendTxnPerf(i)}}function n(t){return o+" "+t}function i(){try{return"localStorage"in t&&null!==t.localStorage}catch(t){return!1}}function s(t){var e=null,r=n(t);try{e=localStorage.getItem(r),localStorage.removeItem(r)}catch(t){}var i=0;return e&&(i=a.now()-e),i}var o="atatus.com/",a=e._helper;e.beginTransaction=function(t){i()&&function(t){var e=a.now();try{localStorage.setItem(n(t),e)}catch(t){}}(t)},e.endTransaction=function(t){i()&&r(t,s(t),1)},e.failTransaction=function(t){i()&&r(t,s(t),0)},e.cancelTransaction=function(t){i()&&function(t){try{var e=n(t);localStorage.removeItem(e)}catch(t){}}(t)},e.recordTransaction=function(t,e,n){i()&&t&&e&&r(t,e,!1===n?0:1)}}(window,window.atatus),function(t,e){function r(t){var e=(t=t||{}).name&&t.name.toLowerCase();t.value&&e&&!i[e]&&(i[e]=t.value,s++),s>=5&&a()}function n(){if(t.webVitals){t.webVitals.getFID(r),t.webVitals.getFCP(r),t.webVitals.getTTFB(r),t.webVitals.getCLS(r,!1),t.webVitals.getLCP(r,!1);var e=t.performance&&t.performance.timing;!i.ttfb&&e&&(i.ttfb=e.responseStart-e.navigationStart,i.ttfb&&s++)}}var i={},s=0,o=!1,a=function(){!o&&s>0&&(o=!0,e.sendWebVitals(i))};"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",(function(){n()})),t.addEventListener("beforeunload",a)}(window,window.atatus),function(t,e){t._atatusConfig&&t._atatusConfig.apikey&&e.config(t._atatusConfig.apikey,t._atatusConfig).install()}(window,window.atatus),module.exports=function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(t){return i(e[o][1][t]||t)}),u,u.exports,t,e,r,n)}return r[o].exports}for(var s=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){"use strict";var n=(0,t("./adapter_factory.js").adapterFactory)({window:window});e.exports=n},{"./adapter_factory.js":2}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.adapterFactory=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).window,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=n.log,u=n.detectBrowser(t),c={browserDetails:u,commonShim:l,extractVersion:n.extractVersion,disableLog:n.disableLog,disableWarnings:n.disableWarnings};switch(u.browser){case"chrome":if(!i||!i.shimPeerConnection||!e.shimChrome)return r("Chrome shim is not included in this adapter release."),c;r("adapter.js shimming chrome."),(c.browserShim=i).shimGetUserMedia(t),i.shimMediaStream(t),i.shimPeerConnection(t),i.shimOnTrack(t),i.shimAddTrackRemoveTrack(t),i.shimGetSendersWithDtmf(t),i.shimGetStats(t),i.shimSenderReceiverGetStats(t),i.fixNegotiationNeeded(t),l.shimRTCIceCandidate(t),l.shimConnectionState(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t),l.removeAllowExtmapMixed(t);break;case"firefox":if(!o||!o.shimPeerConnection||!e.shimFirefox)return r("Firefox shim is not included in this adapter release."),c;r("adapter.js shimming firefox."),(c.browserShim=o).shimGetUserMedia(t),o.shimPeerConnection(t),o.shimOnTrack(t),o.shimRemoveStream(t),o.shimSenderGetStats(t),o.shimReceiverGetStats(t),o.shimRTCDataChannel(t),l.shimRTCIceCandidate(t),l.shimConnectionState(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t);break;case"edge":if(!s||!s.shimPeerConnection||!e.shimEdge)return r("MS edge shim is not included in this adapter release."),c;r("adapter.js shimming edge."),(c.browserShim=s).shimGetUserMedia(t),s.shimGetDisplayMedia(t),s.shimPeerConnection(t),s.shimReplaceTrack(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t);break;case"safari":if(!a||!e.shimSafari)return r("Safari shim is not included in this adapter release."),c;r("adapter.js shimming safari."),(c.browserShim=a).shimRTCIceServerUrls(t),a.shimCreateOfferLegacy(t),a.shimCallbacksAPI(t),a.shimLocalStreamsAPI(t),a.shimRemoteStreamsAPI(t),a.shimTrackEventTransceiver(t),a.shimGetUserMedia(t),l.shimRTCIceCandidate(t),l.shimMaxMessageSize(t),l.shimSendThrowTypeError(t),l.removeAllowExtmapMixed(t);break;default:r("Unsupported browser!")}return c};var n=u(t("./utils")),i=u(t("./chrome/chrome_shim")),s=u(t("./edge/edge_shim")),o=u(t("./firefox/firefox_shim")),a=u(t("./safari/safari_shim")),l=u(t("./common_shim"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var s=t("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return s.shimGetDisplayMedia}}),r.shimMediaStream=function(t){t.MediaStream=t.MediaStream||t.webkitMediaStream},r.shimOnTrack=function(t){if("object"!==(void 0===t?"undefined":n(t))||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype)o.wrapPeerConnectionEvent(t,"track",(function(t){return t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t}));else{Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",(function(n){var i;i=t.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(t){return t.track&&t.track.id===n.track.id})):{track:n.track};var s=new Event("track");s.track=n.track,s.receiver=i,s.transceiver={receiver:i},s.streams=[e.stream],r.dispatchEvent(s)})),e.stream.getTracks().forEach((function(n){var i;i=t.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find((function(t){return t.track&&t.track.id===n.id})):{track:n};var s=new Event("track");s.track=n,s.receiver=i,s.transceiver={receiver:i},s.streams=[e.stream],r.dispatchEvent(s)}))},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}},r.shimGetSendersWithDtmf=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){var e=function(t,e){return{track:e,get dtmf(){return void 0===this._dtmf&&("audio"===e.kind?this._dtmf=t.createDTMFSender(e):this._dtmf=null),this._dtmf},_pc:t}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,n){var i=r.apply(this,arguments);return i||(i=e(this,t),this._senders.push(i)),i};var i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){i.apply(this,arguments);var e=this._senders.indexOf(t);-1!==e&&this._senders.splice(e,1)}}var s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var r=this;this._senders=this._senders||[],s.apply(this,[t]),t.getTracks().forEach((function(t){r._senders.push(e(r,t))}))};var o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;this._senders=this._senders||[],o.apply(this,[t]),t.getTracks().forEach((function(t){var r=e._senders.find((function(e){return e.track===t}));r&&e._senders.splice(e._senders.indexOf(r),1)}))}}else if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){var a=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=a.apply(this,[]);return e.forEach((function(e){return e._pc=t})),e},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},r.shimGetStats=function(t){if(t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(t,r,n){var i=this,s=arguments;if(0<arguments.length&&"function"==typeof t)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof t))return e.apply(this,[]);function o(t){var e={};return t.result().forEach((function(t){var r={id:t.id,timestamp:t.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type};t.names().forEach((function(e){r[e]=t.stat(e)})),e[r.id]=r})),e}function a(t){return new Map(Object.keys(t).map((function(e){return[e,t[e]]})))}return 2<=arguments.length?e.apply(this,[function(t){s[1](a(o(t)))},t]):new Promise((function(t,r){e.apply(i,[function(e){t(a(o(e)))},r])})).then(r,n)}}},r.shimSenderReceiverGetStats=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver){if(!("getStats"in t.RTCRtpSender.prototype)){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,r=e.apply(this,[]);return r.forEach((function(e){return e._pc=t})),r});var r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=r.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then((function(e){return o.filterStats(e,t.track,!0)}))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){var i=t.RTCPeerConnection.prototype.getReceivers;i&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=i.apply(this,[]);return e.forEach((function(e){return e._pc=t})),e}),o.wrapPeerConnectionEvent(t,"track",(function(t){return t.receiver._pc=t.srcElement,t})),t.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then((function(e){return o.filterStats(e,t.track,!1)}))}}if("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype){var s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(0<arguments.length&&arguments[0]instanceof t.MediaStreamTrack){var e=arguments[0],r=void 0,n=void 0,i=void 0;return this.getSenders().forEach((function(t){t.track===e&&(r?i=!0:r=t)})),this.getReceivers().forEach((function(t){return t.track===e&&(n?i=!0:n=t),t.track===e})),i||r&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return s.apply(this,arguments)}}}},r.shimAddTrackRemoveTrackWithNative=a,r.shimAddTrackRemoveTrack=function(t){if(t.RTCPeerConnection){var e=o.detectBrowser(t);if(t.RTCPeerConnection.prototype.addTrack&&65<=e.version)return a(t);var r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((function(e){return t._reverseStreams[e.id]}))};var n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(e){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},e.getTracks().forEach((function(t){if(r.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[e.id]){var i=new t.MediaStream(e.getTracks());this._streams[e.id]=i,this._reverseStreams[i.id]=e,e=i}n.apply(this,[e])};var i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[t.id]||t]),delete this._reverseStreams[this._streams[t.id]?this._streams[t.id].id:t.id],delete this._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(e,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(t){return t===e})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var s=this._streams[r.id];if(s)s.addTrack(e),Promise.resolve().then((function(){n.dispatchEvent(new Event("negotiationneeded"))}));else{var o=new t.MediaStream([e]);this._streams[r.id]=o,this._reverseStreams[o.id]=r,this.addStream(o)}return this.getSenders().find((function(t){return t.track===e}))},["createOffer","createAnswer"].forEach((function(e){var r=t.RTCPeerConnection.prototype[e];t.RTCPeerConnection.prototype[e]=function(){var t=this,e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=u(t,r);e[0].apply(null,[n])},function(t){e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then((function(e){return u(t,e)}))}}));var s=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type&&(arguments[0]=function(t,e){var r=e.sdp;return Object.keys(t._reverseStreams||[]).forEach((function(e){var n=t._reverseStreams[e],i=t._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)})),new RTCSessionDescription({type:e.type,sdp:r})}(this,arguments[0])),s.apply(this,arguments)};var l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get:function(){var t=l.get.apply(this);return""===t.type?t:u(this,t)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){var e=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(t._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var r=void 0;Object.keys(this._streams).forEach((function(n){e._streams[n].getTracks().find((function(e){return t.track===e}))&&(r=e._streams[n])})),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(t.track),this.dispatchEvent(new Event("negotiationneeded")))}}function u(t,e){var r=e.sdp;return Object.keys(t._reverseStreams||[]).forEach((function(e){var n=t._reverseStreams[e],i=t._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)})),new RTCSessionDescription({type:e.type,sdp:r})}},r.shimPeerConnection=function(t){if(!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var r=t.RTCPeerConnection.prototype[e];t.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var e=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},r.fixNegotiationNeeded=function(t){o.wrapPeerConnectionEvent(t,"negotiationneeded",(function(t){if("stable"===t.target.signalingState)return t}))};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("../utils.js"));function a(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(e){return t._shimmedLocalStreams[e][0]}))};var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,r){if(!r)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=e.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var e=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach((function(t){if(e.getSenders().find((function(e){return e.track===t})))throw new DOMException("Track already exists.","InvalidAccessError")}));var n=this.getSenders();r.apply(this,arguments);var i=this.getSenders().filter((function(t){return-1===n.indexOf(t)}));this._shimmedLocalStreams[t.id]=[t].concat(i)};var n=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],n.apply(this,arguments)};var i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach((function(r){var n=e._shimmedLocalStreams[r].indexOf(t);-1!==n&&e._shimmedLocalStreams[r].splice(n,1),1===e._shimmedLocalStreams[r].length&&delete e._shimmedLocalStreams[r]})),i.apply(this,arguments)}}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&("function"==typeof e?t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then((function(e){var n=r.video&&r.video.width,i=r.video&&r.video.height,s=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:s||3}},n&&(r.video.mandatory.maxWidth=n),i&&(r.video.mandatory.maxHeight=i),t.navigator.mediaDevices.getUserMedia(r)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}},{}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.shimGetUserMedia=function(t){var e=t&&t.navigator;if(e.mediaDevices){var r=i.detectBrowser(t);if(e.getUserMedia=function(t,r,n){l(t,(function(t){e.webkitGetUserMedia(t,r,(function(t){n&&n(u(t))}))}))}.bind(e),e.mediaDevices.getUserMedia){var o=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(t){return l(t,(function(t){return o(t).then((function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((function(t){t.stop()})),new DOMException("","NotFoundError");return e}),(function(t){return Promise.reject(u(t))}))}))}}}function a(t){if("object"!==(void 0===t?"undefined":n(t))||t.mandatory||t.optional)return t;var e={};return Object.keys(t).forEach((function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var i="object"===n(t[r])?t[r]:{ideal:t[r]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var s=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==i.ideal){e.optional=e.optional||[];var o={};"number"==typeof i.ideal?(o[s("min",r)]=i.ideal,e.optional.push(o),(o={})[s("max",r)]=i.ideal):o[s("",r)]=i.ideal,e.optional.push(o)}void 0!==i.exact&&"number"!=typeof i.exact?(e.mandatory=e.mandatory||{},e.mandatory[s("",r)]=i.exact):["min","max"].forEach((function(t){void 0!==i[t]&&(e.mandatory=e.mandatory||{},e.mandatory[s(t,r)]=i[t])}))}})),t.advanced&&(e.optional=(e.optional||[]).concat(t.advanced)),e}function l(t,i){if(61<=r.version)return i(t);if((t=JSON.parse(JSON.stringify(t)))&&"object"===n(t.audio)){var o=function(t,e,r){e in t&&!(r in t)&&(t[r]=t[e],delete t[e])};o((t=JSON.parse(JSON.stringify(t))).audio,"autoGainControl","googAutoGainControl"),o(t.audio,"noiseSuppression","googNoiseSuppression"),t.audio=a(t.audio)}if(t&&"object"===n(t.video)){var l=t.video.facingMode;l=l&&("object"===(void 0===l?"undefined":n(l))?l:{ideal:l});var u=r.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!e.mediaDevices.getSupportedConstraints||!e.mediaDevices.getSupportedConstraints().facingMode||u)){delete t.video.facingMode;var c=void 0;if("environment"===l.exact||"environment"===l.ideal?c=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(c=["front"]),c)return e.mediaDevices.enumerateDevices().then((function(e){var r=(e=e.filter((function(t){return"videoinput"===t.kind}))).find((function(t){return c.some((function(e){return t.label.toLowerCase().includes(e)}))}));return!r&&e.length&&c.includes("back")&&(r=e[e.length-1]),r&&(t.video.deviceId=l.exact?{exact:r.deviceId}:{ideal:r.deviceId}),t.video=a(t.video),s("chrome: "+JSON.stringify(t)),i(t)}))}t.video=a(t.video)}return s("chrome: "+JSON.stringify(t)),i(t)}function u(t){return 64<=r.version?t:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[t.name]||t.name,message:t.message,constraint:t.constraint||t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}}};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("../utils.js")),s=i.log},{"../utils.js":15}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.shimRTCIceCandidate=function(t){if(!(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)){var e=t.RTCIceCandidate;t.RTCIceCandidate=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.candidate&&0===t.candidate.indexOf("a=")&&((t=JSON.parse(JSON.stringify(t))).candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){var r=new e(t),i=s.default.parseCandidate(t.candidate),o=Object.assign(r,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(t)},t.RTCIceCandidate.prototype=e.prototype,o.wrapPeerConnectionEvent(t,"icecandidate",(function(e){return e.candidate&&Object.defineProperty(e,"candidate",{value:new t.RTCIceCandidate(e.candidate),writable:"false"}),e}))}},r.shimMaxMessageSize=function(t){if(!t.RTCSctpTransport&&t.RTCPeerConnection){var e=o.detectBrowser(t);"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,function(t){if(!t||!t.sdp)return!1;var e=s.default.splitSections(t.sdp);return e.shift(),e.some((function(t){var e=s.default.parseMLine(t);return e&&"application"===e.kind&&-1!==e.protocol.indexOf("SCTP")}))}(arguments[0])){var t=function(t){var e=t.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===e||e.length<2)return-1;var r=parseInt(e[1],10);return r!=r?-1:r}(arguments[0]),n=function(t){var r=65536;return"firefox"===e.browser&&(r=e.version<57?-1===t?16384:2147483637:e.version<60?57===e.version?65535:65536:2147483637),r}(t),i=function(t,r){var n=65536;"firefox"===e.browser&&57===e.version&&(n=65535);var i=s.default.matchPrefix(t.sdp,"a=max-message-size:");return 0<i.length?n=parseInt(i[0].substr(19),10):"firefox"===e.browser&&-1!==r&&(n=2147483637),n}(arguments[0],t),o=void 0;o=0===n&&0===i?Number.POSITIVE_INFINITY:0===n||0===i?Math.max(n,i):Math.min(n,i);var a={};Object.defineProperty(a,"maxMessageSize",{get:function(){return o}}),this._sctp=a}return r.apply(this,arguments)}}},r.shimSendThrowTypeError=function(t){if(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype){var e=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){var t=e.apply(this,arguments);return r(t,this),t},o.wrapPeerConnectionEvent(t,"datachannel",(function(t){return r(t.channel,t.target),t}))}function r(t,e){var r=t.send;t.send=function(){var n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===t.readyState&&e.sctp&&i>e.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+e.sctp.maxMessageSize+" bytes)");return r.apply(t,arguments)}}},r.shimConnectionState=function(t){if(t.RTCPeerConnection&&!("connectionState"in t.RTCPeerConnection.prototype)){var e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(t){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),t&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=t)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(t){var r=e[t];e[t]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(t){var e=t.target;if(e._lastConnectionState!==e.connectionState){e._lastConnectionState=e.connectionState;var r=new Event("connectionstatechange",t);e.dispatchEvent(r)}return t},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}},r.removeAllowExtmapMixed=function(t){if(t.RTCPeerConnection){var e=o.detectBrowser(t);if(!("chrome"===e.browser&&71<=e.version)){var r=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(t){return t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")&&(t.sdp=t.sdp.split("\n").filter((function(t){return"a=extmap-allow-mixed"!==t.trim()})).join("\n")),r.apply(this,arguments)}}}};var i,s=(i=t("sdp"))&&i.__esModule?i:{default:i},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("./utils"))},{"./utils":15,sdp:17}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var n=t("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return n.shimGetUserMedia}});var i=t("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),r.shimPeerConnection=function(t){var e=o.detectBrowser(t);if(t.RTCIceGatherer&&(t.RTCIceCandidate||(t.RTCIceCandidate=function(t){return t}),t.RTCSessionDescription||(t.RTCSessionDescription=function(t){return t}),e.version<15025)){var r=Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype,"enabled");Object.defineProperty(t.MediaStreamTrack.prototype,"enabled",{set:function(t){r.set.call(this,t);var e=new Event("enabled");e.enabled=t,this.dispatchEvent(e)}})}!t.RTCRtpSender||"dtmf"in t.RTCRtpSender.prototype||Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new t.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),t.RTCDtmfSender&&!t.RTCDTMFSender&&(t.RTCDTMFSender=t.RTCDtmfSender);var n=(0,l.default)(t,e.version);t.RTCPeerConnection=function(t){return t&&t.iceServers&&(t.iceServers=(0,a.filterIceServers)(t.iceServers,e.version),o.log("ICE servers after filtering:",t.iceServers)),new n(t)},t.RTCPeerConnection.prototype=n.prototype},r.shimReplaceTrack=function(t){!t.RTCRtpSender||"replaceTrack"in t.RTCRtpSender.prototype||(t.RTCRtpSender.prototype.replaceTrack=t.RTCRtpSender.prototype.setTrack)};var s,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("../utils")),a=t("./filtericeservers"),l=(s=t("rtcpeerconnection-shim"))&&s.__esModule?s:{default:s}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.filterIceServers=function(t,e){var r=!1;return(t=JSON.parse(JSON.stringify(t))).filter((function(t){if(t&&(t.urls||t.url)){var e=t.urls||t.url;t.url&&!t.urls&&n.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof e;return i&&(e=[e]),e=e.filter((function(t){if(0===t.indexOf("stun:"))return!1;var e=t.startsWith("turn")&&!t.startsWith("turn:[")&&t.includes("transport=udp");return e&&!r?r=!0:e&&!r})),delete t.url,t.urls=i?e[0]:e,!!e.length}}))};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("../utils"))},{"../utils":15}],9:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(t){"getDisplayMedia"in t.navigator&&t.navigator.mediaDevices&&(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=t.navigator.getDisplayMedia.bind(t.navigator)))}},{}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetUserMedia=function(t){var e=t&&t.navigator,r=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(t){return r(t).catch((function(t){return Promise.reject(function(t){return{name:{PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}}}(t))}))}}},{}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=r.shimGetUserMedia=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./getusermedia");Object.defineProperty(r,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var s=t("./getdisplaymedia");Object.defineProperty(r,"shimGetDisplayMedia",{enumerable:!0,get:function(){return s.shimGetDisplayMedia}}),r.shimOnTrack=function(t){"object"===(void 0===t?"undefined":n(t))&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},r.shimPeerConnection=function(t){var e=o.detectBrowser(t);if("object"===(void 0===t?"undefined":n(t))&&(t.RTCPeerConnection||t.mozRTCPeerConnection)){!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var r=t.RTCPeerConnection.prototype[e];t.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}}));var r=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(t,r,n){return s.apply(this,[t||null]).then((function(t){if(e.version<53&&!r)try{t.forEach((function(t){t.type=i[t.type]||t.type}))}catch(e){if("TypeError"!==e.name)throw e;t.forEach((function(e,r){t.set(r,Object.assign({},e,{type:i[e.type]||e.type}))}))}return t})).then(r,n)}}},r.shimSenderGetStats=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection&&t.RTCRtpSender&&(!t.RTCRtpSender||!("getStats"in t.RTCRtpSender.prototype))){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,r=e.apply(this,[]);return r.forEach((function(e){return e._pc=t})),r});var r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=r.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},r.shimReceiverGetStats=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection&&t.RTCRtpSender&&(!t.RTCRtpSender||!("getStats"in t.RTCRtpReceiver.prototype))){var e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,r=e.apply(this,[]);return r.forEach((function(e){return e._pc=t})),r}),o.wrapPeerConnectionEvent(t,"track",(function(t){return t.receiver._pc=t.srcElement,t})),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},r.shimRemoveStream=function(t){t.RTCPeerConnection&&!("removeStream"in t.RTCPeerConnection.prototype)&&(t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;o.deprecated("removeStream","removeTrack"),this.getSenders().forEach((function(r){r.track&&t.getTracks().includes(r.track)&&e.removeTrack(r)}))})},r.shimRTCDataChannel=function(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shimGetDisplayMedia=function(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(r&&r.video)return!0===r.video?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r);var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)})}},{}],13:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.shimGetUserMedia=function(t){var e=i.detectBrowser(t),r=t&&t.navigator,s=t&&t.MediaStreamTrack;if(r.getUserMedia=function(t,e,n){i.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(t).then(e,n)},!(55<e.version&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var o=function(t,e,r){e in t&&!(r in t)&&(t[r]=t[e],delete t[e])},a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(t){return"object"===(void 0===t?"undefined":n(t))&&"object"===n(t.audio)&&(t=JSON.parse(JSON.stringify(t)),o(t.audio,"autoGainControl","mozAutoGainControl"),o(t.audio,"noiseSuppression","mozNoiseSuppression")),a(t)},s&&s.prototype.getSettings){var l=s.prototype.getSettings;s.prototype.getSettings=function(){var t=l.apply(this,arguments);return o(t,"mozAutoGainControl","autoGainControl"),o(t,"mozNoiseSuppression","noiseSuppression"),t}}if(s&&s.prototype.applyConstraints){var u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(t){return"audio"===this.kind&&"object"===(void 0===t?"undefined":n(t))&&(t=JSON.parse(JSON.stringify(t)),o(t,"autoGainControl","mozAutoGainControl"),o(t,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[t])}}}};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("../utils"))},{"../utils":15}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.shimLocalStreamsAPI=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getTracks().forEach((function(n){return e.call(r,n,t)}))},t.RTCPeerConnection.prototype.addTrack=function(t,r){return r&&(this._localStreams?this._localStreams.includes(r)||this._localStreams.push(r):this._localStreams=[r]),e.call(this,t,r)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(t);if(-1!==r){this._localStreams.splice(r,1);var n=t.getTracks();this.getSenders().forEach((function(t){n.includes(t.track)&&e.removeTrack(t)}))}})}},r.shimRemoteStreamsAPI=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(t){var e=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=t),this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!e._remoteStreams.includes(t)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}}))})}});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!(0<=t._remoteStreams.indexOf(e))){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}}))}),e.apply(t,arguments)}}},r.shimCallbacksAPI=function(t){if("object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype,r=e.createOffer,i=e.createAnswer,s=e.setLocalDescription,o=e.setRemoteDescription,a=e.addIceCandidate;e.createOffer=function(t,e){var n=2<=arguments.length?arguments[2]:t,i=r.apply(this,[n]);return e?(i.then(t,e),Promise.resolve()):i},e.createAnswer=function(t,e){var r=2<=arguments.length?arguments[2]:t,n=i.apply(this,[r]);return e?(n.then(t,e),Promise.resolve()):n};var l=function(t,e,r){var n=s.apply(this,[t]);return r?(n.then(e,r),Promise.resolve()):n};e.setLocalDescription=l,l=function(t,e,r){var n=o.apply(this,[t]);return r?(n.then(e,r),Promise.resolve()):n},e.setRemoteDescription=l,l=function(t,e,r){var n=a.apply(this,[t]);return r?(n.then(e,r),Promise.resolve()):n},e.addIceCandidate=l}},r.shimGetUserMedia=function(t){var e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){var r=e.mediaDevices,n=r.getUserMedia.bind(r);e.mediaDevices.getUserMedia=function(t){return n(s(t))}}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(t,r,n){e.mediaDevices.getUserMedia(t).then(r,n)}.bind(e))},r.shimConstraints=s,r.shimRTCIceServerUrls=function(t){var e=t.RTCPeerConnection;t.RTCPeerConnection=function(t,r){if(t&&t.iceServers){for(var n=[],s=0;s<t.iceServers.length;s++){var o=t.iceServers[s];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(i.deprecated("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,n.push(o)):n.push(t.iceServers[s])}t.iceServers=n}return new e(t,r)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in t.RTCPeerConnection&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return e.generateCertificate}})},r.shimTrackEventTransceiver=function(t){"object"===(void 0===t?"undefined":n(t))&&t.RTCPeerConnection&&"receiver"in t.RTCTrackEvent.prototype&&!t.RTCTransceiver&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},r.shimCreateOfferLegacy=function(t){var e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){if(t){void 0!==t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);var r=this.getTransceivers().find((function(t){return"audio"===t.receiver.track.kind}));!1===t.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==t.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);var n=this.getTransceivers().find((function(t){return"video"===t.receiver.track.kind}));!1===t.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==t.offerToReceiveVideo||n||this.addTransceiver("video")}return e.apply(this,arguments)}};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(t("../utils"));function s(t){return t&&void 0!==t.video?Object.assign({},t,{video:i.compactObject(t.video)}):t}},{"../utils":15}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.extractVersion=o,r.wrapPeerConnectionEvent=function(t,e,r){if(t.RTCPeerConnection){var n=t.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(t,n){if(t!==e)return i.apply(this,arguments);function s(t){var e=r(t);e&&n(e)}return this._eventMap=this._eventMap||{},this._eventMap[n]=s,i.apply(this,[t,s])};var s=n.removeEventListener;n.removeEventListener=function(t,r){if(t!==e||!this._eventMap||!this._eventMap[r])return s.apply(this,arguments);var n=this._eventMap[r];return delete this._eventMap[r],s.apply(this,[t,n])},Object.defineProperty(n,"on"+e,{get:function(){return this["_on"+e]},set:function(t){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),t&&this.addEventListener(e,this["_on"+e]=t)},enumerable:!0,configurable:!0})}},r.disableLog=function(t){return"boolean"==typeof t?(i=t)?"adapter.js logging disabled":"adapter.js logging enabled":new Error("Argument type: "+(void 0===t?"undefined":n(t))+". Please use a boolean.")},r.disableWarnings=function(t){return"boolean"==typeof t?(s=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled")):new Error("Argument type: "+(void 0===t?"undefined":n(t))+". Please use a boolean.")},r.log=function(){if("object"===("undefined"==typeof window?"undefined":n(window))){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},r.deprecated=function(t,e){s&&console.warn(t+" is deprecated, please use "+e+" instead.")},r.detectBrowser=function(t){var e=t.navigator,r={browser:null,version:null};if(void 0===t||!t.navigator)return r.browser="Not a browser.",r;if(e.mozGetUserMedia)r.browser="firefox",r.version=o(e.userAgent,/Firefox\/(\d+)\./,1);else if(e.webkitGetUserMedia||!1===t.isSecureContext&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)r.browser="chrome",r.version=o(e.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.mediaDevices&&e.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=o(e.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.RTCPeerConnection||!e.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=o(e.userAgent,/AppleWebKit\/(\d+)\./,1)}return r},r.compactObject=function t(e){return"object"!==(void 0===e?"undefined":n(e))?e:Object.keys(e).reduce((function(r,i){var s="object"===n(e[i]),o=s?t(e[i]):e[i],a=s&&!Object.keys(o).length;return void 0===o||a?r:Object.assign(r,function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},i,o))}),{})},r.walkStats=a,r.filterStats=function(t,e,r){var n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(null===e)return i;var s=[];return t.forEach((function(t){"track"===t.type&&t.trackIdentifier===e.id&&s.push(t)})),s.forEach((function(e){t.forEach((function(r){r.type===n&&r.trackId===e.id&&a(t,r,i)}))})),i};var i=!0,s=!0;function o(t,e,r){var n=t.match(e);return n&&n.length>=r&&parseInt(n[r],10)}function a(t,e,r){e&&!r.has(e.id)&&(r.set(e.id,e),Object.keys(e).forEach((function(n){n.endsWith("Id")?a(t,t.get(e[n]),r):n.endsWith("Ids")&&e[n].forEach((function(e){a(t,t.get(e),r)}))})))}},{}],16:[function(t,e,r){"use strict";var n=t("sdp");function i(t,e,r,i,s){var o=n.writeRtpDescription(t.kind,e);if(o+=n.writeIceParameters(t.iceGatherer.getLocalParameters()),o+=n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":s||"active"),o+="a=mid:"+t.mid+"\r\n",t.rtpSender&&t.rtpReceiver?o+="a=sendrecv\r\n":t.rtpSender?o+="a=sendonly\r\n":t.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",t.rtpSender){var a=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=a;var l="msid:"+(i?i.id:"-")+" "+a+"\r\n";o+="a="+l,o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+l,t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),o}function s(t,e){function r(t,e){t=parseInt(t,10);for(var r=0;r<e.length;r++)if(e[r].payloadType===t||e[r].preferredPayloadType===t)return e[r]}var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return t.codecs.forEach((function(i){for(var s=0;s<e.codecs.length;s++){var o=e.codecs[s];if(i.name.toLowerCase()===o.name.toLowerCase()&&i.clockRate===o.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&o.parameters.apt&&(a=i,l=o,u=t.codecs,c=e.codecs,p=h=void 0,h=r(a.parameters.apt,u),p=r(l.parameters.apt,c),!h||!p||h.name.toLowerCase()!==p.name.toLowerCase()))continue;(o=JSON.parse(JSON.stringify(o))).numChannels=Math.min(i.numChannels,o.numChannels),n.codecs.push(o),o.rtcpFeedback=o.rtcpFeedback.filter((function(t){for(var e=0;e<i.rtcpFeedback.length;e++)if(i.rtcpFeedback[e].type===t.type&&i.rtcpFeedback[e].parameter===t.parameter)return!0;return!1}));break}}var a,l,u,c,h,p})),t.headerExtensions.forEach((function(t){for(var r=0;r<e.headerExtensions.length;r++){var i=e.headerExtensions[r];if(t.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function o(t,e,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[e][t].indexOf(r)}function a(t,e){var r=t.getRemoteCandidates().find((function(t){return e.foundation===t.foundation&&e.ip===t.ip&&e.port===t.port&&e.priority===t.priority&&e.protocol===t.protocol&&e.type===t.type}));return r||t.addRemoteCandidate(e),!r}function l(t,e){var r=new Error(e);return r.name=t,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[t],r}e.exports=function(t,e){function r(e,r){r.addTrack(e),r.dispatchEvent(new t.MediaStreamTrackEvent("addtrack",{track:e}))}function u(e,r,n,i){var s=new Event("track");s.track=r,s.receiver=n,s.transceiver={receiver:n},s.streams=i,t.setTimeout((function(){e._dispatchEvent("track",s)}))}function c(r){var i=this,s=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(t){i[t]=s[t].bind(s)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw l("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(t,e){var r=!1;return(t=JSON.parse(JSON.stringify(t))).filter((function(t){if(t&&(t.urls||t.url)){var n=t.urls||t.url;t.url&&!t.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof n;return i&&(n=[n]),n=n.filter((function(t){return 0!==t.indexOf("turn:")||-1===t.indexOf("transport=udp")||-1!==t.indexOf("turn:[")||r?0===t.indexOf("stun:")&&14393<=e&&-1===t.indexOf("?transport=udp"):r=!0})),delete t.url,t.urls=i?n[0]:n,!!n.length}}))}(r.iceServers||[],e),this._iceGatherers=[],r.iceCandidatePoolSize)for(var o=r.iceCandidatePoolSize;0<o;o--)this._iceGatherers.push(new t.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1}Object.defineProperty(c.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(c.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),c.prototype.onicecandidate=null,c.prototype.onaddstream=null,c.prototype.ontrack=null,c.prototype.onremovestream=null,c.prototype.onsignalingstatechange=null,c.prototype.oniceconnectionstatechange=null,c.prototype.onconnectionstatechange=null,c.prototype.onicegatheringstatechange=null,c.prototype.onnegotiationneeded=null,c.prototype.ondatachannel=null,c.prototype._dispatchEvent=function(t,e){this._isClosed||(this.dispatchEvent(e),"function"==typeof this["on"+t]&&this["on"+t](e))},c.prototype._emitGatheringStateChange=function(){var t=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",t)},c.prototype.getConfiguration=function(){return this._config},c.prototype.getLocalStreams=function(){return this.localStreams},c.prototype.getRemoteStreams=function(){return this.remoteStreams},c.prototype._createTransceiver=function(t,e){var r=0<this.transceivers.length,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:t,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();n.iceTransport=i.iceTransport,n.dtlsTransport=i.dtlsTransport}return e||this.transceivers.push(n),n},c.prototype.addTrack=function(e,r){if(this._isClosed)throw l("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find((function(t){return t.track===e})))throw l("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==e.kind||(n=this.transceivers[i]);return n=n||this._createTransceiver(e.kind),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=e,n.stream=r,n.rtpSender=new t.RTCRtpSender(e,n.dtlsTransport),n.rtpSender},c.prototype.addStream=function(t){var r=this;if(15025<=e)t.getTracks().forEach((function(e){r.addTrack(e,t)}));else{var n=t.clone();t.getTracks().forEach((function(t,e){var r=n.getTracks()[e];t.addEventListener("enabled",(function(t){r.enabled=t.enabled}))})),n.getTracks().forEach((function(t){r.addTrack(t,n)}))}},c.prototype.removeTrack=function(e){if(this._isClosed)throw l("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof t.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find((function(t){return t.rtpSender===e}));if(!r)throw l("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map((function(t){return t.stream})).indexOf(n)&&-1<this.localStreams.indexOf(n)&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},c.prototype.removeStream=function(t){var e=this;t.getTracks().forEach((function(t){var r=e.getSenders().find((function(e){return e.track===t}));r&&e.removeTrack(r)}))},c.prototype.getSenders=function(){return this.transceivers.filter((function(t){return!!t.rtpSender})).map((function(t){return t.rtpSender}))},c.prototype.getReceivers=function(){return this.transceivers.filter((function(t){return!!t.rtpReceiver})).map((function(t){return t.rtpReceiver}))},c.prototype._createIceGatherer=function(e,r){var n=this;if(r&&0<e)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new t.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var r=!t.candidate||0===Object.keys(t.candidate).length;i.state=r?"completed":"gathering",null!==n.transceivers[e].bufferedCandidateEvents&&n.transceivers[e].bufferedCandidateEvents.push(t)},i.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),i},c.prototype._gather=function(e,r){var i=this,s=this.transceivers[r].iceGatherer;if(!s.onlocalcandidate){var o=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,s.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),s.onlocalcandidate=function(t){if(!(i.usingBundle&&0<r)){var o=new Event("icecandidate");o.candidate={sdpMid:e,sdpMLineIndex:r};var a=t.candidate,l=!a||0===Object.keys(a).length;if(l)"new"!==s.state&&"gathering"!==s.state||(s.state="completed");else{"new"===s.state&&(s.state="gathering"),a.component=1,a.ufrag=s.getLocalParameters().usernameFragment;var u=n.writeCandidate(a);o.candidate=Object.assign(o.candidate,n.parseCandidate(u)),o.candidate.candidate=u,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var c=n.getMediaSections(i._localDescription.sdp);c[o.candidate.sdpMLineIndex]+=l?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",i._localDescription.sdp=n.getDescription(i._localDescription.sdp)+c.join("");var h=i.transceivers.every((function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state}));"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),l||i._dispatchEvent("icecandidate",o),h&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},t.setTimeout((function(){o.forEach((function(t){s.onlocalcandidate(t)}))}),0)}},c.prototype._createIceAndDtlsTransports=function(){var e=this,r=new t.RTCIceTransport(null);r.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var n=new t.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){e._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},c.prototype._disposeIceAndDtlsTransports=function(t){var e=this.transceivers[t].iceGatherer;e&&(delete e.onlocalcandidate,delete this.transceivers[t].iceGatherer);var r=this.transceivers[t].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[t].iceTransport);var n=this.transceivers[t].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[t].dtlsTransport)},c.prototype._transceive=function(t,r,i){var o=s(t.localCapabilities,t.remoteCapabilities);r&&t.rtpSender&&(o.encodings=t.sendEncodingParameters,o.rtcp={cname:n.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(o.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(o)),i&&t.rtpReceiver&&0<o.codecs.length&&("video"===t.kind&&t.recvEncodingParameters&&e<15019&&t.recvEncodingParameters.forEach((function(t){delete t.rtx})),t.recvEncodingParameters.length?o.encodings=t.recvEncodingParameters:o.encodings=[{}],o.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(o.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(o.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(o))},c.prototype.setLocalDescription=function(t){var e,r,i=this;if(-1===["offer","answer"].indexOf(t.type))return Promise.reject(l("TypeError",'Unsupported type "'+t.type+'"'));if(!o("setLocalDescription",t.type,i.signalingState)||i._isClosed)return Promise.reject(l("InvalidStateError","Can not set local "+t.type+" in state "+i.signalingState));if("offer"===t.type)e=n.splitSections(t.sdp),r=e.shift(),e.forEach((function(t,e){var r=n.parseRtpParameters(t);i.transceivers[e].localCapabilities=r})),i.transceivers.forEach((function(t,e){i._gather(t.mid,e)}));else if("answer"===t.type){e=n.splitSections(i._remoteDescription.sdp),r=e.shift();var a=0<n.matchPrefix(r,"a=ice-lite").length;e.forEach((function(t,e){var o=i.transceivers[e],l=o.iceGatherer,u=o.iceTransport,c=o.dtlsTransport,h=o.localCapabilities,p=o.remoteCapabilities;if(!(n.isRejected(t)&&0===n.matchPrefix(t,"a=bundle-only").length||o.rejected)){var f=n.getIceParameters(t,r),d=n.getDtlsParameters(t,r);a&&(d.role="server"),i.usingBundle&&0!==e||(i._gather(o.mid,e),"new"===u.state&&u.start(l,f,a?"controlling":"controlled"),"new"===c.state&&c.start(d));var g=s(h,p);i._transceive(o,0<g.codecs.length,!1)}}))}return i._localDescription={type:t.type,sdp:t.sdp},"offer"===t.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},c.prototype.setRemoteDescription=function(i){var c=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(l("TypeError",'Unsupported type "'+i.type+'"'));if(!o("setRemoteDescription",i.type,c.signalingState)||c._isClosed)return Promise.reject(l("InvalidStateError","Can not set remote "+i.type+" in state "+c.signalingState));var h={};c.remoteStreams.forEach((function(t){h[t.id]=t}));var p=[],f=n.splitSections(i.sdp),d=f.shift(),g=0<n.matchPrefix(d,"a=ice-lite").length,v=0<n.matchPrefix(d,"a=group:BUNDLE ").length;c.usingBundle=v;var m=n.matchPrefix(d,"a=ice-options:")[0];return c.canTrickleIceCandidates=!!m&&0<=m.substr(14).split(" ").indexOf("trickle"),f.forEach((function(o,l){var u=n.splitLines(o),f=n.getKind(o),m=n.isRejected(o)&&0===n.matchPrefix(o,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],b=n.getDirection(o,d),E=n.parseMsid(o),w=n.getMid(o)||n.generateIdentifier();if(m||"application"===f&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))c.transceivers[l]={mid:w,kind:f,protocol:y,rejected:!0};else{var A,S,T,I,P,k,R,C,O;!m&&c.transceivers[l]&&c.transceivers[l].rejected&&(c.transceivers[l]=c._createTransceiver(f,!0));var _,x,L=n.parseRtpParameters(o);m||(_=n.getIceParameters(o,d),(x=n.getDtlsParameters(o,d)).role="client"),R=n.parseRtpEncodingParameters(o);var N=n.parseRtcpParameters(o),D=0<n.matchPrefix(o,"a=end-of-candidates",d).length,M=n.matchPrefix(o,"a=candidate:").map((function(t){return n.parseCandidate(t)})).filter((function(t){return 1===t.component}));if(("offer"===i.type||"answer"===i.type)&&!m&&v&&0<l&&c.transceivers[l]&&(c._disposeIceAndDtlsTransports(l),c.transceivers[l].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[l].iceTransport=c.transceivers[0].iceTransport,c.transceivers[l].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[l].rtpSender&&c.transceivers[l].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[l].rtpReceiver&&c.transceivers[l].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),"offer"!==i.type||m)"answer"!==i.type||m||(S=(A=c.transceivers[l]).iceGatherer,T=A.iceTransport,I=A.dtlsTransport,P=A.rtpReceiver,k=A.sendEncodingParameters,C=A.localCapabilities,c.transceivers[l].recvEncodingParameters=R,c.transceivers[l].remoteCapabilities=L,c.transceivers[l].rtcpParameters=N,M.length&&"new"===T.state&&(!g&&!D||v&&0!==l?M.forEach((function(t){a(A.iceTransport,t)})):T.setRemoteCandidates(M)),v&&0!==l||("new"===T.state&&T.start(S,_,"controlling"),"new"===I.state&&I.start(x)),!s(A.localCapabilities,A.remoteCapabilities).codecs.filter((function(t){return"rtx"===t.name.toLowerCase()})).length&&A.sendEncodingParameters[0].rtx&&delete A.sendEncodingParameters[0].rtx,c._transceive(A,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!P||"sendrecv"!==b&&"sendonly"!==b?delete A.rtpReceiver:(O=P.track,E?(h[E.stream]||(h[E.stream]=new t.MediaStream),r(O,h[E.stream]),p.push([O,P,h[E.stream]])):(h.default||(h.default=new t.MediaStream),r(O,h.default),p.push([O,P,h.default]))));else{(A=c.transceivers[l]||c._createTransceiver(f)).mid=w,A.iceGatherer||(A.iceGatherer=c._createIceGatherer(l,v)),M.length&&"new"===A.iceTransport.state&&(!D||v&&0!==l?M.forEach((function(t){a(A.iceTransport,t)})):A.iceTransport.setRemoteCandidates(M)),C=t.RTCRtpReceiver.getCapabilities(f),e<15019&&(C.codecs=C.codecs.filter((function(t){return"rtx"!==t.name}))),k=A.sendEncodingParameters||[{ssrc:1001*(2*l+2)}];var B,j=!1;"sendrecv"===b||"sendonly"===b?(j=!A.rtpReceiver,P=A.rtpReceiver||new t.RTCRtpReceiver(A.dtlsTransport,f),j&&(O=P.track,E&&"-"===E.stream||(B=E?(h[E.stream]||(h[E.stream]=new t.MediaStream,Object.defineProperty(h[E.stream],"id",{get:function(){return E.stream}})),Object.defineProperty(O,"id",{get:function(){return E.track}}),h[E.stream]):(h.default||(h.default=new t.MediaStream),h.default)),B&&(r(O,B),A.associatedRemoteMediaStreams.push(B)),p.push([O,P,B]))):A.rtpReceiver&&A.rtpReceiver.track&&(A.associatedRemoteMediaStreams.forEach((function(e){var r=e.getTracks().find((function(t){return t.id===A.rtpReceiver.track.id}));r&&function(e,r){r.removeTrack(e),r.dispatchEvent(new t.MediaStreamTrackEvent("removetrack",{track:e}))}(r,e)})),A.associatedRemoteMediaStreams=[]),A.localCapabilities=C,A.remoteCapabilities=L,A.rtpReceiver=P,A.rtcpParameters=N,A.sendEncodingParameters=k,A.recvEncodingParameters=R,c._transceive(c.transceivers[l],!1,j)}}})),void 0===c._dtlsRole&&(c._dtlsRole="offer"===i.type?"active":"passive"),c._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(h).forEach((function(e){var r=h[e];if(r.getTracks().length){if(-1===c.remoteStreams.indexOf(r)){c.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,t.setTimeout((function(){c._dispatchEvent("addstream",n)}))}p.forEach((function(t){var e=t[0],n=t[1];r.id===t[2].id&&u(c,e,n,[r])}))}})),p.forEach((function(t){t[2]||u(c,t[0],t[1],[])})),t.setTimeout((function(){c&&c.transceivers&&c.transceivers.forEach((function(t){t.iceTransport&&"new"===t.iceTransport.state&&0<t.iceTransport.getRemoteCandidates().length&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),t.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},c.prototype.close=function(){this.transceivers.forEach((function(t){t.iceTransport&&t.iceTransport.stop(),t.dtlsTransport&&t.dtlsTransport.stop(),t.rtpSender&&t.rtpSender.stop(),t.rtpReceiver&&t.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},c.prototype._updateSignalingState=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",e)},c.prototype._maybeFireNegotiationNeeded=function(){var e=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,t.setTimeout((function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._dispatchEvent("negotiationneeded",t)}}),0))},c.prototype._updateIceConnectionState=function(){var t,e={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(t){t.iceTransport&&!t.rejected&&e[t.iceTransport.state]++})),t="new",0<e.failed?t="failed":0<e.checking?t="checking":0<e.disconnected?t="disconnected":0<e.new?t="new":0<e.connected?t="connected":0<e.completed&&(t="completed"),t!==this.iceConnectionState){this.iceConnectionState=t;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},c.prototype._updateConnectionState=function(){var t,e={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(t){t.iceTransport&&t.dtlsTransport&&!t.rejected&&(e[t.iceTransport.state]++,e[t.dtlsTransport.state]++)})),e.connected+=e.completed,t="new",0<e.failed?t="failed":0<e.connecting?t="connecting":0<e.disconnected?t="disconnected":0<e.new?t="new":0<e.connected&&(t="connected"),t!==this.connectionState){this.connectionState=t;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},c.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(l("InvalidStateError","Can not call createOffer after close"));var s=r.transceivers.filter((function(t){return"audio"===t.kind})).length,o=r.transceivers.filter((function(t){return"video"===t.kind})).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(s=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(o=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(r.transceivers.forEach((function(t){"audio"===t.kind?--s<0&&(t.wantReceive=!1):"video"===t.kind&&--o<0&&(t.wantReceive=!1)}));0<s||0<o;)0<s&&(r._createTransceiver("audio"),s--),0<o&&(r._createTransceiver("video"),o--);var u=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach((function(i,s){var o=i.track,a=i.kind,l=i.mid||n.generateIdentifier();i.mid=l,i.iceGatherer||(i.iceGatherer=r._createIceGatherer(s,r.usingBundle));var u=t.RTCRtpSender.getCapabilities(a);e<15019&&(u.codecs=u.codecs.filter((function(t){return"rtx"!==t.name}))),u.codecs.forEach((function(t){"H264"===t.name&&void 0===t.parameters["level-asymmetry-allowed"]&&(t.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach((function(e){t.name.toLowerCase()===e.name.toLowerCase()&&t.clockRate===e.clockRate&&(t.preferredPayloadType=e.payloadType)}))})),u.headerExtensions.forEach((function(t){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach((function(e){t.uri===e.uri&&(t.id=e.id)}))}));var c=i.sendEncodingParameters||[{ssrc:1001*(2*s+1)}];o&&15019<=e&&"video"===a&&!c[0].rtx&&(c[0].rtx={ssrc:c[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new t.RTCRtpReceiver(i.dtlsTransport,a)),i.localCapabilities=u,i.sendEncodingParameters=c})),"max-compat"!==r._config.bundlePolicy&&(u+="a=group:BUNDLE "+r.transceivers.map((function(t){return t.mid})).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",r.transceivers.forEach((function(t,e){u+=i(t,t.localCapabilities,"offer",t.stream,r._dtlsRole),u+="a=rtcp-rsize\r\n",!t.iceGatherer||"new"===r.iceGatheringState||0!==e&&r.usingBundle||(t.iceGatherer.getLocalCandidates().forEach((function(t){t.component=1,u+="a="+n.writeCandidate(t)+"\r\n"})),"completed"===t.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))}));var c=new t.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(c)},c.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(l("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(l("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var o=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(o+="a=group:BUNDLE "+r.transceivers.map((function(t){return t.mid})).join(" ")+"\r\n"),o+="a=ice-options:trickle\r\n";var a=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach((function(t,n){if(!(a<n+1)){if(t.rejected)return"application"===t.kind?"DTLS/SCTP"===t.protocol?o+="m=application 0 DTLS/SCTP 5000\r\n":o+="m=application 0 "+t.protocol+" webrtc-datachannel\r\n":"audio"===t.kind?o+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===t.kind&&(o+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(o+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+t.mid+"\r\n");var l;t.stream&&("audio"===t.kind?l=t.stream.getAudioTracks()[0]:"video"===t.kind&&(l=t.stream.getVideoTracks()[0]),l&&15019<=e&&"video"===t.kind&&!t.sendEncodingParameters[0].rtx&&(t.sendEncodingParameters[0].rtx={ssrc:t.sendEncodingParameters[0].ssrc+1}));var u=s(t.localCapabilities,t.remoteCapabilities);!u.codecs.filter((function(t){return"rtx"===t.name.toLowerCase()})).length&&t.sendEncodingParameters[0].rtx&&delete t.sendEncodingParameters[0].rtx,o+=i(t,u,"answer",t.stream,r._dtlsRole),t.rtcpParameters&&t.rtcpParameters.reducedSize&&(o+="a=rtcp-rsize\r\n")}}));var u=new t.RTCSessionDescription({type:"answer",sdp:o});return Promise.resolve(u)},c.prototype.addIceCandidate=function(t){var e,r=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(i,s){if(!r._remoteDescription)return s(l("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var o=t.sdpMLineIndex;if(t.sdpMid)for(var u=0;u<r.transceivers.length;u++)if(r.transceivers[u].mid===t.sdpMid){o=u;break}var c=r.transceivers[o];if(!c)return s(l("OperationError","Can not add ICE candidate"));if(c.rejected)return i();var h=0<Object.keys(t.candidate).length?n.parseCandidate(t.candidate):{};if("tcp"===h.protocol&&(0===h.port||9===h.port))return i();if(h.component&&1!==h.component)return i();if((0===o||0<o&&c.iceTransport!==r.transceivers[0].iceTransport)&&!a(c.iceTransport,h))return s(l("OperationError","Can not add ICE candidate"));var p=t.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(e=n.getMediaSections(r._remoteDescription.sdp))[o]+="a="+(h.type?p:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+e.join("")}else for(var f=0;f<r.transceivers.length&&(r.transceivers[f].rejected||(r.transceivers[f].iceTransport.addRemoteCandidate({}),(e=n.getMediaSections(r._remoteDescription.sdp))[f]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+e.join(""),!r.usingBundle));f++);i()}))},c.prototype.getStats=function(e){if(e&&e instanceof t.MediaStreamTrack){var r=null;if(this.transceivers.forEach((function(t){t.rtpSender&&t.rtpSender.track===e?r=t.rtpSender:t.rtpReceiver&&t.rtpReceiver.track===e&&(r=t.rtpReceiver)})),!r)throw l("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach((function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(e){t[e]&&n.push(t[e].getStats())}))})),Promise.all(n).then((function(t){var e=new Map;return t.forEach((function(t){t.forEach((function(t){e.set(t.id,t)}))})),e}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(e){var r=t[e];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then((function(t){var e=new Map;return Object.keys(t).forEach((function(r){t[r].type=function(t){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type}(t[r]),e.set(r,t[r])})),e}))}}}));var h=["createOffer","createAnswer"];return h.forEach((function(t){var e=c.prototype[t];c.prototype[t]=function(){var t=arguments;return"function"==typeof t[0]||"function"==typeof t[1]?e.apply(this,[arguments[2]]).then((function(e){"function"==typeof t[0]&&t[0].apply(null,[e])}),(function(e){"function"==typeof t[1]&&t[1].apply(null,[e])})):e.apply(this,arguments)}})),(h=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(t){var e=c.prototype[t];c.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]||"function"==typeof t[2]?e.apply(this,arguments).then((function(){"function"==typeof t[1]&&t[1].apply(null)}),(function(e){"function"==typeof t[2]&&t[2].apply(null,[e])})):e.apply(this,arguments)}})),["getStats"].forEach((function(t){var e=c.prototype[t];c.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]?e.apply(this,arguments).then((function(){"function"==typeof t[1]&&t[1].apply(null)})):e.apply(this,arguments)}})),c}},{sdp:17}],17:[function(t,e,r){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(t){return t.trim().split("\n").map((function(t){return t.trim()}))},n.splitSections=function(t){return t.split("\nm=").map((function(t,e){return(0<e?"m="+t:t).trim()+"\r\n"}))},n.getDescription=function(t){var e=n.splitSections(t);return e&&e[0]},n.getMediaSections=function(t){var e=n.splitSections(t);return e.shift(),e},n.matchPrefix=function(t,e){return n.splitLines(t).filter((function(t){return 0===t.indexOf(e)}))},n.parseCandidate=function(t){for(var e,r={foundation:(e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" "))[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},n=8;n<e.length;n+=2)switch(e[n]){case"raddr":r.relatedAddress=e[n+1];break;case"rport":r.relatedPort=parseInt(e[n+1],10);break;case"tcptype":r.tcpType=e[n+1];break;case"ufrag":r.ufrag=e[n+1],r.usernameFragment=e[n+1];break;default:r[e[n]]=e[n+1]}return r},n.writeCandidate=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.address||t.ip),e.push(t.port);var r=t.type;return e.push("typ"),e.push(r),"host"!==r&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(e.push("ufrag"),e.push(t.usernameFragment||t.ufrag)),"candidate:"+e.join(" ")},n.parseIceOptions=function(t){return t.substr(14).split(" ")},n.parseRtpMap=function(t){var e=t.substr(9).split(" "),r={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),r.name=e[0],r.clockRate=parseInt(e[1],10),r.channels=3===e.length?parseInt(e[2],10):1,r.numChannels=r.channels,r},n.writeRtpMap=function(t){var e=t.payloadType;void 0!==t.preferredPayloadType&&(e=t.preferredPayloadType);var r=t.channels||t.numChannels||1;return"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(1!==r?"/"+r:"")+"\r\n"},n.parseExtmap=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:0<e[0].indexOf("/")?e[0].split("/")[1]:"sendrecv",uri:e[1]}},n.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},n.parseFmtp=function(t){for(var e,r={},n=t.substr(t.indexOf(" ")+1).split(";"),i=0;i<n.length;i++)r[(e=n[i].trim().split("="))[0].trim()]=e[1];return r},n.writeFmtp=function(t){var e="",r=t.payloadType;if(void 0!==t.preferredPayloadType&&(r=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var n=[];Object.keys(t.parameters).forEach((function(e){t.parameters[e]?n.push(e+"="+t.parameters[e]):n.push(e)})),e+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return e},n.parseRtcpFb=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},n.writeRtcpFb=function(t){var e="",r=t.payloadType;return void 0!==t.preferredPayloadType&&(r=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach((function(t){e+="a=rtcp-fb:"+r+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"})),e},n.parseSsrcMedia=function(t){var e=t.indexOf(" "),r={ssrc:parseInt(t.substr(7,e-7),10)},n=t.indexOf(":",e);return-1<n?(r.attribute=t.substr(e+1,n-e-1),r.value=t.substr(n+1)):r.attribute=t.substr(e+1),r},n.parseSsrcGroup=function(t){var e=t.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map((function(t){return parseInt(t,10)}))}},n.getMid=function(t){var e=n.matchPrefix(t,"a=mid:")[0];if(e)return e.substr(6)},n.parseFingerprint=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},n.getDtlsParameters=function(t,e){return{role:"auto",fingerprints:n.matchPrefix(t+e,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(t,e){var r="a=setup:"+e+"\r\n";return t.fingerprints.forEach((function(t){r+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"})),r},n.getIceParameters=function(t,e){var r=n.splitLines(t);return{usernameFragment:(r=r.concat(n.splitLines(e))).filter((function(t){return 0===t.indexOf("a=ice-ufrag:")}))[0].substr(12),password:r.filter((function(t){return 0===t.indexOf("a=ice-pwd:")}))[0].substr(10)}},n.writeIceParameters=function(t){return"a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n"},n.parseRtpParameters=function(t){for(var e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(t)[0].split(" "),i=3;i<r.length;i++){var s=r[i],o=n.matchPrefix(t,"a=rtpmap:"+s+" ")[0];if(o){var a=n.parseRtpMap(o),l=n.matchPrefix(t,"a=fmtp:"+s+" ");switch(a.parameters=l.length?n.parseFmtp(l[0]):{},a.rtcpFeedback=n.matchPrefix(t,"a=rtcp-fb:"+s+" ").map(n.parseRtcpFb),e.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(a.name.toUpperCase())}}}return n.matchPrefix(t,"a=extmap:").forEach((function(t){e.headerExtensions.push(n.parseExtmap(t))})),e},n.writeRtpDescription=function(t,e){var r="";r+="m="+t+" ",r+=0<e.codecs.length?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=e.codecs.map((function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.codecs.forEach((function(t){r+=n.writeRtpMap(t),r+=n.writeFmtp(t),r+=n.writeRtcpFb(t)}));var i=0;return e.codecs.forEach((function(t){t.maxptime>i&&(i=t.maxptime)})),0<i&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",e.headerExtensions&&e.headerExtensions.forEach((function(t){r+=n.writeExtmap(t)})),r},n.parseRtpEncodingParameters=function(t){var e,r=[],i=n.parseRtpParameters(t),s=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=n.matchPrefix(t,"a=ssrc:").map((function(t){return n.parseSsrcMedia(t)})).filter((function(t){return"cname"===t.attribute})),l=0<a.length&&a[0].ssrc,u=n.matchPrefix(t,"a=ssrc-group:FID").map((function(t){return t.substr(17).split(" ").map((function(t){return parseInt(t,10)}))}));0<u.length&&1<u[0].length&&u[0][0]===l&&(e=u[0][1]),i.codecs.forEach((function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var n={ssrc:l,codecPayloadType:parseInt(t.parameters.apt,10)};l&&e&&(n.rtx={ssrc:e}),r.push(n),s&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(n))}})),0===r.length&&l&&r.push({ssrc:l});var c=n.matchPrefix(t,"b=");return c.length&&(c=0===c[0].indexOf("b=TIAS:")?parseInt(c[0].substr(7),10):0===c[0].indexOf("b=AS:")?1e3*parseInt(c[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(t){t.maxBitrate=c}))),r},n.parseRtcpParameters=function(t){var e={},r=n.matchPrefix(t,"a=ssrc:").map((function(t){return n.parseSsrcMedia(t)})).filter((function(t){return"cname"===t.attribute}))[0];r&&(e.cname=r.value,e.ssrc=r.ssrc);var i=n.matchPrefix(t,"a=rtcp-rsize");e.reducedSize=0<i.length,e.compound=0===i.length;var s=n.matchPrefix(t,"a=rtcp-mux");return e.mux=0<s.length,e},n.parseMsid=function(t){var e,r=n.matchPrefix(t,"a=msid:");if(1===r.length)return{stream:(e=r[0].substr(7).split(" "))[0],track:e[1]};var i=n.matchPrefix(t,"a=ssrc:").map((function(t){return n.parseSsrcMedia(t)})).filter((function(t){return"msid"===t.attribute}));return 0<i.length?{stream:(e=i[0].value.split(" "))[0],track:e[1]}:void 0},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(t,e,r){var i=void 0!==e?e:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(t||n.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(t,e,r,i){var s=n.writeRtpDescription(t.kind,e);if(s+=n.writeIceParameters(t.iceGatherer.getLocalParameters()),s+=n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),s+="a=mid:"+t.mid+"\r\n",t.direction?s+="a="+t.direction+"\r\n":t.rtpSender&&t.rtpReceiver?s+="a=sendrecv\r\n":t.rtpSender?s+="a=sendonly\r\n":t.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",t.rtpSender){var o="msid:"+i.id+" "+t.rtpSender.track.id+"\r\n";s+="a="+o,s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+o,t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+o,s+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),s},n.getDirection=function(t,e){for(var r=n.splitLines(t),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return e?n.getDirection(e):"sendrecv"},n.getKind=function(t){return n.splitLines(t)[0].split(" ")[0].substr(2)},n.isRejected=function(t){return"0"===t.split(" ",2)[1]},n.parseMLine=function(t){var e=n.splitLines(t)[0].substr(2).split(" ");return{kind:e[0],port:parseInt(e[1],10),protocol:e[2],fmt:e.slice(3).join(" ")}},n.parseOLine=function(t){var e=n.matchPrefix(t,"o=")[0].substr(2).split(" ");return{username:e[0],sessionId:e[1],sessionVersion:parseInt(e[2],10),netType:e[3],addressType:e[4],address:e[5]}},n.isValidSDP=function(t){if("string"!=typeof t||0===t.length)return!1;for(var e=n.splitLines(t),r=0;r<e.length;r++)if(e[r].length<2||"="!==e[r].charAt(1))return!1;return!0},"object"==typeof e&&(e.exports=n)},{}]},{},[1])(1),i=function(){return f=[function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Framework=void 0;var n=r(29),i=r(3),s=r(41),o=r(133),a=r(80),l=(u.getId=function(){return"["+c.time()+"] ["+c.h().id+"]"},u);function u(){}var c=(h.startup=function(t){this.startTime=new Date,t.apply(this.o),this.u=this.o.resolve(s.v.l),this.logger_=this.o.resolve(s.v.p),this.g=this.u.T(),this.m=!1,this.u.init()},h.O=function(t,e,r){this.I<1&&(this.startup(e),this._(t,r),this.R(t)),this.I+=1},h.A=function(){this.network=this.o.resolve(s.v.NETWORK),this.network.init()},h.net=function(){return this.network},h.system=function(){return this.o},h.logger=function(){return this.logger_},h.N=function(){return this.u},h.C=function(t){return this.k.get(t)},h._=function(t,e){var r=new o.j(t);return r.apply(e),this.k.set(t,r),r},h.R=function(t){this.M=this.C(t)},h.resolve=function(t){return null!=this.M?this.M.context.resolve(t):(console.warn("undefined context"),null)},h.h=function(){return this.M},h.time=function(){if(this.u)return this.u.time();throw new Error("Framework.time called on purged Framework")},h.setTimeout=function(t,e,r){if(void 0===r&&(r=!1),!this.u||this.m)throw new Error("Framework.setTimeout called on purging / purged Framework");return this.u.setTimeout(t,e,r)},h.clearTimeout=function(t){return this.u.clearTimeout(t)},h.setInterval=function(t,e){if(!this.u||this.m)throw new Error("Framework.setInterval called on purging / purged Framework");return this.u.setInterval(t,e)},h.clearInterval=function(t){return this.u.clearInterval(t)},h.D=function(){return this.u.D()},h.P=function(t){if(void 0===t&&(t=!1),t){var e=this.L(t);return this.I=0,e}return 0<this.I&&(this.I-=1,0===this.I)?this.L():(new a.U).H()},h.L=function(t){var e=this;void 0===t&&(t=!1),this.m=!0;var r=new a.U;return this.u?this.u.F(t).then((function(){e.m&&e.reset(),r.resolve()})):r.resolve(),r.promise},h.reset=function(){this.o.G(),this.o=new n.V,this.k=new i,this.M=null,this.startTime=null,this.g=!1,this.seed=null,this.u=null,this.network=null,this.logger_=null},h.B=function(t){this.seed=t},h.random=function(){return null==this.seed&&(this.seed=(new Date).getTime()),this.seed=(9301*this.seed+49297)%233280,this.seed/233280},h.q=function(){return this.startTime},h.T=function(){return this.g},h.W=l,h.v=s.v,h.I=0,h.o=new n.V,h.k=new i,h.g=!1,h);function h(){}e.Framework=c},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.ErrorMonitor=void 0;var n=r(148),i=r(26),s=r(8),o=r(2),a=r(2),l=s.K.Y,u=(s.K.$,s.K.X),c=s.K.J,h=(p.getInstance=function(t){return void 0===t&&(t="3.0.0"),void 0===this.instance&&(this.instance=new p(t)),this.instance},p.prototype.Z=function(){n.it.getInstance().tt([16,17,88],(function(){try{throw new Error("Upload console logs")}catch(t){atatus.notify(t),window.console&&console.log("[HiveComm] console log uploaded for debugging")}}))},p.prototype.nt=function(){try{throw new Error("test")}catch(e){var t=e.stack.match(/(\/\/.*\.js)/i);if(t&&0<t.length)return t[0]}},p.prototype.setUser=function(t){this.rt&&this.isActive&&atatus.setUser(t)},p.prototype.st=function(t){this.logger=t},p.prototype.setCustomData=function(t){this.rt&&this.isActive&&atatus.setCustomData(t)},p.prototype.et=function(t){for(var e in t)t.hasOwnProperty(e)&&(this.ht[e]=t[e])},p.prototype.ot=function(t){this.ut=t},p.prototype.ft=function(){this.ut=null},p.prototype.logError=function(t,e,r,n,i){var s="",l=r&&a.ct[r]?a.ct[r]:a.vt.lt;if("string"==typeof e?s=e.trim():void 0!==e&&(n=e),(n instanceof Error||n&&"object"!=typeof n)&&(n={error:n.toString()}),(n=n||{}).errorCode=r||o.GENERIC_ERROR,this.logger&&(0<Object.keys(n).length?this.logger.warn(s+" "+t,n):this.logger.warn(s+" "+t)),s&&(i=i?i.concat([s]):[s]),n.forceSend=!0,this.rt&&this.isActive)try{throw new Error(t)}catch(t){atatus.notify(t,n,i)}if(this.ut)try{this.ut({pluginVersion:this.version,reportingId:this.ht?this.ht.reportingGuid:"",p2pId:this.ht?this.ht.p2pId:"",message:t,severity:l,code:n.errorCode})}catch(t){this.logger.warn("Error in the onErrorCallback",t)}},p.prototype.setTags=function(t){this.rt&&this.isActive&&atatus.setTags(t)},p.prototype.notify=function(t,e){this.rt&&this.isActive&&((e=e||{}).forceSend=!0,atatus.notify(t,e))},p);function p(t){var e=this;if(this.isActive=!1,this.rt="undefined"!=typeof atatus&&null!=atatus,this.ht={},p.instance)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var r,n=null!=i.ErrorMonitorOptions.key?i.ErrorMonitorOptions.key:l,s=1==i.ErrorMonitorOptions.enabledRUM,o=1==i.ErrorMonitorOptions.enableKeyCombination,a=1==i.ErrorMonitorOptions.enabledErrorFilter;a&&(r=this.nt()),this.version=t,this.rt&&(null==i.ErrorMonitorOptions.enabled&&u||null!=i.ErrorMonitorOptions.enabled&&1==i.ErrorMonitorOptions.enabled)&&(atatus.config(n,{enableSourcemap:!0,disableRUM:!s,console:!1,version:t,beforeErrorSend:function(t){var n=!1;for(var i in t.customData=t.customData||{},void 0!==t.customData.forceSend&&(n=t.customData.forceSend,delete t.customData.forceSend,0===Object.keys(t.customData).length&&(t.customData=null)),e.ht)e.ht.hasOwnProperty(i)&&(t.customData[i]=e.ht[i]);if(!a||n)return!0;if(!r)return!1;try{var s=!1;if(t.backTraces){for(var o=0,l=t.backTraces;o<l.length;o++){var u=l[o];if(-1<u.f.indexOf(r)&&u.ln>c){s=!0;break}}s&&(t.name=t.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),0<=t.name.indexOf("Status Code Error:")&&(t.tags=["Plugin Error Code",t.name.split(":")[1].trim()]))}return s}catch(t){return!1}}}).install(),o&&this.Z(),this.isActive=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+s+", KeyHandler:"+o+"]"),a&&!r&&this.logError("Could not extract error filter"))}e.ErrorMonitor=h},function(t,e,r){"use strict";var n,i,s,o,a,l,u,c,h,p,f,d,g,v,m,y,b,E,w,A,S,T,I,P,k,R,C,O,_,x,L,N,D,M,B,j,F,U,H,q,V,G,z,W,X,Q,Z,K,Y,J,$,tt,et,rt,nt,it,st,ot;Object.defineProperty(e,"s",{value:!0}),e.ct=e.dt=e.GENERIC_ERROR=e.Et=e.wt=e.pt=e.gt=e.bt=e.yt=e.Tt=e.Ot=e.It=e._t=e.Rt=e.St=e.At=e.Nt=e.Ct=e.kt=e.jt=e.Mt=e.Dt=e.Pt=e.Lt=e.Ht=e.Ut=e.Ft=e.xt=e.Gt=e.Vt=e.Bt=e.qt=e.Qt=e.Wt=e.Yt=e.zt=e.Kt=e.$t=e.Xt=e.Jt=e.Zt=e.ti=e.ii=e.ni=e.ri=e.si=e.ei=e.hi=e.vt=void 0,(o=s=e.vt||(e.vt={}))[o.lt=0]="NORMAL",o[o.oi=1]="HIGH",o[o.CRITICAL=2]="CRITICAL",(l=a=e.hi||(e.hi={}))[l.ui=268435456]="BASE_CODE",l[l.ai=268435457]="FIRE_SERVER_CONNECTED_WITH_SWARM",l[l.fi=268435458]="FIRE_SERVER_CONNECTED_WITHOUT_SWARM",l[l.ci=268435459]="CONNECTION_NOT_ESTABLISHED",l[l.li=268435460]="SEND_MESSAGE_TO_NON_EXISTING_CHANNEL",l[l.vi=268435461]="RECEIVED_MESSAGE_FROM_NON_EXISTING_CONNECTION",(u=e.ei||(e.ei={}))[u.ui=536870912]="BASE_CODE",u[u.di=536870913]="CREATE_OFFER",u[u.Ei=536870914]="CREATE_ANSWER",u[u.wi=536870915]="SIGNALING_STATE_CLOSED",u[u.pi=536870916]="SET_LOCAL_DESCRIPTION_FAILED",u[u.gi=536870917]="NEGOTIATION_FAILURE",u[u.bi=536870918]="SETUP_CHANNEL_ERROR",u[u.yi=536870919]="ICE_CONNECTION_FAILED",u[u.Ti=536870920]="SET_REMOTE_DESCRIPTION",u[u.mi=536870921]="UPDATE_ICE_CANDIDATES",u[u.Oi=536870922]="ANSWER_RECEIVED",u[u.Ii=536870923]="OFFER_RECEIVED",u[u._i=536870924]="SEND_CANDIDATES",u[u.Ri=536870925]="CLOSE_CONNECTION",u[u.Si=536870926]="SEND_DATA",(c=e.si||(e.si={}))[c.ui=805306368]="BASE_CODE",c[c.Ai=805306369]="SEND_MSG_WITHOUT_CHANNEL",c[c.Ni=805306370]="MSG_TRIGGER_ERROR",c[c.Ci=805306371]="CONNECTION_TIMEOUT",(h=e.ri||(e.ri={}))[h.ui=1073741824]="BASE_CODE",h[h.Ri=1073741825]="CLOSE_CONNECTION",h[h.ki=1073741826]="P2P_DISPATCHER_ERROR",(p=e.ni||(e.ni={}))[p.ui=1342177280]="BASE_CODE",p[p.ji=1342177281]="CONSTRUCT_MESSAGE",p[p.Mi=1342177282]="DROPPED_MESSAGE",p[p.Di=1342177283]="SEND_MESSAGE",p[p.Pi=1342177284]="RECEIVE_MESSAGE",(f=e.ii||(e.ii={}))[f.ui=1610612736]="BASE_CODE",f[f.Li=1610612737]="NEW_DISPATCHER",(d=e.ti||(e.ti={}))[d.ui=1879048192]="BASE_CODE",d[d.Hi=1879048193]="INIT_CACHE",d[d.Ui=1879048194]="PUT_OPERATION",d[d.Fi=1879048195]="GET_OPERATION",d[d.xi=1879048196]="CONTAINS_OPERATION",d[d.Gi=1879048197]="GET_KEYS_OPERATION",d[d.Vi=1879048198]="GET_ELEMENTS_OPERATION",(g=e.Zt||(e.Zt={}))[g.ui=2147483648]="BASE_CODE",g[g.Ui=2147483649]="PUT_OPERATION",g[g.Fi=2147483650]="GET_OPERATION",g[g.xi=2147483651]="CONTAINS_OPERATION",g[g.Gi=2147483652]="GET_KEYS_OPERATION",g[g.Vi=2147483653]="GET_ELEMENTS_OPERATION",g[g.Bi=2147483654]="PURGE_CACHE_OPERATION",(v=e.Jt||(e.Jt={}))[v.ui=2415919104]="BASE_CODE",(m=e.Xt||(e.Xt={}))[m.ui=2684354560]="BASE_CODE",m[m.qi=2684354561]="DISCOVERED_PEERS",m[m.Qi=2684354562]="LEADER_ELECTION",m[m.Wi=2684354563]="GC_MEMBERS",m[m.Yi=2684354564]="ADD_LAN_MEMBER",m[m.zi=2684354565]="ADD_RANDOM_MEMBER",m[m.Ki=2684354566]="SAMPLE_MEMBERSHIP",(y=e.$t||(e.$t={}))[y.ui=2952790016]="BASE_CODE",y[y.$i=2952790017]="SEND_ALL_HAVES",y[y.Xi=2952790018]="SEND_HAVE",y[y.Ji=2952790019]="UNKNOWN_HAVE",y[y.Zi=2952790020]="UNKNOWN_HAVES",y[y.tn=2952790021]="RECEIVED_HAVE",y[y.in=2952790022]="RECEIVED_HAVES",y[y.nn=2952790023]="NO_OUT_PARTNER",y[y.rn=2952790024]="CREATE_RANDOM_BUFFER",y[y.sn=2952790025]="REQUEST_PING",y[y.en=2952790026]="RECEIVED_PING",y[y.hn=2952790027]="UNKNOWN_PING",y[y.un=2952790028]="SEND_PONG",y[y.an=2952790029]="UNKOWN_PONG",y[y.fn=2952790030]="WRONG_PONG_SIZE",y[y.cn=2952790031]="WRONG_TIMESTAMP",y[y.vn=2952790032]="RECEIVED_PONG",y[y.dn=2952790033]="COLLECT_PARTNER_SNAPSHOTS",(E=b=e.Kt||(e.Kt={}))[E.ui=3221225472]="BASE_CODE",E[E.En=3221225473]="START_PARTNERSHIP",E[E.wn=3221225474]="NEW_LAN_MEMBER",E[E.pn=3221225475]="IN_PARTNER_CHOICE",E[E.gn=3221225476]="IN_PARTNER_ADD_PROCESS",E[E.bn=3221225477]="IN_PARTNER_CONNECT",E[E.yn=3221225478]="IN_PARTNERSHIP_REQUEST",E[E.Tn=3221225479]="OUT_PARNTERSHIP_REQUEST_PROCESS",E[E.mn=3221225480]="CONSTRUCT_DISCOVER_PEER_INFO",E[E.On=3221225481]="SEND_PARTN_RESP",E[E.In=3221225482]="NEW_IN_PARTNER_TO_LIST",E[E._n=3221225483]="REMOVE_DISCONNECTED_PEER",E[E.Rn=3221225484]="REMOVE_IN_PARTNER",E[E.Sn=3221225485]="CLOSE_RECEIVED",E[E.An=3221225486]="SEND_PART_REQUEST",E[E.Nn=3221225487]="PART_REQUEST_EXPIRED",E[E.Cn=3221225488]="UNKNOWN_PARTNERSHIP_REQUEST_EXPIRED",E[E.kn=3221225489]="UNKNOWN_OUT_PART_RESP",E[E.jn=3221225490]="CLOSE_PARTNERSHIP",E[E.Mn=3221225491]="ANNOUNCE_QUALITY_LEVEL",E[E.Dn=3221225492]="CONSTRUCT_ANNOUNCE_QUALITY_LEVEL_MSG",E[E.Pn=3221225493]="RECEIVE_QUALITY_LEVEL_INFO",E[E.Ln=3221225494]="PEER_INFO_RECEIVED",E[E.Hn=3221225495]="PEER_INFO_ANNOUNCED",E[E.Un=3221225496]="COLLECT_ALL_PARTNERS",(w=e.zt||(e.zt={}))[w.ui=3489660928]="BASE_CODE",w[w.Fn=3489660929]="UPDATE_IN_PARTNERS",(A=e.Yt||(e.Yt={}))[A.ui=3758096384]="BASE_CODE",A[A.xn=3758096385]="SELECT_PARTNERS_TO_REMOVE",A[A.Gn=3758096386]="SELECT_PARTNERS_TO_ADD",A[A.Vn=3758096387]="SELECT_UPDATE_OUT",(S=e.Wt||(e.Wt={}))[S.ui=4026531840]="BASE_CODE",S[S.xn=4026531841]="SELECT_PARTNERS_TO_REMOVE",S[S.Gn=4026531842]="SELECT_PARTNERS_TO_ADD",S[S.Vn=4026531843]="SELECT_UPDATE_OUT",(T=e.Qt||(e.Qt={}))[T.ui=4294967296]="BASE_CODE",T[T.Fn=4294967297]="UPDATE_IN_PARTNERS",T[T.xn=4294967298]="SELECT_PARTNERS_TO_REMOVE",T[T.Gn=4294967299]="SELECT_PARTNERS_TO_ADD",T[T.Vn=4294967300]="SELECT_UPDATE_OUT",T[T.Bn=4294967301]="GROUP_PARTNERS",T[T.qn=4294967302]="IDENTIFY_MEMBER_AS_LEADER_OR_SAME_SITE",T[T.Qn=4294967303]="AHEAD_BUT_BEHIND_DELTA",T[T.Wn=4294967304]="BEHIND_OR_NOT_RETRIEVING_QUALITY_LEVEL",T[T.Yn=4294967305]="GET_DELTA_FOR_QUALITY_LEVEL",(I=e.qt||(e.qt={}))[I.ui=4563402752]="BASE_CODE",I[I.zn=4563402753]="UPDATE_OUT_PARTNERS",(P=e.Bt||(e.Bt={}))[P.ui=4831838208]="BASE_CODE",P[P.Kn=4831838209]="ADD_FRAGMENT_TO_MAP",P[P.$n=4831838210]="WRAP_CHUNK",P[P.Xn=4831838211]="GENERATE_HASHMAPS",(k=e.Vt||(e.Vt={}))[k.ui=5100273664]="BASE_CODE",k[k.Jn=5100273665]="INIT_AES_MANAGER",k[k.Zn=5100273666]="INIT_KEY",k[k.tr=5100273667]="INIT_IV",k[k.ir=5100273668]="DECRYPT_BUFFER",k[k.nr=5100273669]="DOWNLOAD_KEY_ONLOAD",k[k.rr=5100273670]="DOWNLOAD_KEY",(C=R=e.Gt||(e.Gt={}))[C.ui=5368709120]="BASE_CODE",C[C.sr=5368709121]="GET_ENTITY_TYPE",C[C.er=5368709122]="GET_ENTITY_CHARACTERISTICS",C[C.hr=5368709123]="GET_NEXT_ENTITY",C[C.ur=5368709124]="IS_CURRENT_CONTEXT",C[C.ar=5368709125]="PARSED_METADATA",C[C.cr=5368709126]="PREFETCH_METADATA_RECEIVED",C[C.lr=5368709127]="FRAGMENT_RECEIVED",C[C.vr=5368709128]="EVALUATE_PROTECTION",C[C.dr=5368709129]="GET_DISTANCE_DURATION",(_=O=e.xt||(e.xt={}))[_.ui=5637144576]="BASE_CODE",_[_.Er=5637144577]="PARSE_METADATA",_[_.wr=5637144578]="EXTRACT_SEGMENT_MAPS",_[_.pr=5637144579]="INIT_PROTECTION",_[_.gr=5637144580]="GET_SEGMENT_INFO",_[_.br=5637144581]="GET_SEGMENT_DISTANCE",_[_.yr=5637144582]="EXTRACT_DURATION",_[_.Tr=5637144583]="EXTRACT_DURATION_OR_DECRYPT",_[_.mr=5637144584]="EXTRACT_DURATION_CANNOT_DECRYPT",_[_.Or=5637144585]="EXTRACT_DURATION_NON_ENCRYPTED",_[_.Ir=5637144586]="GENERATE_MISSING_SEGMENTS",_[_.Rr=5637144587]="REGENERATE_MANIFEST",_[_.Sr=5637144588]="TRIM_MANIFEST",_[_.Ar=5637144589]="PARSE_BITRATES_TO_FILTER",_[_.Nr=5637144590]="FILTER_BITRATES",_[_.Cr=5637144591]="GET_DISTANCE_DURATION_BETWEEN_SEGMENTS",_[_.kr=5637144592]="GET_SEGMENT",(L=x=e.Ft||(e.Ft={}))[L.ui=5905580032]="BASE_CODE",L[L.ur=5905580033]="IS_CURRENT_CONTEXT",L[L.sr=5905580034]="GET_ENTITY_TYPE",L[L.er=5905580035]="GET_ENTITY_CHARACTERISTICS",L[L.jr=5905580036]="METADATA_RECEIVED",L[L.Mr=5905580037]="SCHEDULE_METADATA_PREFETCH",L[L.hr=5905580038]="GET_NEXT_ENTITY",L[L.dr=5905580039]="GET_DISTANCE_DURATION",(D=N=e.Ut||(e.Ut={}))[D.ui=6174015488]="BASE_CODE",D[D.Dr=6174015489]="PLAYLIST_MISMATCH",D[D.Pr=6174015490]="FLOAT_BITRATE",D[D.Er=6174015491]="PARSE_METADATA",D[D.gr=6174015492]="GET_SEGMENT_INFO",D[D.Lr=6174015493]="UPDATE_PLAYLIST",D[D.Hr=6174015494]="TRIM_PLAYLIST",(M=e.Ht||(e.Ht={}))[M.ui=6442450944]="BASE_CODE",M[M.Ur=6442450945]="GET_P2P_TIMEOUT",M[M.Fr=6442450946]="DELIVER_DELAY",(B=e.Lt||(e.Lt={}))[B.ui=6710886400]="BASE_CODE",B[B.xr=6710886401]="IS_PLAYER_BUFFERING_BASE",B[B.Gr=6710886402]="CONFIGURE_REQUEST_DIRECTIVE",B[B.Vr=6710886403]="ATTEMPT_TO_UPGRADE_PREFETCH",B[B.hr=6710886404]="GET_NEXT_ENTITY",(j=e.Pt||(e.Pt={}))[j.ui=6979321856]="BASE_CODE",j[j.Br=6979321857]="PREPARE_REQUEST",j[j.qr=6979321858]="GET_CONNECTIVITY_INFO",j[j.Qr=6979321859]="COLLECT_TRACKER_REQUEST_INFO",j[j.Wr=6979321860]="PREPARE_QUERY",j[j.Yr=6979321861]="PREPARE_QUALITY_LEVEL_QUERY",j[j.zr=6979321862]="PREPARE_TRACKER_INFO",j[j.Kr=6979321863]="SEND_REQUEST",j[j.$r=6979321864]="HANDLE_RESPONSE",(F=e.Dt||(e.Dt={}))[F.ui=7247757312]="BASE_CODE",F[F.Xr=7247757313]="NEW_TRACKER_CLIENT",F[F.Jr=7247757314]="SERIALIZE_REQUEST",F[F.Zr=7247757315]="DESERIALIZE_RESPONSE",F[F.ns=7247757316]="SERVICE_CONNECTION_DOWN",F[F.Kr=7247757317]="SEND_REQUEST",F[F.rs=7247757318]="TRACKER_MANAGER_INIT",(U=e.Mt||(e.Mt={}))[U.ui=7516192768]="BASE_CODE",U[U.ss=7516192769]="SORT_PARTNERS",(H=e.jt||(e.jt={}))[H.ui=7784628224]="BASE_CODE",H[H.es=7784628225]="CHOOSE_PARTNER",(q=e.kt||(e.kt={}))[q.ui=8053063680]="BASE_CODE",q[q.hs=8053063681]="CONSTRUCT_FRAGMENT_REQUEST_MESSAGE",q[q.us=8053063682]="SEND_FRAGMENT_REQUEST",q[q.fs=8053063683]="RECEIVE_CHUNK",q[q.cs=8053063684]="SEND_ACK",q[q.ls=8053063685]="CLEAN_UP_NOT_PENDING",q[q.vs=8053063686]="STOP_TRANSFER",q[q.ds=8053063687]="RECEIVE_EXPIRED_CHUNK",(V=e.Ct||(e.Ct={}))[V.ui=8321499136]="BASE_CODE",V[V.Es=8321499137]="CONSTRUCT_CHUNK_RESPONSE",V[V.ws=8321499138]="START_SENDING_CHUNK",V[V.ps=8321499139]="SEND_CHUNK",V[V.gs=8321499140]="UNKNOWN_ACK",(G=e.Nt||(e.Nt={}))[G.ui=8589934592]="BASE_CODE",G[G.bs=8589934593]="NO_PARTNER_FOUND",G[G.ys=8589934594]="FILTER_IN_PARTNERS",G[G.Ts=8589934595]="SET_REQUEST_TIMEOUT",G[G.Os=8589934596]="REMOVE_REQUEST",G[G.Is=8589934597]="CANCEL_ON_NON_EXISTING_SESSION",G[G._s=8589934598]="DO_NOT_HAVE",G[G.Rs=8589934599]="REQUESTED_TO_NON_PARTNER",(z=e.At||(e.At={}))[z.ui=8858370048]="BASE_CODE",z[z.Ss=8858370049]="RESPOND_TO_PEER",z[z.As=8858370050]="REQUEST_SATISFIED",z[z.Ns=8858370051]="REQUEST_PARTIALLY_SATISFIED",z[z.Cs=8858370052]="REQUEST_NOT_SATISFIED",z[z.ks=8858370053]="SEND_DO_NOT_HAVE",z[z.js=8858370054]="SEND_NO_PARTNERS",(W=e.St||(e.St={}))[W.ui=9126805504]="BASE_CODE",W[W.Ms=9126805505]="VIOLATE_SPOOFING_HANDLER",W[W.Ds=9126805506]="VIOLATE_SPOOFING_RULES",W[W.Ps=9126805507]="ADD_OR_UPDATE_SPOOFING_MAPS",W[W.Ls=9126805508]="PERIODIC_CHECK_IP_SPOOFING",(X=e.Rt||(e.Rt={}))[X.ui=9395240960]="BASE_CODE",X[X.Hs=9395240961]="REQUEST_COMPLETED",X[X.Us=9395240962]="REQUEST_NOT_EXISTING_COMPLETED",X[X.Fs=9395240963]="REQUEST_PARTIALLY_FAILED",X[X.xs=9395240964]="REQUEST_NOT_EXISTING_PARTIALLY_FAILED",X[X.Gs=9395240965]="REQUEST_FAILED",X[X.Vs=9395240966]="REQUEST_NOT_EXISTING_FAILED",(Q=e._t||(e._t={}))[Q.ui=9663676416]="BASE_CODE",Q[Q.Bs=9663676417]="UPDATE_WANTED_SESSIONS",Q[Q.qs=9663676418]="CONFIGURE_PREFETCHING",Q[Q.Qs=9663676419]="START_PREFETCHING",Q[Q.Ws=9663676420]="FRAGMENT_RETRIEVED_SESSION_NOT_EXISTING",Q[Q.Ys=9663676421]="ATTEMPT_PREFETCH_BEFORE_PLAYER_REQUEST",Q[Q.zs=9663676422]="FORWARD_IF_NECESSARY",Q[Q.Ks=9663676423]="IS_ALLOWED_TO_PREFETCH",Q[Q.$s=9663676424]="PREFETCH_PROCESS",Q[Q.Xs=9663676425]="CHECK_PLAYER_DISTANCE",Q[Q.Js=9663676426]="OFFLOAD_LEADER",Q[Q.Zs=9663676427]="UPGRADE_PREFETCH",(Z=e.It||(e.It={}))[Z.ui=9932111872]="BASE_CODE",Z[Z.te=9932111873]="REQUEST_TIMEOUT",(K=e.Ot||(e.Ot={}))[K.ui=10200547328]="BASE_CODE",K[K.ie=10200547329]="PLAYER_REQUEST_ERROR",K[K.ne=10200547330]="PLAYER_ABORT_ERROR",(Y=e.Tt||(e.Tt={}))[Y.ui=10468982784]="BASE_CODE",Y[Y.re=10468982785]="ADD_HAVE",Y[Y.se=10468982786]="REMOVE_PEER",($=J=e.yt||(e.yt={}))[$.ui=10737418240]="BASE_CODE",$[$.ee=10737418241]="CONSTRUCT_SWARM",$[$.he=10737418242]="INIT_SWARM",$[$.oe=10737418243]="SWITCH_STATE",$[$.te=10737418244]="REQUEST_TIMEOUT",(tt=e.bt||(e.bt={}))[tt.ui=11005853696]="BASE_CODE",tt[tt.ue=11005853697]="SERIALIZE_MESSAGE",tt[tt.ae=11005853698]="EXTRACT_MESSAGE",(rt=et=e.gt||(e.gt={}))[rt.ui=11274289152]="BASE_CODE",rt[rt.fe=11274289153]="NO_MATCHING_SESSION",rt[rt.ce=11274289154]="UNABLE_RESOLVE_TICKET",rt[rt.le=11274289155]="UNABLE_INIT_TECHS",rt[rt.ve=11274289156]="NO_TOKEN_FOUND",rt[rt.de=11274289157]="NO_VALID_TICKET",rt[rt.Ee=11274289158]="ON_ACTIVE_SESSION_CB_ERROR",rt[rt.we=11274289159]="NO_VISIBILITY_LISTENER",rt[rt.pe=11274289160]="STATUS_CODE",rt[rt.ge=11274289161]="ON_SESSION_STATE_CHANGE_CB_ERROR",rt[rt.be=11274289162]="NO_REQUIRED_PARAMETERS",rt[rt.ye=11274289163]="NO_REPORTING_INSTANCE",rt[rt.Te=11274289164]="UNABLE_RESOLVE_JWT",rt[rt.me=11274289165]="NO_PLAYER_SOURCE",(nt=e.pt||(e.pt={}))[nt.ui=11542724608]="BASE_CODE",nt[nt.Oe=11542724609]="CALCULATE_BATCH_LOCALITY",(st=it=e.wt||(e.wt={}))[st.ui=11811160064]="BASE_CODE",st[st.Ie=11811160065]="BITRATE_TOO_HIGH",st[st._e=11811160066]="NUM_BITRATES_NONE",st[st.Re=11811160067]="NUM_BITRATES_OK",st[st.Se=11811160068]="NUM_BITRATES_WARNING",st[st.Ae=11811160069]="NUM_BITRATES_ERROR",st[st.Ne=11811160070]="NUM_BITRATES_ATATUS_ERROR_NONE",st[st.Ce=11811160071]="NUM_BITRATES_ATATUS_ERROR_HIGH",(ot=e.Et||(e.Et={}))[ot.ui=12079595520]="BASE_CODE",ot[ot.ue=12079595521]="SERIALIZE_MESSAGE",ot[ot.Kr=12079595522]="SEND_REQUEST",ot[ot.ns=12079595523]="SERVICE_CONNECTION_DOWN",ot[ot.qr=12079595524]="GET_CONNECTIVITY_INFO",e.GENERIC_ERROR=1,e.dt=((n={})[it.Ie]="The detected bitrate ({0}) is higher than the maximum certified bitrate ({1}). You may encounter issues watching the stream.",n[it._e]="{0} stream detected with missing video bitrate metadata. This is likely caused by an incorrect manifest served by the video platform application.",n[it.Re]="{0} stream detected {1} video bitrates: {2}",n[it.Se]="{0} stream detected with {1} video bitrates: {2}. Hive Streaming recommends four or fewer video bitrates to insure optimal networking savings.",n[it.Ae]="{0} stream detected with {1} video bitrates: {2}. This is likely caused by an incorrect configuration in the video encoder, video streaming origin or transcoding service.",n[it.Ne]="Stream has zero available bitrates.",n[it.Ce]="Stream has too many available bitrates.",n),e.ct=((i={})[a.ai]=s.oi,i[a.fi]=s.oi,i[b.En]=s.oi,i[R.ur]=s.oi,i[O.Rr]=s.oi,i[x.ur]=s.oi,i[N.Dr]=s.oi,i[J.ee]=s.oi,i[et.fe]=s.oi,i[et.ce]=s.oi,i[et.le]=s.oi,i[et.ve]=s.oi,i[et.de]=s.oi,i[et.be]=s.CRITICAL,i[et.me]=s.CRITICAL,i)},function(t,e,r){"use strict";r(12);var n=r(78),i=r(13),s=r(61),o=r(14);function a(t,e,r,i){if(!(this instanceof a))return new a(t,e,r,i);e=e||Object.equals,r=r||Object.hash,i=i||Function.ke,this.je=e,this.Me=r,this.De=i,this.store=new n(void 0,(function(t,r){return e(t.key,r.key)}),(function(t){return r(t.key)})),this.length=0,this.hiveAddEach(t)}(t.exports=a).Map=a,Object.hiveAddEach(a.prototype,i.prototype),Object.hiveAddEach(a.prototype,s.prototype),Object.hiveAddEach(a.prototype,o.prototype),Object.defineProperty(a.prototype,"size",i.Pe),a.prototype.Le=function(t){return new this.constructor(t,this.je,this.Me,this.De)},a.prototype.log=function(t,e,r,n){e=e||this.He,this.store.log(t,(function(t,r,n){e(t.value.value,r,n)}),r,n)},a.prototype.He=function(t,e){e(" key: "+t.key),e(" value: "+t.value)}},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.Fe||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(e,"s",{value:!0}),e.xe=e.Ge=e.Ve=e.Be=e.createEvent=e.qe=e.Qe=e.We=e.Ye=e.ze=e.Ke=e.$e=e.Xe=e.Je=e.Ze=e.th=e.ih=e.nh=e.rh=e.appendBuffer=e.sh=e.eh=e.hh=e.oh=e.uh=e.ah=e.Counter=void 0;var o=r(18),a=r(20),l=r(0),u=r(151),c=(h.prototype.next=function(){return this.count++,this.count},h);function h(){this.count=0}e.Counter=c;var p=(f.prototype.start=function(t){void 0===t&&(t=l.Framework.time()),this.fh||(this.fh={start:t,end:void 0},this.lh.push(this.fh))},f.prototype.stop=function(t){void 0===t&&(t=l.Framework.time()),this.fh&&(this.fh.end=t,this.fh=void 0,this.vh=!1)},f.prototype.dh=function(t,e){void 0===t&&(t=l.Framework.time());var r=this.fh,n=this.vh;r&&this.stop(t);var i=(n?e:0)||this.lh.reduce((function(t,e){var r=e.start;return t+e.end-r}),0);return this.lh.length=0,r&&(this.start(t),this.vh=!0),i},f.prototype.reset=function(){this.vh=!1,this.fh=void 0,this.lh.length=0},f.prototype.Eh=function(){return Boolean(this.fh)},f);function f(t){this.lh=[],this.vh=!1,void 0!==t&&this.start(t)}e.ah=p;var d=(g.prototype.add=function(t){t<=0||(this.wh+=t,this.ph++,t>this.gh&&(this.gh=t),t<this.bh&&(this.bh=t))},g.prototype.min=function(t){void 0===t&&(t=!0);var e=this.bh==Number.POSITIVE_INFINITY?0:this.bh;return t&&this.reset(),e},g.prototype.max=function(t){void 0===t&&(t=!0);var e=this.gh==Number.NEGATIVE_INFINITY?0:this.gh;return t&&this.reset(),e},g.prototype.yh=function(t){void 0===t&&(t=!0);var e=this.wh;return t&&this.reset(),e},g.prototype.Qe=function(t){void 0===t&&(t=!0);var e=0<this.ph?this.wh/this.ph:0;return t&&this.reset(),e},g.prototype.reset=function(){this.bh=Number.POSITIVE_INFINITY,this.gh=Number.NEGATIVE_INFINITY,this.wh=0,this.ph=0},g);function g(){this.reset()}e.uh=d;var v=(m.prototype.Th=function(t,e,r){this.protocol.mh(e,a.Oh.ONEWAY,r),t.write(this.protocol),this.protocol.Ih();var n=this.transport._h(),i=this.Rh(n,",",4);return n.slice(i+1,n.length-1)},m.prototype.Sh=function(t,e,r,n){var i="["+r+', "'+e+'", 4, 0,'+t+"]";this.transport.Ah(i),this.protocol.Nh();var s=new n;return s.read(this.protocol),this.protocol.Ch(),s},m.prototype.Rh=function(t,e,r){return t.split(e,r).join(e).length},m);function m(){this.transport=new a.kh,this.protocol=new a.jh(this.transport)}e.oh=v;var y=(b.prototype.isValid=function(){return void 0!==this.bandwidth},b.prototype.Mh=function(t){return this.bandwidth=Math.max(b.Dh,t),this},b.prototype.Ph=function(t){t.isValid()&&(this.isValid()?this.bandwidth=this.bandwidth*(1-b.ALPHA)+t.bandwidth*b.ALPHA:this.bandwidth=t.bandwidth)},b.prototype.Lh=function(t){return this.isValid()?Math.round(8e3*t/this.bandwidth):NaN},b.prototype.Hh=function(){return this.isValid()?this.bandwidth:NaN},b.prototype.Uh=function(){return this.isValid()?this.bandwidth/1e3:NaN},b.prototype.Fh=function(){return this.isValid()?this.bandwidth/1e6:NaN},b.prototype.xh=function(){return this.isValid()?1e6<this.bandwidth?(this.bandwidth/1e6).toFixed(2)+"Mb/s":1e3<this.bandwidth?(this.bandwidth/1e3).toFixed(2)+"Kb/s":this.bandwidth+"b/s":"NaN"},b.ALPHA=.25,b.Dh=1e8,b.Gh=1e4,b);function b(t,e){void 0!==t&&void 0!==e&&(this.bandwidth=Math.min(b.Dh,e/t*8e3))}e.hh=y,e.eh=new c,e.sh=function(t,e){return e?t+"-"+e:t},e.appendBuffer=function(t,e){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r.buffer},e.rh=function(t){var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t),0),e.buffer},e.nh=function(t,e,r){void 0===r&&(r=!0);for(var n=0;n<t.length;)if(t[n]===e){if(t.splice(n,1),r)break}else n++},e.ih=function(t){return String.fromCharCode.apply(null,new Uint8Array(t))},e.th=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null==e?"":decodeURIComponent(e[1].replace(/\+/g," "))},e.Ze=function(t){for(var e=t.length-1;0<e;e--){var r=Math.floor(l.Framework.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t},e.Je=function(t){var e=new Array;for(var r in t)t.hasOwnProperty(r)&&!/^\d+$/.test(r)&&e.push(r);return e},e.Xe=function(t){return Object.keys(t).map((function(t){return parseInt(t,10)})).filter((function(t){return!isNaN(t)}))},e.$e=function(t,e){return t[e]?t[e]:null},e.Ke=function(t,e){return new o(e).Vh(t).toString()},e.ze=function(t){void 0===t&&(t="");var e=t.toLowerCase().indexOf("(format=mpd-time-csf)");return-1!=e&&(t=t.substr(0,e)),-1==(e=t.indexOf("?"))&&(e=t.length),t.substr(0,e)},e.Ye=function(t){return new o(t).search(!0)},e.We=function(t){var e,r,n,i,s=new o(t),a=s.origin(),l=s.query(),u=s.path(),c=t.startsWith("//");for("/"!==u.charAt(0)&&(e=!0,u="/"+u),"/.."!==u.slice(-3)&&"/."!==u.slice(-2)||(u+="/"),u=u.replace(/\/\//g,"||").replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/").replace(/\|\|/g,"//"),e&&(r=(r=u.substring(1).match(/^(\.\.\/)+/)||"")&&r[0]);-1!==(n=u.search(/\/\.\.(\/|$)/));)u=0!==n?(-1===(i=u.substring(0,n).lastIndexOf("/"))&&(i=n),u.substring(0,i)+u.substring(n+3)):u.substring(3);return(c?"//":"")+a+u+(l?"?"+l:"")},e.Qe=function(t){return 0==t.length?0:t.reduce((function(t,e){return t+e}))/t.length},e.qe=function(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0,i=t.length;n<i;n++)r[n]=t.charCodeAt(n);return e},e.createEvent=function(t,e,r,n){var i=new t(e,r),s=n||r.currentTarget;return s&&Object.defineProperties(i,{currentTarget:{value:s,enumerable:!0,writable:!1},target:{value:s,enumerable:!0,writable:!1}}),i},e.Be=/[-\/\\^$*+?.()|[\]{}]/g,e.Ve=function(t){return t.replace(e.Be,"\\$&")};var E,w=(i(A,E=u.Bh),A.prototype.on=function(t,e){return E.prototype.on.call(this,t,e)},A.prototype.qh=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return E.prototype.qh.apply(this,s([t],e))},A);function A(){return null!==E&&E.apply(this,arguments)||this}e.Ge=w,e.xe=function(t){return null!=t}},function(t,e,r){(function(e,r){!function(e){"use strict";"function"==typeof bootstrap?bootstrap("promise",e):t.exports=e()}((function(){"use strict";var t=!1;try{throw new Error}catch(l){t=!!l.stack}function n(){}var i,s=A(),o=function(){var t={Qh:void 0,next:null},n=t,i=!1,s=void 0,a=!1,l=!1;try{l=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(l){}var u=[];function c(){for(var e,r;t.next;)e=(t=t.next).Qh,t.Qh=void 0,(r=t.domain)&&(t.domain=void 0,r.Wh()),h(e,r);for(;u.length;)h(e=u.pop());i=!1}function h(t,e){try{t()}catch(t){if(a)throw e&&e.Yh(),setTimeout(c,0),e&&e.Wh(),t;setTimeout((function(){throw t}),0)}e&&e.Yh()}if(o=function(t){"undefined"!=typeof Framework&&Framework.T()?Framework.setTimeout(t,0):(n=n.next={Qh:t,domain:a&&e.domain,next:null},i||(i=!0,s()))},"object"==typeof e&&e&&"[object process]"===e.toString()&&e.zh)a=!0,s=function(){e.zh(c)};else if("function"!=typeof r||l)if("undefined"==typeof MessageChannel||l)s=function(){setTimeout(c,0)};else{var p=new MessageChannel;p.port1.onmessage=function(){s=f,(p.port1.onmessage=c)()};var f=function(){p.port2.postMessage(0)};s=function(){setTimeout(c,0),f()}}else s="undefined"!=typeof window?r.bind(window,c):function(){r(c)};return o.Kh=function(t){u.push(t),i||(i=!0,s())},o}(),a=Function.call;function l(t){return function(){return a.apply(t,arguments)}}var u,c=l(Array.prototype.slice),h=l(Array.prototype.reduce||function(t,e){var r=0,n=this.length;if(1===arguments.length)for(;;){if(r in this){e=this[r++];break}if(++r>=n)throw new TypeError}for(;r<n;r++)r in this&&(e=t(e,this[r],r));return e}),p=l(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),f=l(Array.prototype.map||function(t,e){var r=this,n=[];return h(r,(function(i,s,o){n.push(t.call(e,s,o,r))}),void 0),n}),d=Object.create||function(t){function e(){}return e.prototype=t,new e},g=Object.defineProperty||function(t,e,r){return t[e]=r.value,t},v=l(Object.prototype.hasOwnProperty),m=Object.keys||function(t){var e=[];for(var r in t)v(t,r)&&e.push(r);return e},y=l(Object.prototype.toString);function b(e,r){if(t&&r.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],i=r;i;i=i.source)i.stack&&(!e.$h||e.$h>i.Xh)&&(g(e,"__minimumStackCounter__",{value:i.Xh,configurable:!0}),n.unshift(i.stack));n.unshift(e.stack);var s=function(t){for(var e=t.split("\n"),r=[],n=0;n<e.length;++n){var i=e[n];!w(i)&&-1===(s=i).indexOf("(module.js:")&&-1===s.indexOf("(node.js:")&&i&&r.push(i)}var s;return r.join("\n")}(n.join("\nFrom previous event:\n"));g(e,"stack",{value:s,configurable:!0})}}function E(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(r)return[r[1],Number(r[2])];var n=/.*@(.+):(\d+)$/.exec(t);return n?[n[1],Number(n[2])]:void 0}function w(t){var e=E(t);if(!e)return!1;var r=e[0],n=e[1];return r===i&&s<=n&&n<=Q}function A(){if(t)try{throw new Error}catch(t){var e=t.stack.split("\n"),r=E(0<e[0].indexOf("@")?e[1]:e[2]);if(!r)return;return i=r[0],r[1]}}function S(t){return t instanceof R?t:x(t)?function(t){var e=I();return S.zh((function(){try{t.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}})),e.promise}(t):q(t)}u="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t},(S.resolve=S).zh=o,S.Jh=!1;var T=1;function I(){var e,r=[],n=[],i=d(I.prototype),s=d(R.prototype);if(s.Zh=function(t,i,s){var o=c(arguments);r?(r.push(o),"when"===i&&s[1]&&n.push(s[1])):S.zh((function(){e.Zh.apply(e,o)}))},s.valueOf=function(){if(r)return s;var t=O(e);return _(t)&&(e=t),t},s.inspect=function(){return e?e.inspect():{state:"pending"}},S.Jh&&t)try{throw new Error}catch(i){s.stack=i.stack.substring(i.stack.indexOf("\n")+1),s.Xh=T++}function o(i){e=i,S.Jh&&t&&(s.source=i),h(r,(function(t,e){S.zh((function(){i.Zh.apply(i,e)}))}),void 0),n=r=void 0}return i.promise=s,i.resolve=function(t){e||o(S(t))},i.fulfill=function(t){e||o(q(t))},i.reject=function(t){e||o(H(t))},i.notify=function(t){e||h(n,(function(e,r){S.zh((function(){r(t)}))}),void 0)},i}function P(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=I();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.promise}function k(t){return P((function(e,r){for(var n=0,i=t.length;n<i;n++)S(t[n]).then(e,r)}))}function R(t,e,r){void 0===e&&(e=function(t){return H(new Error("Promise does not support operation: "+t))}),void 0===r&&(r=function(){return{state:"unknown"}});var n=d(R.prototype);if(n.Zh=function(r,i,s){var o;try{o=t[i]?t[i].apply(n,s):e.call(n,i,s)}catch(r){o=H(r)}r&&r(o)},n.inspect=r){var i=r();"rejected"===i.state&&(n.exception=i.reason),n.valueOf=function(){var t=r();return"pending"===t.state||"rejected"===t.state?n:t.value}}return n}function C(t,e,r,n){return S(t).then(e,r,n)}function O(t){if(_(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function _(t){return t instanceof R}function x(t){return function(t){return t===Object(t)}(t)&&"function"==typeof t.then}"object"==typeof e&&e&&e.to&&e.to.io&&(S.Jh=!0),(S.defer=I).prototype.no=function(){var t=this;return function(e,r){e?t.reject(e):2<arguments.length?t.resolve(c(arguments,1)):t.resolve(r)}},S.Promise=P,(S.promise=P).race=k,P.all=z,P.reject=H,(P.resolve=S).ro=function(t){return t},R.prototype.ro=function(){return this},S.join=function(t,e){return S(t).join(e)},R.prototype.join=function(t){return S([this,t]).so((function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)}))},S.race=k,R.prototype.race=function(){return this.then(S.race)},(S.eo=R).prototype.toString=function(){return"[object Promise]"},R.prototype.then=function(t,e,r){var n=this,i=I(),s=!1;return S.zh((function(){n.Zh((function(e){s||(s=!0,i.resolve(function(e){try{return"function"==typeof t?t(e):e}catch(e){return H(e)}}(e)))}),"when",[function(t){s||(s=!0,i.resolve(function(t){if("function"==typeof e){b(t,n);try{return e(t)}catch(t){return H(t)}}return H(t)}(t)))}])})),n.Zh(void 0,"when",[void 0,function(t){var e,n=!1;try{e=function(t){return"function"==typeof r?r(t):t}(t)}catch(t){if(n=!0,!S.onerror)throw t;S.onerror(t)}n||i.notify(e)}]),i.promise},S.ho=function(t,e){return S(t).ho(e)},R.prototype.ho=function(t){return t=S(t),this.then((function(e){return t.uo(e).oo(e)}))},S.when=C,R.prototype.oo=function(t){return this.then((function(){return t}))},S.oo=function(t,e){return S(t).oo(e)},R.prototype.ao=function(t){return this.then((function(){throw t}))},S.ao=function(t,e){return S(t).ao(e)},S.fo=O,S.co=_,S.lo=x,S.vo=function(t){return _(t)&&"pending"===t.inspect().state},R.prototype.vo=function(){return"pending"===this.inspect().state},S.do=function(t){return!_(t)||"fulfilled"===t.inspect().state},R.prototype.do=function(){return"fulfilled"===this.inspect().state},S.Eo=function(t){return _(t)&&"rejected"===t.inspect().state},R.prototype.Eo=function(){return"rejected"===this.inspect().state};var L,N,D,M=[],B=[],j=[],F=!0;function U(){M.length=0,B.length=0,F=F||!0}function H(t){var r=R({when:function(r){return r&&function(t){if(F){var r=p(B,t);-1!==r&&("object"==typeof e&&e&&"function"==typeof e.qh&&S.zh.Kh((function(){var n=p(j,t);-1!==n&&(e.qh("rejectionHandled",M[r],t),j.splice(n,1))})),B.splice(r,1),M.splice(r,1))}}(this),r?r(t):this}},(function(){return this}),(function(){return{state:"rejected",reason:t}}));return function(t,r){F&&("object"==typeof e&&e&&"function"==typeof e.qh&&S.zh.Kh((function(){-1!==p(B,t)&&(e.qh("unhandledRejection",r,t),j.push(t))})),B.push(t),r&&void 0!==r.stack?M.push(r.stack):M.push("(no stack) "+r))}(r,t),r}function q(t){return R({when:function(){return t},get:function(e){return t[e]},set:function(e,r){t[e]=r},delete:function(e){delete t[e]},wo:function(e,r){return null==e?t.apply(void 0,r):t[e].apply(t,r)},apply:function(e,r){return t.apply(e,r)},keys:function(){return m(t)}},void 0,(function(){return{state:"fulfilled",value:t}}))}function V(t,e,r){return S(t).so(e,r)}function G(t,e,r){return S(t).po(e,r)}function z(t){return C(t,(function(t){var e=0,r=I();return h(t,(function(n,i,s){var o;_(i)&&"fulfilled"===(o=i.inspect()).state?t[s]=o.value:(++e,C(i,(function(n){t[s]=n,0==--e&&r.resolve(t)}),r.reject,(function(t){r.notify({index:s,value:t})})))}),void 0),0===e&&r.resolve(t),r.promise}))}function W(t){if(0===t.length)return S.resolve();var e=S.defer(),r=0;return h(t,(function(n,i,s){var o=t[s];r++,C(o,(function(t){e.resolve(t)}),(function(t){if(0==--r){var n=t||new Error(""+t);n.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+n.message,e.reject(n)}}),(function(t){e.notify({index:s,value:t})}))}),void 0),e.promise}function X(t){return C(t,(function(t){return t=f(t,S),C(z(f(t,(function(t){return C(t,n,n)}))),(function(){return t}))}))}S.bo=U,S.yo=function(){return M.slice()},S.To=function(){U(),F=!1},U(),S.reject=H,S.fulfill=q,S.mo=function(t){return R({Oo:function(){}},(function(e,r){return G(t,e,r)}),(function(){return S(t).inspect()}))},S.so=V,R.prototype.so=function(t,e){return this.all().then((function(e){return t.apply(void 0,e)}),e)},S.async=function(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=r[t](e)}catch(t){return H(t)}return s.done?S(s.value):C(s.value,n,i)}try{s=r[t](e)}catch(t){return function(t){return"[object StopIteration]"===y(t)||t instanceof u}(t)?S(t.value):H(t)}return C(s,n,i)}var r=t.apply(this,arguments),n=e.bind(e,"next"),i=e.bind(e,"throw");return n()}},S.Io=function(t){S.done(S.async(t)())},S._o=function(t){throw new u(t)},S.Ro=function(t){return function(){return V([this,z(arguments)],(function(e,r){return t.apply(e,r)}))}},S.po=G,R.prototype.po=function(t,e){var r=this,n=I();return S.zh((function(){r.Zh(n.resolve,t,e)})),n.promise},S.get=function(t,e){return S(t).po("get",[e])},R.prototype.get=function(t){return this.po("get",[t])},S.set=function(t,e,r){return S(t).po("set",[e,r])},R.prototype.set=function(t,e){return this.po("set",[t,e])},S.So=S.delete=function(t,e){return S(t).po("delete",[e])},R.prototype.So=R.prototype.delete=function(t){return this.po("delete",[t])},S.Ao=S.wo=function(t,e,r){return S(t).po("post",[e,r])},R.prototype.Ao=R.prototype.wo=function(t,e){return this.po("post",[t,e])},S.send=S.No=S.Co=function(t,e){return S(t).po("post",[e,c(arguments,2)])},R.prototype.send=R.prototype.No=R.prototype.Co=function(t){return this.po("post",[t,c(arguments,1)])},S.ko=function(t,e){return S(t).po("apply",[void 0,e])},R.prototype.ko=function(t){return this.po("apply",[void 0,t])},S.jo=S.uo=function(t){return S(t).po("apply",[void 0,c(arguments,1)])},R.prototype.uo=function(){return this.po("apply",[void 0,c(arguments)])},S.Mo=function(t){var e=S(t),r=c(arguments,1);return function(){return e.po("apply",[this,r.concat(c(arguments))])}},R.prototype.Mo=function(){var t=this,e=c(arguments);return function(){return t.po("apply",[this,e.concat(c(arguments))])}},S.keys=function(t){return S(t).po("keys",[])},R.prototype.keys=function(){return this.po("keys",[])},S.all=z,R.prototype.all=function(){return z(this)},S.Do=W,R.prototype.Do=function(){return W(this)},S.Po=(L=X,N="allResolved",D="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(N+" is deprecated, use "+D+" instead.",new Error("").stack),L.apply(L,arguments)}),R.prototype.Po=function(){return X(this)},S.allSettled=function(t){return S(t).allSettled()},R.prototype.allSettled=function(){return this.then((function(t){return z(f(t,(function(t){function e(){return t.inspect()}return(t=S(t)).then(e,e)})))}))},S.fail=S.catch=function(t,e){return S(t).then(void 0,e)},R.prototype.fail=R.prototype.catch=function(t){return this.then(void 0,t)},S.progress=function(t,e){return S(t).then(void 0,void 0,e)},R.prototype.progress=function(t){return this.then(void 0,void 0,t)},S.Lo=S.finally=function(t,e){return S(t).finally(e)},R.prototype.Lo=R.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=S(t),this.then((function(e){return t.uo().then((function(){return e}))}),(function(e){return t.uo().then((function(){throw e}))}))},S.done=function(t,e,r,n){return S(t).done(e,r,n)},R.prototype.done=function(t,r,n){var i=function(t){S.zh((function(){if(b(t,s),!S.onerror)throw t;S.onerror(t)}))},s=t||r||n?this.then(t,r,n):this;"object"==typeof e&&e&&e.domain&&(i=e.domain.bind(i)),s.then(void 0,i)},S.timeout=function(t,e,r){return S(t).timeout(e,r)},R.prototype.timeout=function(t,e){var r=I(),n=setTimeout((function(){e&&"string"!=typeof e||((e=new Error(e||"Timed out after "+t+" ms")).code="ETIMEDOUT"),r.reject(e)}),t);return this.then((function(t){clearTimeout(n),r.resolve(t)}),(function(t){clearTimeout(n),r.reject(t)}),r.notify),r.promise},S.delay=function(t,e){return void 0===e&&(e=t,t=void 0),S(t).delay(e)},R.prototype.delay=function(t){return this.then((function(e){var r=I();return setTimeout((function(){r.resolve(e)}),t),r.promise}))},S.Ho=function(t,e){return S(t).Ho(e)},R.prototype.Ho=function(t){var e=I(),r=c(t);return r.push(e.no()),this.ko(r).fail(e.reject),e.promise},S.Uo=function(t){var e=c(arguments,1);return S(t).Ho(e)},R.prototype.Uo=function(){var t=c(arguments),e=I();return t.push(e.no()),this.ko(t).fail(e.reject),e.promise},S.Fo=S.xo=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=c(arguments,1);return function(){var r=e.concat(c(arguments)),n=I();return r.push(n.no()),S(t).ko(r).fail(n.reject),n.promise}},R.prototype.Fo=R.prototype.xo=function(){var t=c(arguments);return t.unshift(this),S.xo.apply(void 0,t)},S.Go=function(t,e){var r=c(arguments,2);return function(){var n=r.concat(c(arguments)),i=I();return n.push(i.no()),S((function(){return t.apply(e,arguments)})).ko(n).fail(i.reject),i.promise}},R.prototype.Go=function(){var t=c(arguments,0);return t.unshift(this),S.Go.apply(void 0,t)},S.Vo=S.Bo=function(t,e,r){return S(t).Bo(e,r)},R.prototype.Vo=R.prototype.Bo=function(t,e){var r=c(e||[]),n=I();return r.push(n.no()),this.po("post",[t,r]).fail(n.reject),n.promise},S.qo=S.Qo=S.Wo=function(t,e){var r=c(arguments,2),n=I();return r.push(n.no()),S(t).po("post",[e,r]).fail(n.reject),n.promise},R.prototype.qo=R.prototype.Qo=R.prototype.Wo=function(t){var e=c(arguments,1),r=I();return e.push(r.no()),this.po("post",[t,e]).fail(r.reject),r.promise},S.Yo=function(t,e){return S(t).Yo(e)},R.prototype.Yo=function(t){if(!t)return this;this.then((function(e){S.zh((function(){t(null,e)}))}),(function(e){S.zh((function(){t(e)}))}))},S.zo=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Q=A();return S}))}).call(this,r(36),r(126).setImmediate)},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Ko=void 0;var n=r(8),i=(s.$o=5e3,s.Xo=6,s.Jo=1e4,s.Zo=.2,s.tu=10,s);function s(){}var o=(a.iu="0.0.1",a.nu=3e4,a.ru=4e7,a.su=1,a.eu=.8,a.hu=!1,a.ou=2e4,a.uu=1e4,a);function a(){}var l=(u.au=n.K.fu,u.cu=3,u.lu=1e4,u);function u(){}var c=(h.vu=!0,h);function h(){}var p=(f.du=1.2,f.Eu=1.5,f.wu=1.2,f.pu=.5,f);function f(){}var d=(g.gu=n.K.bu,g.yu=2e4,g.Tu=5e3,g);function g(){}var v=(m.mu=[412,404],m);function m(){}var y=(b.Ou=!0,b.Iu=2e3,b._u=!0,b.Ru=!1,b.Su=!0,b.Au=1,b.Nu=.04,b.Cu=2,b.ku=!0,b.ju=!1,b.Mu=!1,b.Du=1e4,b.Pu=4e4,b.Lu=3700,b.Hu=2e4,b.Uu=1,b.Fu=5,b.xu=.4,b.Gu=1,b.Vu=!0,b.Bu=2,b.qu=1.5,b);function b(){}var E=(w.Qu=30,w.Wu=2e4,w.Yu=3e4,w);function w(){}var A=(S.zu=3e7,S.Ku=3e4,S.$u=10,S);function S(){}var T=(I.Xu=3,I.Ju=!1,I.Zu=3e4,I.ta=3,I.ia=.2,I.na=.2,I.ra=1e4,I);function I(){}var P=(k.sa=!1,k.ea=206,k);function k(){}var R=(C.ha=64e3,C.oa=5e3,C.ua=1,C.aa=1,C.fa=!1,C.ca=!0,C);function C(){}var O=(_.la=4e3,_.va=3e4,_.da=4096,_.Ea=!0,_.wa=5e3,_.pa=1e4,_);function _(){}var x=(L.ga=100,L.ba=200,L);function L(){}var N=(D.ya=20,D.Ta=20,D.ma=20,D.Oa=5,D.TIMEOUT=6e4,D);function D(){}var M=(B.Ia="site",B._a="externalAs",B.Ra="availableSendRate",B.Sa="remoteAddress",B.Aa="localAddress",B.Na=2e4,B);function B(){}var j=(F.Ca=3e4,F);function F(){}var U=(H.ka=300,H);function H(){}var q=(V.ja=!1,V.Ma=!1,V);function V(){}var G=(z.Da=1,z.Pa=6,z.La=12,z.Ha=4,z.Ua=27,z);function z(){}var W=(X.Fa=32,X.xa=150,X);function X(){}var Q=(Z.Ga=i,Z.Va=o,Z.Ba=l,Z.qa=c,Z.Qa=p,Z.Wa=d,Z.Ya=v,Z.za=y,Z.Ka=E,Z.Cache=A,Z.$a=T,Z.Xa=P,Z.Ja=R,Z.UDPBroadcast=O,Z.Za=x,Z.if=N,Z.nf=M,Z.rf=j,Z.sf=U,Z.ef=q,Z.hf=G,Z.uf=W,Z);function Z(){}e.Ko=Q},function(t,e,r){"use strict";var n;Object.defineProperty(e,"s",{value:!0}),e.af=void 0,(n=e.af||(e.af={}))[n.ff=0]="AUDIO",n[n.cf=1]="VIDEO",n[n.lf=2]="METADATA",n[n.vf=3]="OTHER"},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.K=void 0;var n=(i.df=!0,i.Ef=!0,i.wf="5.1.0",i.pf="7.2.0",i.gf="html5",i.bf="undefined"!=typeof HIVE_PLUGIN_TIMEOUT?HIVE_PLUGIN_TIMEOUT:3e4,i.yf="8.0.0",i.Tf="HTML5",i.mf="undefined"!=typeof HIVE_DEFAULT_HLS_TRIMMING?HIVE_DEFAULT_HLS_TRIMMING:16,i.Of="undefined"!=typeof HIVE_DEFAULT_DASH_TRIMMING?HIVE_DEFAULT_DASH_TRIMMING:10,i.If=!1,i._f="undefined"!=typeof HIVE_SERVICE_ENDPOINT_CUSTOM&&HIVE_SERVICE_ENDPOINT_CUSTOM,i.Rf="undefined"!=typeof HIVE_CUSTOM_TICKET_REGEXP?HIVE_CUSTOM_TICKET_REGEXP:void 0,i.Sf="undefined"!=typeof HIVE_CUSTOM_BACKEND_ENDPOINT?HIVE_CUSTOM_BACKEND_ENDPOINT:void 0,i.Af=!0,i.Nf="undefined"!=typeof INCLUDE_UDP_BROADCAST&&INCLUDE_UDP_BROADCAST,i.Cf="undefined"!=typeof INCLUDE_UDP_LEADER_ELECTION&&INCLUDE_UDP_LEADER_ELECTION,i.kf="undefined"!=typeof LEADER_SCORE_EQUALITY&&LEADER_SCORE_EQUALITY,i.jf="undefined"!=typeof HIVE_RESTRICTED_CONNINFO&&HIVE_RESTRICTED_CONNINFO,i.bu="undefined"!=typeof HIVE_DISCOVERY?HIVE_DISCOVERY:"ws://127.0.0.1:8000/hive",i.Mf="undefined"!=typeof P2PDispatcherDetailedLog&&P2PDispatcherDetailedLog,i.Df="undefined"!=typeof NetworkManagerDetailedLog&&NetworkManagerDetailedLog,i.Y="undefined"!=typeof ATATUS_KEY?ATATUS_KEY:"0b83dd6a94664cc9a09c478a7d77384e",i.$="undefined"!=typeof ATATUS_VERSION?ATATUS_VERSION:"4.2.1",i.X="undefined"==typeof ATATUS_DEFAULT_ENABLED||ATATUS_DEFAULT_ENABLED,i.J=9,i.Pf="undefined"==typeof HIVE_DETECT_PRIVATEIP||HIVE_DETECT_PRIVATEIP,i.Lf=!0,i.Hf=!1,i.Uf=!0,i.fu="undefined"==typeof HIVE_IP_SPOOFING_ENABLED||HIVE_IP_SPOOFING_ENABLED,i.Ff="undefined"==typeof STATS_MANIFEST_INTERCEPTION_ENABLED||STATS_MANIFEST_INTERCEPTION_ENABLED,i.xf="undefined"!=typeof HIVE_REPORTING_THRESHOLD?HIVE_REPORTING_THRESHOLD:0,i);function i(){}e.K=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Gf=e.getStreamProtocol=e.Vf=e.Bf=e.qf=e.rh=e.Qf=e.Wf=e.Yf=e.zf=e.Kf=e.parseParameterOptions=e.updateOptions=e.$f=e.Xf=e.Jf=e.xh=void 0;var n=r(5),i=r(18),s=r(24),o=r(30),a=r(4);function l(t,e,r,n){function i(i){if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)?s.forEach((function(t,s){"object"==typeof t&&l(t,e+"."+i+"["+s+"]",r,n)})):"object"==typeof s?l(s,e+"."+i,r,n):"number"==typeof s&&isNaN(s)&&(r.push(e+"."+i),n||(t[i]=null))}}for(var s in void 0===e&&(e=""),void 0===r&&(r=[]),void 0===n&&(n=!1),t)i(s);return r}function u(t,e){var r;switch(typeof e){case"number":r=parseInt(t);break;case"boolean":r="true"===t;break;default:r=t}return r}function c(t,e,r,i,s){void 0===i&&(i=!0),void 0===s&&(s={});var o=n.defer();try{var a=new XMLHttpRequest;if(a.open(t,e,i),null!=r&&null!=r&&a.setRequestHeader("Content-Type",r),s)for(var l in s)s.hasOwnProperty(l)&&null!==s[l]&&a.setRequestHeader(l,s[l]);a.onload=function(){200==a.status?o.resolve(a.response):o.reject({status:a.status,reason:a.statusText,body:a.responseText})},a.onerror=function(t){o.reject({status:-1,reason:"Network Error"})},a.send()}catch(t){o.reject({status:-1,reason:t})}return o.promise}e.xh=function(t,e){return void 0===e&&(e=2),1e6<t?(t/1e6).toFixed(e)+"MB":1e3<t?(t/1e3).toFixed(e)+"KB":t+"B"},e.Jf=function(t,e,r){return void 0===e&&(e=""),void 0===r&&(r=[]),l(t,e,r,!0)},e.Xf=l,e.$f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t[0],n=1;n<t.length;n++){var i=new RegExp("\\{"+(n-1)+"\\}","gm");r=r.replace(i,t[n])}return r},e.updateOptions=function(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e.hasOwnProperty(r))if("function"==typeof e[r]&&"string"==typeof t[r])try{var n=window;do{var i=t[r];if("function"==typeof n[i]){e[r]=n[i];break}}while(n!=n.top&&(n=n.parent))}catch(t){}else e[r]=t[r]},e.parseParameterOptions=function(t,e,r){var n=new i(t).query(!0);for(var s in n)try{if(n.hasOwnProperty(s)&&e.hasOwnProperty(s)&&r.hasOwnProperty(e[s])){var o=e[s],a=n[s];r[o]=u(a,r[o])}}catch(t){}},e.Kf=function(t,e){var r=n.defer();return n.zh((function i(){if(!t())return r.resolve(!0);n.when(e(),i,r.reject)})),r.promise},e.zf=function(t,e,r,n){return void 0===r&&(r=!0),void 0===n&&(n={}),c("GET",t,e,r,n)},e.Yf=c,e.Wf=function(t,e,r,i,s){void 0===s&&(s=!0);var o=n.defer();try{var a=new XMLHttpRequest;if(a.open("POST",t,s),null!=r&&null!=r&&a.setRequestHeader("Content-Type",r),null!=i&&null!=i)for(var l in i)i.hasOwnProperty(l)&&null!==i[l]&&a.setRequestHeader(l,i[l]);a.onload=function(){200==a.status?o.resolve(a.response):o.reject({status:a.status,reason:a.response})},a.onerror=function(t){o.reject({status:-1,reason:"Network Error"})},a.send(e)}catch(t){o.reject({status:-1,reason:t})}return o.promise},e.Qf=function(){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r})},e.rh=function(t){var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t),0),e.buffer},e.qf=function(t,e){var r=0,n=0,i=!1;if(e)for(;n<e.length&&!i;)t>=e.start(n)&&t<e.end(n)&&(r=e.end(n)-t,i=!0),n++;return r},e.Bf=function(t,e,r,n){void 0===n&&(n=!1);var s=a.ze(t.toLowerCase()),o=a.ze(e.toLowerCase()),l=o.indexOf(".ism/manifest"),u=-1<l&&(!n||s===o),c=!1,h=!1,p=new i(s),f=new i(o),d=p.hostname();if(s===o)h=!0,c=u;else if(u){var g=s.substring(0,l);h=-1<s.indexOf(g),c=!0}else r&&r.test(d)&&f.path()===p.path()&&(c=h=!0);return{Zf:h,tc:c,ic:u}},e.Vf=function(t,e){if(void 0!==t){if(void 0!==e)return t?0:Math.round(100*e);var r=t;return r.muted?0:Math.round(100*r.volume)}},e.getStreamProtocol=function(t){if(null!=t){if(o.sc.rc(t))return StreamProtocol.HLS;if(s.Dash.rc(t))return StreamProtocol.DASH}return null},e.Gf=function(t){return-1<["","arraybuffer","blob","document","json","text"].indexOf(t)}},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.HiveConfig=void 0;var s=r(44),o=r(8),a=(l.DashFilterBitrates=null,l.DashRemoveBitrateSize=!1,l);function l(){}var u=(c.AudioAccounting=!0,c);function c(){}var h,p=(i(f,h=s.HiveConfig.DebugLogs),f.TrackerLogs=0,f);function f(){return null!==h&&h.apply(this,arguments)||this}var d=(g.usiz=null,g);function g(){}var v=(m.enabled=!1,m);function m(){}var y=(b.restrictedConnectivityInfo=o.K.jf,b.hiddenHostnameValue="[Hidden]",b);function b(){}var E=(w.ec=null,w.hc=null,w);function w(){}var A=(S.detectPrivateIP=o.K.Pf,S);function S(){}var T=(I.Dash=a,I.Stats=u,I.DebugLogs=p,I.UDPBroadcast=d,I.SensitiveInfo=y,I.ClientInfo=E,I.ConnInfo=A,I.oc=v,I);function I(){}e.HiveConfig=T,"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=T.Dash,window.HiveConfig.Stats=T.Stats,window.HiveConfig.UDPBroadcast=T.UDPBroadcast,window.HiveConfig.DebugLogs=T.DebugLogs,window.HiveConfig.SensitiveInfo=T.SensitiveInfo,window.HiveConfig.ClientInfo=T.ClientInfo,window.HiveConfig.ConnInfo=T.ConnInfo,window.HiveConfig.oc=T.oc)},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.uc=e.ac=void 0,r(28);var n,i=r(52);(n=e.ac||(e.ac={}))[n.fc=0]="TRACKER",n[n.cc=1]="UDP",e.uc=function(t,e,r){this.type=t,this.isLeader=r,this.isVpn=!1,this.internalAs=0,r||(this.isLeader=!1),e&&(this.guid=e.guid,this.internalAs=e.internalAs,this.externalAs=e.externalAs,this.nat=e.nat,this.bandwidth=e.bandwidth,this.watchingQualityLevel=new i.QualityLevel(e.watchingQualityLevel,e.watchingBitrate),this.streams=e.streams,this.rankValue=e.rankValue,this.timestamp=e.timestamp,this.privateIpString=e.privateIpString,this.publicIpString=e.publicIpString,this.isVpn=e.isVpn)}},function(t,e,r){r(75),r(37),r(76),r(128)},function(t,e,r){"use strict";function n(){throw new Error("Can't construct. GenericCollection is a mixin.")}(t.exports=n).lc=Object.freeze([]),n.prototype.hiveAddEach=function(t){if(t&&Object(t)===t)if("function"==typeof t.forEach)t.forEach(this.hiveAdd,this);else if("number"==typeof t.length)for(var e=0;e<t.length;e++)this.hiveAdd(t[e],e);else Object.keys(t).forEach((function(e){this.hiveAdd(t[e],e)}),this);else if(t&&"number"==typeof t.length)for(e=0;e<t.length;e++)this.hiveAdd(t[e],e);return this},n.prototype.vc=function(t,e){return t.forEach((function(t){this.delete(t,e)}),this),this},n.prototype.forEach=function(t){var e=arguments[1];return this.reduce((function(r,n,i,s,o){t.call(e,n,i,s,o)}),void 0)},n.prototype.map=function(t){var e=arguments[1],r=[];return this.reduce((function(n,i,s,o,a){r.push(t.call(e,i,s,o,a))}),void 0),r},n.prototype.enumerate=function(t){null==t&&(t=0);var e=[];return this.reduce((function(r,n){e.push([t++,n])}),void 0),e},n.prototype.group=function(t,e,r){r=r||Object.equals;var n=[],i=[];return this.forEach((function(s,o,a){o=t.call(e,s,o,a);var l,u=i.indexOf(o,r);-1===u?(l=[],n.push([o,l]),i.push(o)):l=n[u][1],l.push(s)})),n},n.prototype.toArray=function(){return this.map(Function.identity)},n.prototype.dc=function(){var t={};return this.reduce((function(e,r,n){t[n]=r}),void 0),t},n.prototype.filter=function(t){var e=arguments[1],r=this.Le();return this.reduce((function(n,i,s,o,a){t.call(e,i,s,o,a)&&r.hiveAdd(i,s)}),void 0),r},n.prototype.every=function(t){var e=arguments[1];return this.reduce((function(r,n,i,s,o){return r&&t.call(e,n,i,s,o)}),!0)},n.prototype.some=function(t){var e=arguments[1];return this.reduce((function(r,n,i,s,o){return r||t.call(e,n,i,s,o)}),!1)},n.prototype.all=function(){return this.every(Boolean)},n.prototype.Do=function(){return this.some(Boolean)},n.prototype.min=function(t){t=t||this.Ec||Object.compare;var e=!0;return this.reduce((function(r,n){return e?(e=!1,n):t(n,r)<0?n:r}),void 0)},n.prototype.max=function(t){t=t||this.Ec||Object.compare;var e=!0;return this.reduce((function(r,n){return e?(e=!1,n):0<t(n,r)?n:r}),void 0)},n.prototype.yh=function(t){return t=void 0===t?0:t,this.reduce((function(t,e){return t+e}),t)},n.prototype.wc=function(t){var e=void 0===t?0:t,r=void 0===t?0:t;return this.reduce((function(t,n){e+=n,r+=1}),void 0),e/r},n.prototype.concat=function(){for(var t=this.Le(this),e=0;e<arguments.length;e++)t.hiveAddEach(arguments[e]);return t},n.prototype.pc=function(){var t=this;return this.reduce((function(e,r){return r.forEach((function(t){this.push(t)}),e,t),e}),[])},n.prototype.gc=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),Array.bc(t)},n.prototype.join=function(t){return this.reduce((function(e,r){return void 0===e?r:e+t+r}),void 0)},n.prototype.yc=function(t,e,r){return(t=t||this.Ec||Object.compare).Tc?(e=t.Tc,t=t.compare||this.Ec||Object.compare):e=e||Function.identity,void 0===r&&(r=1),this.map((function(t){return{Tc:e(t),value:t}})).sort((function(e,n){return t(e.Tc,n.Tc)*r})).map((function(t){return t.value}))},n.prototype.reversed=function(){return this.Le(this).reverse()},n.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var r=this.Le();return this.forEach((function(n,i){r.hiveAdd(Object.clone(n,t-1,e),i)}),this),r},n.prototype.only=function(){if(1===this.length)return this.mc()},n.prototype.iterator=function(){return this.Oc.apply(this,arguments)},n.Pe={get:function(){return this.length},enumerable:!1,configurable:!0},Object.defineProperty(n.prototype,"size",n.Pe),r(75)},function(t,e,r){r(12);var n=Object.prototype.hasOwnProperty;function i(){throw new Error("This is an abstract interface. Mix it. Don't construct it")}function s(t,e,r,n){var i,s,o,a=t.active,l=t.Ic,u=l.length,c=u;for(a.length>u&&(a.length=u);u--;)a[u]=l[u];for(s=0;s<c;s++)if(o=a[s],!s||0<=l.indexOf(o)){if(!(i=o[t._c]||o[t.Rc]||o).call)throw new Error("No event listener for "+t.Sc+" or "+t.Ac+" or call on "+i);i.call(o,r,e,n)}}(t.exports=i).debug=!0,i.prototype.Nc=function(t){this.Cc||Object.defineProperty(this,"Cc",{value:{},enumerable:!1,configurable:!0,writable:!0});var e=this.Cc;if(!n.call(e,t)){var r=String(t);r=r&&r[0].toUpperCase()+r.slice(1),e[t]={kc:{Ic:[],active:[],_c:"handle"+r+"WillChange",Rc:"handlePropertyWillChange"},jc:{Ic:[],active:[],_c:"handle"+r+"Change",Rc:"handlePropertyChange"}}}return e[t]},i.prototype.Mc=function(t){if(!this.Cc)return!1;if(!t)return!0;var e=this.Cc;return!!n.call(e,t)},i.prototype.Dc=function(t,e,r){this.Pc&&!this.Lc&&this.Pc();var n,s=i.Nc(this,t);n=r?s.kc:s.jc,i.Hc(this,t),n.Ic.push(e);var o=this;return function(){i.Uc(o,t,e,r),o=null}},i.prototype.Fc=function(t,e){return i.Dc(this,t,e,!0)},i.prototype.Uc=function(t,e,r){var n,s=i.Nc(this,t),o=(n=r?s.kc:s.jc).Ic.lastIndexOf(e);if(-1===o)throw new Error("Can't remove property change listener: does not exist: property name"+JSON.stringify(t));n.Ic.splice(o,1)},i.prototype.xc=function(t,e){return i.Uc(this,t,e,!0)},i.prototype.Gc=function(t,e,r){var n,o=i.Nc(this,t);if(!o.isActive){o.isActive=!0,n=r?o.kc:o.jc;try{s(n,t,e,this)}finally{o.isActive=!1}}},i.prototype.Vc=function(t,e){return i.Gc(this,t,e,!0)},i.prototype.Hc=function(t){var e,r,i=this.Bc;if(i){if(n.call(i,t))return}else{if(Array.isArray(this))return;if(!Object.isExtensible(this))throw new Error("Can't make property "+JSON.stringify(t)+" observable on "+this+" because object is not extensible");i={},Object.defineProperty(this,"Bc",{value:i,enumerable:!1,writable:!0,configurable:!0})}"object"==typeof this.qc?e=this.qc:(e={},Object.defineProperty(this,"qc",{value:e,writable:!0,enumerable:!1})),e[t]=this[t];var o,a=this;do{if(r=Object.getOwnPropertyDescriptor(a,t))break;a=Object.getPrototypeOf(a)}while(a);if(r){if(!r.configurable)return;if(!r.writable&&!r.set)return}else r={value:void 0,enumerable:!0,writable:!0,configurable:!0};o="value"in(i[t]=r)?{get:function(){return r.value},set:function(n){var i,o;if(n!==r.value){if(!(o=(i=this.Cc[t]).isActive)){i.isActive=!0;try{s(i.kc,t,r.value,this)}finally{}}if(r.value=n,e[t]=n,!o)try{s(i.jc,t,n,this)}finally{i.isActive=!1}}},enumerable:r.enumerable,configurable:!0}:{get:r.get,set:function(n){var i,o,a=this[t];if(r.set.call(this,n),(n=this[t])!==a){if(!(o=(i=this.Cc[t]).isActive)){i.isActive=!0;try{s(i.kc,t,a,this)}finally{}}if(e[t]=n,!o)try{s(i.jc,t,n,this)}finally{i.isActive=!1}}},enumerable:r.enumerable,configurable:!0},Object.defineProperty(this,t,o)},i.Nc=function(t,e){return t.Nc?t.Nc(e):i.prototype.Nc.call(t,e)},i.Mc=function(t,e){return t.Mc?t.Mc(e):i.prototype.Mc.call(t,e)},i.Dc=function(t,e,r,n){if(Object.Qc(t))return t.Dc?t.Dc(e,r,n):i.prototype.Dc.call(t,e,r,n)},i.Uc=function(t,e,r,n){if(Object.Qc(t))return t.Uc?t.Uc(e,r,n):i.prototype.Uc.call(t,e,r,n)},i.Gc=function(t,e,r,n){if(Object.Qc(t))return t.Gc?t.Gc(e,r,n):i.prototype.Gc.call(t,e,r,n)},i.Fc=function(t,e,r){return i.Dc(t,e,r,!0)},i.xc=function(t,e,r){return i.Uc(t,e,r,!0)},i.Vc=function(t,e,r){return i.Gc(t,e,r,!0)},i.Hc=function(t,e){return t.Hc?t.Hc(e):i.prototype.Hc.call(t,e)}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Wc=void 0;var n=r(8),i=(s.Yc="ws://127.0.0.1:8000/hive",s.zc="wss://bee.hivestreaming.com:443/v1/hivejs",s.Kc="ws://127.0.0.1:8001/v1/hivejs",s.$c="wss://bee-test.hivestreaming.com:443/v1/hivejs",s.Xc="wss://bee-dev.hivestreaming.com:443/v1/hivejs",s.Jc="wss://labs-hivejs.test.hivestreaming.net:443/v1/hivejs",s.Zc="wss://labs-hivejs.prod.hivestreaming.net:443/v1/hivejs",s.tl="https://api-test.hivestreaming.com/v1/auth/stream",s.il="https://api.hivestreaming.com/v1/auth/stream",s.nl="https://api-dev.hivestreaming.com/v1/auth/jwt",s.rl="https://api-test.hivestreaming.com/v1/auth/jwt",s.sl="https://api.hivestreaming.com/v1/auth/jwt",s.hl={iceServers:[{url:"stun:stun.hivestreaming.com:3478"}]},s.ol=3e4,s.ul=3e5,s.al=8e4,s.fl=1e3,s.cl=3e4,s.ll=100,s.vl=1e4,s.dl=!1,s.El=!1,s.Af=n.K.Af,s.Lf=n.K.Lf,s.wl=250,s);function s(){}e.Wc=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.logger=e.pl=e.loggerId=void 0;var n,i=r(1),s=r(2);e.loggerId="[HiveServices] ";var o=(a.prototype.Th=function(){try{var t=[new Uint8Array([this.service>>8,255&this.service]),new Uint8Array([this.msgId]),this.msg];return new Blob(t,{type:"application/octet-binary"})}catch(t){throw i.ErrorMonitor.getInstance().logError("Error serializing message to send to the services",a.loggerId,s.bt.ue,t),new Error(t)}},a.gl=function(t){try{String.fromCharCode.apply(null,new Uint8Array(t));var e=String.fromCharCode.apply(null,new Uint8Array(t.slice(3))),r=new Uint8Array(t.slice(0,2)),n=new Uint8Array(t.slice(2,3));return new a((r[0]<<8)+r[1],n[0],e)}catch(t){throw i.ErrorMonitor.getInstance().logError("Error extracting message from the services",this.loggerId,s.bt.ae,t),new Error(t)}},a.loggerId="[Message] ",a);function a(t,e,r){this.msgId=e,this.service=t,this.msg=r}e.pl=o,e.logger=function(){if(n)return n;var t=window&&window.window?window.window.bl:void 0;if(void 0!==t&&t.log&&t.debug&&t.info&&t.warn&&t.error&&(n=t),!n){var e=!(void 0===window.console),r=e?console.log.bind(console):function(){};n={log:r,debug:e&&window.console.debug?window.console.debug.bind(console):r,info:e&&window.console.info?window.console.info.bind(console):r,warn:e&&window.console.warn?window.console.warn.bind(console):r,error:e&&window.console.error?window.console.error.bind(console):r}}return n}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.yl=e.Tl=e.ml=e.Ol=void 0;var n,i,s=r(5),o=r(219),a=r(56),l=r(3),u=r(21),c=r(0),h=r(223),p=r(230),f=r(6),d=r(4),g=r(1),v=r(2);e.Ol=!1,(i=n=e.ml||(e.ml={}))[i.Have=1]="Have",i[i.Chunk=2]="Chunk",i[i.Request=3]="Request",i[i.Cancel=4]="Cancel",i[i.Ack=5]="Ack",i[i.Close=6]="Close",i[i.DoNotHave=7]="DoNotHave",i[i.Il=8]="OutPartRequest",i[i._l=9]="OutPartResp",i[i.Rl=10]="UDPHandshakeReq",i[i.UDPHandshakeResponse=11]="UDPHandshakeResponse",i[i.UDPSwitchLeadershipRequest=12]="UDPSwitchLeadershipRequest",i[i.Sl=13]="UDPSwitchAck",i[i.QualityLevelMessage=14]="QualityLevelMessage",i[i.Haves=15]="Haves",i[i.Al=16]="PeerInfo",i[i.Ping=17]="Ping",i[i.Pong=18]="Pong",i[i.Nl=19]="NoPartnerResp";var m=(y.prototype.create=function(t){try{var e=null,r=c.Framework.resolve(c.Framework.v.kl).Cl(t);return null==r?(this.logger.warn("MSG RECEIVED FROM UNKNOWN SWARM"),null):(e=new h.jl(r,this.transport.Ml,this.transport.otherGuid,this.transport),this.Dl.has(t)||this.Dl.set(t,e),this.Dl.get(t))}catch(t){g.ErrorMonitor.getInstance().logError("Error creating new dispatcher",this.loggerId,v.ii.Li,t)}},y.prototype.remove=function(t){this.Dl.delete(t)},y.prototype.get=function(t){return this.Dl.get(t)},y);function y(t){this.loggerId="[DispatcherManager] ",this.Dl=new l,this.logger=c.Framework.resolve(c.Framework.v.p).log(),this.transport=t}e.Tl=m;var b=(E.prototype.init=function(t,e){this.Ml=t,this.otherGuid=e,this.Pl=c.Framework.resolve(c.Framework.v.Ll)},E.prototype.Hl=function(){var t=!1;return this.Ul.Dl.forEach((function(e,r){(e.sender.Hl()||e.receiver.Hl())&&(t=!0)})),t},E.prototype.reset=function(){this.Ul.Dl.forEach((function(t,e){t.sender.Fl()}))},E.prototype.close=function(t){return this.Ul.remove(t),0==this.Ul.Dl.length&&this.Pl.disconnect(this.otherGuid),s("ok")},E.prototype.xl=function(t,r,i){var s,o;try{this.Gl=c.Framework.time();var l=i.toArrayBuffer(),h=l.byteLength,p=c.Framework.T()?"":u.Bl.Vl(u.Bl.Ql.ql.create(l)),d=new a;d.Wl(t),d.Yl(r),d.Wl(h),d.Yl(p.toString()),d.append(l),d.zl(),s=d.toArrayBuffer(),o=t===n.Chunk&&c.Framework.T()?s.byteLength+f.Ko.Ja.ha:s.byteLength,e.Ol&&this.Kl.log(r).debug(this.instance+" SEND MSG ID "+t+","+o+" HASH "+p.toString()+" TO "+this.otherGuid)}catch(i){g.ErrorMonitor.getInstance().logError("Error constructing message",this.loggerId,v.ni.ji,{detailedError:i,$l:n[t]})}try{var m=this.Pl.send(this.otherGuid,s,o);return m||g.ErrorMonitor.getInstance().logError("Error message dropped",this.loggerId,v.ni.Mi,{$l:n[t],otherGuid:this.otherGuid}),m}catch(i){g.ErrorMonitor.getInstance().logError("Error sending message",this.loggerId,v.ni.Di,{$l:n[t],otherGuid:this.otherGuid}),this.Kl.log(r).warn("ERROR SENDING MESSAGE TO "+this.otherGuid+" "+i.stack)}},E.prototype.Xl=function(){this.Ul.Dl.forEach((function(t){return t.Xl()}))},E.prototype.Jl=function(t){var r=this;e.Ol&&this.Kl.log().debug(this.instance+" GOT MSG "+t.byteLength);try{var i=c.Framework.time();this.Gl=i,this.Zl(t).then((function(s){if(e.Ol&&r.Kl.log().debug(r.instance+" RECEIVING "+s.byteLength+" after "+(c.Framework.time()-i)),s.byteLength>E.tv)throw new RangeError("P2P Message too big to be processed");var o=r.message;if(null===o){var l=a.wrap(s),h=l.nv();if(e.Ol&&r.Kl.log().debug("MSG ID "+h),h>Object.keys(n).length)return r.Kl.log().warn("MSG OF WRONG ID RECEIVED: "+h),void(r.message=null);if((o=r.message=new p.sv).rv=h,o.swarmId=l.ev(),o.length=l.nv(),o.hash=l.ev(),o.receivedData=l.toArrayBuffer(),o.length>E.tv)throw new RangeError("P2P Message too big to be processed");e.Ol&&r.Kl.log(o.swarmId).debug("MSG ID "+o.rv+" L "+o.length+" SWID "+o.swarmId+" H "+o.hash+" TR "+o.receivedData.byteLength)}else{if(e.Ol&&r.Kl.log().debug("APPENDING TO P2P MESSAGE "+o.rv),null!=o.receivedData.byteLength&&o.receivedData.byteLength>E.tv)throw new RangeError("P2P Message too big to be processed");o.receivedData=d.appendBuffer(o.receivedData,t)}if(o.receivedData.byteLength===o.length){if(!c.Framework.T()){var f=u.Bl.Ql.ql.create(o.receivedData);if(u.Bl.Vl(f).toString()!==o.hash)return void r.Kl.log(o.swarmId).warn(" INTEGRITY CHECK FAILED ")}var g=r.Ul.get(o.swarmId);(g=g||r.Ul.create(o.swarmId))&&g.po(o),o.receivedData=null,r.message=null}}))}catch(t){g.ErrorMonitor.getInstance().logError("Error receiving message",this.loggerId,v.ni.Pi,t),this.message=null}},E.prototype.Zl=function(t){var e=!c.Framework.T()&&-1<navigator.userAgent.toLowerCase().indexOf("firefox"),r=s.defer();if(e){var n=new FileReader;n.onload=function(e){t=this.result,r.resolve(t)},n.onerror=r.reject,n.readAsArrayBuffer(t)}else r.resolve(t);return r.promise},E.prototype.hv=function(){return this.Gl},E.ov=o.av(r(231)).uv("HiveMsgs"),E.fv=0,E.tv=136+Math.ceil(1.2*f.Ko.Ja.ha),E);function E(){this.loggerId="[Transport] ",this.message=null,this.Kl=c.Framework.resolve(c.Framework.v.p),this.Ul=new m(this),this.instance=E.fv++,this.Gl=c.Framework.time()}e.yl=b},function(t,e,r){var n,i,s;!function(o,a){"use strict";t.exports?t.exports=a(r(19),r(19),r(19)):(i=[r(19),r(19),r(19)],void 0===(s="function"==typeof(n=a)?n.apply(e,i):n)||(t.exports=s))}(0,(function(t,e,r,n){"use strict";var i=n&&n.URI;function s(t,e){var r=1<=arguments.length;if(!(this instanceof s))return r?2<=arguments.length?new s(t,e):new s(t):new s;if(void 0===t){if(r)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}if(null===t&&r)throw new TypeError("null is not a valid argument for URI");return this.href(t),void 0!==e?this.Vh(e):this}s.version="1.19.2";var o=s.prototype,a=Object.prototype.hasOwnProperty;function l(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function u(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function c(t){return"Array"===u(t)}function h(t,e){var r,n,i={};if("RegExp"===u(e))i=null;else if(c(e))for(r=0,n=e.length;r<n;r++)i[e[r]]=!0;else i[e]=!0;for(r=0,n=t.length;r<n;r++)(i&&void 0!==i[t[r]]||!i&&e.test(t[r]))&&(t.splice(r,1),n--,r--);return t}function p(t,e){var r,n;if(c(e)){for(r=0,n=e.length;r<n;r++)if(!p(t,e[r]))return!1;return!0}var i=u(e);for(r=0,n=t.length;r<n;r++)if("RegExp"===i){if("string"==typeof t[r]&&t[r].match(e))return!0}else if(t[r]===e)return!0;return!1}function f(t,e){if(!c(t)||!c(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function d(t){return t.replace(/^\/+|\/+$/g,"")}function g(t){return escape(t)}function v(t){return encodeURIComponent(t).replace(/[!'()*]/g,g).replace(/\*/g,"%2A")}function m(t,e){return function(r){try{return s[e](r+"").replace(s.Bv[t][e].qv,(function(r){return s.Bv[t][e].map[r]}))}catch(t){return r}}}s.cv=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,lv:null,vv:s.vv,dv:s.dv,Ev:s.Ev}},s.vv=!1,s.dv=!1,s.Ev=!0,s.wv=/^[a-z][a-z0-9.+-]*$/i,s.pv=/[^a-z0-9\._-]/i,s.gv=/(xn--)/i,s.bv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s.yv=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,s.Tv=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,s.mv={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,Ov:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},s.Iv={http:"80",_v:"443",Rv:"21",Sv:"70",Av:"80",Nv:"443"},s.Cv=["http","https"],s.kv=/[^a-zA-Z0-9\.\-:_]/,s.jv={a:"href",Mv:"cite",link:"href",Dv:"href",Pv:"src",form:"action",Lv:"src",Hv:"href",Uv:"src",Fv:"src",source:"src",track:"src",input:"src",xv:"src",video:"src"},s.Gv=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return s.jv[e]}},s.encode=v,s.decode=decodeURIComponent,s.Vv=function(){s.encode=escape,s.decode=unescape},s.unicode=function(){s.encode=v,s.decode=decodeURIComponent},s.Bv={pathname:{encode:{qv:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{qv:/[\/\?#]/g,map:{Qv:"%2F",Wv:"%3F",Yv:"%23"}}},zv:{encode:{qv:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":",Kv:"/",$v:"?",Xv:"#",Jv:"[",Zv:"]","%40":"@",td:"!","%24":"$","%26":"&",nd:"'",rd:"(",sd:")",hd:"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},od:{encode:{qv:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{td:"!","%24":"$",nd:"'",rd:"(",sd:")",hd:"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{qv:/[\/\?#:]/g,map:{Qv:"%2F",Wv:"%3F",Yv:"%23",ud:"%3A"}}}},s.ad=function(t,e){var r=s.encode(t+"");return void 0===e&&(e=s.Ev),e?r.replace(/%20/g,"+"):r},s.fd=function(t,e){t+="",void 0===e&&(e=s.Ev);try{return s.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}};var y,b={encode:"encode",decode:"decode"};for(y in b)s[y+"PathSegment"]=m("pathname",b[y]),s[y+"UrnPathSegment"]=m("urnpath",b[y]);function E(t,e,r){return function(n){var i;i=r?function(t){return s[e](s[r](t))}:s[e];for(var o=(n+"").split(t),a=0,l=o.length;a<l;a++)o[a]=i(o[a]);return o.join(t)}}function w(t){return function(e,r){return void 0===e?this.cv[t]||"":(this.cv[t]=e||null,this.uv(!r),this)}}function A(t,e){return function(r,n){return void 0===r?this.cv[t]||"":(null!==r&&(r+="").charAt(0)===e&&(r=r.substring(1)),this.cv[t]=r,this.uv(!n),this)}}s.ld=E("/","decodePathSegment"),s.vd=E(":","decodeUrnPathSegment"),s.dd=E("/","encodePathSegment","decode"),s.Ed=E(":","encodeUrnPathSegment","decode"),s.wd=m("reserved","encode"),s.parse=function(t,e){var r;return e=e||{vv:s.vv},-1<(r=t.indexOf("#"))&&(e.lv=t.substring(r+1)||null,t=t.substring(0,r)),-1<(r=t.indexOf("?"))&&(e.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=s.pd(t,e)):-1<(r=t.indexOf(":"))&&(e.protocol=t.substring(0,r)||null,e.protocol&&!e.protocol.match(s.wv)?e.protocol=void 0:"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=s.pd(t,e)):(t=t.substring(r+1),e.urn=!0)),e.path=t,e},s.gd=function(t,e){var r,n,i=(t=(t=t||"").replace(/\\/g,"/")).indexOf("/");if(-1===i&&(i=t.length),"["===t.charAt(0))r=t.indexOf("]"),e.hostname=t.substring(1,r)||null,e.port=t.substring(r+2,i)||null,"/"===e.port&&(e.port=null);else{var o=t.indexOf(":"),a=t.indexOf("/"),l=t.indexOf(":",o+1);-1!==l&&(-1===a||l<a)?(e.hostname=t.substring(0,i)||null,e.port=null):(n=t.substring(0,i).split(":"),e.hostname=n[0]||null,e.port=n[1]||null)}return e.hostname&&"/"!==t.substring(i).charAt(0)&&(i++,t="/"+t),e.vv&&s.bd(e.hostname,e.protocol),e.port&&s.yd(e.port),t.substring(i)||"/"},s.pd=function(t,e){return t=s.Td(t,e),s.gd(t,e)},s.Td=function(t,e){var r,n=t.indexOf("/"),i=t.lastIndexOf("@",-1<n?n:t.length-1);return-1<i&&(-1===n||i<n)?(r=t.substring(0,i).split(":"),e.username=r[0]?s.decode(r[0]):null,r.shift(),e.password=r[0]?s.decode(r.join(":")):null,t=t.substring(i+1)):(e.username=null,e.password=null),t},s.md=function(t,e){if(!t)return{};if(!(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,n,i,o={},l=t.split("&"),u=l.length,c=0;c<u;c++)r=l[c].split("="),n=s.fd(r.shift(),e),i=r.length?s.fd(r.join("="),e):null,a.call(o,n)?("string"!=typeof o[n]&&null!==o[n]||(o[n]=[o[n]]),o[n].push(i)):o[n]=i;return o},s.uv=function(t){var e="",r=!1;return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//",r=!0),e+=s.Od(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&r&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.lv&&t.lv&&(e+="#"+t.lv),e},s.Id=function(t){var e="";return t.hostname?(s.yv.test(t.hostname)?e+="["+t.hostname+"]":e+=t.hostname,t.port&&(e+=":"+t.port),e):""},s.Od=function(t){return s.Rd(t)+s.Id(t)},s.Rd=function(t){var e="";return t.username&&(e+=s.encode(t.username)),t.password&&(e+=":"+s.encode(t.password)),e&&(e+="@"),e},s.Sd=function(t,e,r){var n,i,o,l,u="";for(i in t)if(a.call(t,i))if(c(t[i]))for(n={},o=0,l=t[i].length;o<l;o++)void 0!==t[i][o]&&void 0===n[t[i][o]+""]&&(u+="&"+s.Ad(i,t[i][o],r),!0!==e&&(n[t[i][o]+""]=!0));else void 0!==t[i]&&(u+="&"+s.Ad(i,t[i],r));return u.substring(1)},s.Ad=function(t,e,r){return s.ad(t,r)+(null!==e?"="+s.ad(e,r):"")},s.Nd=function(t,e,r){if("object"==typeof e)for(var n in e)a.call(e,n)&&s.Nd(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=r);"string"==typeof t[e]&&(t[e]=[t[e]]),c(r)||(r=[r]),t[e]=(t[e]||[]).concat(r)}},s.Cd=function(t,e,r){if("object"==typeof e)for(var n in e)a.call(e,n)&&s.Cd(t,n,e[n]);else{if("string"!=typeof e)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");t[e]=void 0===r?null:r}},s.kd=function(t,e,r){var n,i,o;if(c(e))for(n=0,i=e.length;n<i;n++)t[e[n]]=void 0;else if("RegExp"===u(e))for(o in t)e.test(o)&&(t[o]=void 0);else if("object"==typeof e)for(o in e)a.call(e,o)&&s.kd(t,o,e[o]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===u(r)?!c(t[e])&&r.test(t[e])?t[e]=void 0:t[e]=h(t[e],r):t[e]!==String(r)||c(r)&&1!==r.length?c(t[e])&&(t[e]=h(t[e],r)):t[e]=void 0:t[e]=void 0}},s.jd=function(t,e,r,n){switch(u(e)){case"String":break;case"RegExp":for(var i in t)if(a.call(t,i)&&e.test(i)&&(void 0===r||s.jd(t,i,r)))return!0;return!1;case"Object":for(var o in e)if(a.call(e,o)&&!s.jd(t,o,e[o]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(u(r)){case"Undefined":return e in t;case"Boolean":return r===Boolean(c(t[e])?t[e].length:t[e]);case"Function":return!!r(t[e],e,t);case"Array":return!!c(t[e])&&(n?p:f)(t[e],r);case"RegExp":return c(t[e])?!!n&&p(t[e],r):Boolean(t[e]&&t[e].match(r));case"Number":r=String(r);case"String":return c(t[e])?!!n&&p(t[e],r):t[e]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},s.Md=function(){for(var t=[],e=[],r=0,n=0;n<arguments.length;n++){var i=new s(arguments[n]);t.push(i);for(var o=i.Dd(),a=0;a<o.length;a++)"string"==typeof o[a]&&e.push(o[a]),o[a]&&r++}if(!e.length||!r)return new s("");var l=new s("").Dd(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},s.Pd=function(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r)){r--;break}return r<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(r)&&"/"===e.charAt(r)||(r=t.substring(0,r).lastIndexOf("/")),t.substring(0,r+1))},s.Ld=function(t,e,r){var n=(r=r||{}).start||s.mv.start,i=r.end||s.mv.end,o=r.trim||s.mv.trim,a=r.Ov||s.mv.Ov,l=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var u=n.exec(t);if(!u)break;var c=u.index;if(r.Hd){var h=t.slice(Math.max(c-3,0),c);if(h&&l.test(h))continue}for(var p=c+t.slice(c).search(i),f=t.slice(c,p),d=-1;;){var g=a.exec(f);if(!g)break;var v=g.index+g[0].length;d=Math.max(d,v)}if(!((f=-1<d?f.slice(0,d)+f.slice(d).replace(o,""):f.replace(o,"")).length<=u[0].length||r.Ud&&r.Ud.test(f))){var m=e(f,c,p=c+f.length,t);void 0!==m?(m=String(m),t=t.slice(0,c)+m+t.slice(p),n.lastIndex=c+m.length):n.lastIndex=p}}return n.lastIndex=0,t},s.bd=function(e,r){var n=!!e,i=!1;if(!!r&&(i=p(s.Cv,r)),i&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+r);if(e&&e.match(s.kv)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(t.Fd(e).match(s.kv))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-:_]')}},s.yd=function(t){if(t){var e=Number(t);if(!(function(t){return/^[0-9]+$/.test(t)}(e)&&0<e&&e<65536))throw new TypeError('Port "'+t+'" is not a valid port')}},s.zo=function(t){if(t){var e={URI:this.zo()};return n.xd&&"function"==typeof n.xd.zo&&(e.xd=n.xd.zo()),n.Gd&&"function"==typeof n.Gd.zo&&(e.Gd=n.Gd.zo()),n.Vd&&"function"==typeof n.Vd.zo&&(e.Vd=n.Vd.zo()),e}return n.URI===this&&(n.URI=i),this},o.uv=function(t){return!0===t?this.Bd=!0:void 0!==t&&!this.Bd||(this.qd=s.uv(this.cv),this.Bd=!1),this},o.clone=function(){return new s(this)},o.valueOf=o.toString=function(){return this.uv(!1).qd},o.protocol=w("protocol"),o.username=w("username"),o.password=w("password"),o.hostname=w("hostname"),o.port=w("port"),o.query=A("query","?"),o.lv=A("fragment","#"),o.search=function(t,e){var r=this.query(t,e);return"string"==typeof r&&r.length?"?"+r:r},o.hash=function(t,e){var r=this.lv(t,e);return"string"==typeof r&&r.length?"#"+r:r},o.pathname=function(t,e){if(void 0!==t&&!0!==t)return this.cv.urn?this.cv.path=t?s.Ed(t):"":this.cv.path=t?s.dd(t):"/",this.uv(!e),this;var r=this.cv.path||(this.cv.hostname?"/":"");return t?(this.cv.urn?s.vd:s.ld)(r):r},o.path=o.pathname,o.href=function(t,e){var r;if(void 0===t)return this.toString();this.qd="",this.cv=s.cv();var n=t instanceof s,i="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName&&(t=t[s.Gv(t)]||"",i=!1),!n&&i&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this.cv=s.parse(String(t),this.cv);else{if(!n&&!i)throw new TypeError("invalid input");var o=n?t.cv:t;for(r in o)"query"!==r&&a.call(this.cv,r)&&(this.cv[r]=o[r]);o.query&&this.query(o.query,!1)}return this.uv(!e),this},o.is=function(t){var e=!1,n=!1,i=!1,o=!1,a=!1,l=!1,u=!1,c=!this.cv.urn;switch(this.cv.hostname&&(c=!1,n=s.bv.test(this.cv.hostname),i=s.yv.test(this.cv.hostname),a=(o=!(e=n||i))&&r&&r.has(this.cv.hostname),l=o&&s.pv.test(this.cv.hostname),u=o&&s.gv.test(this.cv.hostname)),t.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return l;case"url":return!this.cv.urn;case"urn":return!!this.cv.urn;case"punycode":return u}return null};var S=o.protocol,T=o.port,I=o.hostname;o.protocol=function(t,e){if(t&&!(t=t.replace(/:(\/\/)?$/,"")).match(s.wv))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,t,e)},o.scheme=o.protocol,o.port=function(t,e){return this.cv.urn?void 0===t?"":this:(void 0!==t&&(0===t&&(t=null),t&&(":"===(t+="").charAt(0)&&(t=t.substring(1)),s.yd(t))),T.call(this,t,e))},o.hostname=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0!==t){var r={vv:this.cv.vv};if("/"!==s.gd(t,r))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=r.hostname,this.cv.vv&&s.bd(t,this.cv.protocol)}return I.call(this,t,e)},o.origin=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0===t){var r=this.protocol();return this.Qd()?(r?r+"://":"")+this.Qd():""}var n=s(t);return this.protocol(n.protocol()).Qd(n.Qd()).uv(!e),this},o.host=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0===t)return this.cv.hostname?s.Id(this.cv):"";if("/"!==s.gd(t,this.cv))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.uv(!e),this},o.Qd=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0===t)return this.cv.hostname?s.Od(this.cv):"";if("/"!==s.pd(t,this.cv))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.uv(!e),this},o.Wd=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0!==t)return"@"!==t[t.length-1]&&(t+="@"),s.Td(t,this.cv),this.uv(!e),this;var r=s.Rd(this.cv);return r?r.substring(0,r.length-1):r},o.Yd=function(t,e){var r;return void 0===t?this.path()+this.search()+this.hash():(r=s.parse(t),this.cv.path=r.path,this.cv.query=r.query,this.cv.lv=r.lv,this.uv(!e),this)},o.zd=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0===t){if(!this.cv.hostname||this.is("IP"))return"";var r=this.cv.hostname.length-this.domain().length-1;return this.cv.hostname.substring(0,r)||""}var n=this.cv.hostname.length-this.domain().length,i=this.cv.hostname.substring(0,n),o=new RegExp("^"+l(i));if(t&&"."!==t.charAt(t.length-1)&&(t+="."),-1!==t.indexOf(":"))throw new TypeError("Domains cannot contain colons");return t&&s.bd(t,this.cv.protocol),this.cv.hostname=this.cv.hostname.replace(o,t),this.uv(!e),this},o.domain=function(t,e){if(this.cv.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.cv.hostname||this.is("IP"))return"";var r=this.cv.hostname.match(/\./g);if(r&&r.length<2)return this.cv.hostname;var n=this.cv.hostname.length-this.Kd(e).length-1;return n=this.cv.hostname.lastIndexOf(".",n-1)+1,this.cv.hostname.substring(n)||""}if(!t)throw new TypeError("cannot set domain empty");if(-1!==t.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(s.bd(t,this.cv.protocol),!this.cv.hostname||this.is("IP"))this.cv.hostname=t;else{var i=new RegExp(l(this.domain())+"$");this.cv.hostname=this.cv.hostname.replace(i,t)}return this.uv(!e),this},o.Kd=function(t,e){if(this.cv.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.cv.hostname||this.is("IP"))return"";var n=this.cv.hostname.lastIndexOf("."),i=this.cv.hostname.substring(n+1);return!0!==e&&r&&r.list[i.toLowerCase()]&&r.get(this.cv.hostname)||i}var s;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');s=new RegExp(l(this.Kd())+"$"),this.cv.hostname=this.cv.hostname.replace(s,t)}else{if(!this.cv.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(l(this.Kd())+"$"),this.cv.hostname=this.cv.hostname.replace(s,t)}return this.uv(!e),this},o.$d=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this.cv.path&&!this.cv.hostname)return"";if("/"===this.cv.path)return"/";var r=this.cv.path.length-this.filename().length-1,n=this.cv.path.substring(0,r)||(this.cv.hostname?"/":"");return t?s.ld(n):n}var i=this.cv.path.length-this.filename().length,o=this.cv.path.substring(0,i),a=new RegExp("^"+l(o));return this.is("relative")||"/"!==(t=t||"/").charAt(0)&&(t="/"+t),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=s.dd(t),this.cv.path=this.cv.path.replace(a,t),this.uv(!e),this},o.filename=function(t,e){if(this.cv.urn)return void 0===t?"":this;if("string"!=typeof t){if(!this.cv.path||"/"===this.cv.path)return"";var r=this.cv.path.lastIndexOf("/"),n=this.cv.path.substring(r+1);return t?s.Xd(n):n}var i=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(i=!0);var o=new RegExp(l(this.filename())+"$");return t=s.dd(t),this.cv.path=this.cv.path.replace(o,t),i?this.Jd(e):this.uv(!e),this},o.suffix=function(t,e){if(this.cv.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this.cv.path||"/"===this.cv.path)return"";var r,n,i=this.filename(),o=i.lastIndexOf(".");return-1===o?"":(r=i.substring(o+1),n=/^[a-z0-9%]+$/i.test(r)?r:"",t?s.Xd(n):n)}"."===t.charAt(0)&&(t=t.substring(1));var a,u=this.suffix();if(u)a=t?new RegExp(l(u)+"$"):new RegExp(l("."+u)+"$");else{if(!t)return this;this.cv.path+="."+s.dd(t)}return a&&(t=s.dd(t),this.cv.path=this.cv.path.replace(a,t)),this.uv(!e),this},o.Dd=function(t,e,r){var n=this.cv.urn?":":"/",i=this.path(),s="/"===i.substring(0,1),o=i.split(n);if(void 0!==t&&"number"!=typeof t&&(r=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(s&&o.shift(),t<0&&(t=Math.max(o.length+t,0)),void 0===e)return void 0===t?o:o[t];if(null===t||void 0===o[t])if(c(e)){o=[];for(var a=0,l=e.length;a<l;a++)(e[a].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(d(e[a])))}else!e&&"string"!=typeof e||(e=d(e),""===o[o.length-1]?o[o.length-1]=e:o.push(e));else e?o[t]=d(e):o.splice(t,1);return s&&o.unshift(""),this.path(o.join(n),r)},o.Zd=function(t,e,r){var n,i,o;if("number"!=typeof t&&(r=e,e=t,t=void 0),void 0===e){if(c(n=this.Dd(t,e,r)))for(i=0,o=n.length;i<o;i++)n[i]=s.decode(n[i]);else n=void 0!==n?s.decode(n):void 0;return n}if(c(e))for(i=0,o=e.length;i<o;i++)e[i]=s.encode(e[i]);else e="string"==typeof e||e instanceof String?s.encode(e):e;return this.Dd(t,e,r)};var P=o.query;return o.query=function(t,e){if(!0===t)return s.md(this.cv.query,this.cv.Ev);if("function"!=typeof t)return void 0!==t&&"string"!=typeof t?(this.cv.query=s.Sd(t,this.cv.dv,this.cv.Ev),this.uv(!e),this):P.call(this,t,e);var r=s.md(this.cv.query,this.cv.Ev),n=t.call(this,r);return this.cv.query=s.Sd(n||r,this.cv.dv,this.cv.Ev),this.uv(!e),this},o.Cd=function(t,e,r){var n=s.md(this.cv.query,this.cv.Ev);if("string"==typeof t||t instanceof String)n[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in t)a.call(t,i)&&(n[i]=t[i])}return this.cv.query=s.Sd(n,this.cv.dv,this.cv.Ev),"string"!=typeof t&&(r=e),this.uv(!r),this},o.Nd=function(t,e,r){var n=s.md(this.cv.query,this.cv.Ev);return s.Nd(n,t,void 0===e?null:e),this.cv.query=s.Sd(n,this.cv.dv,this.cv.Ev),"string"!=typeof t&&(r=e),this.uv(!r),this},o.kd=function(t,e,r){var n=s.md(this.cv.query,this.cv.Ev);return s.kd(n,t,e),this.cv.query=s.Sd(n,this.cv.dv,this.cv.Ev),"string"!=typeof t&&(r=e),this.uv(!r),this},o.jd=function(t,e,r){var n=s.md(this.cv.query,this.cv.Ev);return s.jd(n,t,e,r)},o.tE=o.Cd,o.iE=o.Nd,o.nE=o.kd,o.rE=o.jd,o.normalize=function(){return this.cv.urn?this.hE(!1).Jd(!1).eE(!1).sE(!1).uv():this.hE(!1).uE(!1).oE(!1).Jd(!1).eE(!1).sE(!1).uv()},o.hE=function(t){return"string"==typeof this.cv.protocol&&(this.cv.protocol=this.cv.protocol.toLowerCase(),this.uv(!t)),this},o.uE=function(r){return this.cv.hostname&&(this.is("IDN")&&t?this.cv.hostname=t.Fd(this.cv.hostname):this.is("IPv6")&&e&&(this.cv.hostname=e.aE(this.cv.hostname)),this.cv.hostname=this.cv.hostname.toLowerCase(),this.uv(!r)),this},o.oE=function(t){return"string"==typeof this.cv.protocol&&this.cv.port===s.Iv[this.cv.protocol]&&(this.cv.port=null,this.uv(!t)),this},o.Jd=function(t){var e,r=this.cv.path;if(!r)return this;if(this.cv.urn)return this.cv.path=s.Ed(this.cv.path),this.uv(!t),this;if("/"===this.cv.path)return this;var n,i,o="";for("/"!==(r=s.dd(r)).charAt(0)&&(e=!0,r="/"+r),"/.."!==r.slice(-3)&&"/."!==r.slice(-2)||(r+="/"),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(o=(o=r.substring(1).match(/^(\.\.\/)+/)||"")&&o[0]);-1!==(n=r.search(/\/\.\.(\/|$)/));)r=0!==n?(-1===(i=r.substring(0,n).lastIndexOf("/"))&&(i=n),r.substring(0,i)+r.substring(n+3)):r.substring(3);return e&&this.is("relative")&&(r=o+r.substring(1)),this.cv.path=r,this.uv(!t),this},o.fE=o.Jd,o.eE=function(t){return"string"==typeof this.cv.query&&(this.cv.query.length?this.query(s.md(this.cv.query,this.cv.Ev)):this.cv.query=null,this.uv(!t)),this},o.sE=function(t){return this.cv.lv||(this.cv.lv=null,this.uv(!t)),this},o.cE=o.eE,o.lE=o.sE,o.Vv=function(){var t=s.encode,e=s.decode;s.encode=escape,s.decode=decodeURIComponent;try{this.normalize()}finally{s.encode=t,s.decode=e}return this},o.unicode=function(){var t=s.encode,e=s.decode;s.encode=v,s.decode=unescape;try{this.normalize()}finally{s.encode=t,s.decode=e}return this},o.readable=function(){var e=this.clone();e.username("").password("").normalize();var r="";if(e.cv.protocol&&(r+=e.cv.protocol+"://"),e.cv.hostname&&(e.is("punycode")&&t?(r+=t.vE(e.cv.hostname),e.cv.port&&(r+=":"+e.cv.port)):r+=e.host()),e.cv.hostname&&e.cv.path&&"/"!==e.cv.path.charAt(0)&&(r+="/"),r+=e.path(!0),e.cv.query){for(var n="",i=0,o=e.cv.query.split("&"),a=o.length;i<a;i++){var l=(o[i]||"").split("=");n+="&"+s.fd(l[0],this.cv.Ev).replace(/&/g,"%26"),void 0!==l[1]&&(n+="="+s.fd(l[1],this.cv.Ev).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+s.fd(e.hash(),!0)},o.Vh=function(t){var e,r,n,i=this.clone(),o=["protocol","username","password","hostname","port"];if(this.cv.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof s||(t=new s(t)),i.cv.protocol)return i;if(i.cv.protocol=t.cv.protocol,this.cv.hostname)return i;for(r=0;n=o[r];r++)i.cv[n]=t.cv[n];return i.cv.path?(".."===i.cv.path.substring(-2)&&(i.cv.path+="/"),"/"!==i.path().charAt(0)&&(e=(e=t.$d())||(0===t.path().indexOf("/")?"/":""),i.cv.path=(e?e+"/":"")+i.cv.path,i.Jd())):(i.cv.path=t.cv.path,i.cv.query||(i.cv.query=t.cv.query)),i.uv(),i},o.dE=function(t){var e,r,n,i,o,a=this.clone().normalize();if(a.cv.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new s(t).normalize(),e=a.cv,r=t.cv,i=a.path(),o=t.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===r.protocol&&(e.protocol=null),e.username!==r.username||e.password!==r.password)return a.uv();if(null!==e.protocol||null!==e.username||null!==e.password)return a.uv();if(e.hostname!==r.hostname||e.port!==r.port)return a.uv();if(e.hostname=null,e.port=null,i===o)return e.path="",a.uv();if(!(n=s.Pd(i,o)))return a.uv();var l=r.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=l+e.path.substring(n.length)||"./",a.uv()},o.equals=function(t){var e,r,n,i,o,l=this.clone(),u=new s(t),h={};if(l.normalize(),u.normalize(),l.toString()===u.toString())return!0;if(n=l.query(),i=u.query(),l.query(""),u.query(""),l.toString()!==u.toString())return!1;if(n.length!==i.length)return!1;for(o in e=s.md(n,this.cv.Ev),r=s.md(i,this.cv.Ev),e)if(a.call(e,o)){if(c(e[o])){if(!f(e[o],r[o]))return!1}else if(e[o]!==r[o])return!1;h[o]=!0}for(o in r)if(a.call(r,o)&&!h[o])return!1;return!0},o.vv=function(t){return this.cv.vv=!!t,this},o.dv=function(t){return this.cv.dv=!!t,this},o.Ev=function(t){return this.cv.Ev=!!t,this},s}))},function(t,e){t.exports=void 0},function(module,exports,__webpack_require__){var Thrift={EE:"0.9.3",Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17},Oh:{CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},wE:function(t){var e=0;for(var r in t)t.hasOwnProperty(r)&&e++;return e},pE:function(t,e,r){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.name=r||""}},copyList,copyMap;Thrift.gE=function(t){this.message=t},Thrift.pE(Thrift.gE,Error,"TException"),Thrift.gE.prototype.bE=function(){return this.message},Thrift.yE={TE:0,mE:1,OE:2,IE:3,_E:4,RE:5,SE:6,AE:7,NE:8,CE:9,kE:10},Thrift.jE=function(t,e){this.message=t,this.code="number"==typeof e?e:0},Thrift.pE(Thrift.jE,Thrift.gE,"TApplicationException"),Thrift.jE.prototype.read=function(t){for(;;){var e=t.ME();if(e.ftype==Thrift.Type.STOP)break;switch(e.fid){case 1:e.ftype==Thrift.Type.STRING?(e=t.DE(),this.message=e.value):e=t.PE(e.ftype);break;case 2:e.ftype==Thrift.Type.I32?(e=t.LE(),this.code=e.value):e=t.PE(e.ftype);break;default:e=t.PE(e.ftype)}t.HE()}t.UE()},Thrift.jE.prototype.write=function(t){t.FE("TApplicationException"),this.message&&(t.xE("message",Thrift.Type.STRING,1),t.GE(this.bE()),t.VE()),this.code&&(t.xE("type",Thrift.Type.I32,2),t.BE(this.code),t.VE()),t.qE(),t.QE()},Thrift.jE.prototype.WE=function(){return this.code},Thrift.Ja=Thrift.kh=function(t,e){this.url=t,this.YE=0,this.zE=0,this.KE=e&&e.KE,this.$E="",this.XE=""},Thrift.kh.prototype={JE:function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}throw"Your browser doesn't support XHR."},flush:function(t,e){var r=this;if(t&&!e||void 0===this.url||""===this.url)return this.$E;var n,i=this.JE();if(i.overrideMimeType&&i.overrideMimeType("application/vnd.apache.thrift.json; charset=utf-8"),e&&(i.onreadystatechange=(n=e,function(){4==this.readyState&&200==this.status&&(r.Ah(this.responseText),n())})),i.open("POST",this.url,!!t),i.setRequestHeader&&(i.setRequestHeader("Accept","application/vnd.apache.thrift.json; charset=utf-8"),i.setRequestHeader("Content-Type","application/vnd.apache.thrift.json; charset=utf-8")),i.send(this.$E),!t||!e){if(4!=i.readyState)throw"encountered an unknown ajax ready state: "+i.readyState;if(200!=i.status)throw"encountered a unknown request status: "+i.status;this.XE=i.responseText,this.ZE=this.XE.length,this.YE=this.XE.length,this.zE=0}},tw:function(t,e,r,n){if("undefined"==typeof jQuery||void 0===jQuery.U)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var i=this;return jQuery.iw({url:this.url,data:e,type:"POST",nw:!1,contentType:"application/vnd.apache.thrift.json; charset=utf-8",rw:"text thrift",sw:{ew:function(e){return i.Ah(e),n.call(t)}},context:t,success:jQuery.hw(r).pop()})},Ah:function(t){this.XE=t,this.ZE=this.XE.length,this.YE=this.XE.length,this.zE=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(t){var e=this.YE-this.zE;if(0==e)return"";var r=t;e<t&&(r=e);var n=this.ow.substr(this.zE,r);return this.zE+=r,n},uw:function(){return this.XE},write:function(t){this.$E=t},_h:function(){return this.$E}},Thrift.aw=function(t){this.fw(t)},Thrift.aw.prototype={fw:function(t){this.url=t,this.cw=null,this.callbacks=[],this.lw=[],this.$E="",this.XE="",this.vw=0,this.dw=0},flush:function(t,e){var r,n=this;this.isOpen()?(this.cw.send(this.$E),this.callbacks.push((r=e,function(t){n.Ah(t),r()}))):this.lw.push({Ew:this.$E,ww:e})},pw:function(){var t=this;0<this.lw.length&&(this.lw.forEach((function(e){var r;this.cw.send(e.Ew),this.callbacks.push((r=e.ww,function(e){t.Ah(e),r()}))})),this.lw=[])},gw:function(t){this.fw(this.url)},bw:function(t){this.callbacks.length&&this.callbacks.shift()(t.data)},yw:function(t){console.log("Thrift WebSocket Error: "+t.toString()),this.cw.close()},Ah:function(t){this.XE=t,this.ZE=this.XE.length,this.YE=this.XE.length,this.zE=0},isOpen:function(){return this.cw&&this.cw.readyState==this.cw.OPEN},open:function(){this.cw&&this.cw.readyState!=this.cw.CLOSED||(this.cw=new WebSocket(this.url),this.cw.onopen=this.pw.bind(this),this.cw.onmessage=this.bw.bind(this),this.cw.onerror=this.yw.bind(this),this.cw.onclose=this.gw.bind(this))},close:function(){this.cw.close()},read:function(t){var e=this.YE-this.zE;if(0==e)return"";var r=t;e<t&&(r=e);var n=this.ow.substr(this.zE,r);return this.zE+=r,n},uw:function(){return this.XE},write:function(t){this.$E=t},_h:function(){return this.$E}},Thrift.jh=Thrift.Tw=function(t){this.Ow=[],this.Iw=[],this.transport=t},Thrift.Tw.Type={},Thrift.Tw.Type[Thrift.Type.BOOL]='"tf"',Thrift.Tw.Type[Thrift.Type.BYTE]='"i8"',Thrift.Tw.Type[Thrift.Type.I16]='"i16"',Thrift.Tw.Type[Thrift.Type.I32]='"i32"',Thrift.Tw.Type[Thrift.Type.I64]='"i64"',Thrift.Tw.Type[Thrift.Type.DOUBLE]='"dbl"',Thrift.Tw.Type[Thrift.Type.STRUCT]='"rec"',Thrift.Tw.Type[Thrift.Type.STRING]='"str"',Thrift.Tw.Type[Thrift.Type.MAP]='"map"',Thrift.Tw.Type[Thrift.Type.LIST]='"lst"',Thrift.Tw.Type[Thrift.Type.SET]='"set"',Thrift.Tw._w={},Thrift.Tw._w.tf=Thrift.Type.BOOL,Thrift.Tw._w.i8=Thrift.Type.BYTE,Thrift.Tw._w.i16=Thrift.Type.I16,Thrift.Tw._w.i32=Thrift.Type.I32,Thrift.Tw._w.i64=Thrift.Type.I64,Thrift.Tw._w.dbl=Thrift.Type.DOUBLE,Thrift.Tw._w.rec=Thrift.Type.STRUCT,Thrift.Tw._w.str=Thrift.Type.STRING,Thrift.Tw._w.map=Thrift.Type.MAP,Thrift.Tw._w.lst=Thrift.Type.LIST,Thrift.Tw._w.set=Thrift.Type.SET,Thrift.Tw.EE=1,Thrift.Tw.prototype={Rw:function(){return this.transport},mh:function(t,e,r){this.Ow=[],this.Iw=[],this.Ow.push([Thrift.Tw.EE,'"'+t+'"',e,r])},Ih:function(){var t=this.Ow.pop();this.Sw=this.Ow.pop(),this.Sw.push(t),this.Aw="["+this.Sw.join(",")+"]",this.transport.write(this.Aw)},FE:function(t){this.Iw.push(this.Ow.length),this.Ow.push({})},QE:function(){var t=this.Iw.pop(),e=this.Ow[t],r="{",n=!0;for(var i in e)n?n=!1:r+=",",r+=i+":"+e[i];r+="}",this.Ow[t]=r},xE:function(t,e,r){this.Iw.push(this.Ow.length),this.Ow.push({Nw:'"'+r+'"',Cw:Thrift.Tw.Type[e]})},VE:function(){var t=this.Ow.pop(),e=this.Ow.pop();this.Ow[this.Ow.length-1][e.Nw]="{"+e.Cw+":"+t+"}",this.Iw.pop()},qE:function(){},kw:function(t,e,r){this.Iw.push(this.Ow.length),this.Ow.push([Thrift.Tw.Type[t],Thrift.Tw.Type[e],0])},jw:function(){var t=this.Iw.pop();if(t!=this.Ow.length){(this.Ow.length-t-1)%2!=0&&this.Ow.push("");var e=(this.Ow.length-t-1)/2;this.Ow[t][this.Ow[t].length-1]=e;for(var r="}",n=!0;this.Ow.length>t+1;){var i=this.Ow.pop(),s=this.Ow.pop();n?n=!1:r=","+r,isNaN(s)||(s='"'+s+'"'),r=s+":"+i+r}r="{"+r,this.Ow[t].push(r),this.Ow[t]="["+this.Ow[t].join(",")+"]"}},Mw:function(t,e){this.Iw.push(this.Ow.length),this.Ow.push([Thrift.Tw.Type[t],e])},Dw:function(){for(var t=this.Iw.pop();this.Ow.length>t+1;){var e=this.Ow[t+1];this.Ow.splice(t+1,1),this.Ow[t].push(e)}this.Ow[t]="["+this.Ow[t].join(",")+"]"},Pw:function(t,e){this.Iw.push(this.Ow.length),this.Ow.push([Thrift.Tw.Type[t],e])},Lw:function(){for(var t=this.Iw.pop();this.Ow.length>t+1;){var e=this.Ow[t+1];this.Ow.splice(t+1,1),this.Ow[t].push(e)}this.Ow[t]="["+this.Ow[t].join(",")+"]"},Hw:function(t){this.Ow.push(t?1:0)},Uw:function(t){this.Ow.push(t)},Fw:function(t){this.Ow.push(t)},BE:function(t){this.Ow.push(t)},xw:function(t){this.Ow.push(t)},Gw:function(t){this.Ow.push(t)},GE:function(t){if(null===t)this.Ow.push(null);else{for(var e="",r=0;r<t.length;r++){var n=t.charAt(r);e+='"'===n?'\\"':"\\"===n?"\\\\":"\b"===n?"\\b":"\f"===n?"\\f":"\n"===n?"\\n":"\r"===n?"\\r":"\t"===n?"\\t":n}this.Ow.push('"'+e+'"')}},Vw:function(t){this.GE(t)},Nh:function(){this.Bw=[],this.zE=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.qw=JSON.parse(this.transport.uw()):"undefined"!=typeof jQuery?this.qw=jQuery.Qw(this.transport.uw()):this.qw=eval(this.transport.uw());var r={},version=this.qw.shift();if(version!=Thrift.Tw.EE)throw"Wrong thrift protocol version: "+version;return r.fname=this.qw.shift(),r.Ww=this.qw.shift(),r.Yw=this.qw.shift(),this.Bw.push(this.qw.shift()),r},Ch:function(){},zw:function(t){return this.Bw[this.Bw.length-1]instanceof Array&&this.Bw.push(this.Bw[this.Bw.length-1].shift()),{fname:""}},UE:function(){this.Bw[this.Bw.length-2]instanceof Array&&this.Bw.pop()},ME:function(){var t={},e=-1,r=Thrift.Type.STOP;for(var n in this.Bw[this.Bw.length-1])if(null!==n){e=parseInt(n,10),this.zE.push(this.Bw.length);var i=this.Bw[this.Bw.length-1][e];delete this.Bw[this.Bw.length-1][e],this.Bw.push(i);break}if(-1!=e)for(var s in this.Bw[this.Bw.length-1])null!==Thrift.Tw._w[s]&&(r=Thrift.Tw._w[s],this.Bw[this.Bw.length-1]=this.Bw[this.Bw.length-1][s]);return t.fname="",t.ftype=r,t.fid=e,t},HE:function(){for(var t=this.zE.pop();this.Bw.length>t;)this.Bw.pop()},Kw:function(){var t=this.Bw.pop(),e=t.shift();e instanceof Array&&(this.Bw.push(t),e=(t=e).shift());var r={};return r.$w=Thrift.Tw._w[e],r.Xw=Thrift.Tw._w[t.shift()],r.size=t.shift(),this.zE.push(this.Bw.length),this.Bw.push(t.shift()),r},Jw:function(){this.HE()},Zw:function(){var t=this.Bw[this.Bw.length-1],e={};return e.tp=Thrift.Tw._w[t.shift()],e.size=t.shift(),this.zE.push(this.Bw.length),this.Bw.push(t.shift()),e},np:function(){this.HE()},rp:function(t,e){return this.Zw(t,e)},sp:function(){return this.np()},ep:function(){var t=this.LE();return null!==t&&"1"==t.value?t.value=!0:t.value=!1,t},hp:function(){return this.LE()},op:function(){return this.LE()},LE:function(t){void 0===t&&(t=this.Bw[this.Bw.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:e.value=t.shift();else if(t instanceof Object){for(var r in t)if(null!==r){this.Bw.push(t[r]),delete t[r],e.value=r;break}}else e.value=t,this.Bw.pop();return e},up:function(){return this.LE()},ap:function(){return this.LE()},DE:function(){return this.LE()},fp:function(){return this.DE()},PE:function(t){var e,r;switch(t){case Thrift.Type.STOP:return null;case Thrift.Type.BOOL:return this.ep();case Thrift.Type.BYTE:return this.hp();case Thrift.Type.I16:return this.op();case Thrift.Type.I32:return this.LE();case Thrift.Type.I64:return this.up();case Thrift.Type.DOUBLE:return this.ap();case Thrift.Type.STRING:return this.DE();case Thrift.Type.STRUCT:for(this.zw();(e=this.ME()).ftype!=Thrift.Type.STOP;)this.PE(e.ftype),this.HE();return this.UE(),null;case Thrift.Type.MAP:for(e=this.Kw(),r=0;r<e.size;r++)0<r&&this.Bw.length>this.zE[this.zE.length-1]+1&&this.Bw.pop(),this.PE(e.$w),this.PE(e.Xw);return this.Jw(),null;case Thrift.Type.SET:for(e=this.rp(),r=0;r<e.size;r++)this.PE(e.tp);return this.sp(),null;case Thrift.Type.LIST:for(e=this.Zw(),r=0;r<e.size;r++)this.PE(e.tp);return this.np(),null}}},Thrift.cp=function(t,e,r,n){Thrift.Tw.call(this,e,r,n),this.lp=t},Thrift.pE(Thrift.cp,Thrift.Tw,"multiplexProtocol"),Thrift.cp.prototype.mh=function(t,e,r){e===Thrift.Oh.CALL||e===Thrift.Oh.ONEWAY?Thrift.Tw.prototype.mh.call(this,this.lp+":"+t,e,r):Thrift.Tw.prototype.mh.call(this,t,e,r)},Thrift.vp=function(){this.dp=0},Thrift.vp.prototype.Ep=function(t,e,r){e.wp&&(e=e.wp);var n=this;return e.prototype.pp=function(){return n.dp+=1,n.dp},new e(new Thrift.cp(t,r))},copyList=function(t,e){if(!t)return t;var r,n,i,s=r=void 0===e.shift?e:e[0],o=t.length,a=[];for(n=0;n<o;n++)i=t[n],null===r?a.push(i):r===copyMap||r===copyList?a.push(r(i,e.slice(1))):a.push(new s(i));return a},copyMap=function(t,e){if(!t)return t;var r,n,i=r=void 0===e.shift?e:e[0],s={};for(var o in t)t.hasOwnProperty(o)&&(n=t[o],s[o]=null===r?n:r===copyMap||r===copyList?r(n,e.slice(1)):new i(n));return s},Thrift.gp=copyMap,Thrift.bp=copyList,module.exports=Thrift},function(t,e){var r,n,i,s,o,a,l,u={userAgent:!1},c={};if(void 0===h||!h)var h={};h.yp=function(){var t,e,r,n=arguments,i=null;for(t=0;t<n.length;t+=1)for(r=(""+n[t]).split("."),i=h,e="YAHOO"==r[0]?1:0;e<r.length;e+=1)i[r[e]]=i[r[e]]||{},i=i[r[e]];return i},h.log=function(t,e,r){var n=h.mp.Tp;return!(!n||!n.log)&&n.log(t,e,r)},h.register=function(t,e,r){var n,i,s,o,a,l=h.to.Op;for(l[t]||(l[t]={Ip:[],_p:[]}),n=l[t],i=r.version,s=r.uv,o=h.to.listeners,n.name=t,n.version=i,n.uv=s,n.Ip.push(i),n._p.push(s),n.Rp=e,a=0;a<o.length;a+=1)o[a](n);e?(e.VERSION=i,e.Sp=s):h.log("mainClass is undefined for module "+t,"warn")},h.to=h.to||{Op:[],listeners:[]},h.to.getVersion=function(t){return h.to.Op[t]||null},h.to.Ap=function(t){function e(t){var e=0;return parseFloat(t.replace(/\./g,(function(){return 1==e++?"":"."})))}var r,n={Np:0,opera:0,Cp:0,kp:0,chrome:0,jp:null,Mp:0,Dp:0,Pp:0,Lp:0,Hp:null,Up:0,Fp:0,xp:u&&u.Gp,Vp:!1,os:null},i=t||u&&u.userAgent,s=c.location,o=s&&s.href;return n.Vp=o&&0===o.toLowerCase().indexOf("https"),i&&(/windows|win32/i.test(i)?n.os="windows":/macintosh/i.test(i)?n.os="macintosh":/rhino/i.test(i)&&(n.os="rhino"),/KHTML/.test(i)&&(n.kp=1),(r=i.match(/AppleWebKit\/([^\s]*)/))&&r[1]&&(n.kp=e(r[1]),/ Mobile\//.test(i)?(n.jp="Apple",(r=i.match(/OS ([^\s]*)/))&&r[1]&&(r=e(r[1].replace("_","."))),n.Hp=r,n.Dp=n.Lp=n.Pp=0,(r=i.match(/iPad|iPod|iPhone/))&&r[0]&&(n[r[0].toLowerCase()]=n.Hp)):((r=i.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(n.jp=r[0]),/webOS/.test(i)&&(n.jp="WebOS",(r=i.match(/webOS\/([^\s]*);/))&&r[1]&&(n.Fp=e(r[1]))),/ Android/.test(i)&&(n.jp="Android",(r=i.match(/Android ([^\s]*);/))&&r[1]&&(n.Up=e(r[1])))),(r=i.match(/Chrome\/([^\s]*)/))&&r[1]?n.chrome=e(r[1]):(r=i.match(/AdobeAIR\/([^\s]*)/))&&(n.Mp=r[0])),n.kp||((r=i.match(/Opera[\s\/]([^\s]*)/))&&r[1]?(n.opera=e(r[1]),(r=i.match(/Version\/([^\s]*)/))&&r[1]&&(n.opera=e(r[1])),(r=i.match(/Opera Mini[^;]*/))&&(n.jp=r[0])):(r=i.match(/MSIE\s([^;]*)/))&&r[1]?n.Np=e(r[1]):(r=i.match(/Gecko\/([^\s]*)/))&&(n.Cp=1,(r=i.match(/rv:([^\s\)]*)/))&&r[1]&&(n.Cp=e(r[1]))))),n},h.to.Bp=h.to.Ap(),function(){if(h.yp("util","widget","example"),"undefined"!=typeof YAHOO_config){var t,e=YAHOO_config.listener,r=h.to.listeners,n=!0;if(e){for(t=0;t<r.length;t++)if(r[t]==e){n=!1;break}n&&r.push(e)}}}(),h.lang=h.lang||{},n=h.lang,i=Object.prototype,s=[],o={qp:"&amp;",Qp:"&lt;",Wp:"&gt;",Yp:"&quot;",zp:"&#x27;",Qv:"&#x2F;",Kp:"&#x60;"},a=["toString","valueOf"],l={isArray:function(t){return"[object Array]"===i.toString.apply(t)},$p:function(t){return"boolean"==typeof t},Xp:function(t){return"function"==typeof t||"[object Function]"===i.toString.apply(t)},Jp:function(t){return null===t},Zp:function(t){return"number"==typeof t&&isFinite(t)},Qc:function(t){return t&&("object"==typeof t||n.Xp(t))||!1},tg:function(t){return"string"==typeof t},ig:function(t){return void 0===t},ng:h.to.Bp.Np?function(t,e){var r,s,o;for(r=0;r<a.length;r+=1)o=e[s=a[r]],n.Xp(o)&&o!=i[s]&&(t[s]=o)}:function(){},rg:function(t){return t.replace(/[&<>"'\/`]/g,(function(t){return o[t]}))},extend:function(t,e,r){if(!e||!t)throw new Error("extend failed, please check that all dependencies are included.");function s(){}var o;if(s.prototype=e.prototype,t.prototype=new s,(t.prototype.constructor=t).sg=e.prototype,e.prototype.constructor==i.constructor&&(e.prototype.constructor=e),r){for(o in r)n.hasOwnProperty(r,o)&&(t.prototype[o]=r[o]);n.ng(t.prototype,r)}},eg:function(t,e){if(!e||!t)throw new Error("Absorb failed, verify dependencies.");var r,i,s=arguments,o=s[2];if(o&&!0!==o)for(r=2;r<s.length;r+=1)t[s[r]]=e[s[r]];else{for(i in e)!o&&i in t||(t[i]=e[i]);n.ng(t,e)}return t},hg:function(t,e){if(!e||!t)throw new Error("Augment failed, verify dependencies.");var r,i=[t.prototype,e.prototype];for(r=2;r<arguments.length;r+=1)i.push(arguments[r]);return n.eg.apply(this,i),t},dump:function(t,e){var r,i,s=[];if(!n.Qc(t))return t+"";if(t instanceof Date||"nodeType"in t&&"tagName"in t)return t;if(n.Xp(t))return"f(){...}";if(e=n.Zp(e)?e:3,n.isArray(t)){for(s.push("["),r=0,i=t.length;r<i;r+=1)n.Qc(t[r])?s.push(0<e?n.dump(t[r],e-1):"{...}"):s.push(t[r]),s.push(", ");1<s.length&&s.pop(),s.push("]")}else{for(r in s.push("{"),t)n.hasOwnProperty(t,r)&&(s.push(r+" => "),n.Qc(t[r])?s.push(0<e?n.dump(t[r],e-1):"{...}"):s.push(t[r]),s.push(", "));1<s.length&&s.pop(),s.push("}")}return s.join("")},og:function(t,e,r,i){for(var s,o,a,l,u,c,h,p,f,d=[],g=t.length;!((s=t.lastIndexOf("{",g))<0||(o=t.indexOf("}",s))<s+1);)c=null,-1<(a=(l=h=t.substring(s+1,o)).indexOf(" "))&&(c=l.substring(a+1),l=l.substring(0,a)),u=e[l],r&&(u=r(l,u,c)),n.Qc(u)?u=n.isArray(u)?n.dump(u,parseInt(c,10)):(-1<(p=(c=c||"").indexOf("dump"))&&(c=c.substring(4)),"[object Object]"===(f=u.toString())||-1<p?n.dump(u,parseInt(c,10)):f):n.tg(u)||n.Zp(u)||(u="~-"+d.length+"-~",d[d.length]=h),t=t.substring(0,s)+u+t.substring(o+1),!1===i&&(g=s-1);for(s=d.length-1;0<=s;s-=1)t=t.replace(new RegExp("~-"+s+"-~"),"{"+d[s]+"}","g");return t},trim:function(t){try{return t.replace(/^\s+|\s+$/g,"")}catch(e){return t}},ug:function(){var t,e={},r=arguments,i=r.length;for(t=0;t<i;t+=1)n.eg(e,r[t],!0);return e},ag:function(t,e,r,i,o){t=t||0,e=e||{};var a,l,u=r,c=i;if(n.tg(r)&&(u=e[r]),!u)throw new TypeError("method undefined");return n.ig(i)||n.isArray(c)||(c=[i]),a=function(){u.apply(e,c||s)},l=o?setInterval(a,t):setTimeout(a,t),{interval:o,cancel:function(){this.interval?clearInterval(l):clearTimeout(l)}}},fg:function(t){return n.Qc(t)||n.tg(t)||n.Zp(t)||n.$p(t)}},n.hasOwnProperty=i.hasOwnProperty?function(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}:function(t,e){return!n.ig(t[e])&&t.constructor.prototype[e]!==t[e]},l.eg(n,l,!0),(h.util.Lang=n).cg=n.hg,h.cg=n.hg,h.extend=n.extend,h.register("yahoo",h,{version:"2.9.0",uv:"2800"});var p,f,d,g,v,m,y,b,E,w,A,S,T,I,P,k,R,C=C||(p=Math,d=(f={}).Ql={},g=d.lg={extend:function(t){O.prototype=this;var e=new O;return t&&e.vg(t),e.hasOwnProperty("init")||(e.init=function(){e.dg.init.apply(this,arguments)}),(e.init.prototype=e).dg=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},vg:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},v=d.ql=g.extend({init:function(t,e){t=this.Eg=t||[],this.wg=null!=e?e:4*t.length},toString:function(t){return(t||y).stringify(this)},concat:function(t){var e=this.Eg,r=t.Eg,n=this.wg,i=t.wg;if(this.pg(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;e[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.wg+=i,this},pg:function(){var t=this.Eg,e=this.wg;t[e>>>2]&=4294967295<<32-e%4*8,t.length=p.ceil(e/4)},clone:function(){var t=g.clone.call(this);return t.Eg=this.Eg.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(4294967296*p.random()|0);return new v.init(e,t)}}),m=f.gg={},y=m.bg={stringify:function(t){for(var e=t.Eg,r=t.wg,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new v.init(r,e/2)}},b=m.yg={stringify:function(t){for(var e=t.Eg,r=t.wg,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new v.init(r,e)}},E=m.Tg={stringify:function(t){try{return decodeURIComponent(escape(b.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return b.parse(unescape(encodeURIComponent(t)))}},w=d.mg=g.extend({reset:function(){this.Og=new v.init,this.Ig=0},_g:function(t){"string"==typeof t&&(t=E.parse(t)),this.Og.concat(t),this.Ig+=t.wg},Rg:function(t){var e=this.Og,r=e.Eg,n=e.wg,i=this.blockSize,s=n/(4*i),o=(s=t?p.ceil(s):p.max((0|s)-this.Sg,0))*i,a=p.min(4*o,n);if(o){for(var l=0;l<o;l+=i)this.Ag(r,l);var u=r.splice(0,o);e.wg-=a}return new v.init(u,a)},clone:function(){var t=g.clone.call(this);return t.Og=this.Og.clone(),t},Sg:0}),d.Ng=w.extend({Cg:g.extend(),init:function(t){this.Cg=this.Cg.extend(t),this.reset()},reset:function(){w.reset.call(this),this.kg()},update:function(t){return this._g(t),this.Rg(),this},jg:function(t){return t&&this._g(t),this.Mg()},blockSize:16,Dg:function(t){return function(e,r){return new t.init(r).jg(e)}},Pg:function(t){return function(e,r){return new A.Lg.init(t,r).jg(e)}}}),A=f.Hg={},f);function O(){}function _(t){var e,r,n,i="",s=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e)))<0||(s=0==s?(i+=B(n>>2),r=3&n,1):1==s?(i+=B(r<<2|n>>4),r=15&n,2):2==s?(i+=B(r),i+=B(n>>2),r=3&n,3):(i+=B(r<<2|n>>4),i+=B(15&n),0));return 1==s&&(i+=B(r<<2)),i}function x(t,e,r){null!=t&&("number"==typeof t?this.Vg(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function L(){return new x(null)}!function(t){function e(t,e,r,n,i,s,o){return((t=t+(e&r|~e&n)+i+o)<<s|t>>>32-s)+e}function r(t,e,r,n,i,s,o){return((t=t+(e&n|r&~n)+i+o)<<s|t>>>32-s)+e}function n(t,e,r,n,i,s,o){return((t=t+(e^r^n)+i+o)<<s|t>>>32-s)+e}function i(t,e,r,n,i,s,o){return((t=t+(r^(e|~n))+i+o)<<s|t>>>32-s)+e}for(var s=C,o=(l=s.Ql).ql,a=l.Ng,l=s.Hg,u=[],c=0;c<64;c++)u[c]=4294967296*t.abs(t.sin(c+1))|0;l=l.Vl=a.extend({kg:function(){this.Ug=new o.init([1732584193,4023233417,2562383102,271733878])},Ag:function(t,s){for(var o=0;o<16;o++){var a=t[h=s+o];t[h]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}o=this.Ug.Eg;var l,c,h=t[s+0],p=(a=t[s+1],t[s+2]),f=t[s+3],d=t[s+4],g=t[s+5],v=t[s+6],m=t[s+7],y=t[s+8],b=t[s+9],E=t[s+10],w=t[s+11],A=t[s+12],S=t[s+13],T=t[s+14],I=t[s+15],P=o[0],k=i(k=i(k=i(k=i(k=n(k=n(k=n(k=n(k=r(k=r(k=r(k=r(k=e(k=e(k=e(k=e(k=o[1],c=e(c=o[2],l=e(l=o[3],P=e(P,k,c,l,h,7,u[0]),k,c,a,12,u[1]),P,k,p,17,u[2]),l,P,f,22,u[3]),c=e(c,l=e(l,P=e(P,k,c,l,d,7,u[4]),k,c,g,12,u[5]),P,k,v,17,u[6]),l,P,m,22,u[7]),c=e(c,l=e(l,P=e(P,k,c,l,y,7,u[8]),k,c,b,12,u[9]),P,k,E,17,u[10]),l,P,w,22,u[11]),c=e(c,l=e(l,P=e(P,k,c,l,A,7,u[12]),k,c,S,12,u[13]),P,k,T,17,u[14]),l,P,I,22,u[15]),c=r(c,l=r(l,P=r(P,k,c,l,a,5,u[16]),k,c,v,9,u[17]),P,k,w,14,u[18]),l,P,h,20,u[19]),c=r(c,l=r(l,P=r(P,k,c,l,g,5,u[20]),k,c,E,9,u[21]),P,k,I,14,u[22]),l,P,d,20,u[23]),c=r(c,l=r(l,P=r(P,k,c,l,b,5,u[24]),k,c,T,9,u[25]),P,k,f,14,u[26]),l,P,y,20,u[27]),c=r(c,l=r(l,P=r(P,k,c,l,S,5,u[28]),k,c,p,9,u[29]),P,k,m,14,u[30]),l,P,A,20,u[31]),c=n(c,l=n(l,P=n(P,k,c,l,g,4,u[32]),k,c,y,11,u[33]),P,k,w,16,u[34]),l,P,T,23,u[35]),c=n(c,l=n(l,P=n(P,k,c,l,a,4,u[36]),k,c,d,11,u[37]),P,k,m,16,u[38]),l,P,E,23,u[39]),c=n(c,l=n(l,P=n(P,k,c,l,S,4,u[40]),k,c,h,11,u[41]),P,k,f,16,u[42]),l,P,v,23,u[43]),c=n(c,l=n(l,P=n(P,k,c,l,b,4,u[44]),k,c,A,11,u[45]),P,k,I,16,u[46]),l,P,p,23,u[47]),c=i(c,l=i(l,P=i(P,k,c,l,h,6,u[48]),k,c,m,10,u[49]),P,k,T,15,u[50]),l,P,g,21,u[51]),c=i(c,l=i(l,P=i(P,k,c,l,A,6,u[52]),k,c,f,10,u[53]),P,k,E,15,u[54]),l,P,a,21,u[55]),c=i(c,l=i(l,P=i(P,k,c,l,y,6,u[56]),k,c,I,10,u[57]),P,k,v,15,u[58]),l,P,S,21,u[59]),c=i(c,l=i(l,P=i(P,k,c,l,d,6,u[60]),k,c,w,10,u[61]),P,k,p,15,u[62]),l,P,b,21,u[63]);o[0]=o[0]+P|0,o[1]=o[1]+k|0,o[2]=o[2]+c|0,o[3]=o[3]+l|0},Mg:function(){var e=this.Og,r=e.Eg,n=8*this.Ig,i=8*e.wg;r[i>>>5]|=128<<24-i%32;var s=t.floor(n/4294967296);for(r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.wg=4*(r.length+1),this.Rg(),r=(e=this.Ug).Eg,n=0;n<4;n++)i=r[n],r[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var t=a.clone.call(this);return t.Ug=this.Ug.clone(),t}}),s.Vl=a.Dg(l),s.Fg=a.Pg(l)}(Math),T=(k=(S=C).Ql).ql,I=k.Ng,P=[],k=S.Hg.xg=I.extend({kg:function(){this.Ug=new T.init([1732584193,4023233417,2562383102,271733878,3285377520])},Ag:function(t,e){for(var r=this.Ug.Eg,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],l=0;l<80;l++){if(l<16)P[l]=0|t[e+l];else{var u=P[l-3]^P[l-8]^P[l-14]^P[l-16];P[l]=u<<1|u>>>31}u=(n<<5|n>>>27)+a+P[l],u=l<20?u+(1518500249+(i&s|~i&o)):l<40?u+(1859775393+(i^s^o)):l<60?u+((i&s|i&o|s&o)-1894007588):u+((i^s^o)-899497514),a=o,o=s,s=i<<30|i>>>2,i=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+a|0},Mg:function(){var t=this.Og,e=t.Eg,r=8*this.Ig,n=8*t.wg;return e[n>>>5]|=128<<24-n%32,e[14+(64+n>>>9<<4)]=Math.floor(r/4294967296),e[15+(64+n>>>9<<4)]=r,t.wg=4*e.length,this.Rg(),this.Ug},clone:function(){var t=I.clone.call(this);return t.Ug=this.Ug.clone(),t}}),S.xg=I.Dg(k),S.Gg=I.Pg(k),R="Microsoft Internet Explorer"==u.appName?(x.prototype.Bg=function(t,e,r,n,i,s){for(var o=32767&e,a=e>>15;0<=--s;){var l=32767&this[t],u=this[t++]>>15,c=a*l+u*o;i=((l=o*l+((32767&c)<<15)+r[n]+(1073741823&i))>>>30)+(c>>>15)+a*u+(i>>>30),r[n++]=1073741823&l}return i},30):"Netscape"!=u.appName?(x.prototype.Bg=function(t,e,r,n,i,s){for(;0<=--s;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i},26):(x.prototype.Bg=function(t,e,r,n,i,s){for(var o=16383&e,a=e>>14;0<=--s;){var l=16383&this[t],u=this[t++]>>14,c=a*l+u*o;i=((l=o*l+((16383&c)<<14)+r[n]+i)>>28)+(c>>14)+a*u,r[n++]=268435455&l}return i},28),x.prototype.qg=R,x.prototype.Qg=(1<<R)-1,x.prototype.Wg=1<<R,x.prototype.Yg=Math.pow(2,52),x.prototype.zg=52-R,x.prototype.Kg=2*R-52;var N,D,M=new Array;for(N="0".charCodeAt(0),D=0;D<=9;++D)M[N++]=D;for(N="a".charCodeAt(0),D=10;D<36;++D)M[N++]=D;for(N="A".charCodeAt(0),D=10;D<36;++D)M[N++]=D;function B(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function j(t){var e=L();return e.$g(t),e}function F(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function U(t){this.Xg=t}function H(t){this.Xg=t,this.Jg=t.Zg(),this.tb=32767&this.Jg,this.ib=this.Jg>>15,this.nb=(1<<t.qg-15)-1,this.rb=2*t.t}function q(t,e){return new x(t,e)}function V(t,e,r){for(var n="",i=0;n.length<e;)n+=r(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function G(){this.n=null,this.e=0,this.d=null,this.Sb=null,this.Ab=null,this.Nb=null,this.Cb=null,this.kb=null}U.prototype.sb=function(t){return t.eb<0||0<=t.hb(this.Xg)?t.ob(this.Xg):t},U.prototype.ub=function(t){return t},U.prototype.reduce=function(t){t.ab(this.Xg,null,t)},U.prototype.fb=function(t,e,r){t.cb(e,r),this.reduce(r)},U.prototype.lb=function(t,e){t.vb(e),this.reduce(e)},H.prototype.sb=function(t){var e=L();return t.abs().Eb(this.Xg.t,e),e.ab(this.Xg,null,e),t.eb<0&&0<e.hb(x.ZERO)&&this.Xg.wb(e,e),e},H.prototype.ub=function(t){var e=L();return t.pb(e),this.reduce(e),e},H.prototype.reduce=function(t){for(;t.t<=this.rb;)t[t.t++]=0;for(var e=0;e<this.Xg.t;++e){var r=32767&t[e],n=r*this.tb+((r*this.ib+(t[e]>>15)*this.tb&this.nb)<<15)&t.Qg;for(t[r=e+this.Xg.t]+=this.Xg.Bg(0,n,t,e,0,this.Xg.t);t[r]>=t.Wg;)t[r]-=t.Wg,t[++r]++}t.pg(),t.gb(this.Xg.t,t),0<=t.hb(this.Xg)&&t.wb(this.Xg,t)},H.prototype.fb=function(t,e,r){t.cb(e,r),this.reduce(r)},H.prototype.lb=function(t,e){t.vb(e),this.reduce(e)},x.prototype.pb=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.eb=this.eb},x.prototype.$g=function(t){this.t=1,this.eb=t<0?-1:0,0<t?this[0]=t:t<-1?this[0]=t+this.Wg:this.t=0},x.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.bb(t,e);r=2}this.t=0,this.eb=0;for(var n,i,s=t.length,o=!1,a=0;0<=--s;){var l=8==r?255&t[s]:(n=s,null==(i=M[t.charCodeAt(n)])?-1:i);l<0?"-"==t.charAt(s)&&(o=!0):(o=!1,0==a?this[this.t++]=l:a+r>this.qg?(this[this.t-1]|=(l&(1<<this.qg-a)-1)<<a,this[this.t++]=l>>this.qg-a):this[this.t-1]|=l<<a,(a+=r)>=this.qg&&(a-=this.qg))}8==r&&0!=(128&t[0])&&(this.eb=-1,0<a&&(this[this.t-1]|=(1<<this.qg-a)-1<<a)),this.pg(),o&&x.ZERO.wb(this,this)},x.prototype.pg=function(){for(var t=this.eb&this.Qg;0<this.t&&this[this.t-1]==t;)--this.t},x.prototype.Eb=function(t,e){var r;for(r=this.t-1;0<=r;--r)e[r+t]=this[r];for(r=t-1;0<=r;--r)e[r]=0;e.t=this.t+t,e.eb=this.eb},x.prototype.gb=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.eb=this.eb},x.prototype.yb=function(t,e){var r,n=t%this.qg,i=this.qg-n,s=(1<<i)-1,o=Math.floor(t/this.qg),a=this.eb<<n&this.Qg;for(r=this.t-1;0<=r;--r)e[r+o+1]=this[r]>>i|a,a=(this[r]&s)<<n;for(r=o-1;0<=r;--r)e[r]=0;e[o]=a,e.t=this.t+o+1,e.eb=this.eb,e.pg()},x.prototype.Tb=function(t,e){e.eb=this.eb;var r=Math.floor(t/this.qg);if(r>=this.t)e.t=0;else{var n=t%this.qg,i=this.qg-n,s=(1<<n)-1;e[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&s)<<i,e[o-r]=this[o]>>n;0<n&&(e[this.t-r-1]|=(this.eb&s)<<i),e.t=this.t-r,e.pg()}},x.prototype.wb=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.Qg,n>>=this.qg;if(t.t<this.t){for(n-=t.eb;r<this.t;)n+=this[r],e[r++]=n&this.Qg,n>>=this.qg;n+=this.eb}else{for(n+=this.eb;r<t.t;)n-=t[r],e[r++]=n&this.Qg,n>>=this.qg;n-=t.eb}e.eb=n<0?-1:0,n<-1?e[r++]=this.Wg+n:0<n&&(e[r++]=n),e.t=r,e.pg()},x.prototype.cb=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;0<=--i;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.Bg(0,n[i],e,i,0,r.t);e.eb=0,e.pg(),this.eb!=t.eb&&x.ZERO.wb(e,e)},x.prototype.vb=function(t){for(var e=this.abs(),r=t.t=2*e.t;0<=--r;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.Bg(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.Bg(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.Wg&&(t[r+e.t]-=e.Wg,t[r+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.Bg(r,e[r],t,2*r,0,1)),t.eb=0,t.pg()},x.prototype.ab=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.$g(0),void(null!=r&&this.pb(r));null==r&&(r=L());var s=L(),o=this.eb,a=t.eb,l=this.qg-F(n[n.t-1]);0<l?(n.yb(l,s),i.yb(l,r)):(n.pb(s),i.pb(r));var u=s.t,c=s[u-1];if(0!=c){var h=c*(1<<this.zg)+(1<u?s[u-2]>>this.Kg:0),p=this.Yg/h,f=(1<<this.zg)/h,d=1<<this.Kg,g=r.t,v=g-u,m=null==e?L():e;for(s.Eb(v,m),0<=r.hb(m)&&(r[r.t++]=1,r.wb(m,r)),x.ONE.Eb(u,m),m.wb(s,s);s.t<u;)s[s.t++]=0;for(;0<=--v;){var y=r[--g]==c?this.Qg:Math.floor(r[g]*p+(r[g-1]+d)*f);if((r[g]+=s.Bg(0,y,r,v,0,u))<y)for(s.Eb(v,m),r.wb(m,r);r[g]<--y;)r.wb(m,r)}null!=e&&(r.gb(u,e),o!=a&&x.ZERO.wb(e,e)),r.t=u,r.pg(),0<l&&r.Tb(l,r),o<0&&x.ZERO.wb(r,r)}}},x.prototype.Zg=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.Wg)%this.Wg)?this.Wg-e:-e},x.prototype.mb=function(){return 0==(0<this.t?1&this[0]:this.eb)},x.prototype.exp=function(t,e){if(4294967295<t||t<1)return x.ONE;var r=L(),n=L(),i=e.sb(this),s=F(t)-1;for(i.pb(r);0<=--s;)if(e.lb(r,n),0<(t&1<<s))e.fb(n,i,r);else{var o=r;r=n,n=o}return e.ub(r)},x.prototype.toString=function(t){if(this.eb<0)return"-"+this.Ob().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.Ib(t);e=2}var r,n=(1<<e)-1,i=!1,s="",o=this.t,a=this.qg-o*this.qg%e;if(0<o--)for(a<this.qg&&0<(r=this[o]>>a)&&(i=!0,s=B(r));0<=o;)a<e?(r=(this[o]&(1<<a)-1)<<e-a,r|=this[--o]>>(a+=this.qg-e)):(r=this[o]>>(a-=e)&n,a<=0&&(a+=this.qg,--o)),0<r&&(i=!0),i&&(s+=B(r));return i?s:"0"},x.prototype.Ob=function(){var t=L();return x.ZERO.wb(this,t),t},x.prototype.abs=function(){return this.eb<0?this.Ob():this},x.prototype.hb=function(t){var e=this.eb-t.eb;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.eb<0?-e:e;for(;0<=--r;)if(0!=(e=this[r]-t[r]))return e;return 0},x.prototype._b=function(){return this.t<=0?0:this.qg*(this.t-1)+F(this[this.t-1]^this.eb&this.Qg)},x.prototype.ob=function(t){var e=L();return this.abs().ab(t,null,e),this.eb<0&&0<e.hb(x.ZERO)&&t.wb(e,e),e},x.prototype.Rb=function(t,e){var r;return r=t<256||e.mb()?new U(e):new H(e),this.exp(t,r)},x.ZERO=j(0),x.ONE=j(1),G.prototype.jb=function(t){return t.Rb(this.e,this.n)},G.prototype.Mb=function(t,e){this.Db=!0,"string"!=typeof t?(this.n=t,this.e=e):null!=t&&null!=e&&0<t.length&&0<e.length?(this.n=q(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")},G.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var r=new Array,n=t.length-1;0<=n&&0<e;){var i=t.charCodeAt(n--);i<128?r[--e]=i:127<i&&i<2048?(r[--e]=63&i|128,r[--e]=i>>6|192):(r[--e]=63&i|128,r[--e]=i>>6&63|128,r[--e]=i>>12|224)}r[--e]=0;for(var s=new SecureRandom,o=new Array;2<e;){for(o[0]=0;0==o[0];)s.Pb(o);r[--e]=o[0]}return r[--e]=2,r[--e]=0,new x(r)}(t,this.n._b()+7>>3);if(null==e)return null;var r=this.jb(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},G.prototype.Lb=function(t,e){var r=function(t,e,r){if(t.length+40+2>e)throw"Message too long for RSA";var n,i="";for(n=0;n<e-t.length-40-2;n+=1)i+="\0";var s=rstr_sha1("")+i+""+t,o=new Array(20);(new SecureRandom).Pb(o);var a=V(o,s.length,r||rstr_sha1),l=[];for(n=0;n<s.length;n+=1)l[n]=s.charCodeAt(n)^a.charCodeAt(n);var u=V(l,o.length,rstr_sha1),c=[0];for(n=0;n<o.length;n+=1)c[n+1]=o[n]^u.charCodeAt(n);return new x(c.concat(l))}(t,this.n._b()+7>>3,e);if(null==r)return null;var n=this.jb(r);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},G.prototype.type="RSA",void 0!==r&&r||(r={}),void 0!==r.Hb&&r.Hb||(r.Hb={}),r.Hb.Ub=new function(){this.Fb=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.xb=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";e=new x(n,16).xor(t).add(x.ONE).toString(16).replace(/^-/,"")}return e},this.Gb=function(t,e){r.Hb;var n=C.gg.bg.parse(t),i=C.gg.Vb.stringify(n).replace(/(.{64})/g,"$1\r\n");return"-----BEGIN "+e+"-----\r\n"+(i=i.replace(/\r\n$/,""))+"\r\n-----END "+e+"-----\r\n"},this.Bb=function(t){var e=r.Hb,n=Object.keys(t);if(1!=n.length)throw"key of param shall be only one.";var i=n[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+i+":"))throw"undefined key: "+i;if("bool"==i)return new e.qb(t[i]);if("int"==i)return new e.Qb(t[i]);if("bitstr"==i)return new e.Wb(t[i]);if("octstr"==i)return new e.Yb(t[i]);if("null"==i)return new e.zb(t[i]);if("oid"==i)return new e.Kb(t[i]);if("enum"==i)return new e.$b(t[i]);if("utf8str"==i)return new e.Xb(t[i]);if("numstr"==i)return new e.Jb(t[i]);if("prnstr"==i)return new e.Zb(t[i]);if("telstr"==i)return new e.ty(t[i]);if("ia5str"==i)return new e.iy(t[i]);if("utctime"==i)return new e.ny(t[i]);if("gentime"==i)return new e.sy(t[i]);if("seq"==i){for(var s=t[i],o=[],a=0;a<s.length;a++){var l=e.Ub.Bb(s[a]);o.push(l)}return new e.ey({array:o})}if("set"==i){for(s=t[i],o=[],a=0;a<s.length;a++)l=e.Ub.Bb(s[a]),o.push(l);return new e.hy({array:o})}if("tag"==i){var u=t[i];if("[object Array]"===Object.prototype.toString.call(u)&&3==u.length){var c=e.Ub.Bb(u[2]);return new e.oy({tag:u[0],uy:u[1],ay:c})}var h={};if(void 0!==u.uy&&(h.uy=u.uy),void 0!==u.tag&&(h.tag=u.tag),void 0===u.ay)throw"obj shall be specified for 'tag'.";return h.ay=e.Ub.Bb(u.ay),new e.oy(h)}},this.ly=function(t){return this.Bb(t).vy()}},r.Hb.Ub.Ey=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),i=2;i<t.length;i+=2){var s=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);n+=s.substr(1,7),"0"==s.substr(0,1)&&(e=e+"."+new x(n,2).toString(10),n="")}return e},r.Hb.Ub.wy=function(t){function e(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e}function r(t){var r="",n=new x(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r}if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split(".");n+=e(40*parseInt(i[0])+parseInt(i[1])),i.splice(0,2);for(var s=0;s<i.length;s++)n+=r(i[s]);return n},r.Hb.py=function(){this.gy=function(){if(void 0===this.by||null==this.by)throw"this.hV is null or undefined.";if(this.by.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.by;var t=this.by.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(15<r)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+r).toString(16)+e},this.vy=function(){return null!=this.yy&&!this.Ty||(this.by=this.my(),this.Oy=this.gy(),this.yy=this.Iy+this.Oy+this.by,this.Ty=!1),this.yy},this._y=function(){return this.vy(),this.by},this.my=function(){return""}},r.Hb.Ry=function(t){r.Hb.Ry.sg.constructor.call(this),this.Sy=function(){return this.eb},this.Ay=function(t){this.yy=null,this.Ty=!0,this.eb=t,this.by=stohex(this.eb)},this.Ny=function(t){this.yy=null,this.Ty=!0,this.eb=null,this.by=t},this.my=function(){return this.by},void 0!==t&&("string"==typeof t?this.Ay(t):void 0!==t.str?this.Ay(t.str):void 0!==t.Cy&&this.Ny(t.Cy))},h.lang.extend(r.Hb.Ry,r.Hb.py),r.Hb.ky=function(t){r.Hb.ky.sg.constructor.call(this),this.jy=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.My=function(t,e,r){var n=this.Dy,i=this.jy(t),s=String(i.getFullYear());"utc"==e&&(s=s.substr(2,2));var o=s+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var l=n(String(a),3);o=o+"."+(l=l.replace(/[0]+$/,""))}}return o+"Z"},this.Dy=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.Sy=function(){return this.eb},this.Ay=function(t){this.yy=null,this.Ty=!0,this.eb=t,this.by=stohex(t)},this.Py=function(t,e,r,n,i,s){var o=new Date(Date.UTC(t,e-1,r,n,i,s,0));this.Ly(o)},this.my=function(){return this.by}},h.lang.extend(r.Hb.ky,r.Hb.py),r.Hb.Hy=function(t){r.Hb.Ry.sg.constructor.call(this),this.Uy=function(t){this.yy=null,this.Ty=!0,this.Fy=t},this.xy=function(t){this.yy=null,this.Ty=!0,this.Fy.push(t)},this.Fy=new Array,void 0!==t&&void 0!==t.array&&(this.Fy=t.array)},h.lang.extend(r.Hb.Hy,r.Hb.py),r.Hb.qb=function(){r.Hb.qb.sg.constructor.call(this),this.Iy="01",this.yy="0101ff"},h.lang.extend(r.Hb.qb,r.Hb.py),r.Hb.Qb=function(t){r.Hb.Qb.sg.constructor.call(this),this.Iy="02",this.Gy=function(t){this.yy=null,this.Ty=!0,this.by=r.Hb.Ub.xb(t)},this.Vy=function(t){var e=new x(String(t),10);this.Gy(e)},this.By=function(t){this.by=t},this.my=function(){return this.by},void 0!==t&&(void 0!==t.qy?this.Gy(t.qy):void 0!==t.int?this.Vy(t.int):"number"==typeof t?this.Vy(t):void 0!==t.Cy&&this.By(t.Cy))},h.lang.extend(r.Hb.Qb,r.Hb.py),r.Hb.Wb=function(t){r.Hb.Wb.sg.constructor.call(this),this.Iy="03",this.Qy=function(t){this.yy=null,this.Ty=!0,this.by=t},this.Wy=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.yy=null,this.Ty=!0,this.by=r+e},this.Yy=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var r=0;r<=e;r++)t+="0";var n="";for(r=0;r<t.length-1;r+=8){var i=t.substr(r,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),n+=s}this.yy=null,this.Ty=!0,this.by="0"+e+n},this.zy=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.Yy(e)},this.Ky=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.my=function(){return this.by},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.Qy(t):void 0!==t.Cy?this.Qy(t.Cy):void 0!==t.$y?this.Yy(t.$y):void 0!==t.array&&this.zy(t.array))},h.lang.extend(r.Hb.Wb,r.Hb.py),r.Hb.Yb=function(t){r.Hb.Yb.sg.constructor.call(this,t),this.Iy="04"},h.lang.extend(r.Hb.Yb,r.Hb.Ry),r.Hb.zb=function(){r.Hb.zb.sg.constructor.call(this),this.Iy="05",this.yy="0500"},h.lang.extend(r.Hb.zb,r.Hb.py),r.Hb.Kb=function(t){function e(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e}function n(t){var r="",n=new x(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r}r.Hb.Kb.sg.constructor.call(this),this.Iy="06",this.By=function(t){this.yy=null,this.Ty=!0,this.eb=null,this.by=t},this.Xy=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split(".");r+=e(40*parseInt(i[0])+parseInt(i[1])),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.yy=null,this.Ty=!0,this.eb=null,this.by=r},this.Jy=function(t){if(void 0===r.Hb.iT.tT.Zy[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=r.Hb.iT.tT.Zy[t];this.Xy(e)},this.my=function(){return this.by},void 0!==t&&("string"==typeof t&&t.match(/^[0-2].[0-9.]+$/)?this.Xy(t):void 0!==r.Hb.iT.tT.Zy[t]?this.Xy(r.Hb.iT.tT.Zy[t]):void 0!==t.nT?this.Xy(t.nT):void 0!==t.Cy?this.By(t.Cy):void 0!==t.name&&this.Jy(t.name))},h.lang.extend(r.Hb.Kb,r.Hb.py),r.Hb.$b=function(t){r.Hb.$b.sg.constructor.call(this),this.Iy="0a",this.Gy=function(t){this.yy=null,this.Ty=!0,this.by=r.Hb.Ub.xb(t)},this.Vy=function(t){var e=new x(String(t),10);this.Gy(e)},this.By=function(t){this.by=t},this.my=function(){return this.by},void 0!==t&&(void 0!==t.int?this.Vy(t.int):"number"==typeof t?this.Vy(t):void 0!==t.Cy&&this.By(t.Cy))},h.lang.extend(r.Hb.$b,r.Hb.py),r.Hb.Xb=function(t){r.Hb.Xb.sg.constructor.call(this,t),this.Iy="0c"},h.lang.extend(r.Hb.Xb,r.Hb.Ry),r.Hb.Jb=function(t){r.Hb.Jb.sg.constructor.call(this,t),this.Iy="12"},h.lang.extend(r.Hb.Jb,r.Hb.Ry),r.Hb.Zb=function(t){r.Hb.Zb.sg.constructor.call(this,t),this.Iy="13"},h.lang.extend(r.Hb.Zb,r.Hb.Ry),r.Hb.ty=function(t){r.Hb.ty.sg.constructor.call(this,t),this.Iy="14"},h.lang.extend(r.Hb.ty,r.Hb.Ry),r.Hb.iy=function(t){r.Hb.iy.sg.constructor.call(this,t),this.Iy="16"},h.lang.extend(r.Hb.iy,r.Hb.Ry),r.Hb.ny=function(t){r.Hb.ny.sg.constructor.call(this,t),this.Iy="17",this.Ly=function(t){this.yy=null,this.Ty=!0,this.rT=t,this.eb=this.My(this.rT,"utc"),this.by=stohex(this.eb)},this.my=function(){return void 0===this.rT&&void 0===this.eb&&(this.rT=new Date,this.eb=this.My(this.rT,"utc"),this.by=stohex(this.eb)),this.by},void 0!==t&&(void 0!==t.str?this.Ay(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.Ay(t):void 0!==t.Cy?this.Ny(t.Cy):void 0!==t.rT&&this.Ly(t.rT))},h.lang.extend(r.Hb.ny,r.Hb.ky),r.Hb.sy=function(t){r.Hb.sy.sg.constructor.call(this,t),this.Iy="18",this.sT=!1,this.Ly=function(t){this.yy=null,this.Ty=!0,this.rT=t,this.eb=this.My(this.rT,"gen",this.sT),this.by=stohex(this.eb)},this.my=function(){return void 0===this.rT&&void 0===this.eb&&(this.rT=new Date,this.eb=this.My(this.rT,"gen",this.sT),this.by=stohex(this.eb)),this.by},void 0!==t&&(void 0!==t.str?this.Ay(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.Ay(t):void 0!==t.Cy?this.Ny(t.Cy):void 0!==t.rT&&this.Ly(t.rT),!0===t.eT&&(this.sT=!0))},h.lang.extend(r.Hb.sy,r.Hb.ky),r.Hb.ey=function(t){r.Hb.ey.sg.constructor.call(this,t),this.Iy="30",this.my=function(){for(var t="",e=0;e<this.Fy.length;e++)t+=this.Fy[e].vy();return this.by=t,this.by}},h.lang.extend(r.Hb.ey,r.Hb.Hy),r.Hb.hy=function(t){r.Hb.hy.sg.constructor.call(this,t),this.Iy="31",this.hT=!0,this.my=function(){for(var t=new Array,e=0;e<this.Fy.length;e++){var r=this.Fy[e];t.push(r.vy())}return 1==this.hT&&t.sort(),this.by=t.join(""),this.by},void 0!==t&&void 0!==t.oT&&0==t.oT&&(this.hT=!1)},h.lang.extend(r.Hb.hy,r.Hb.Hy),r.Hb.oy=function(t){r.Hb.oy.sg.constructor.call(this),this.Iy="a0",this.by="",this.uT=!0,this.aT=null,this.fT=function(t,e,r){this.Iy=e,this.uT=t,this.aT=r,this.uT?(this.by=this.aT.vy(),this.yy=null,this.Ty=!0):(this.by=null,this.yy=r.vy(),this.yy=this.yy.replace(/^../,e),this.Ty=!1)},this.my=function(){return this.by},void 0!==t&&(void 0!==t.tag&&(this.Iy=t.tag),void 0!==t.uy&&(this.uT=t.uy),void 0!==t.ay&&(this.aT=t.ay,this.fT(this.uT,this.Iy,this.aT)))},h.lang.extend(r.Hb.oy,r.Hb.py),void 0!==r&&r||(r={}),void 0!==r.crypto&&r.crypto||(r.crypto={}),r.crypto.cT=new function(){this.lT={sha1:"3021300906052b0e03021a05000414",vT:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",dT:"3041300d060960864801650304020205000430",ET:"3051300d060960864801650304020305000440",wT:"3020300c06082a864886f70d020205000410",pT:"3020300c06082a864886f70d020505000410",gT:"3021300906052b2403020105000414"},this.bT={pT:"cryptojs",sha1:"cryptojs",vT:"cryptojs",sha256:"cryptojs",dT:"cryptojs",ET:"cryptojs",gT:"cryptojs",yT:"cryptojs",TT:"cryptojs",mT:"cryptojs",OT:"cryptojs",IT:"cryptojs",_T:"cryptojs",RT:"cryptojs",ST:"cryptojs/jsrsa",AT:"cryptojs/jsrsa",NT:"cryptojs/jsrsa",CT:"cryptojs/jsrsa",kT:"cryptojs/jsrsa",jT:"cryptojs/jsrsa",MT:"cryptojs/jsrsa",DT:"cryptojs/jsrsa",PT:"cryptojs/jsrsa",LT:"cryptojs/jsrsa",HT:"cryptojs/jsrsa",UT:"cryptojs/jsrsa",FT:"cryptojs/jsrsa",xT:"cryptojs/jsrsa",GT:"cryptojs/jsrsa",VT:"cryptojs/jsrsa",BT:"cryptojs/jsrsa",qT:"cryptojs/jsrsa",QT:"cryptojs/jsrsa",WT:"cryptojs/jsrsa",YT:"cryptojs/jsrsa",zT:"cryptojs/jsrsa",KT:"cryptojs/jsrsa",$T:"cryptojs/jsrsa"},this.XT={pT:C.Hg.Vl,sha1:C.Hg.xg,vT:C.Hg.JT,sha256:C.Hg.ZT,dT:C.Hg.tm,ET:C.Hg.im,gT:C.Hg.nm},this.rm=function(t,e){if(void 0===this.lT[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.lT[e]+t},this.sm=function(t,e,r){var n=this.rm(t,e),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+e;for(var s="00"+n,o="",a=i-"0001".length-s.length,l=0;l<a;l+=2)o+="ff";return"0001"+o+s},this.em=function(t,e){return new r.crypto.om({um:e}).hm(t)},this.am=function(t,e){return new r.crypto.om({um:e}).fm(t)},this.sha1=function(t){return new r.crypto.om({um:"sha1",cm:"cryptojs"}).hm(t)},this.sha256=function(t){return new r.crypto.om({um:"sha256",cm:"cryptojs"}).hm(t)},this.lm=function(t){return new r.crypto.om({um:"sha256",cm:"cryptojs"}).fm(t)},this.ET=function(t){return new r.crypto.om({um:"sha512",cm:"cryptojs"}).hm(t)},this.vm=function(t){return new r.crypto.om({um:"sha512",cm:"cryptojs"}).fm(t)},this.pT=function(t){return new r.crypto.om({um:"md5",cm:"cryptojs"}).hm(t)},this.gT=function(t){return new r.crypto.om({um:"ripemd160",cm:"cryptojs"}).hm(t)},this.dm=function(t){}},r.crypto.om=function(t){this.Em=function(t,e){if(null!=t&&void 0===e&&(e=r.crypto.cT.bT[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.wm=r.crypto.cT.XT[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.pm=function(t){this.wm.update(t)},this.gm=function(t){var e=C.gg.bg.parse(t);this.wm.update(e)},this.digest=function(){return this.wm.jg().toString(C.gg.bg)},this.hm=function(t){return this.pm(t),this.digest()},this.fm=function(t){return this.gm(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.wm=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.pm=function(t){this.wm.update(t)},this.gm=function(t){var e=sjcl.ym.Cy.bm(t);this.wm.update(e)},this.digest=function(){var t=this.wm.jg();return sjcl.ym.Cy.Tm(t)},this.hm=function(t){return this.pm(t),this.digest()},this.fm=function(t){return this.gm(t),this.digest()}}},this.pm=function(t){throw"updateString(str) not supported for this alg/prov: "+this.mm+"/"+this.Om},this.gm=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.mm+"/"+this.Om},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.mm+"/"+this.Om},this.hm=function(t){throw"digestString(str) not supported for this alg/prov: "+this.mm+"/"+this.Om},this.fm=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.mm+"/"+this.Om},void 0!==t&&void 0!==t.um&&(this.mm=t.um,void 0===t.cm&&(this.Om=r.crypto.cT.bT[this.mm]),this.Em(this.mm,this.Om))},r.crypto.Im=function(t){this.Em=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=r.crypto.cT.bT[t]),this._m=t+"/"+e;var n=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==e){try{var i=r.crypto.cT.XT[n];this.mac=C.Hg.Lg.create(i,this.Rm)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+t}this.pm=function(t){this.mac.update(t)},this.gm=function(t){var e=C.gg.bg.parse(t);this.mac.update(e)},this.Sm=function(){return this.mac.jg().toString(C.gg.bg)},this.Am=function(t){return this.pm(t),this.Sm()},this.Nm=function(t){return this.gm(t),this.Sm()}}},this.pm=function(t){throw"updateString(str) not supported for this alg/prov: "+this._m},this.gm=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this._m},this.Sm=function(){throw"digest() not supported for this alg/prov: "+this._m},this.Am=function(t){throw"digestString(str) not supported for this alg/prov: "+this._m},this.Nm=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this._m},this.Cm=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=rstrtohex(t)),void(this.Rm=C.gg.bg.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;if(e=null,void 0!==t.Cy){if(t.Cy.length%2!=0||!t.Cy.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.Cy;e=t.Cy}if(void 0!==t.km&&(e=utf8tohex(t.km)),void 0!==t.jm&&(e=rstrtohex(t.jm)),void 0!==t.Mm&&(e=_(t.Mm)),void 0!==t.Dm&&(e=b64utohex(t.Dm)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.Rm=C.gg.bg.parse(e)},void 0!==t&&(void 0!==t.Rm&&this.Cm(t.Rm),void 0!==t.um&&(this.mm=t.um,void 0===t.cm&&(this.Om=r.crypto.cT.bT[this.mm]),this.Em(this.mm,this.Om)))},r.crypto.Signature=function(t){var e=null;if(this.Pm=function(){this.mm.match(/^(.+)with(.+)$/)&&(this.Lm=RegExp.$1.toLowerCase(),this.Hm=RegExp.$2.toLowerCase())},this.Um=function(t,e){for(var r="",n=e/4-t.length,i=0;i<n;i++)r+="0";return r+t},this.Em=function(t,e){if(this.Pm(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.Lm)){try{this.wm=new r.crypto.om({um:this.Lm})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.Lm+"/"+t}this.init=function(t,e){var r=null;try{r=void 0===e?KEYUTIL.getKey(t):KEYUTIL.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===r.Fm)this.xm=r,this.state="SIGN";else{if(!0!==r.Db)throw"init failed.:"+r;this.Gm=r,this.state="VERIFY"}},this.Vm=function(t){"string"==typeof t.Bm&&"string"==typeof t.qm?(this.Bm=t.Bm,this.qm=t.qm):this.xm=t,this.state="SIGN"},this.Qm=function(t){"string"==typeof t.Wm&&"string"==typeof t.qm?(this.Wm=t.Wm,this.qm=t.qm):(t instanceof r.crypto.Ym||t instanceof G)&&(this.Gm=t),this.state="VERIFY"},this.zm=function(t){var e=new X509;e.Km(t),this.Gm=e.$m,this.state="VERIFY"},this.pm=function(t){this.wm.pm(t)},this.gm=function(t){this.wm.gm(t)},this.sign=function(){if(this.Xm=this.wm.digest(),void 0!==this.Bm&&void 0!==this.qm){var t=new r.crypto.Ym({curve:this.qm});this.Jm=t.Zm(this.Xm,this.Bm)}else if(this.xm instanceof G&&"rsaandmgf1"==this.Hm)this.Jm=this.xm.tO(this.Xm,this.Lm,this.iO);else if(this.xm instanceof G&&"rsa"==this.Hm)this.Jm=this.xm.nO(this.Xm,this.Lm);else if(this.xm instanceof r.crypto.Ym)this.Jm=this.xm.nO(this.Xm);else{if(!(this.xm instanceof r.crypto.rO))throw"Signature: unsupported public key alg: "+this.Hm;this.Jm=this.xm.nO(this.Xm)}return this.Jm},this.sO=function(t){return this.pm(t),this.sign()},this.Zm=function(t){return this.gm(t),this.sign()},this.verify=function(t){if(this.Xm=this.wm.digest(),void 0!==this.Wm&&void 0!==this.qm)return new r.crypto.Ym({curve:this.qm}).eO(this.Xm,t,this.Wm);if(this.Gm instanceof G&&"rsaandmgf1"==this.Hm)return this.Gm.hO(this.Xm,t,this.Lm,this.iO);if(this.Gm instanceof G&&"rsa"==this.Hm)return this.Gm.oO(this.Xm,t);if(this.Gm instanceof r.crypto.Ym)return this.Gm.oO(this.Xm,t);if(this.Gm instanceof r.crypto.rO)return this.Gm.oO(this.Xm,t);throw"Signature: unsupported public key alg: "+this.Hm}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.uO},this.Qm=function(t){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.uO},this.zm=function(t){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.uO},this.Vm=function(t){throw"initSign(prvKey) not supported for this alg:prov="+this.uO},this.pm=function(t){throw"updateString(str) not supported for this alg:prov="+this.uO},this.gm=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.uO},this.sign=function(){throw"sign() not supported for this alg:prov="+this.uO},this.sO=function(t){throw"digestString(str) not supported for this alg:prov="+this.uO},this.Zm=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.uO},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.uO},void 0!==(this.aO=t)&&(void 0!==t.um&&(this.mm=t.um,void 0===t.cm?this.Om=r.crypto.cT.bT[this.mm]:this.Om=t.cm,this.uO=this.mm+":"+this.Om,this.Em(this.mm,this.Om),this.Pm()),void 0!==t.fO&&(this.iO=t.fO),void 0!==t.cO)){if(void 0!==t.lO)throw"both prvkeypem and prvkeypas parameters not supported";try{(e=new G).vO(t.cO),this.Vm(e)}catch(t){throw"fatal error to load pem private key: "+t}}},r.crypto.tT=new function(){this.dO={EO:"rsaEncryption",wO:"ecPublicKey",pO:"dsa",gO:"secp256r1",bO:"secp192k1",yO:"secp224r1",TO:"secp256k1",mO:"secp521r1",OO:"secp384r1",IO:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var z=new RegExp("");function W(t,e){for(var r="",n=e/4-t.length,i=0;i<n;i++)r+="0";return r+t}function X(t,e){var n,i=(n=t,r.crypto.cT.em(n,e));return this.nO(i,e)}function Q(t){return X.call(this,t,"sha1")}function Z(t){return X.call(this,t,"sha256")}function K(t,e,r){for(var n="",i=0;n.length<e;)n+=hextorstr(r(rstrtohex(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function Y(t,e,n){var i,s=(i=rstrtohex(t),r.crypto.cT.am(i,e));return void 0===n&&(n=-1),this.tO(s,e,n)}function J(t){for(var e in r.crypto.cT.lT){var n=r.crypto.cT.lT[e],i=n.length;if(t.substring(0,i)==n)return[e,t.substring(i)]}return[]}function $(t,e){return function(t,e,n,i){var s=J(function(t,e,r){return function(t,e,r){var n=new G;return n.Mb(e,r),n.jb(t)}(t,e,r).toString(16).replace(/^1f+00/,"")}(e,n,i));if(0==s.length)return!1;var o,a=s[0];return s[1]==(o=t,r.crypto.cT.em(o,a))}(e,q(t,16),this.n.toString(16),this.e.toString(16))}function tt(t,e){var n=q(e=(e=e.replace(z,"")).replace(/[ \n]+/g,""),16);if(n._b()>this.n._b())return 0;var i=J(this.jb(n).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;var s,o=i[0];return i[1]==(s=t,r.crypto.cT.em(s,o))}function et(t,e,n,i){var s,o=(s=rstrtohex(t),r.crypto.cT.am(s,n));return void 0===i&&(i=-1),this.hO(o,e,n,i)}z.compile("[^0-9a-f]","gi"),G.prototype.nO=function(t,e){var n=q(r.crypto.cT.sm(t,e,this.n._b()),16);return W(this._O(n).toString(16),this.n._b())},G.prototype.sO=X,G.prototype.RO=Q,G.prototype.SO=Z,G.prototype.sign=X,G.prototype.AO=Q,G.prototype.NO=Z,G.prototype.tO=function(t,e,n){function i(t){return r.crypto.cT.am(t,e)}var s,o=hextorstr(t),a=o.length,l=this.n._b()-1,u=Math.ceil(l/8);if(-1===n||void 0===n)n=a;else if(-2===n)n=u-a-2;else if(n<-2)throw"invalid salt length";if(u<a+n+2)throw"data too long";var c="";0<n&&(c=new Array(n),(new SecureRandom).Pb(c),c=String.fromCharCode.apply(String,c));var h=hextorstr(i(rstrtohex("\0\0\0\0\0\0\0\0"+o+c))),p=[];for(s=0;s<u-n-a-2;s+=1)p[s]=0;var f=String.fromCharCode.apply(String,p)+""+c,d=K(h,f.length,i),g=[];for(s=0;s<f.length;s+=1)g[s]=f.charCodeAt(s)^d.charCodeAt(s);var v=65280>>8*u-l&255;for(g[0]&=~v,s=0;s<a;s++)g.push(h.charCodeAt(s));return g.push(188),W(this._O(new x(g)).toString(16),this.n._b())},G.prototype.CO=Y,G.prototype.kO=Y,G.jO=-1,G.MO=-2,G.prototype.oO=function(t,e){var r=q(e=(e=e.replace(z,"")).replace(/[ \n]+/g,""),16);if(r._b()>this.n._b())return 0;var n=J(this.jb(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==t)},G.prototype.DO=tt,G.prototype.PO=$,G.prototype.verify=tt,G.prototype.LO=$,G.prototype.hO=function(t,e,n,i){var s=new x(e,16);if(s._b()>this.n._b())return!1;function o(t){return r.crypto.cT.am(t,n)}var a,l=hextorstr(t),u=l.length,c=this.n._b()-1,h=Math.ceil(c/8);if(-1===i||void 0===i)i=u;else if(-2===i)i=h-u-2;else if(i<-2)throw"invalid salt length";if(h<u+i+2)throw"data too long";var p=this.jb(s).HO();for(a=0;a<p.length;a+=1)p[a]&=255;for(;p.length<h;)p.unshift(0);if(188!==p[h-1])throw"encoded message does not end in 0xbc";var f=(p=String.fromCharCode.apply(String,p)).substr(0,h-u-1),d=p.substr(f.length,u),g=65280>>8*h-c&255;if(0!=(f.charCodeAt(0)&g))throw"bits beyond keysize not zero";var v=K(d,f.length,o),m=[];for(a=0;a<f.length;a+=1)m[a]=f.charCodeAt(a)^v.charCodeAt(a);m[0]&=~g;var y=h-u-i-2;for(a=0;a<y;a+=1)if(0!==m[a])throw"leftmost octets not zero";if(1!==m[y])throw"0x01 marker not found";return d===hextorstr(o(rstrtohex("\0\0\0\0\0\0\0\0"+l+String.fromCharCode.apply(String,m.slice(-i)))))},G.prototype.UO=et,G.prototype.FO=et,G.xO=-2,e.GO=x,e.VO=G,e.Signature=r.crypto.Signature,e.om=r.crypto.om,e.Bl=C,e.BO=_,e.qO=function(t){var e,r=_(t),n=new Array;for(e=0;2*e<r.length;++e)n[e]=parseInt(r.substring(2*e,2*e+2),16);return n}},function(t,e,r){"use strict";var n,i,s=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.QO=e.WO=e.wp=e.YO=e.zO=e.KO=e.$O=e.PlayerEvents=void 0;var o=r(89),a=r(50),l=r(5),u=r(0),c=r(15),h=r(16),p=r(10),f=r(90),d=r(166),g=r(167),v=r(168),m=r(169),y=(b.XO="hive-client-track",b.JO="trackevent",b.ZO="NULLID",b.tI="",b);function b(){}var E,w,A,S="[TRACK] ";(E=e.PlayerEvents||(e.PlayerEvents={}))[E.PLAYING=0]="PLAYING",E[E.BUFFERING=1]="BUFFERING",E[E.PAUSED=2]="PAUSED",E[E.SKIP=3]="SKIP",E[E.STOPPED=4]="STOPPED",E[E.ERROR=5]="ERROR",E[E.WINDOW_SIZE=6]="WINDOW_SIZE",E[E.FULLSCREEN=7]="FULLSCREEN",E[E.VISIBLE=8]="VISIBLE",E[E.HIDDEN=9]="HIDDEN",E[E.iI=10]="MUTED",E[E.nI=11]="LANGUAGE_SWITCH",(A=w=e.$O||(e.$O={}))[A.rI=0]="TIME_TO_AUTH_TOKEN_ENDPOINT",A[A.sI=1]="TIME_TO_AUTH_HIVE_ENDPOINT",A[A.eI=2]="TIME_TO_RI_INIT_SUCCESS",A[A.hI=3]="TIME_TO_TECH_INIT_SUCCESS",A[A.oI=4]="TIME_TO_TECH_INIT_FAIL",A[A.uI=5]="TIME_TO_CLIENT_NOT_READY",A[A.aI=6]="TIME_TO_CLIENT_NOT_FOUND",A[A.fI=7]="TIME_TO_OVERALL_AUTH",A[A.cI=8]="TIME_TO_PLAYER_INIT",A[A.lI=9]="TIME_TO_SESSION_ACTIVATED";var T=((i={})[w.rI]=0,i[w.sI]=0,i[w.eI]=0,i[w.hI]=1,i[w.oI]=1,i[w.uI]=1,i[w.aI]=1,i[w.fI]=2,i[w.cI]=2,i[w.lI]=2,i);e.KO=function(){};var I=function(){this.type=2};e.zO=function(t,e,r){this.initStep=t,this.ts=e,this.duration=r};var P,k=(s(R,P=d.vI),R.prototype.dI=function(t,e){var r;this.sessions.forEach((function(e){e.sessionId==t&&(r=e)})),r||((r=new m.EI).sessionId=t,r.events=[],this.sessions.push(r)),r.events.push(e)},R);function R(){var t=P.call(this)||this;return t.sessions=new Array,t}var C=(O.prototype.wI=function(t){this.client=t},O.prototype.init=function(t,e){this.pI=t,this.gI(e),this.logger.debug(S+"INIT Reporting ID: "+t)},O.prototype.gI=function(t){this.bI=t},O.prototype.updateIntegrationInfo=function(t){this.integrationInfo=t},O.prototype.yI=function(t){var e=new L(t,this);this.TI.push(e),this.mI=null,this.client.OI(!0)},O.prototype.manifestRequested=function(t,e,r){if(!this.mI)for(var n=0;n<this.TI.length;n++){var i=this.TI[n];if(i.ticket.sessionId===t){this.logger.debug(S+"Activating Track for session "+t),this.mI=i;break}}if(this.mI)if(this.mI.ticket.sessionId==t){if(!this.mI.II){var s=new D(t,e,r);this.mI._I(s),this.integrationInfo&&(this.mI.eventName=this.integrationInfo.eventName),this.client.OI()}}else this.logger.warn(S+"ignoring manifest not matching event "+this.mI.ticket.sessionId+" != "+t)},O.prototype.RI=function(t,e,r){null!=this.mI&&(this.mI.II||this.mI.SI.push(new X(t,e,r)))},O.prototype.AI=function(t,e,r){this.NI.push(new F(t,e,r)),this.client.OI()},O.prototype.handleTechEvent=function(t,e,r){this.CI.push(new q(t,e,r)),this.client.OI()},O.prototype.kI=function(t){var e=this;t&&t.forEach((function(t){e.CI.push(t)}))},O.prototype.jI=function(t,e){var r=this;t.forEach((function(t){var n=t.initStep,i={initEventType:T[n],initStepDuration:t.duration};r.MI.push(new z(e,n,i,t.ts))})),this.client.OI()},O.prototype.DI=function(){var t=new g.Al;p.HiveConfig.ClientInfo.ec&&p.HiveConfig.ClientInfo.hc?(t.partnerId=p.HiveConfig.ClientInfo.ec,t.customerId=p.HiveConfig.ClientInfo.hc):this.mI&&(t.partnerId=this.mI.ticket.LI(),t.customerId=this.mI.ticket.HI()),t.clientType=this.bI.name;var e=new a.UI;return e.FI(navigator.userAgent),t.os=e.xI().name+" "+e.xI().version,this.integrationInfo&&(t.consumptionApp=this.integrationInfo.consumptionApp,t.integrationInfo=new v.GI,t.integrationInfo.playerName=this.integrationInfo.playerName,t.integrationInfo.playerVersion=this.integrationInfo.playerVersion,t.integrationInfo.playerTech=this.integrationInfo.playerTech,t.integrationInfo.pluginName=this.integrationInfo.pluginName,t.integrationInfo.pluginVersion=this.integrationInfo.pluginVersion,t.integrationInfo.coreVersion=this.integrationInfo.coreVersion,this.integrationInfo.webRTCVersion&&(t.integrationInfo.webRTCVersion=this.integrationInfo.webRTCVersion),this.integrationInfo.telemetryId&&(t.telemetryId=this.integrationInfo.telemetryId)),t},O.prototype.VI=function(){return this.mI?this.mI:this.TI&&0<this.TI.length?this.TI[this.TI.length-1]:void 0},O.prototype.BI=function(t){var e=this;if(void 0===t&&(t=!0),0==this.TI.length&&0==this.NI.length)return t?l.reject("nothing to send"):(this.logger.debug(S+" NOTHING TO SEND"),null);var r=new f.qI;r.app=y.XO,r.createdAt=u.Framework.time(),r.guid=this.pI,r.name=y.JO;var n=this.VI();if(n){var i=n.ticket.QI().replace(/[\[\]]/g,"");r.tags=[i],r.tags.push(n.ticket.LI()),r.tags.push(n.ticket.HI())}else r.tags=new Array;var s=new k;if(s.peer=this.DI(),this.TI.forEach((function(t){t.II||s.dI(t.ticket.sessionId,t)})),this.NI.forEach((function(t){s.dI(t.sessionId,t)})),this.CI.forEach((function(t){s.dI(t.sessionId,t)})),this.MI.forEach((function(t){s.dI(t.sessionId,t)})),r.data=s,t)return this.WI.getConnectivityInfo().then((function(t){var n=e.YI(t);return s.dI("null",n),r})).fail((function(t){return r}));var o=this.YI(this.WI.zI());return s.dI("null",o),r},O.prototype.YI=function(t){var e=new I;e.ts=u.Framework.time();var r=t.getNetworkChanged();return r.getPublicIp()&&(e.pubIp=r.getPublicIp()),r.getPrivateIp()&&(e.privIp=o.SensitiveInfoUtils.getPrivateIp(r)),t.getHostName()&&(e.hostname=o.SensitiveInfoUtils.getHostname(t)),r.getCidr()&&(e.netmask=r.getCidr()),r.getNic()&&(e.nic=r.getNic()),r.getNicName()&&(e.nicName=r.getNicName()),r.getMacAddress()&&(e.mac=r.getMacAddress()),e},O.prototype.KI=function(){return navigator.userAgent},O.prototype.reset=function(){this.TI=new Array,this.NI=new Array,this.CI=new Array,this.MI=new Array},O.prototype.$I=function(t){},O);function O(){this.logger=u.Framework.resolve(u.Framework.v.p).log(),this.WI=u.Framework.resolve(u.Framework.v.XI),this.TI=new Array,this.NI=new Array,this.CI=new Array,this.MI=new Array}e.YO=C;var _=(x.prototype.OI=function(t){void 0===t&&(t=!1);var e=t?c.Wc.al:c.Wc.ul;this.JI?e<this.ZI-(new Date).getTime()&&(u.Framework.clearTimeout(this.JI),this.ZI=null,this.t_(e)):this.t_(e)},x.prototype.i_=function(){this.JI&&(u.Framework.clearTimeout(this.JI),this.ZI=this.JI=null)},x.prototype.t_=function(t,e){var r=this;void 0===e&&(e=!1),this.JI=u.Framework.setTimeout((function(){r.n_()}),t,e),this.ZI=(new Date).getTime()+t},x.prototype.n_=function(t){var e=this;void 0===t&&(t=!0),this.JI=null,this.ZI=null;var r=this.r_.BI(t);t?(this.logger.debug(S+"TAKING A TRACK SNAPSHOT"),r.then((function(t){return e.forward(t)})).fail((function(t){e.logger.debug(S+" ERROR GENERATING/SENDING THE TRACK SNAPSHOT: ",t)})).finally((function(){return e.r_.reset()})).done()):(this.logger.debug(S+"FLUSHING TRACK SNAPSHOT"),this.forward(r),this.r_.reset())},x.prototype.forward=function(t){if(this.filter){var e=this.filter.s_(),r=e.e_,n=e.threshold;if(!e.s_)return void this.logger.debug(S+"SKIPPING SNAPSHOT DUE TO REPORTING THRESHOLD: "+r+" < "+n)}if(this.client&&this.client.h_()&&t){var i=JSON.stringify(t);switch(this.o_){case 0:default:this.logger.debug(S+"TRACK EVENT");break;case 1:this.logger.debug(S+"TRACK EVENT:"+i)}var s=new h.pl(HiveStreamingServices.u_,2,i);this.client.h_().send(s)}},x.prototype.a_=function(){this.n_(!1)},x.prototype.f_=function(t){this.filter=t},x);function x(t){this.o_=isNaN(p.HiveConfig.DebugLogs.TrackSnapshotLogs)?0:p.HiveConfig.DebugLogs.TrackSnapshotLogs,this.r_=t,this.logger=u.Framework.resolve(u.Framework.v.p).log(),this.client=u.Framework.resolve(u.Framework.v.c_),this.r_.wI(this)}e.wp=_;var L=(N.prototype._I=function(t){this.manifests.push(t)},N.prototype.toJSON=function(){var t={type:0,ticket:{}};t.ticket.url=this.ticket.l_(),t.ticket.reqTs=this.ticket.v_,t.ticket.respTs=this.ticket.d_,t.ticket.userAgent=this.r_.KI(),null!=this.ticket.testId&&(t.ticket.testId=this.ticket.testId),t.manifests=[],this.manifests.forEach((function(e){var r={};r.url=e.url,r.respTs=e.d_,r.respCode=e.respCode,t.manifests.push(r)}));var e=-1,r=-1,n=-1;return this.SI.forEach((function(t){0<t.E_&&(-1==e&&(e=t.ts,r=t.E_),n=t.E_)})),-1!=e&&(t.playTs=e),-1!=n&&(t.buffTime=n),-1!=r&&(t.initBuffTime=r),t.eventName=this.eventName,t},N);function N(t,e){this.createdAt=(new Date).getTime(),this.II=!1,this.ticket=t,this.manifests=new Array,this.SI=new Array,this.r_=e}e.WO=L;var D=function(t,e,r){this.eventId=t,this.url=e,this.d_=(new Date).getTime(),this.respCode=r},M=(B.prototype.toJSON=function(){var t={};return t.type=this.w_+this.event,t.ts=this.ts,this.p_&&(t.parameters=this.p_),t},B);function B(t,e,r,n){this.ts=(new Date).getTime(),this.sessionId=t,this.sessionId||(this.sessionId="null"),this.event=e,this.p_=r,n&&(this.ts=n)}var j,F=(s(U,j=M),U);function U(t,e,r,n){var i=j.call(this,t,e,r,n)||this;return i.w_=100,i}var H,q=(s(V,H=M),V);function V(t,e,r,n){var i=H.call(this,t,e,r,n)||this;return i.w_=200,i}e.QO=q;var G,z=(s(W,G=M),W.prototype.toJSON=function(){return{type:this.w_,ts:this.ts,initStep:this.event,initStepDuration:this.p_.initStepDuration,initEventType:this.p_.initEventType}},W);function W(t,e,r,n){var i=G.call(this,t,e,r,n)||this;return i.w_=3,i}var X=function(t,e,r){this.ts=(new Date).getTime(),this.playingPoint=t,this.g_=e,this.E_=r}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.b_=e.y_=e.Reporting=e.T_=void 0;var n,i=r(3),s=r(5),o=r(0),a=r(22),l=r(65);(n=e.T_||(e.T_={}))[n.STOP=0]="STOP",n[n.IDLE=1]="IDLE",n[n.m_=2]="PLAY";var u=(c.prototype.close=function(t){t&&this.O_.delete(t),0==this.O_.length&&this.I_.close()},c.prototype.__=function(t){return this.O_.has(t)},c.prototype.initSession=function(t,e,r,n,i){var o=this,a=s.defer(),l=this.S_.R_(),u="string"==typeof e?this.N_.A_(e):e;return u?(u.pluginId=t,null!=n&&(u.testId=n),i?l.then((function(t){return o.C_(t,u,null,i)})).fail((function(t){return s.reject(t)})):(l.then((function(t){return o.C_(t,u,a)})).fail(a.reject),a.promise)):(a.reject(new Error("Invalid ticket: "+e)),a.promise)},c.prototype.C_=function(t,e,r,n){var i=this;this.p2pId=t.k_(),this.reportingId=t.j_();var o=this.I_.init(this.p2pId,e,n);if(this.I_.connect(),this.M_.init(this.I_),n)return o.promise.then((function(r){var n,s=e.sessionId;if(i.O_.has(s))n=i.O_.get(s),i.logger.warn("SESSION ALREADY EXISTING "+n.D_.ticket);else{var o=l.default.P_();(n=new f(e,i.I_,o,t)).D_.init(i.reportingId,e,o,s),n.r_.init(i.reportingId,o),n.r_.yI(e),i.O_.set(s,n),i.logger.debug("SESSION ID SET ",s)}return n})).fail((function(t){return s.reject(t)}));var a=this.N_.resolve(o.L_,e),u=o.promise.then((function(e){var n=a.then((function(e){var n=e.sessionId;if(i.O_.has(n))return s=i.O_.get(n),i.logger.warn("SESSION ALREADY EXISTING "+s.D_.ticket),r.resolve(s),s;var s,o=l.default.P_();return(s=new f(e,i.I_,o,t)).D_.init(i.reportingId,e,o,n),s.r_.init(i.reportingId,o),s.r_.yI(e),i.O_.set(n,s),i.logger.debug("SESSION ID SET ",n),r.resolve(s),s})).fail((function(t){return r.reject(t||"Error resolving the ticket")}));return e.onerror((function(t){r.reject("Error establishing connection to Hive Services")})),n})).fail((function(t){return r.reject(t),null}));return this.I_.connect(),u},c);function c(){this.p2pId=null,this.reportingId=null,this.O_=new i,this.logger=o.Framework.resolve(o.Framework.v.p).log(),this.logger.debug("INIT REPORTING"),this.I_=o.Framework.resolve(o.Framework.v.c_),this.S_=o.Framework.resolve(o.Framework.v.H_),this.N_=o.Framework.resolve(o.Framework.v.U_),this.M_=o.Framework.resolve(o.Framework.v.F_)}e.Reporting=u;var h=(p.prototype.s_=function(){var t,e,r,n,i=null!==(n=null===(r=null===(e=null===(t=this.store)||void 0===t?void 0:t.x_)||void 0===e?void 0:e.player)||void 0===r?void 0:r.playingTimeMs)&&void 0!==n?n:0,s=this.threshold;return{e_:i,threshold:s,s_:s<=i}},p.prototype.G_=function(t){this.threshold=t},p);function p(t){this.threshold=0,this.store=t}e.y_=h;var f=(d.prototype.gI=function(t){this.bI=t,this.D_.gI(this.bI),this.r_.gI(this.bI)},d.prototype.onStateChange=function(t){this.V_.onStateChange(t)},d.prototype.B_=function(){this.q_.i_()},d.prototype.G_=function(t){this.filter.G_(Number(t)||0)},d.prototype.f_=function(t){this.filter=t,this.q_.f_(t),this.V_.f_(t)},d);function d(t,e,r,n){this.ticket=t,this.I_=e,this.bI=r,this.identity=n,this.D_=o.Framework.resolve(o.Framework.v.Q_),this.V_=o.Framework.resolve(o.Framework.v.W_),this.r_=o.Framework.resolve(o.Framework.v.Y_),this.q_=new a.wp(this.r_),this.z_=o.Framework.resolve(o.Framework.v.K_),this.f_(new h(this.D_)),this.M_=o.Framework.resolve(o.Framework.v.F_),this.M_.X_(this.ticket,this.D_)}e.b_=f},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Dash=void 0;var n=r(134),i=r(156),s=(o.J_=function(t,e,r){return this.rc(t,e,r)||-1!=t.indexOf(o.Z_)},o.rc=function(t,e,r){var n=-1!=t.toLowerCase().indexOf(o.tR.toLowerCase())||-1!=t.toLowerCase().indexOf(o.iR.toLowerCase());if(r){if(r.test(t))return!0;!n&&e&&e.warn(this.loggerId+"Context matcher set to "+r+" failed against "+t)}return n},o.nR=function(t,e){var r=e.replace("_definst_/","").match(new RegExp(t.replace(".mpd","")+o.rR));return r&&0<r.length},o.sR=function(t,e,r,s){return 0<t.indexOf(o.iR)?new i.eR(e,r,s):new n.hR(e,r,s)},o.loggerId="[DASH] ",o.oR=1,o.uR=2,o.aR=2e3,o.fR=3e4,o.cR=1e4,o.lR=!0,o.vR=!0,o.dR=500,o.ER=16,o.wR=3,o.pR=10,o.DASH_METADATA_MIN_FRAGMENTS=3,o.tR="(format=mpd-time-csf)",o.iR=".mpd",o.rR="_.*.mpd",o.Z_=".m4s",o.gR=".ism/",o);function o(){}e.Dash=s},function(t,e,r){"use strict";r(12);var n=r(146),i=r(13),s=r(61),o=r(14);function a(t,e,r,i){if(!(this instanceof a))return new a(t,e,r,i);e=e||Object.equals,r=r||Object.compare,i=i||Function.ke,this.je=e,this.Ec=r,this.De=i,this.store=new n(null,(function(t,r){return e(t.key,r.key)}),(function(t,e){return r(t.key,e.key)})),this.length=0,this.hiveAddEach(t)}(t.exports=a).SortedMap=a,Object.hiveAddEach(a.prototype,i.prototype),Object.hiveAddEach(a.prototype,s.prototype),Object.hiveAddEach(a.prototype,o.prototype),a.prototype.Le=function(t){return new this.constructor(t,this.je,this.Ec,this.De)},a.prototype.log=function(t,e,r,n){e=e||this.He,this.store.log(t,(function(t,r,n){e(t.value,r,n)}),r,n)},a.prototype.He=function(t,e){e(" key: "+t.key),e(" value: "+t.value)}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.bR=e.ErrorMonitorOptions=e.UrlConfigurableOptions=e.HiveTechOptions=e.Options=void 0;var n=r(44),i=r(45),s=r(46),o=r(8);e.Options=function(){this.monitorPort=i.Wc.yR?s.mR.TR:s.mR.OR,this.playerPort=i.Wc.yR?s.mR.IR:s.mR._R,this.feedbackPeriod=2e3,this.idleTimePeriod=6e4,this.useSessionCheck=i.Wc.RR,this.debugLevel=o.K.If?"debug":"notice",this.isSDNDebug=!1,this.hiveTechOrder=[],this.telemetryId=null,this.silent=!1,this.loggerTimestamp=n.HiveConfig.Framework.LoggerTimestamp,this.testId=null,this.pluginTimeout=o.K.bf,this.reportingThreshold=o.K.xf,this.readyCheckTimeout=0,this.macReadyCheckTimeout=-1,this.onSourceSetCompleted=function(t){},this.onLoadingCompleted=function(t){},this.detectPrivateIP=o.K.Pf,this.authTokenEnabled=!0,this.dashRemoveBitrateSize=!1,this.dashFilterBitrates=null,this.staticPartnerId=null,this.staticCustomerId=null,this.audioMetrics=!0,this.logJsonSnapshots=void 0,this.onActiveSession=function(t){},this.onError=function(t){},this.onSessionStateChange=function(t){},this.onInitStep=function(t){},this.manifestDomainMatcher=void 0,this.disableHiveForVod=!1,this.eventName=null},e.HiveTechOptions=function(){this.initTimeout=3e4,this.contextMatcher=void 0,this.onError=function(t){return!0},this.onActiveSession=function(t){}},e.UrlConfigurableOptions=function(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.isSDNDebug="isSDNDebug",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout",this.hiveTestId="testId",this.hiveDetectPrivateIP="detectPrivateIP",this.hiveAuthTokenEnabled="authTokenEnabled",this.hiveDashRemoveBitrateSize="dashRemoveBitrateSize",this.hiveDashFilterBitrates="dashFilterBitrates",this.hiveLogJsonSnapshots="logJsonSnapshots",this.hiveStaticPartnerId="staticPartnerId",this.hiveStaticCustomerId="staticCustomerId",this.hiveAudioMetrics="audioMetrics"};var a=(l.enabledRUM=!1,l.enableKeyCombination=!0,l.enabledErrorFilter=!0,l);function l(){}e.ErrorMonitorOptions=a;var u=(c.SR=function(t){"dashRemoveBitrateSize"in t&&t.dashRemoveBitrateSize&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashRemoveBitrateSize=t.dashRemoveBitrateSize),"dashFilterBitrates"in t&&t.dashFilterBitrates&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashFilterBitrates=t.dashFilterBitrates),"staticCustomerId"in t&&t.staticCustomerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.hc=t.staticCustomerId),"staticPartnerId"in t&&t.staticPartnerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.ec=t.staticPartnerId),"audioMetrics"in t&&!t.audioMetrics&&window.HiveConfig&&window.HiveConfig.Stats&&(window.HiveConfig.Stats.AudioAccounting=t.audioMetrics),"detectPrivateIP"in t&&"boolean"==typeof t.detectPrivateIP&&window.HiveConfig&&window.HiveConfig.ConnInfo&&(window.HiveConfig.ConnInfo.detectPrivateIP=t.detectPrivateIP),"logJsonSnapshots"in t&&t.logJsonSnapshots&&window.HiveConfig&&window.HiveConfig.DebugLogs&&(window.HiveConfig.DebugLogs.MetricSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackerLogs=1)},c);function c(){}e.bR=u,"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=a)},function(t,e,r){"use strict";var n=this&&this.AR||function(t,e,r,n){return new(r=r||Promise)((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.NR(t))}catch(t){s(t)}}function l(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(o,a)}l((n=n.apply(t,e||[])).next())}))},i=this&&this.CR||function(t,e){var r,n,i,s,o={label:0,kR:function(){if(1&i[0])throw i[1];return i[1]},jR:[],MR:[]};return s={next:a(0),NR:a(1),_o:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n._o:s[0]?n.NR||((i=n._o)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.MR.pop(),o.jR.pop();continue;default:if(!(i=0<(i=o.jR).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.MR.push(s);break}i[2]&&o.MR.pop(),o.jR.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"s",{value:!0}),e.DR=e.PR=e.RequestType=void 0;var s,o=r(5),a=r(0),l=r(4),u=r(198),c=r(6);(s=e.RequestType||(e.RequestType={}))[s.LR=0]="UPPER_LAYER",s[s.HR=1]="CDN",s[s.UR=2]="CDN_PREFETCH",s[s.FR=3]="CDN_COMPENSATION",s[s.qa=4]="P2P",s[s.xR=5]="P2P_PREFETCH";var h=function(){this.GR=!1,this.VR=0,this.BR=0,this.qR=0,this.QR=0,this.WR=0,this.p2pAgenTrafficSuccessQt=0,this.YR=0,this.srcOtherRespQt=0,this.zR=0,this.KR=0,this.$R=0,this.XR=0};e.PR=h;var p=(Object.defineProperty(f.prototype,"JR",{get:function(){return this.ZR.GR?this.ZR.KR:this.ZR.$R},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"tS",{get:function(){return this.ZR.XR},enumerable:!1,configurable:!0}),f.prototype.iS=function(){return this.type},f.prototype.nS=function(){return this.rS.nS()},f.prototype.sS=function(){return this.rS.sS()},f.prototype.eS=function(){return this.sS()+"-"+this.hS},f.prototype.oS=function(){return this.rS.uS()},f.prototype.aS=function(){return this.rS.fS()},f.prototype.cS=function(){return Math.max(1,this.ZR.XR-this.ZR.$R)},f.prototype.lS=function(){return Math.max(1,this.ZR.XR-this.ZR.KR)},f.prototype.vS=function(){return 0!=this.ZR.WR?new l.hh(this.cS(),this.ZR.WR):new l.hh(this.lS(),this.ZR.BR)},f.prototype.getResponse=function(){return this.xhr?this.xhr.response:this.dS},f.prototype.ES=function(){return this.responseText},f.prototype.wS=function(){return this.ZR.VR},f.prototype.pS=function(){throw new Error("Not implemented")},f.prototype.gS=function(){return this.rS},f.prototype.bS=function(){return this.xhr&&this.xhr.responseURL?this.xhr.responseURL:this.oS()},f.prototype.yS=function(){return n(this,void 0,void 0,(function(){var t;return i(this,(function(e){return this.TS=o.defer(),t=c.Ko.uf.xa-this.lS(),[2,o.race([this.mS.authenticate(this.dS),this.TS.promise,this.OS(t)])]}))}))},f.prototype.OS=function(t){return new Promise((function(e){0<=t&&a.Framework.setTimeout((function(){e(!0)}),t)}))},f.prototype.IS=function(){this.mS.request()},f.prototype._S=function(){this.mS.cancel()},f.prototype.RS=function(){this.TS&&this.TS.resolve(!0)},f);function f(t,e,r,n,i){this.NS=!1,this.type=void 0,this.ZR=new h,this.CS=!1,this.kS=!1,this.jS="",this.dS=new ArrayBuffer(0),this.MS=0,this.type=r,this.DS=t,this.hS=e,this.PS=i,this.rS=n,this.ZR.zR=a.Framework.time(),this.mS=new u.uf(this.DS)}e.DR=p},function(t,e,r){var n=r(20),i=window.hive;void 0===i&&(i=window.hive={}),void 0===i.services&&(i.services={}),void 0===i.services.protocol&&(i.services.protocol={}),void 0===i.services.protocol.tracker&&(i.services.protocol.tracker={}),i.services.protocol.tracker.TrackerPeerStreamState={1:"PLAYER",LS:1,2:"P2P_AGENT",HS:2,3:"PREFETCHER_FIRST_TIER",US:3,4:"PREFETCHER_SECOND_TIER",FS:4},i.services.protocol.tracker.TrackerRankType={1:"Global",Global:1,2:"InternalAs",xS:2,3:"ExternalAs",GS:3,4:"LocalityAs",VS:4},i.services.protocol.tracker.TrackerAsType={1:"Internal",BS:1,2:"External",External:2,3:"Locality",qS:"3"},i.services.protocol.tracker.TrackerPeerStreamInfo=function(t){this.state=null,this.bitrate=null,this.delta=null,this.qualityLevel=null,t&&(void 0!==t.state&&null!==t.state&&(this.state=t.state),void 0!==t.bitrate&&null!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.delta&&null!==t.delta&&(this.delta=t.delta),void 0!==t.qualityLevel&&null!==t.qualityLevel&&(this.qualityLevel=t.qualityLevel))},i.services.protocol.tracker.TrackerPeerStreamInfo.prototype={},i.services.protocol.tracker.TrackerPeerStreamInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.state=t.LE().value:t.PE(r);break;case 2:r==n.Type.I32?this.bitrate=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.delta=t.LE().value:t.PE(r);break;case 4:r==n.Type.STRING?this.qualityLevel=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerPeerStreamInfo.prototype.write=function(t){t.FE("TrackerPeerStreamInfo"),null!==this.state&&void 0!==this.state&&(t.xE("state",n.Type.I32,1),t.BE(this.state),t.VE()),null!==this.bitrate&&void 0!==this.bitrate&&(t.xE("bitrate",n.Type.I32,2),t.BE(this.bitrate),t.VE()),null!==this.delta&&void 0!==this.delta&&(t.xE("delta",n.Type.I32,3),t.BE(this.delta),t.VE()),null!==this.qualityLevel&&void 0!==this.qualityLevel&&(t.xE("qualityLevel",n.Type.STRING,4),t.GE(this.qualityLevel),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerPeerInfo=function(t){this.guid=null,this.internalAs=null,this.externalAs=null,this.nat=null,this.bandwidth=null,this.watchingBitrate=null,this.privateIp=null,this.publicIp=null,this.streams=null,this.rankValue=null,this.timestamp=null,this.publicIpString=null,this.privateIpString=null,this.watchingQualityLevel=null,this.QS=null,this.isVpn=null,t&&(void 0!==t.guid&&null!==t.guid&&(this.guid=t.guid),void 0!==t.internalAs&&null!==t.internalAs&&(this.internalAs=t.internalAs),void 0!==t.externalAs&&null!==t.externalAs&&(this.externalAs=t.externalAs),void 0!==t.nat&&null!==t.nat&&(this.nat=t.nat),void 0!==t.bandwidth&&null!==t.bandwidth&&(this.bandwidth=t.bandwidth),void 0!==t.watchingBitrate&&null!==t.watchingBitrate&&(this.watchingBitrate=t.watchingBitrate),void 0!==t.privateIp&&null!==t.privateIp&&(this.privateIp=t.privateIp),void 0!==t.publicIp&&null!==t.publicIp&&(this.publicIp=t.publicIp),void 0!==t.streams&&null!==t.streams&&(this.streams=t.streams),void 0!==t.rankValue&&null!==t.rankValue&&(this.rankValue=t.rankValue),void 0!==t.timestamp&&null!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.publicIpString&&null!==t.publicIpString&&(this.publicIpString=t.publicIpString),void 0!==t.privateIpString&&null!==t.privateIpString&&(this.privateIpString=t.privateIpString),void 0!==t.watchingQualityLevel&&null!==t.watchingQualityLevel&&(this.watchingQualityLevel=t.watchingQualityLevel),void 0!==t.localityGroupId&&null!==t.localityGroupId&&(this.localityGroupId=t.localityGroupId),void 0!==t.isVpn&&null!==t.isVpn&&(this.isVpn=t.isVpn))},i.services.protocol.tracker.TrackerPeerInfo.prototype={},i.services.protocol.tracker.TrackerPeerInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.STRING?this.guid=t.fp().value:t.PE(r);break;case 2:r==n.Type.I32?this.internalAs=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.externalAs=t.LE().value:t.PE(r);break;case 4:r==n.Type.I32?this.nat=t.LE().value:t.PE(r);break;case 5:r==n.Type.I32?this.bandwidth=t.LE().value:t.PE(r);break;case 6:r==n.Type.I32?this.watchingBitrate=t.LE().value:t.PE(r);break;case 7:r==n.Type.STRUCT?(this.privateIp=new InetAddress,this.privateIp.read(t)):t.PE(r);break;case 8:r==n.Type.STRUCT?(this.publicIp=new InetAddress,this.publicIp.read(t)):t.PE(r);break;case 9:if(r==n.Type.LIST){var o,a;this.streams=[],(a=t.Zw()).tp,o=a.size;for(var l=0;l<o;++l){var u=null;(u=new i.services.protocol.tracker.TrackerPeerStreamInfo).read(t),this.streams.push(u)}t.np()}else t.PE(r);break;case 10:r==n.Type.DOUBLE?this.rankValue=t.ap().value:t.PE(r);break;case 11:r==n.Type.I64?this.timestamp=t.up().value:t.PE(r);break;case 12:r==n.Type.STRING?this.publicIpString=t.DE().value:t.PE(r);break;case 13:r==n.Type.STRING?this.privateIpString=t.DE().value:t.PE(r);break;case 14:r==n.Type.STRING?this.watchingQualityLevel=t.DE().value:t.PE(r);break;case 15:r==n.Type.I32?this.localityGroupId=t.LE().value:t.PE(r);break;case 16:r==n.Type.BOOL?this.isVpn=t.ep().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerPeerInfo.prototype.write=function(t){if(t.FE("TrackerPeerInfo"),null!==this.guid&&void 0!==this.guid&&(t.xE("guid",n.Type.STRING,1),t.Vw(this.guid),t.VE()),null!==this.internalAs&&void 0!==this.internalAs&&(t.xE("internalAs",n.Type.I32,2),t.BE(this.internalAs),t.VE()),null!==this.externalAs&&void 0!==this.externalAs&&(t.xE("externalAs",n.Type.I32,3),t.BE(this.externalAs),t.VE()),null!==this.nat&&void 0!==this.nat&&(t.xE("nat",n.Type.I32,4),t.BE(this.nat),t.VE()),null!==this.bandwidth&&void 0!==this.bandwidth&&(t.xE("bandwidth",n.Type.I32,5),t.BE(this.bandwidth),t.VE()),null!==this.watchingBitrate&&void 0!==this.watchingBitrate&&(t.xE("watchingBitrate",n.Type.I32,6),t.BE(this.watchingBitrate),t.VE()),null!==this.privateIp&&void 0!==this.privateIp&&(t.xE("privateIp",n.Type.STRUCT,7),this.privateIp.write(t),t.VE()),null!==this.publicIp&&void 0!==this.publicIp&&(t.xE("publicIp",n.Type.STRUCT,8),this.publicIp.write(t),t.VE()),null!==this.streams&&void 0!==this.streams){for(var e in t.xE("streams",n.Type.LIST,9),t.Mw(n.Type.STRUCT,this.streams.length),this.streams)this.streams.hasOwnProperty(e)&&(e=this.streams[e]).write(t);t.Dw(),t.VE()}null!==this.rankValue&&void 0!==this.rankValue&&(t.xE("rankValue",n.Type.DOUBLE,10),t.Gw(this.rankValue),t.VE()),null!==this.timestamp&&void 0!==this.timestamp&&(t.xE("timestamp",n.Type.I64,11),t.xw(this.timestamp),t.VE()),null!==this.publicIpString&&void 0!==this.publicIpString&&(t.xE("publicIpString",n.Type.STRING,12),t.GE(this.publicIpString),t.VE()),null!==this.privateIpString&&void 0!==this.privateIpString&&(t.xE("privateIpString",n.Type.STRING,13),t.GE(this.privateIpString),t.VE()),null!==this.watchingQualityLevel&&void 0!==this.watchingQualityLevel&&(t.xE("watchingQualityLevel",n.Type.STRING,14),t.GE(this.watchingQualityLevel),t.VE()),null!==this.localityGroupId&&void 0!==this.localityGroupId&&(t.xE("localityGroupId",n.Type.I32,15),t.BE(this.localityGroupId),t.VE()),null!==this.isVpn&&void 0!==this.isVpn&&(t.xE("isVpn",n.Type.BOOL,16),t.Hw(this.isVpn),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.CustomerKey=function(t){this.partnerId=null,this.customerId=null,t&&(void 0!==t.partnerId&&null!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&null!==t.customerId&&(this.customerId=t.customerId))},i.services.protocol.tracker.CustomerKey.prototype={},i.services.protocol.tracker.CustomerKey.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.partnerId=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRING?this.customerId=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.CustomerKey.prototype.write=function(t){t.FE("CustomerKey"),null!==this.partnerId&&void 0!==this.partnerId&&(t.xE("partnerId",n.Type.STRING,1),t.GE(this.partnerId),t.VE()),null!==this.customerId&&void 0!==this.customerId&&(t.xE("customerId",n.Type.STRING,2),t.GE(this.customerId),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerAsQuery=function(t){this.asType=null,this.asn=null,t&&(void 0!==t.asType&&null!==t.asType&&(this.asType=t.asType),void 0!==t.asn&&null!==t.asn&&(this.asn=t.asn))},i.services.protocol.tracker.TrackerAsQuery.prototype={},i.services.protocol.tracker.TrackerAsQuery.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.asType=t.LE().value:t.PE(r);break;case 2:r==n.Type.I32?this.asn=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerAsQuery.prototype.write=function(t){t.FE("TrackerAsQuery"),null!==this.asType&&void 0!==this.asType&&(t.xE("asType",n.Type.I32,1),t.BE(this.asType),t.VE()),null!==this.asn&&void 0!==this.asn&&(t.xE("asn",n.Type.I32,2),t.BE(this.asn),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerBitrateQuery=function(t){this.bitrate=null,this.asn=null,this.streamState=null,t&&(void 0!==t.bitrate&&null!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.asn&&null!==t.asn&&(this.asn=t.asn),void 0!==t.streamState&&null!==t.streamState&&(this.streamState=t.streamState))},i.services.protocol.tracker.TrackerBitrateQuery.prototype={},i.services.protocol.tracker.TrackerBitrateQuery.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.I32?this.bitrate=t.LE().value:t.PE(r);break;case 2:r==n.Type.STRUCT?(this.asn=new i.services.protocol.tracker.TrackerAsQuery,this.asn.read(t)):t.PE(r);break;case 3:r==n.Type.I32?this.streamState=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerBitrateQuery.prototype.write=function(t){t.FE("TrackerBitrateQuery"),null!==this.bitrate&&void 0!==this.bitrate&&(t.xE("bitrate",n.Type.I32,1),t.BE(this.bitrate),t.VE()),null!==this.asn&&void 0!==this.asn&&(t.xE("asn",n.Type.STRUCT,2),this.asn.write(t),t.VE()),null!==this.streamState&&void 0!==this.streamState&&(t.xE("streamState",n.Type.I32,3),t.BE(this.streamState),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerQualityLevelQuery=function(t){this.qualityLevel=null,this.asn=null,this.streamState=null,t&&(void 0!==t.qualityLevel&&null!==t.qualityLevel&&(this.qualityLevel=t.qualityLevel),void 0!==t.asn&&null!==t.asn&&(this.asn=t.asn),void 0!==t.streamState&&null!==t.streamState&&(this.streamState=t.streamState))},i.services.protocol.tracker.TrackerQualityLevelQuery.prototype={},i.services.protocol.tracker.TrackerQualityLevelQuery.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.STRING?this.qualityLevel=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRUCT?(this.asn=new i.services.protocol.tracker.TrackerAsQuery,this.asn.read(t)):t.PE(r);break;case 3:r==n.Type.I32?this.streamState=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerQualityLevelQuery.prototype.write=function(t){t.FE("TrackerQualityLevelQuery"),null!==this.qualityLevel&&void 0!==this.qualityLevel&&(t.xE("qualityLevel",n.Type.STRING,1),t.GE(this.qualityLevel),t.VE()),null!==this.asn&&void 0!==this.asn&&(t.xE("asn",n.Type.STRUCT,2),this.asn.write(t),t.VE()),null!==this.streamState&&void 0!==this.streamState&&(t.xE("streamState",n.Type.I32,3),t.BE(this.streamState),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerRankQuery=function(t){this.rankType=null,this.asQuery=null,t&&(void 0!==t.rankType&&null!==t.rankType&&(this.rankType=t.rankType),void 0!==t.asQuery&&null!==t.asQuery&&(this.asQuery=t.asQuery))},i.services.protocol.tracker.TrackerRankQuery.prototype={},i.services.protocol.tracker.TrackerRankQuery.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.I32?this.rankType=t.LE().value:t.PE(r);break;case 2:r==n.Type.STRUCT?(this.asQuery=new i.services.protocol.tracker.TrackerAsQuery,this.asQuery.read(t)):t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerRankQuery.prototype.write=function(t){t.FE("TrackerRankQuery"),null!==this.rankType&&void 0!==this.rankType&&(t.xE("rankType",n.Type.I32,1),t.BE(this.rankType),t.VE()),null!==this.asQuery&&void 0!==this.asQuery&&(t.xE("asQuery",n.Type.STRUCT,2),this.asQuery.write(t),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerQuery=function(t){this.random=null,this.asns=null,this.watchers=null,this.streamers=null,this.rankings=null,this.watchersForQualityLevel=null,this.streamersForQualityLevel=null,t&&(void 0!==t.random&&null!==t.random&&(this.random=t.random),void 0!==t.asns&&null!==t.asns&&(this.asns=t.asns),void 0!==t.watchers&&null!==t.watchers&&(this.watchers=t.watchers),void 0!==t.streamers&&null!==t.streamers&&(this.streamers=t.streamers),void 0!==t.rankings&&null!==t.rankings&&(this.rankings=t.rankings),void 0!==t.watchersForQualityLevel&&null!==t.watchersForQualityLevel&&(this.watchersForQualityLevel=t.watchersForQualityLevel),void 0!==t.streamersForQualityLevel&&null!==t.streamersForQualityLevel&&(this.streamersForQualityLevel=t.streamersForQualityLevel))},i.services.protocol.tracker.TrackerQuery.prototype={},i.services.protocol.tracker.TrackerQuery.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.I32?this.random=t.LE().value:t.PE(r);break;case 2:if(r==n.Type.MAP){var o,a;this.asns={},(a=t.Kw()).$w,a.Xw,o=a.size;for(var l=0;l<o;++l){0<l&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var u,c=null;(c=new i.services.protocol.tracker.TrackerAsQuery).read(t),u=t.LE().value,this.asns[c]=u}t.Jw()}else t.PE(r);break;case 3:if(r==n.Type.MAP){var h,p;this.watchers={},(p=t.Kw()).$w,p.Xw,h=p.size;for(var f=0;f<h;++f){0<f&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var d,g=null;(g=new i.services.protocol.tracker.TrackerBitrateQuery).read(t),d=t.LE().value,this.watchers[g]=d}t.Jw()}else t.PE(r);break;case 4:if(r==n.Type.MAP){var v,m;this.streamers={},(m=t.Kw()).$w,m.Xw,v=m.size;for(var y=0;y<v;++y){0<y&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var b,E=null;(E=new i.services.protocol.tracker.TrackerBitrateQuery).read(t),b=t.LE().value,this.streamers[E]=b}t.Jw()}else t.PE(r);break;case 5:if(r==n.Type.LIST){var w,A;this.rankings=[],(A=t.Zw()).tp,w=A.size;for(var S=0;S<w;++S){var T;T=t.LE().value,this.rankings.push(T)}t.np()}else t.PE(r);break;case 6:if(r==n.Type.MAP){var I,P;this.watchersForQualityLevel={},(P=t.Kw()).$w,P.Xw,I=P.size;for(var k=0;k<I;++k){0<k&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var R,C=null;(C=new i.services.protocol.tracker.TrackerQualityLevelQuery).read(t),R=t.LE().value,this.watchersForQualityLevel[C]=R}t.Jw()}else t.PE(r);break;case 7:if(r==n.Type.MAP){var O,_;this.streamersForQualityLevel={},(_=t.Kw()).$w,_.Xw,O=_.size;for(var x=0;x<O;++x){0<x&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var L,N=null;(N=new i.services.protocol.tracker.TrackerQualityLevelQuery).read(t),L=t.LE().value,this.streamersForQualityLevel[N]=L}t.Jw()}else t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerQuery.prototype.write=function(t){if(t.FE("TrackerQuery"),null!==this.random&&void 0!==this.random&&(t.xE("random",n.Type.I32,1),t.BE(this.random),t.VE()),null!==this.asns&&void 0!==this.asns){for(var e in t.xE("asns",n.Type.MAP,2),t.kw(n.Type.STRUCT,n.Type.I32,n.wE(this.asns)),this.asns)if(this.asns.hasOwnProperty(e)){var r=this.asns[e];r.key.write(t),t.BE(r.value)}t.jw(),t.VE()}if(null!==this.watchers&&void 0!==this.watchers){for(var i in t.xE("watchers",n.Type.MAP,3),t.kw(n.Type.STRUCT,n.Type.I32,n.wE(this.watchers)),this.watchers)if(this.watchers.hasOwnProperty(i)){var s=this.watchers[i];s.key.write(t),t.BE(s.value)}t.jw(),t.VE()}if(null!==this.streamers&&void 0!==this.streamers){for(var o in t.xE("streamers",n.Type.MAP,4),t.kw(n.Type.STRUCT,n.Type.I32,n.wE(this.streamers)),this.streamers)if(this.streamers.hasOwnProperty(o)){var a=this.streamers[o];a.key.write(t),t.BE(a.value)}t.jw(),t.VE()}if(null!==this.rankings&&void 0!==this.rankings){for(var l in t.xE("rankings",n.Type.LIST,5),t.Mw(n.Type.I32,this.rankings.length),this.rankings)this.rankings.hasOwnProperty(l)&&(l=this.rankings[l],t.BE(l));t.Dw(),t.VE()}if(null!==this.watchersForQualityLevel&&void 0!==this.watchersForQualityLevel){for(var u in t.xE("watchersForQualityLevel",n.Type.MAP,6),t.kw(n.Type.STRUCT,n.Type.I32,n.wE(this.watchersForQualityLevel)),this.watchersForQualityLevel)if(this.watchersForQualityLevel.hasOwnProperty(u)){var c=this.watchersForQualityLevel[u];c.key.write(t),t.BE(c.value)}t.jw(),t.VE()}if(null!==this.streamersForQualityLevel&&void 0!==this.streamersForQualityLevel){for(var h in t.xE("streamersForQualityLevel",n.Type.MAP,7),t.kw(n.Type.STRUCT,n.Type.I32,n.wE(this.streamersForQualityLevel)),this.streamersForQualityLevel)if(this.streamersForQualityLevel.hasOwnProperty(h)){var p=this.streamersForQualityLevel[h];p.key.write(t),t.BE(p.value)}t.jw(),t.VE()}t.qE(),t.QE()},i.services.protocol.tracker.TrackerPeerRankingKey=function(t){this.rankType=null,this.internalAs=null,this.externalAs=null,t&&(void 0!==t.rankType&&null!==t.rankType&&(this.rankType=t.rankType),void 0!==t.internalAs&&null!==t.internalAs&&(this.internalAs=t.internalAs),void 0!==t.externalAs&&null!==t.externalAs&&(this.externalAs=t.externalAs))},i.services.protocol.tracker.TrackerPeerRankingKey.prototype={},i.services.protocol.tracker.TrackerPeerRankingKey.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.rankType=t.LE().value:t.PE(r);break;case 2:r==n.Type.I32?this.internalAs=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.externalAs=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerPeerRankingKey.prototype.write=function(t){t.FE("TrackerPeerRankingKey"),null!==this.rankType&&void 0!==this.rankType&&(t.xE("rankType",n.Type.I32,1),t.BE(this.rankType),t.VE()),null!==this.internalAs&&void 0!==this.internalAs&&(t.xE("internalAs",n.Type.I32,2),t.BE(this.internalAs),t.VE()),null!==this.externalAs&&void 0!==this.externalAs&&(t.xE("externalAs",n.Type.I32,3),t.BE(this.externalAs),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerPeerRanking=function(t){this.key=null,this.ranking=null,this.groupSize=null,this.cumulatedRankValue=null,this.totalOfRankValues=null,t&&(void 0!==t.key&&null!==t.key&&(this.key=t.key),void 0!==t.ranking&&null!==t.ranking&&(this.ranking=t.ranking),void 0!==t.groupSize&&null!==t.groupSize&&(this.groupSize=t.groupSize),void 0!==t.cumulatedRankValue&&null!==t.cumulatedRankValue&&(this.cumulatedRankValue=t.cumulatedRankValue),void 0!==t.totalOfRankValues&&null!==t.totalOfRankValues&&(this.totalOfRankValues=t.totalOfRankValues))},i.services.protocol.tracker.TrackerPeerRanking.prototype={},i.services.protocol.tracker.TrackerPeerRanking.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.STRUCT?(this.key=new i.services.protocol.tracker.TrackerPeerRankingKey,this.key.read(t)):t.PE(r);break;case 2:r==n.Type.I32?this.ranking=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.groupSize=t.LE().value:t.PE(r);break;case 4:r==n.Type.DOUBLE?this.cumulatedRankValue=t.ap().value:t.PE(r);break;case 5:r==n.Type.DOUBLE?this.totalOfRankValues=t.ap().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerPeerRanking.prototype.write=function(t){t.FE("TrackerPeerRanking"),null!==this.key&&void 0!==this.key&&(t.xE("key",n.Type.STRUCT,1),this.key.write(t),t.VE()),null!==this.ranking&&void 0!==this.ranking&&(t.xE("ranking",n.Type.I32,2),t.BE(this.ranking),t.VE()),null!==this.groupSize&&void 0!==this.groupSize&&(t.xE("groupSize",n.Type.I32,3),t.BE(this.groupSize),t.VE()),null!==this.cumulatedRankValue&&void 0!==this.cumulatedRankValue&&(t.xE("cumulatedRankValue",n.Type.DOUBLE,4),t.Gw(this.cumulatedRankValue),t.VE()),null!==this.totalOfRankValues&&void 0!==this.totalOfRankValues&&(t.xE("totalOfRankValues",n.Type.DOUBLE,5),t.Gw(this.totalOfRankValues),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerRequest=function(t){this.info=null,this.contentId=null,this.query=null,this.streamType=null,this.sessionId=null,this.customerKey=null,t&&(void 0!==t.info&&null!==t.info&&(this.info=t.info),void 0!==t.contentId&&null!==t.contentId&&(this.contentId=t.contentId),void 0!==t.query&&null!==t.query&&(this.query=t.query),void 0!==t.streamType&&null!==t.streamType&&(this.streamType=t.streamType),void 0!==t.sessionId&&null!==t.sessionId&&(this.sessionId=t.sessionId),void 0!==t.customerKey&&null!==t.customerKey&&(this.customerKey=t.customerKey))},i.services.protocol.tracker.TrackerRequest.prototype={},i.services.protocol.tracker.TrackerRequest.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.STRUCT?(this.info=new i.services.protocol.tracker.TrackerPeerInfo,this.info.read(t)):t.PE(r);break;case 2:r==n.Type.STRING?this.contentId=t.DE().value:t.PE(r);break;case 3:r==n.Type.STRUCT?(this.query=new i.services.protocol.tracker.TrackerQuery,this.query.read(t)):t.PE(r);break;case 4:r==n.Type.I32?this.streamType=t.LE().value:t.PE(r);break;case 5:r==n.Type.STRING?this.sessionId=t.DE().value:t.PE(r);break;case 6:r==n.Type.STRUCT?(this.customerKey=new i.services.protocol.tracker.CustomerKey,this.customerKey.read(t)):t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerRequest.prototype.write=function(t){t.FE("TrackerRequest"),null!==this.info&&void 0!==this.info&&(t.xE("info",n.Type.STRUCT,1),this.info.write(t),t.VE()),null!==this.contentId&&void 0!==this.contentId&&(t.xE("contentId",n.Type.STRING,2),t.GE(this.contentId),t.VE()),null!==this.query&&void 0!==this.query&&(t.xE("query",n.Type.STRUCT,3),this.query.write(t),t.VE()),null!==this.streamType&&void 0!==this.streamType&&(t.xE("streamType",n.Type.I32,4),t.BE(this.streamType),t.VE()),null!==this.sessionId&&void 0!==this.sessionId&&(t.xE("sessionId",n.Type.STRING,5),t.GE(this.sessionId),t.VE()),null!==this.customerKey&&void 0!==this.customerKey&&(t.xE("customerKey",n.Type.STRUCT,6),this.customerKey.write(t),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerResponse=function(t){this.infos=null,this.rankings=null,this.peerInfo=null,this.sessionId=null,t&&(void 0!==t.infos&&null!==t.infos&&(this.infos=t.infos),void 0!==t.rankings&&null!==t.rankings&&(this.rankings=t.rankings),void 0!==t.peerInfo&&null!==t.peerInfo&&(this.peerInfo=t.peerInfo),void 0!==t.sessionId&&null!==t.sessionId&&(this.sessionId=t.sessionId))},i.services.protocol.tracker.TrackerResponse.prototype={},i.services.protocol.tracker.TrackerResponse.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:if(r==n.Type.LIST){var o,a;this.infos=[],(a=t.Zw()).tp,o=a.size;for(var l=0;l<o;++l){var u=null;(u=new i.services.protocol.tracker.TrackerPeerInfo).read(t),this.infos.push(u)}t.np()}else t.PE(r);break;case 2:if(r==n.Type.LIST){var c,h;this.rankings=[],(h=t.Zw()).tp,c=h.size;for(var p=0;p<c;++p){var f=null;(f=new i.services.protocol.tracker.TrackerPeerRanking).read(t),this.rankings.push(f)}t.np()}else t.PE(r);break;case 3:r==n.Type.STRUCT?(this.peerInfo=new i.services.protocol.tracker.TrackerPeerInfo,this.peerInfo.read(t)):t.PE(r);break;case 4:r==n.Type.STRING?this.sessionId=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerResponse.prototype.write=function(t){if(t.FE("TrackerResponse"),null!==this.infos&&void 0!==this.infos){for(var e in t.xE("infos",n.Type.LIST,1),t.Mw(n.Type.STRUCT,this.infos.length),this.infos)this.infos.hasOwnProperty(e)&&(e=this.infos[e]).write(t);t.Dw(),t.VE()}if(null!==this.rankings&&void 0!==this.rankings){for(var r in t.xE("rankings",n.Type.LIST,2),t.Mw(n.Type.STRUCT,this.rankings.length),this.rankings)this.rankings.hasOwnProperty(r)&&(r=this.rankings[r]).write(t);t.Dw(),t.VE()}null!==this.peerInfo&&void 0!==this.peerInfo&&(t.xE("peerInfo",n.Type.STRUCT,3),this.peerInfo.write(t),t.VE()),null!==this.sessionId&&void 0!==this.sessionId&&(t.xE("sessionId",n.Type.STRING,4),t.GE(this.sessionId),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerStoreIndexKey=function(t){this.timestamp=null,this.contentId=null,this.asType=null,this.asn=null,this.bitrate=null,this.streamState=null,this.rankType=null,this.qualityLevel=null,t&&(void 0!==t.timestamp&&null!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.contentId&&null!==t.contentId&&(this.contentId=t.contentId),void 0!==t.asType&&null!==t.asType&&(this.asType=t.asType),void 0!==t.asn&&null!==t.asn&&(this.asn=t.asn),void 0!==t.bitrate&&null!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.streamState&&null!==t.streamState&&(this.streamState=t.streamState),void 0!==t.rankType&&null!==t.rankType&&(this.rankType=t.rankType),void 0!==t.qualityLevel&&null!==t.qualityLevel&&(this.qualityLevel=t.qualityLevel))},i.services.protocol.tracker.TrackerStoreIndexKey.prototype={},i.services.protocol.tracker.TrackerStoreIndexKey.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.timestamp=t.LE().value:t.PE(r);break;case 2:r==n.Type.STRING?this.contentId=t.DE().value:t.PE(r);break;case 3:r==n.Type.I32?this.asType=t.LE().value:t.PE(r);break;case 4:r==n.Type.I32?this.asn=t.LE().value:t.PE(r);break;case 5:r==n.Type.I32?this.bitrate=t.LE().value:t.PE(r);break;case 6:r==n.Type.I32?this.streamState=t.LE().value:t.PE(r);break;case 7:r==n.Type.I32?this.rankType=t.LE().value:t.PE(r);break;case 8:r==n.Type.STRING?this.qualityLevel=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerStoreIndexKey.prototype.write=function(t){t.FE("TrackerStoreIndexKey"),null!==this.timestamp&&void 0!==this.timestamp&&(t.xE("timestamp",n.Type.I32,1),t.BE(this.timestamp),t.VE()),null!==this.contentId&&void 0!==this.contentId&&(t.xE("contentId",n.Type.STRING,2),t.GE(this.contentId),t.VE()),null!==this.asType&&void 0!==this.asType&&(t.xE("asType",n.Type.I32,3),t.BE(this.asType),t.VE()),null!==this.asn&&void 0!==this.asn&&(t.xE("asn",n.Type.I32,4),t.BE(this.asn),t.VE()),null!==this.bitrate&&void 0!==this.bitrate&&(t.xE("bitrate",n.Type.I32,5),t.BE(this.bitrate),t.VE()),null!==this.streamState&&void 0!==this.streamState&&(t.xE("streamState",n.Type.I32,6),t.BE(this.streamState),t.VE()),null!==this.rankType&&void 0!==this.rankType&&(t.xE("rankType",n.Type.I32,7),t.BE(this.rankType),t.VE()),null!==this.qualityLevel&&void 0!==this.qualityLevel&&(t.xE("qualityLevel",n.Type.STRING,8),t.GE(this.qualityLevel),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerStoreRankPeer=function(t){this.guid=null,this.rank=null,this.key=null,t&&(void 0!==t.guid&&null!==t.guid&&(this.guid=t.guid),void 0!==t.rank&&null!==t.rank&&(this.rank=t.rank),void 0!==t.key&&null!==t.key&&(this.key=t.key))},i.services.protocol.tracker.TrackerStoreRankPeer.prototype={},i.services.protocol.tracker.TrackerStoreRankPeer.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.STRING?this.guid=t.fp().value:t.PE(r);break;case 2:r==n.Type.DOUBLE?this.rank=t.ap().value:t.PE(r);break;case 3:r==n.Type.STRUCT?(this.key=new i.services.protocol.tracker.TrackerPeerRankingKey,this.key.read(t)):t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerStoreRankPeer.prototype.write=function(t){t.FE("TrackerStoreRankPeer"),null!==this.guid&&void 0!==this.guid&&(t.xE("guid",n.Type.STRING,1),t.Vw(this.guid),t.VE()),null!==this.rank&&void 0!==this.rank&&(t.xE("rank",n.Type.DOUBLE,2),t.Gw(this.rank),t.VE()),null!==this.key&&void 0!==this.key&&(t.xE("key",n.Type.STRUCT,3),this.key.write(t),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerRequestQueueKey=function(t){this.guid=null,this.contentId=null,this.partner=null,this.customer=null,t&&(void 0!==t.guid&&null!==t.guid&&(this.guid=t.guid),void 0!==t.contentId&&null!==t.contentId&&(this.contentId=t.contentId),void 0!==t.partner&&null!==t.partner&&(this.partner=t.partner),void 0!==t.customer&&null!==t.customer&&(this.customer=t.customer))},i.services.protocol.tracker.TrackerRequestQueueKey.prototype={},i.services.protocol.tracker.TrackerRequestQueueKey.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.guid=t.fp().value:t.PE(r);break;case 2:r==n.Type.STRING?this.contentId=t.DE().value:t.PE(r);break;case 3:r==n.Type.STRING?this.partner=t.DE().value:t.PE(r);break;case 4:r==n.Type.STRING?this.customer=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerRequestQueueKey.prototype.write=function(t){t.FE("TrackerRequestQueueKey"),null!==this.guid&&void 0!==this.guid&&(t.xE("guid",n.Type.STRING,1),t.Vw(this.guid),t.VE()),null!==this.contentId&&void 0!==this.contentId&&(t.xE("contentId",n.Type.STRING,2),t.GE(this.contentId),t.VE()),null!==this.partner&&void 0!==this.partner&&(t.xE("partner",n.Type.STRING,3),t.GE(this.partner),t.VE()),null!==this.customer&&void 0!==this.customer&&(t.xE("customer",n.Type.STRING,4),t.GE(this.customer),t.VE()),t.qE(),t.QE()},i.services.protocol.tracker.TrackerRequestQueueMessage=function(t){this.timestamp=null,this.request=null,this.response=null,this.guid=null,this.contentId=null,this.partner=null,this.customer=null,t&&(void 0!==t.timestamp&&null!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.request&&null!==t.request&&(this.request=t.request),void 0!==t.response&&null!==t.response&&(this.response=t.response),void 0!==t.guid&&null!==t.guid&&(this.guid=t.guid),void 0!==t.contentId&&null!==t.contentId&&(this.contentId=t.contentId),void 0!==t.partner&&null!==t.partner&&(this.partner=t.partner),void 0!==t.customer&&null!==t.customer&&(this.customer=t.customer))},i.services.protocol.tracker.TrackerRequestQueueMessage.prototype={},i.services.protocol.tracker.TrackerRequestQueueMessage.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.I64?this.timestamp=t.up().value:t.PE(r);break;case 2:r==n.Type.STRUCT?(this.request=new i.services.protocol.tracker.TrackerRequest,this.request.read(t)):t.PE(r);break;case 3:r==n.Type.STRUCT?(this.response=new i.services.protocol.tracker.TrackerResponse,this.response.read(t)):t.PE(r);break;case 4:r==n.Type.STRING?this.guid=t.fp().value:t.PE(r);break;case 5:r==n.Type.STRING?this.contentId=t.DE().value:t.PE(r);break;case 6:r==n.Type.STRING?this.partner=t.DE().value:t.PE(r);break;case 7:r==n.Type.STRING?this.customer=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.services.protocol.tracker.TrackerRequestQueueMessage.prototype.write=function(t){t.FE("TrackerRequestQueueMessage"),null!==this.timestamp&&void 0!==this.timestamp&&(t.xE("timestamp",n.Type.I64,1),t.xw(this.timestamp),t.VE()),null!==this.request&&void 0!==this.request&&(t.xE("request",n.Type.STRUCT,2),this.request.write(t),t.VE()),null!==this.response&&void 0!==this.response&&(t.xE("response",n.Type.STRUCT,3),this.response.write(t),t.VE()),null!==this.guid&&void 0!==this.guid&&(t.xE("guid",n.Type.STRING,4),t.Vw(this.guid),t.VE()),null!==this.contentId&&void 0!==this.contentId&&(t.xE("contentId",n.Type.STRING,5),t.GE(this.contentId),t.VE()),null!==this.partner&&void 0!==this.partner&&(t.xE("partner",n.Type.STRING,6),t.GE(this.partner),t.VE()),null!==this.customer&&void 0!==this.customer&&(t.xE("customer",n.Type.STRING,7),t.GE(this.customer),t.VE()),t.qE(),t.QE()}},function(t,e,r){t.exports=function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(t){return i(e[o][1][t]||t)}),u,u.exports,t,e,r,n)}return r[o].exports}for(var s=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){var n=t("./kernel");r.V=n.V;var i=t("./type_binding");r.WS=i.WS;var s=t("./type_binding_scope");r.YS=s.YS},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(t,e,r){var n=t("./type_binding_scope"),i=t("./lookup"),s=function(){function t(){this.zS=new i.KS}return t.prototype.bind=function(t){this.zS.add(t.$S,t)},t.prototype.XS=function(t){try{this.zS.remove(t)}catch(e){throw new Error("Could not resolve service "+t)}},t.prototype.G=function(){this.zS=new i.KS},t.prototype.resolve=function(t){if(!this.zS.JS(t))return null;var e=this.zS.get(t)[0];if(e.scope===n.YS.ZS&&null!==e.nw)return e.nw;var r=this.tA(e.iA);return e.nw=r},t.prototype.nA=function(t){var e,r,n,i,s,o;return s=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g,r=(e=t.toString().replace(s,"")).indexOf("(")+1,n=e.indexOf(")"),null===(i="function"==typeof Map&&-1!==e.indexOf("class")&&-1===e.indexOf("constructor")?null:e.slice(r,n).match(o))&&(i=[]),i},t.prototype.tA=function(t){var e=this.nA(t);if(0===e.length)return new t;for(var r=[],n=null,i=0;i<e.length;i++){var s=e[i];n=this.resolve(s),r.push(n)}return this.rA(t,r)},t.prototype.rA=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},t}();r.V=s},{"./lookup":3,"./type_binding_scope":5}],3:[function(t,e,r){var n=function(t,e){this.key=t,this.value=new Array,this.value.push(e)},i=function(){function t(){this.sA=new Array}return t.prototype.eA=function(t){for(var e=-1,r=0;r<this.sA.length;r++)this.sA[r].key===t&&(e=r);return e},t.prototype.add=function(t,e){if(null==t)throw new Error("Argument Null");if(null==e)throw new Error("Argument Null");var r=this.eA(t);if(-1!==r){var i=this.sA[r];i.key===t&&i.value.push(e)}else this.sA.push(new n(t,e))},t.prototype.get=function(t){if(null==t)throw new Error("Argument Null");var e=this.eA(t);if(-1===e)throw new Error("Key Not Found");var r=this.sA[e];return r.key===t?r.value:void 0},t.prototype.remove=function(t){if(null==t)throw new Error("Argument Null");var e=this.eA(t);if(-1===e)throw new Error("Key Not Found");this.sA.splice(e,1)},t.prototype.JS=function(t){if(null==t)throw new Error("Argument Null");return-1!==this.eA(t)},t}();r.KS=i},{}],4:[function(t,e,r){var n=t("./type_binding_scope");r.WS=function(t,e,r){if(this.$S=t,this.iA=e,this.nw=null,void 0===r)this.scope=n.YS.hA;else{if(!n.YS[r])throw new Error("Invalid scope type "+r);this.scope=r}}},{"./type_binding_scope":5}],5:[function(t,e,r){var n;!function(t){t[t.hA=0]="Transient",t[t.ZS=1]="Singleton"}(n=n||{}),r.YS=n},{}]},{},[1])(1)},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.sc=void 0;var n=r(157),i=(s.J_=function(t,e,r){return this.rc(t,e,r)||-1!=t.indexOf(s.Z_)},s.rc=function(t,e,r){var n=-1!=t.toLowerCase().indexOf(s.tR.toLowerCase())||null!=s.oA.exec(t);if(r){if(r.test(t))return!0;!n&&e&&e.warn(this.loggerId+"Context matcher set to "+r+" failed against "+t)}return n},s.sR=function(t,e,r){return new n.uA(t,e,r)},s.loggerId="[HLS] ",s.aA=1,s.fA=2,s.cA=3e4,s.lA=4e3,s.vA=500,s.dA=!0,s.EA=1e4,s.wA=16,s.pA=3,s.tR=".m3u8",s.oA=/format(?:=|%3D)m3u8-aapl/i,s.Z_=".ts",s);function s(){}e.sc=i},function(t,e,r){"use strict";var n,i,s,o;Object.defineProperty(e,"s",{value:!0}),e.HivePluginReference=e.gA=e.MainStatusCode=e.bA=e.HiveTechError=e.HiveSessionError=e.HiveSessionErrorCode=e.HiveSession=e.HivePartnerStats=e.HiveClientStats=void 0,e.HiveClientStats=function(){this.savings=0,this.cdnRequests=0,this.cdnResponses=0,this.cdnResponseErrors=0,this.cdnResponseBytes=0,this.p2pRequests=0,this.p2pResponses=0,this.p2pResponseErrors=0,this.p2pResponseBytes=0,this.p2pPartnerTotalSentBytes=0,this.partners={}},e.HivePartnerStats=function(){this.uuid="",this.sentBytes=0,this.receivedBytes=0,this.successTransfers=0,this.failedTransfers=0,this.rateReceived=0,this.lastUpdated=0},e.HiveSession=function(){},(i=n=e.HiveSessionErrorCode||(e.HiveSessionErrorCode={}))[i.GENERIC_ERROR=0]="GENERIC_ERROR",i[i.NO_TECH_AVAILABLE=1]="NO_TECH_AVAILABLE",i[i.NO_TECH_RESOLVED=2]="NO_TECH_RESOLVED",i[i.TECH_ERROR=3]="TECH_ERROR",i[i.TICKET_ERROR=4]="TICKET_ERROR",(o=s=s||{})[o["Generic Undefined Error"]=0]="Generic Undefined Error",o[o["No Tech available to resolve the ticket"]=1]="No Tech available to resolve the ticket",o[o["No available Tech could resolved the ticket"]=2]="No available Tech could resolved the ticket",o[o["Stopped resolving session on last tech onError"]=3]="Stopped resolving session on last tech onError",o[o["The ticket could not be resolved"]=4]="The ticket could not be resolved";var a,l,u,c=(h.getHiveSessionErrorMessage=function(t){return s[t]},h.getHiveSessionError=function(t,e,r){var n=new h;return n.ticketUrl=t,n.code=e,n.message=h.getHiveSessionErrorMessage(e),n.detailedMessage=r,n},h.HiveSessionErrorCode=n,h);function h(){}e.HiveSessionError=c,e.HiveTechError=function(t,e){this.code=t,this.message=e},(a=e.bA||(e.bA={}))[a.NOT_READY=0]="NOT_READY",a[a.PLUGIN_ERROR=1]="PLUGIN_ERROR",a[a.SESSION_ERROR=2]="SESSION_ERROR",a[a.TICKET_ERROR=3]="TICKET_ERROR",a[a.VERSION_ERROR=4]="VERSION_ERROR",a[a.TIMEOUT_ERROR=5]="TIMEOUT_ERROR",(u=l=e.MainStatusCode||(e.MainStatusCode={}))[u.OK=0]="OK",u[u.HIVE_NOT_ALLOWED=1]="HIVE_NOT_ALLOWED",u[u.TICKET_NOT_RESOLVED=2]="TICKET_NOT_RESOLVED",u[u.TIMEOUT_RESOLVING_TICKET=3]="TIMEOUT_RESOLVING_TICKET",e.gA=function(t){switch(t){case l.OK:return"OK";case l.HIVE_NOT_ALLOWED:return"HIVE_NOT_ALLOWED";case l.TICKET_NOT_RESOLVED:return"TICKET_NOT_RESOLVED";case l.TIMEOUT_RESOLVING_TICKET:return"TIMEOUT_RESOLVING_TICKET";default:return}};var p=(f.prototype.getPluginStatusCode=function(){return this.hivePlugin.getStatusCode()},f);function f(t){this.hivePlugin=t}e.HivePluginReference=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.yA=e.TA=void 0;var n,i,s=r(44),o=r(3);(i=n=e.TA||(e.TA={}))[i.off=0]="off",i[i.error=1]="error",i[i.warn=2]="warn",i[i.notice=3]="notice",i[i.info=4]="info",i[i.debug=5]="debug",i[i.trace=6]="trace";var a=(l.prototype.mA=function(t,e){s.HiveConfig.Framework.HiveDebugLevel&&null!=n[s.HiveConfig.Framework.HiveDebugLevel]?this.level=n[s.HiveConfig.Framework.HiveDebugLevel]:null!=n[t]?this.level=n[t]:console.log("Wrong logging level: "+t,n),this.OA(e)},l.prototype.OA=function(t){var e={log:this.IA(this.logger.log,n.error,t),error:this.IA(this.logger.error,n.error,t),warn:this.IA(this.logger.warn,n.warn,t),notice:this.IA(this.logger.info,n.notice,t),info:this.IA(this.logger.info,n.info,t),debug:this.IA(this.logger.debug,n.debug,t),trace:this.IA(this.logger.trace,n.trace,t)};t?this._A.set(t,e):this.RA=e},l.prototype.IA=function(t,e,r){if(!(this.level>=e))return function(){};try{return s.HiveConfig.Framework.LoggerTimestamp?r?Function.prototype.bind.call(t,console,"S["+r+"] %s",this.timestamp):Function.prototype.bind.call(t,console,"%s",this.timestamp):r?Function.prototype.bind.call(t,console,"S["+r+"]"):Function.prototype.bind.call(t,console)}catch(t){}},l.prototype.log=function(t){return t?(this._A.has(t)||this.mA(n[this.level],t),this._A.get(t)):this.RA},l);function l(){this.timestamp=function(){},this._A=new o,this.level=n.debug,this.timestamp.toString=function(){var t=new Date;return"["+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)+":"+("00"+t.getUTCMilliseconds()).slice(-3)+"]"},this.logger="undefined"==typeof console?{log:function(){}}:console,this.logger.trace||(this.logger.trace=this.logger.log),this.logger.debug||(this.logger.debug=this.logger.log),this.logger.info||(this.logger.info=this.logger.log),this.logger.warn||(this.logger.warn=this.logger.log),this.logger.error||(this.logger.error=this.logger.log),this.mA(n[this.level])}e.yA=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.SA=void 0;var n=r(7),i=r(21),s=(o.AA=function(t){return new o(t.NA,t.CA,!0,t.id,t.duration.ms(),t.qualityLevel,!0)},o.prototype.nS=function(){return this.kA},o.prototype.jA=function(){return this.MA},o.prototype.getDuration=function(){return this.duration},o.prototype.getQualityLevel=function(){return this.qualityLevel},o.prototype.fS=function(){return this.DA},o.prototype.PA=function(){return this.LA},o.prototype.sS=function(){return this.HA},o.prototype.uS=function(){return this.url},o.prototype.toString=function(){return n.af[this.nS()]+"-"+this.sS()},o);function o(t,e,r,n,s,o,a,l){var u=(l||t).replace(/http(s)?:\/\//,""),c=i.Bl.xg(u).toString(i.Bl.gg.bg);this.url=t,this.kA=e,this.LA=r,this.MA=n,this.duration=s,this.qualityLevel=o,this.DA=a,this.HA=[c,n,o?o.id:null].join("-")}e.SA=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.UA=void 0;var n=(i.getInstance=function(){return this.instance||(this.instance=new i),this.instance},i.prototype.register=function(t,e,r){r=r||t.getPluginId();var n=this.FA(r);n.plugin=t,e&&n.sessions.push(e)},i.prototype.unregister=function(t,e){var r=t.getPluginId(),n=this.FA(r),i=n.sessions.length;n.plugin?i?(n.sessions=n.sessions.filter((function(t){return t.id!==e.id})),i===n.sessions.length?t.logger().warn(this.loggerId+" Attempt to unregister a not found session (pluginId = "+r+", sessionId = "+e.id+")"):t.logger().debug(this.loggerId+" Unregistered session (pluginId = "+r+", sessionId = "+e.id+")")):t.logger().warn(this.loggerId+" Attempt to unregister a session for plugin with no sessions (pluginId = "+r+", sessionId = "+e.id+")"):console.log(this.loggerId+" Attempt to unregister session with no comm (pluginId = "+r+", sessionId = "+e.id+")")},i.prototype.clear=function(){this.store={}},i.prototype.FA=function(t){var e=this.store[t];return e||(e={plugin:null,sessions:[]},this.store[t]=e),e},i.prototype.xA=function(){var t=Object.keys(this.store);if(!t.length)return null;var e=this.store[t[0]].plugin;return e?e.getPluginId():null},i.prototype.GA=function(t){return this.FA(t).plugin},i.prototype.VA=function(t){return this.FA(t).sessions},i);function i(){this.loggerId="[SessionRegistry] ",this.store={}}e.UA=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.BA=e.StreamLiveChecker=e.qA=e.QA=e.UA=e.PlayerEvents=e.UrlConfigurableOptions=e.Ticket=e.WA=e.StatsJS=e.Options=e.MainStatusCode=e.K=e.YA=e.zA=e.HiveSessionInternal=e.HiveSessionErrorCode=e.HiveSessionError=e.HiveSession=e.HiveRequestFactory=e.HivePluginReference=e.BasicUtils=e.logError=e.KA=e.Plugin=void 0;var n=r(57),i=r(5),s=r(3),o=r(132);Object.defineProperty(e,"zA",{enumerable:!0,get:function(){return o.zA}});var a=r(160);Object.defineProperty(e,"YA",{enumerable:!0,get:function(){return a.zA}});var l=r(0),u=r(26);Object.defineProperty(e,"Options",{enumerable:!0,get:function(){return u.Options}}),Object.defineProperty(e,"UrlConfigurableOptions",{enumerable:!0,get:function(){return u.UrlConfigurableOptions}});var c=r(47);Object.defineProperty(e,"WA",{enumerable:!0,get:function(){return c.WA}});var h=r(31);Object.defineProperty(e,"HiveSession",{enumerable:!0,get:function(){return h.HiveSession}}),Object.defineProperty(e,"HivePluginReference",{enumerable:!0,get:function(){return h.HivePluginReference}}),Object.defineProperty(e,"HiveSessionError",{enumerable:!0,get:function(){return h.HiveSessionError}}),Object.defineProperty(e,"HiveSessionErrorCode",{enumerable:!0,get:function(){return h.HiveSessionErrorCode}}),Object.defineProperty(e,"MainStatusCode",{enumerable:!0,get:function(){return h.MainStatusCode}});var p=r(44),f=r(48);Object.defineProperty(e,"HiveRequestFactory",{enumerable:!0,get:function(){return f.HiveRequestFactory}});var d=r(161),g=r(88),v=r(162),m=r(163);Object.defineProperty(e,"StreamLiveChecker",{enumerable:!0,get:function(){return m.StreamLiveChecker}});var y=r(164),b=r(49);Object.defineProperty(e,"HiveSessionInternal",{enumerable:!0,get:function(){return b.HiveSessionInternal}});var E=r(9);e.BasicUtils=E;var w=r(9),A=r(165),S=r(22);Object.defineProperty(e,"PlayerEvents",{enumerable:!0,get:function(){return S.PlayerEvents}});var T=r(170),I=r(172),P=r(66);Object.defineProperty(e,"StatsJS",{enumerable:!0,get:function(){return P.StatsJS}});var k=r(65),R=r(1),C=r(2),O=r(191);Object.defineProperty(e,"BA",{enumerable:!0,get:function(){return O.BA}});var _=r(51);Object.defineProperty(e,"Ticket",{enumerable:!0,get:function(){return _.Ticket}});var x=r(45),L=r(15),N=r(34);Object.defineProperty(e,"UA",{enumerable:!0,get:function(){return N.UA}});var D=r(8);Object.defineProperty(e,"K",{enumerable:!0,get:function(){return D.K}});var M=r(192);Object.defineProperty(e,"QA",{enumerable:!0,get:function(){return M.QA}});var B,j,F=r(4),U=r(193),H=D.K.pf,q=D.K.wf,V=D.K.yf,G=D.K.Ef,z=D.K.df,W=D.K.Tf;z&&r(10).HiveConfig,(j=B=B||{}).HTML5="html5",j.NATIVE="native_hls",j.FLASH="flash",e.qA=B;var X=(Q.prototype.options=function(){return this.options_},Q.prototype.logger=function(){return this.activeSession?this.logger_.log(this.activeSession.id):this.logger_.log()},Q.prototype.getManifestUrl=function(){return this.manifestUrl},Q.prototype.setManifestUrl=function(t){this.manifestUrl=t},Q.prototype.loggerLevel=function(t){if("string"==typeof t&&this.logger_.mA(t),this.logger)return this.logger_.level},Q.prototype.getPluginId=function(){return this.pluginId},Q.prototype.getPluginId4Java=function(){return this.pluginId4Java},Q.prototype.getCoreVersion=function(){return H},Q.prototype.getWebRTCVersion=function(){if(z)return q},Q.prototype.updateCommsForInitSessions=function(){for(var t=0,e=this.initializedSessions;t<e.length;t++){var r=e[t];r.tech.setPlugin(this),"HiveJS"===r.tech.getName()&&r.tech.$A&&r.tech.$A.setPlugin(this)}},Q.prototype.validateHiveTechs=function(t){var e=new P.StatsJS(this,t);if(this.hiveTechs.set(P.StatsJS.XA,e),z){var n=r(194).HiveJS;this.hiveTechs.set(n.XA,new n(this,t,e))}if(G){var i=r(260).HiveJava;this.hiveTechs.set(i.XA,new i(this,t))}var s=t.hiveTechOrder;if(!s||s instanceof Array)if(s&&0<s.length){for(var o=s.length;o--;){var a=s[o];"string"!=typeof a||-1==this.defaultHiveTechOrder.indexOf(a)?(console.warn(this.loggerId+'The "'+a+'" Hive tech is undefined'),s.splice(o,1)):"string"==typeof a&&this.hiveTechs.has(a)||console.warn(this.loggerId+'The "'+a+'" Hive tech is not enabled on this plugin')}this.newOptionsTechOrder=s}else s=this.defaultHiveTechOrder;else console.warn(this.loggerId+"hiveTechOrder value not accepted. It must be an array of strings"),s=this.defaultHiveTechOrder;t.hiveTechOrder=s},Q.prototype.newSession=function(t){var r=this;return"string"==typeof t?this.resolveTicketPromise(t).timeout(this.options().pluginTimeout).catch((function(t){throw Z("Error resolving ticket promise",r.loggerId,e.KA.ce,t),t})):this.resolveJWTPromise(t).timeout(this.options().pluginTimeout).catch((function(t){throw Z("Error resolving JWT promise",r.loggerId,e.KA.Te,t),t}))},Q.prototype.resolveJWTPromise=function(t){var e=t.manifest,r=t.jwt,n=t.videoId,i=t.endpoint;return this.authenticate([{manifests:[e],jwt:r,videoId:n,endpoint:i}]).then((function(t){return t[0]}))},Q.prototype.resolveTicketPromise=function(t){var e=this;this.initStepTimers.start([S.$O.fI,S.$O.cI]),this.logger().notice(this.loggerId+"resolving "+t);var r=i.defer();if(!t)return r.reject(h.HiveSessionError.getHiveSessionError("",h.HiveSessionErrorCode.TICKET_ERROR,"No ticket provided.")),r.promise;this.extractErrorMonitorTags(t);var n=this.getOrderedTechs().values();0==n.length&&(R.ErrorMonitor.getInstance().logError("Error initializing all Techs",this.loggerId,C.gt.le),r.reject(h.HiveSessionError.getHiveSessionError(t,h.HiveSessionErrorCode.NO_TECH_AVAILABLE)));var s,o,a=!1,l=!1,u=0,c=null;return w.Kf((function(){return!a&&!l&&u<n.length&&!s}),(function(){e.initStepTimers.reset();var r=n[u++];return r.resetTech(),(r.needsReportingInstance()&&!o?(e.initStepTimers.start(S.$O.eI),e.verifyTicket(t,e.options().testId)):i.resolve(null)).then((function(n){e.initStepTimers.stop(S.$O.eI),null!=n&&(o=n).G_(e.options().reportingThreshold);var s=r.getInitSessionTimeout();return e.initStepTimers.start(S.$O.hI),r.initSession(t,o).timeout(s,"["+r.getName()+"] Error: initialization timed out after "+s+"ms").then((function(t){e.initStepTimers.stop(S.$O.hI),c=t,e.onInitializeSession(c,r),a=!0,!r.needsReportingInstance()&&o&&o.r_.reset(),R.ErrorMonitor.getInstance().et({sessionId:c.id}),t.notifyStateChange(b.JA.INITIALIZED),e.logger().notice(e.loggerId+"initializing Session:["+c.id+"] Ticket:"+c.ticket.toString()+" HiveTech:["+c.tech.getName()+"]"),i.resolve(!0)}),(function(n){(n=e.handleTechError(n,r)).ticketUrl=t,l=!r.onError(n),e.logger().debug(e.loggerId+"tech "+r.getName()+": "+n.message),i.resolve(!0)}))}),(function(t){s=t,i.resolve(!0)}))})).then((function(){s?r.reject(h.HiveSessionError.getHiveSessionError(t,h.HiveSessionErrorCode.TICKET_ERROR,s)):l?r.reject(h.HiveSessionError.getHiveSessionError(t,h.HiveSessionErrorCode.TECH_ERROR)):a?(e.initStepTimers.stop(S.$O.fI),r.resolve(c)):(R.ErrorMonitor.getInstance().logError("Error initializing all Techs",e.loggerId,C.gt.le),r.reject(h.HiveSessionError.getHiveSessionError(t,h.HiveSessionErrorCode.NO_TECH_AVAILABLE)))})).catch((function(n){var i,s=""+(null!==(i=n.message)&&void 0!==i?i:"string"==typeof n?n:"no details");R.ErrorMonitor.getInstance().logError("Error resolving ticket promise: "+s,e.loggerId,C.gt.ce,n),r.reject(h.HiveSessionError.getHiveSessionError(t,h.HiveSessionErrorCode.GENERIC_ERROR,n.toString()))})).done(),r.promise},Q.prototype.authenticate=function(t){var e,n,s,o=this;if(this.initStepTimers.start([S.$O.fI,S.$O.cI]),!this.validateTokens(t))return i.reject(O.BA.ZA("C_INVALID_DATA","There are missing data in among the videoId, JWT or manifest lists"));if("stream"===D.K.gf)s=D.K.If?L.Wc.tl:L.Wc.il;else try{var a=null!==(n=null===(e=t[0].endpoint)||void 0===e?void 0:e.toLowerCase())&&void 0!==n?n:D.K.If?"test":"prod";if(("dev"===a||"test"==a)&&!D.K.If)throw new Error("Error trying to resolve "+a+" JWT against production services");switch(a){case"dev":s=L.Wc.nl;break;case"test":s=L.Wc.rl;break;case"prod":s=L.Wc.sl;break;default:throw new Error("Invalid endpoint: "+a)}}catch(e){return this.logger().warn(""+this.loggerId+e.message),i.reject(O.BA.ZA("C_INVALID_DATA",e.message))}var l=(new Date).getTime();this.initStepTimers.start(S.$O.rI);var u=JSON.stringify(t.map((function(t){return{jwt:t.jwt,manifests:t.manifests,videoId:t.videoId}})));return(0,r(9).Wf)(s,u).then((function(e){o.initStepTimers.stop(S.$O.rI,!0);var r=JSON.parse(e);if(o.logger().debug("Response: ",r),0===r.validated.length&&0<r.failed.length){var n=r.failed[0],s=n.code,a=n.description;return i.reject(O.BA.ZA(s,a))}r.techs?(o.newOptionsTechOrder&&o.logger().warn("JWT validation has provided license of ["+r.techs.join(", ")+"], ignoring plugin tech order of ["+o.newOptionsTechOrder.join(", ")+"]"),o.options().hiveTechOrder=r.techs):o.logger().info("JWT validation did not provide license, using plugin tech order of ["+o.options().hiveTechOrder.join(", ")+"]"),o.eventName=r.eventName;var u=i.defer(),c=o.getOrderedTechs().values(),p=!1,f=0,d=[];return w.Kf((function(){return 0<d.length?(o.initStepTimers.stop(S.$O.fI),u.resolve(d),!1):!p&&f<c.length?(o.initStepTimers.reset(),!0):(R.ErrorMonitor.getInstance().logError("Error initializing all Techs",o.loggerId,C.gt.le),u.reject(O.BA.ZA("C_"+h.HiveSessionErrorCode[h.HiveSessionErrorCode.NO_TECH_AVAILABLE],"No Tech successfully initialized")),!1)}),(function(){var e=c[f++];return e.resetTech(),i.allSettled(r.validated.map((function(n){var s=n.videoId;if(0===t.filter((function(t){return t.videoId===s})).length)return R.ErrorMonitor.getInstance().logError("No Token found for the specific videoId",o.loggerId,C.gt.ve,{videoId:s}),i.reject(!1);var a=n.manifests;return o.logger().debug("Manifests: ",a),i.allSettled(a.map((function(t){var n,a=e.getInitSessionTimeout();if(e.needsReportingInstance()){o.initStepTimers.start(S.$O.eI);var u=_.Ticket.tN(r.partnerId,r.customerId,r.validated[0].videoId);u.setManifestUrl(t.uri),u.v_=l,u.d_=(new Date).getTime(),n=k.default.getInstance().initSession(o.pluginId,u,!1,"",r.connectionEndpoint)}else n=i.resolve(null);return o.initStepTimers.start(S.$O.hI),n.then((function(n){return o.initStepTimers.stop(S.$O.eI),n&&(o.updateIntegrationInfo(n),n.G_(o.options().reportingThreshold)),e.initSession(r.ticketEndpoint+"/"+t.jwt,n).timeout(a).then((function(i){return o.onInitializeSession(i,e),p=!0,"HiveJava"===e.getName()&&i.ticket.iN(r.partnerId,r.customerId,s),!e.needsReportingInstance()&&n&&n.r_.reset(),R.ErrorMonitor.getInstance().et({sessionId:i.id}),o.logger().notice(o.loggerId+"initializing Session:["+i.id+"] Ticket:"+i.ticket.toString()+" HiveTech:["+i.tech.getName()+"]"),i.ticket.originalManifest=t.uri,o.initStepTimers.stop(S.$O.hI),i}))})).fail((function(t){return t=o.handleTechError(t,e),i.reject(t)}))}))).then((function(t){return o.extractResolved(t,!1)}))}))).then((function(t){var e=o.extractResolved(t,[],!1);e instanceof Array&&(d=e)}))})).done(),u.promise})).fail((function(t){try{var e="string"==typeof t.reason?O.BA.ZA(t.reason):t;return o.logger().debug("Authentication Failed",e),i.reject(e)}catch(t){o.logger().warn("Error parsing JWT Auth Error exception",t)}return i.reject(t)}))},Q.prototype.handleTechError=function(t,e){return this.logger().debug(this.loggerId+" init Session failed:",t.message),t instanceof Error&&(t=new h.HiveTechError(h.bA.TIMEOUT_ERROR,t.message),e.onTechTimeout(t)),this.logger().debug(this.loggerId+"tech "+e.getName()+": "+t.message),this.initStepTimers.stop(S.$O.hI,!1,S.$O.oI),t},Q.prototype.validateTokens=function(t){return 0!==t.length&&t.every((function(t,e,r){return t.jwt&&t.videoId&&0<t.manifests.length}))},Q.prototype.extractResolved=function(t,e,r){void 0===r&&(r=!0);for(var n=[],s=0,o=t;s<o.length;s++){var a=o[s];"fulfilled"===a.state&&(r?n.push(a.value):n=n.concat(a.value))}return 0<n.length?n:i.reject(e)},Q.prototype.verifyTicket=function(t,e){var r=this;return this.initStepTimers.start(S.$O.sI),k.default.getInstance().initSession(this.pluginId,t,!1,e).then((function(e){return r.initStepTimers.stop(S.$O.sI),r.logger().debug(r.loggerId+"verified ticket "+t),r.updateIntegrationInfo(e),e})).catch((function(t){var e;return i.reject("Ticket not verified, error: "+(null!==(e=t.message)&&void 0!==e?e:"string"==typeof t?t:"no details"))}))},Q.prototype.getOrderedTechs=function(){for(var t=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),e=new s,r=0,n=t;r<n.length;r++){var i=n[r];this.hiveTechs.has(i)&&e.set(i,this.hiveTechs.get(i))}return e},Q.prototype.extractErrorMonitorTags=function(t){var e=R.ErrorMonitor.getInstance();try{var r=_.Ticket.nN(t);r.LI()&&r.HI()&&r.rN()?e.setTags([r.LI(),r.HI(),r.rN()]):e.logError("Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId",this.loggerId,C.gt.de,{partnerId:r.LI(),customerId:r.HI(),contentId:r.rN()})}catch(t){this.logger().warn(this.loggerId+" "+t.message,t),e.notify(t)}},Q.prototype.updateIntegrationInfo=function(t){t.r_.updateIntegrationInfo(this.getIntegrationInfo())},Q.prototype.getIntegrationInfo=function(){return{playerName:this.getPlayerName(),playerVersion:this.getPlayerVersion(),playerTech:this.getPlayerTech(),pluginName:this.getPluginName(),pluginVersion:this.getPluginVersion(),coreVersion:this.getCoreVersion(),webRTCVersion:this.getWebRTCVersion(),consumptionApp:this.getConsumptionApp(),telemetryId:this.getTelemetryId(),eventName:this.getEventName()}},Q.prototype.addTechEvent=function(t){this.activeSession&&this.activeSession.tech?(t.sessionId=this.activeSession.id,this.activeSession.tech.handleTechEvent(this.activeSession,t)):this.techEvents.push(t)},Q.prototype.flushTechEvents=function(){var t=this.techEvents;return this.techEvents=new Array,t},Q.prototype.beforeUnloadClose=function(){this.destroyHivePlugin()},Q.prototype.registerCloseSession=function(){var t=window;this.beforeUnloadClose=this.beforeUnloadClose.bind(this),t.addEventListener?t.addEventListener("beforeunload",this.beforeUnloadClose,!1):t.attachEvent("onbeforeunload",this.beforeUnloadClose)},Q.prototype.unRegisterCloseSession=function(){var t=window;t.removeEventListener?t.removeEventListener("beforeunload",this.beforeUnloadClose,!1):t.detachEvent("onbeforeunload",this.beforeUnloadClose)},Q.prototype.closeHiveSession=function(t){this.logger().debug("Manually Closing Session"+(t?" because: "+t:"")),this.eventBinder.sN(),f.HiveRequestFactory.clearPluginState(this.pluginId),this.resetSession(!0)},Q.prototype.destroyHivePlugin=function(){return this.unRegisterCloseSession(),this.eventBinder.sN(!0),this.closeHiveSession("Invoked Plugin Destroy"),y.VisibilityChangeListener.getInstance(this.logger()).cleanListeners(),l.Framework.P(),this.options_.onLoadingCompleted=null,this.options_.onSourceSetCompleted=null,this.options_.onActiveSession=null,this.options_.onError=null,R.ErrorMonitor.getInstance().ft(),l.Framework.I},Q.prototype.resetSession=function(t){var e=this;this.onCloseSession(t),!1===t?this.activeSession&&this.initializedSessions.every((function(t){return t.id!==e.activeSession.id}))&&this.initializedSessions.unshift(this.activeSession):this.initializedSessions.length=0,this.stopPeriodicFeedback(),this.activeSession=null,this.lastEvent=null,this.lastEventData=null,this.totalBufferingTime=0,this.lastBufferingStart=0,this.initStepTimers.reset(!0),this.eventName=null},Q.prototype.onInitializeSession=function(t,e){t.tech=e,this.initializedSessions.push(t)},Q.prototype.onActivateSession=function(t,e){var r=this;if(void 0===e&&(e=!1),null==this.activeSession){this.initStepTimers.stop(S.$O.cI),this.initStepTimers.start(S.$O.lI);var n=t||this.getPlayerSource();if(void 0===n)return R.ErrorMonitor.getInstance().logError("No player source found",this.loggerId,C.gt.me,{initializedSessions:this.initializedSessions.map((function(t){return t.manifest}))}),this.resetSession(!0),!1;for(var i=0;i<this.initializedSessions.length;i++){var s=this.initializedSessions[i];if(s.isActive(n,e)){if(this.activeSession=s,this.activeSession.reportingInstance?this.activeSession.reportingInstance.I_.eN(this.activeSession.ticket):this.resetInitializedSessions(),this.activeSession.tech.onActiveSession(this.activeSession),this.activeSession.notifyStateChange(b.JA.ACTIVE),this.logger().notice(this.loggerId+"activating Session:["+this.activeSession.id+"] Ticket:"+this.activeSession.ticket.toString()+" HiveTech:["+this.activeSession.tech.getName()+"]"),this.options().onActiveSession)try{this.options().onActiveSession(s.toHiveSession())}catch(t){R.ErrorMonitor.getInstance().logError("Exception in user-defined Generic onActiveSession callback",this.loggerId,C.gt.Ee,{error:t})}this.initStepTimers.stop(S.$O.lI);break}}if(this.activeSession)return this.initializedSessions.forEach((function(t){t!=r.activeSession&&t.getReportingInstance().then((function(t){return t.B_()}))})),!(this.initializedSessions.length=0);R.ErrorMonitor.getInstance().logError("No matching session found",this.loggerId,C.gt.fe,{playerSource:n,initializedSessions:this.initializedSessions.map((function(t){return t.manifest}))}),this.resetSession(!0)}return!1},Q.prototype.getActiveSession=function(){if(this.activeSession)return this.activeSession.toHiveSession()},Q.prototype.resetInitializedSessions=function(){this.initializedSessions.forEach((function(t){t.reportingInstance&&t.close(!0)}))},Q.prototype.isSessionActive=function(){if(null!=this.activeSession){if(this.activeSession.isActive(this.getPlayerSource()))return!0;var t="Session src mismatch: "+this.getPlayerSource()+" != "+this.activeSession.manifest;this.logger().warn(this.loggerId+t),this.closeHiveSession(t)}return!1},Q.prototype.onCloseSession=function(t){var e=this;void 0===t&&(t=!1),null!=this.activeSession?(this.logger().notice(this.loggerId+"Stopping session ["+this.activeSession.id+"]"),this.activeSession.close(t)):0<this.initializedSessions.length?this.initializedSessions.forEach((function(r){e.logger().notice(e.loggerId+"Attempt to stopping session ["+r.id+"]"),r.close(t)})):k.default.getInstance().close()},Q.prototype.startPeriodicFeedback=function(){var t=this;null==this.periodicFeedbackEvent&&(this.periodicFeedbackEvent=setInterval((function(){t.sendStatsFeedback(!0)}),this.options().feedbackPeriod),this.sendStatsFeedback())},Q.prototype.stopPeriodicFeedback=function(){clearInterval(this.periodicFeedbackEvent),this.periodicFeedbackEvent=null},Q.prototype.getPlayingTime=function(t){return void 0===t&&(t=!1),this.playingStateCounter.dh(void 0,t?this.options().feedbackPeriod:void 0)},Q.prototype.sendStatsFeedback=function(t){var e=this;if(void 0===t&&(t=!1),this.isSessionActive()){if(!this.isActive())return void this.resetSession(!0);var r=this.getWindowSize(),n=new d.HivePlayerStats(this.getCurrentTime(),this.getBufferLen(),this.totalBufferingTime,r.width,r.height,this.isFullscreen(),this.getPlayingTime(t),this.getPlayerVolume());0===this.lastBufferingStart&&this.activeSession.updateIdleState(this.statsChecker.check(n)),this.activeSession.tech.handleStats(this.activeSession,n).fail((function(t){e.logger().warn(e.loggerId+"stats handling failed",t),e.stopPeriodicFeedback()}))}},Q.prototype.registerGenericEvents=function(){var t=this;try{y.VisibilityChangeListener.getInstance(this.logger()).setVisibilityChangeListener((function(e){var r=t.getPotentialSession();r&&!r.isIdle()&&(t.onEventFeedback(e?S.PlayerEvents.VISIBLE:S.PlayerEvents.HIDDEN),t.logger().debug(e?"visible":"hidden"))}))}catch(t){R.ErrorMonitor.getInstance().logError("error setting up the visibilityChange listener",this.loggerId,C.gt.we,{error:t})}},Q.prototype.onStartBuffering=function(t,e){void 0===e&&(e=!1),(e||this.isSessionActive())&&this.lastBufferingStart<=0&&(this.lastBufferingStart=Date.now(),null!=t&&!t||this.onEventFeedback(S.PlayerEvents.BUFFERING))},Q.prototype.onEndBuffering=function(){var t=0==this.totalBufferingTime;if(0<this.lastBufferingStart){var e=Date.now()-this.lastBufferingStart;return this.totalBufferingTime+=e,this.logger().debug(this.loggerId+"reporting new buffering event of "+e+" ms"),this.lastBufferingStart=0,t&&this.sendStatsFeedback(),!0}return!1},Q.prototype.onError=function(t,e,r){void 0===r&&(r=!0),this.onEventFeedback(S.PlayerEvents.ERROR,{code:-1,"player-code":t},!r),r&&this.closeHiveSession(e)},Q.prototype.onEventFeedback=function(t,e,r){var n=this;void 0===r&&(r=!0);var i=this.getPotentialSession();if(null!=i&&(i==this.activeSession||i.tech.getName()!==c.hN[c.hN.HiveJava])){switch(t){case S.PlayerEvents.PLAYING:this.playingStateCounter.start();break;case S.PlayerEvents.PAUSED:case S.PlayerEvents.SKIP:case S.PlayerEvents.BUFFERING:case S.PlayerEvents.STOPPED:this.playingStateCounter.stop()}i.tech.handleEvent(i,t,e,r).fail((function(t){n.logger().warn(n.loggerId+"error in forwarding player event to tech",t)}))}},Q.prototype.getInitStepTimers=function(){return this.initStepTimers},Q.prototype.filterEvent=function(t,e){var r;(t!==this.lastEvent||t===this.lastEvent&&(null==e?void 0:e.value)!==(null===(r=this.lastEventData)||void 0===r?void 0:r.value))&&this.onEventFeedback(t,e),this.lastEvent=t,this.lastEventData=e},Q.prototype.getPotentialSession=function(){return this.activeSession?this.activeSession:this.initializedSessions&&0<this.initializedSessions.length?this.initializedSessions[0]:void 0},Q.prototype.initStatusCode=function(){this.statusCode=0},Q.prototype.setStatusCode=function(t,e){this.initStatusCode(),this.statusCode+=t<<28,e&&0===t&&(this.statusCode+=1<<4*(6-c.hN[e.getName()])),0<t&&R.ErrorMonitor.getInstance().logError("Status Code Error",this.loggerId,C.gt.pe,{code:h.gA(t)},["Plugin Error Code",h.gA(t)])},Q.prototype.getStatusCode=function(){return this.statusCode},Q.prototype.getTelemetryId=function(){var t=this.options().telemetryId,e=typeof t;if("number"==e||"string"==e)return String(t);null!=t&&this.logger().warn(this.loggerId+" telemetryId is accepted with type 'number' or 'string'. Provided '"+e+"' is invalid.")},Q.prototype.getPluginName=function(){return D.K.gf},Q.prototype.getPluginVersion=function(){return D.K.yf},Q.prototype.getPlayerName=function(){return W},Q.prototype.getEventName=function(){var t;return null!==(t=this.eventName)&&void 0!==t?t:this.options_.eventName},Q.prototype.getConsumptionApp=function(){return window.location.hostname},Q.prototype.getPlayerVolume=function(){},Q);function Q(t){var e=this;this.eventName=null,this.defaultHiveTechOrder=[c.hN[c.hN.HiveJava],c.hN[c.hN.HiveJS],c.hN[c.hN.StatsJS]],this.hiveTechs=new s,this.techEvents=new Array,this.initializedSessions=new Array,this.activeSession=null,this.totalBufferingTime=0,this.lastBufferingStart=0,this.loggerId="[HiveComm] ",this.statusCode=0,this.playingStateCounter=new F.ah,this.eventBinder=new M.QA(this),this.pluginId=n.oN(),l.Framework.O("peer0",new T.uN,new I.aN),this.pluginId4Java=g.SessionStorageUtil.getItem("hivePluginId"),this.pluginId4Java||(this.pluginId4Java=Math.abs(Math.floor(68719476736*Math.random())).toString(16),g.SessionStorageUtil.setItem("hivePluginId",this.pluginId4Java));var r=R.ErrorMonitor.getInstance(V);this.options_=new u.Options,this.validateHiveTechs(t),w.updateOptions(t,this.options_),w.parseParameterOptions(window.location.href,new u.UrlConfigurableOptions,this.options_),u.bR.SR(this.options_),this.logger_=l.Framework.resolve(l.Framework.v.p),p.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.options().isSDNDebug&&(this.options().debugLevel="debug"),this.logger_.mA(this.options().debugLevel),r.st(this.logger_.log()),this.options().onError&&r.ot(this.options().onError);var i=l.Framework.resolve(l.Framework.v.H_),o=l.Framework.resolve(l.Framework.v.XI);i.R_().then((function(t){r.setUser(t.k_()),r.et({reportingGuid:t.j_()}),r.et({p2pId:t.k_()})}));var a={};new A.fN(this),o.getConnectivityInfo().then((function(t){a={pIPAddr:t.getNetworkChanged().getPrivateIp()},r.et({privateIp:a.pIPAddr})})).catch((function(t){e.logger().debug(e.loggerId+" Not Able to initialize ErrorMonitor with the private IP address ",t)})),window.bl=this.logger_.log(),this.registerCloseSession(),this.pluginReference=new h.HivePluginReference(this);var f=this.options().idleTimePeriod>this.options().feedbackPeriod?this.options().idleTimePeriod:x.Wc.Ca;this.statsChecker=new v.StatsChecker(f),this.registerGenericEvents(),this.initStepTimers=new U.cN(this.logger(),this.options().onInitStep),this.logger().notice(this.loggerId+"registered plugin [id: "+this.getPluginId()+"][version: "+this.getPluginVersion()+"]")}function Z(t,e,r,n,i){var s=R.ErrorMonitor.getInstance();s.logError.apply(s,arguments)}e.Plugin=X,"undefined"!=typeof window&&(window.HiveRequestFactory=f.HiveRequestFactory),e.KA=C.gt,e.logError=Z},function(t,e){var r,n,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var t=a(p);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].lN();h=-1,e=u.length}l=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.vN=t,this.array=e}function g(){}i.zh=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||c||a(f)},d.prototype.lN=function(){this.vN.apply(null,this.array)},i.title="browser",i.dN=!0,i.to={},i.EN=[],i.version="",i.Ip={},i.on=g,i.addListener=g,i.wN=g,i.off=g,i.removeListener=g,i.pN=g,i.qh=g,i.gN=g,i.bN=g,i.listeners=function(t){return[]},i.yN=function(t){throw new Error("process.binding is not supported")},i.TN=function(){return"/"},i.mN=function(t){throw new Error("process.chdir is not supported")},i.ON=function(){return 0}},function(t,e,r){"use strict";var n=r(38);t.exports=Object,Object.empty=Object.freeze(Object.create(null)),Object.Qc=function(t){return Object(t)===t},Object.IN=function(t){return t&&"function"==typeof t.valueOf&&(t=t.valueOf()),t};var i=new n;Object.hash=function(t){return t&&"function"==typeof t.hash?""+t.hash():Object(t)===t?(i.has(t)||i.set(t,Math.random().toString(36).slice(2)),i.get(t)):""+t};var s=Object.prototype.hasOwnProperty;Object._N=function(t,e){return s.call(t,e)},Object.has=function(t,e){if("object"!=typeof t)throw new Error("Object.has can't accept non-object: "+typeof t);if(t&&"function"==typeof t.has)return t.has(e);if("string"==typeof e)return e in t&&t[e]!==Object.prototype[e];throw new Error("Key must be a string for Object.has on plain objects")},Object.get=function(t,e,r){if("object"!=typeof t)throw new Error("Object.get can't accept non-object: "+typeof t);return t&&"function"==typeof t.get?t.get(e,r):Object.has(t,e)?t[e]:r},Object.set=function(t,e,r){t&&"function"==typeof t.set?t.set(e,r):t[e]=r},Object.hiveAddEach=function(t,e){if(e)if("function"!=typeof e.forEach||e.hasOwnProperty("forEach"))if("number"==typeof e.length)for(var r=0;r<e.length;r++)t[r]=e[r];else Object.keys(e).forEach((function(r){t[r]=e[r]}));else!0===e.isMap?e.forEach((function(e,r){t[r]=e})):e.forEach((function(e){t[e[0]]=e[1]}));return t},Object.forEach=function(t,e,r){for(var n,i=Object.keys(t),s=0;n=i[s];s++)e.call(r,t[n],n,t)},Object.map=function(t,e,r){for(var n,i=Object.keys(t),s=0,o=[];n=i[s];s++)o.push(e.call(r,t[n],n,t));return o},Object.values=function(t){return Object.map(t,Function.identity)},Object.concat=function(){for(var t={},e=0;e<arguments.length;e++)Object.hiveAddEach(t,arguments[e]);return t},Object.from=Object.concat,Object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Object.equals=function(t,e,r,i){if(r=r||Object.equals,(t=Object.IN(t))===(e=Object.IN(e)))return!0;if(Object.Qc(t)){if((i=i||new n).has(t))return!0;i.set(t,!0)}if(Object.Qc(t)&&"function"==typeof t.equals)return t.equals(e,r,i);if(Object.Qc(e)&&"function"==typeof e.equals)return e.equals(t,r,i);if(Object.Qc(t)&&Object.Qc(e)&&Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){for(var s in t)if(!r(t[s],e[s],r,i))return!1;for(var s in e)if(!(s in t)||!r(e[s],t[s],r,i))return!1;return!0}return t!=t&&e!=e||(!t||!e)&&t===e},Object.compare=function(t,e){if((t=Object.IN(t))===(e=Object.IN(e)))return 0;var r=typeof t,n=typeof e;return"number"==r&&"number"==n?t-e:"string"==r&&"string"==n?t<e?-1/0:1/0:t&&"function"==typeof t.compare?t.compare(e):e&&"function"==typeof e.compare?-e.compare(t):0},Object.clone=function(t,e,r){if(t=Object.IN(t),r=r||new n,void 0===e)e=1/0;else if(0===e)return t;if(Object.Qc(t)){if(!r.has(t))if(t&&"function"==typeof t.clone)r.set(t,t.clone(e,r));else{var i=Object.getPrototypeOf(t);if(null!==i&&i!==Object.prototype)throw new Error("Can't clone "+t);var s=Object.create(i);for(var o in r.set(t,s),t)s[o]=Object.clone(t[o],e-1,r)}return r.get(t)}return t},Object.clear=function(t){if(t&&"function"==typeof t.clear)t.clear();else for(var e=Object.keys(t),r=e.length;r;)delete t[e[--r]];return t}},function(t,e){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.RN=v);var e=!1;if("function"==typeof WeakMap){var r=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var n=new r,i=Object.freeze({});if(n.set(i,1),1===n.get(i))return t.exports=WeakMap;e=!0}}Object.prototype.hasOwnProperty;var s=Object.getOwnPropertyNames,o=Object.defineProperty,a=Object.isExtensible,l="weakmap:",u=l+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var c=new ArrayBuffer(25),h=new Uint8Array(c);crypto.getRandomValues(h),u=l+"rand:"+Array.prototype.map.call(h,(function(t){return(t%36).toString(36)})).join("")+"___"}if(o(Object,"getOwnPropertyNames",{value:function(t){return s(t).filter(m)}}),"getPropertyNames"in Object){var p=Object.SN;o(Object,"getPropertyNames",{value:function(t){return p(t).filter(m)}})}!function(){var t=Object.freeze;o(Object,"freeze",{value:function(e){return y(e),t(e)}});var e=Object.seal;o(Object,"seal",{value:function(t){return y(t),e(t)}});var r=Object.preventExtensions;o(Object,"preventExtensions",{value:function(t){return y(t),r(t)}})}();var f=!1,d=0,g=function(){this instanceof g||E();var t=[],e=[],r=d++;return Object.create(g.prototype,{AN:{value:b((function(n,i){var s,o=y(n);return o?r in o?o[r]:i:0<=(s=t.indexOf(n))?e[s]:i}))},NN:{value:b((function(e){var n=y(e);return n?r in n:0<=t.indexOf(e)}))},CN:{value:b((function(n,i){var s,o=y(n);return o?o[r]=i:0<=(s=t.indexOf(n))?e[s]=i:(s=t.length,e[s]=i,t[s]=n),this}))},kN:{value:b((function(n){var i,s,o=y(n);return o?r in o&&delete o[r]:!((i=t.indexOf(n))<0||(s=t.length-1,t[i]=void 0,e[i]=e[s],t[i]=t[s],t.length=s,e.length=s,0))}))}})};g.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.AN(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.NN(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.CN(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.kN(t)},writable:!0,configurable:!0}}),"function"==typeof r?(e&&"undefined"!=typeof Proxy&&(Proxy=void 0),w.prototype=g.prototype,t.exports=w,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})):("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=g)}function v(t){t.jN&&t.jN(v)}function m(t){return!(t.substr(0,l.length)==l&&"___"===t.substr(t.length-3))}function y(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[u];if(e&&e.key===t)return e;if(a(t)){e={key:t};try{return o(t,u,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function b(t){return t.prototype=null,Object.freeze(t)}function E(){f||"undefined"==typeof console||(f=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}function w(){this instanceof g||E();var t,n=new r,i=void 0,s=!1;return t=e?function(t,e){return n.set(t,e),n.has(t)||(i=i||new g).set(t,e),this}:function(t,e){if(s)try{n.set(t,e)}catch(r){(i=i||new g).CN(t,e)}else n.set(t,e);return this},Object.create(g.prototype,{AN:{value:b((function(t,e){return i?n.has(t)?n.get(t):i.AN(t,e):n.get(t,e)}))},NN:{value:b((function(t){return n.has(t)||!!i&&i.NN(t)}))},CN:{value:b(t)},kN:{value:b((function(t){var e=!!n.delete(t);return i&&i.kN(t)||e}))},jN:{value:b((function(t){if(t!==v)throw new Error("bogus call to permitHostObjects___");s=!0}))}})}}()},function(t,e,r){"use strict";var n=r(38),i=r(60),s=new n;function o(){throw new Error("Can't construct. RangeChanges is a mixin.")}(t.exports=o).prototype.MN=function(){return s.has(this)||s.set(this,i()),s.get(this)},o.prototype.DN=function(t){var e=this.MN();return t=t||"",e.has(t)||e.set(t,{isActive:!1,jc:[],kc:[]}),e.get(t)},o.prototype.PN=function(t,e,r){!this.Lc&&this.Pc&&this.Pc();var n=this.DN(e);(r?n.kc:n.jc).push(t),Object.defineProperty(this,"LN",{value:!0,writable:!0,configurable:!0,enumerable:!1});var i=this;return function(){i&&(i.HN(t,e,r),i=null)}},o.prototype.HN=function(t,e,r){var n,i=this.DN(e),s=(n=r?i.kc:i.jc).lastIndexOf(t);if(-1===s)throw new Error("Can't remove range change listener: does not exist: token "+JSON.stringify(e));n.splice(s,1)},o.prototype.UN=function(t,e,r,n){var i=this.MN(),s="Range"+(n?"WillChange":"Change");i.forEach((function(i,o){if(!i.isActive){var a;i.isActive=!0,a=n?i.kc:i.jc;var l="handle"+(o.slice(0,1).toUpperCase()+o.slice(1))+s;try{a.slice().forEach((function(i){if(!(a.indexOf(i)<0))if(i[l])i[l](t,e,r,this,n);else{if(!i.call)throw new Error("Handler "+i+" has no method "+l+" and is not callable");i.call(this,t,e,r,this,n)}}),this)}finally{i.isActive=!1}}}),this)},o.prototype.FN=function(t,e){return this.PN(t,e,!0)},o.prototype.xN=function(t,e){return this.HN(t,e,!0)},o.prototype.GN=function(t,e,r){return this.UN(t,e,r,!0)}},function(t,e){function r(){throw new Error("Can't construct. GenericSet is a mixin.")}(t.exports=r).prototype.xe=!0,r.prototype.VN=function(t){var e=this.Le(this);return e.hiveAddEach(t),e},r.prototype.BN=function(t){return this.Le(this.filter((function(e){return t.has(e)})))},r.prototype.qN=function(t){var e=this.Le(this);return e.vc(t),e},r.prototype.QN=function(t){var e=this.VN(t),r=this.BN(t);return e.qN(r)},r.prototype.WN=function(t){return+this.delete(t)},r.prototype.equals=function(t,e){var r=this;return t&&"function"==typeof t.reduce&&this.length===t.length&&t.reduce((function(t,n){return t&&r.has(n,e)}),!0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.contains=function(t){return this.has(t)},r.prototype.remove=function(t){return this.delete(t)},r.prototype.toggle=function(t){this.has(t)?this.delete(t):this.hiveAdd(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.v=void 0;var n=(i.YN="CACHE",i.zN="CENTRAL_FRAGMENT",i.XI="CONNECTIVITY_INFO_PROVIDER",i.KN="CONTEXT_RESOLVER",i.$N="DCACHE",i.XN="FALLBACK_REQUESTER",i.JN="FRAGMENT_METADATA_METRICS_PROVIDER",i.ZN="FRAGMENT_DOWNLOAD_METRICS_PROVIDER",i.tC="HTTP_MANAGER",i.iC="HTTP_REQUEST",i.H_="IDENTITY_PROVIDER",i.nC="IN_PARTNERSHIP",i.rC="IN_PREFETCHER_PARTNERSHIP",i.sC="IP_SPOOFING",i.eC="LIVE_CACHE",i.hC="LOCALITY_CLIENT",i.oC="LOCALITY_SCORE",i.p="LOGGER",i.uC="MEMBERSHIP",i.NETWORK="NETWORK",i.aC="PEER_NODE_INFO",i.fC="OBJECT_INDEX",i.cC="OUT_PARTNERSHIP",i.lC="OUT_PREFETCHER_PARTNERSHIP",i.vC="P2P_REQUESTER",i.dC="P2P_VIDEO_PREFETCHER",i.EC="PARTNERSHIP",i.kl="PEER",i.wC="PEER_CONNECTIVITY_INFO",i.pC="PICKER",i.gC="PREFETCH_MANAGER",i.bC="REPORTING",i.yC="REQUEST_TRACKER",i.TC="RESPONDER",i.Ll="RTC_MANAGER",i.mC="SCORE_UPDATER",i.OC="SERVER_MANAGER",i.c_="SERVICES_CLIENT",i.IC="SNAP_STATS_MANAGER",i.W_="STATS_CLIENT",i.K_="STATS_NODE_INFO",i.Q_="STATS_STORE",i._C="STREAM_INFO_METRICS_PROVIDER",i.U_="TICKET_RESOLVER",i.l="TIMER",i.RC="TRACKER_CLIENT",i.SC="TRACKER_MANAGER",i.AC="TRACK_CLIENT",i.Y_="TRACK_MANAGER",i.NC="TRANSPORT",i.CC="UDP_BROADCASTER",i.kC="UDP_DISCOVERY",i.Cf="UDP_LEADER_ELECTION",i.jC="VOD_CACHE",i.MC="QUALITY_LEVEL_TRACKER",i.DC="QUALITY_LEVEL_METRICS_PROVIDER",i.F_="REMOTE_CONFIG_MANAGER",i.PC="CONFIG_STORE",i);function i(){}e.v=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n=(function(t,e,r){e&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e)}(i,[{key:"test",get:function(){return this.LC}},{key:"converter",get:function(){return this.HC}}]),i);function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.LC=t,this.HC=e}e.default=n},function(t,e,r){"use strict";function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.init()}Object.defineProperty(e,"s",{value:!0});var i=new(function(t,e,r){e&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e)}(n,[{key:"init",value:function(){this.UC="BaseURL",this.FC="SegmentBase",this.xC="SegmentTemplate",this.GC="SegmentList",this.VC="SegmentURL",this.BC="SegmentTimeline",this.qC="segmentProfiles",this.QC="AdaptationSet",this.WC="Representation",this.YC="RepresentationIndex",this.zC="SubRepresentation",this.KC="Initialization",this.$C="initialization",this.MPD="MPD",this.va="Period",this.XC="AssetIdentifier",this.JC="EventStream",this.ZC="id",this.tk="profiles",this.ik="serviceLocation",this.Fa="range",this.nk="index",this.rk="media",this.sk="byteRange",this.ek="indexRange",this.hk="mediaRange",this.uk="value",this.ak="contentType",this.fk="mimeType",this.ck="BitstreamSwitching",this.lk="bitstreamSwitching",this.vk="codecs",this.dk="dependencyId",this.Ek="mediaStreamStructureId",this.wk="Metrics",this.pk="metrics",this.bC="Reporting",this.gk="width",this.bk="height",this.yk="sar",this.Tk="frameRate",this.mk="audioSamplingRate",this.Ok="maximumSAPPeriod",this.Ik="startWithSAP",this._k="maxPlayoutRate",this.Rk="codingDependency",this.Sk="scanType",this.Ak="FramePacking",this.Nk="AudioChannelConfiguration",this.Ck="ContentProtection",this.kk="EssentialProperty",this.jk="SupplementalProperty",this.Mk="InbandEventStream",this.Dk="Accessibility",this.Pk="Role",this.Lk="Rating",this.Hk="ContentComponent",this.Uk="Subset",this.Fk="lang",this.xk="Viewpoint",this.Gk="Role_asArray",this.Vk="Accessibility_asArray",this.Bk="AudioChannelConfiguration_asArray",this.qk="ContentProtection_asArray",this.Qk="main",this.Wk="dynamic",this.Yk="static",this.zk="mediaPresentationDuration",this.Kk="minimumUpdatePeriod",this.$k="codecPrivateData",this.Xk="bandwidth",this.Jk="sourceURL",this.Zk="timescale",this.tj="duration",this.ij="startNumber",this.nj="presentationTimeOffset",this.rj="availabilityStartTime",this.sj="availabilityEndTime",this.ej="timeShiftBufferDepth",this.hj="maxSegmentDuration",this.oj="presentationTime",this.uj="minBufferTime",this.aj="maxSubsegmentDuration",this.fj="start",this.cj="availabilityTimeOffset",this.lj="availabilityTimeComplete",this.vj="cenc:default_KID",this.dj="dvb:priority",this.Ej="dvb:weight",this.wj="suggestedPresentationDelay",this.pj="ServiceDescription",this.gj="Scope",this.bj="Latency",this.yj="PlaybackRate"}}]),n);e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.HiveConfig=void 0;var n=(i.LoggerTimestamp=!0,i);function i(){}var s=(o.MetricSnapshotLogs=0,o.TrackSnapshotLogs=0,o);function o(){}var a=(l.Framework=n,l.DebugLogs=s,l);function l(){}e.HiveConfig=a,"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=a.Framework,window.HiveConfig.DebugLogs=a.DebugLogs)},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Wc=void 0;var n=(i.yR="undefined"!=typeof location&&"https:"===location.protocol,i.RR=!0,i.Tj=1e4,i.Ca=6e4,i.mj="X-Hive-TestId",i);function i(){}e.Wc=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.mR=void 0;var n=(i.Oj="127.0.0.1",i._R=8999,i.IR=8998,i.OR=8899,i.TR=8898,i.Ij="//{0}:{1}/?callback={2}{3}hivePluginId={4}",i._j="//{0}:{1}/?callback={2}",i.RR=!0,i.Rj=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,i.Sj="2013.1.1",i.Aj="2018.1",i);function i(){}e.mR=n},function(t,e,r){"use strict";var n,i;Object.defineProperty(e,"s",{value:!0}),e.WA=e.hN=void 0,(n=e.hN||(e.hN={}))[n.HiveJS=0]="HiveJS",n[n.HiveJava=1]="HiveJava",n[n.StatsJS=2]="StatsJS",(i=e.WA||(e.WA={})).StatsJS="StatsJS",i.HiveJava="HiveJava",i.HiveJS="HiveJS"},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.HiveRequestFactory=void 0;var n=r(1),i=(s.prototype.createXMLHttpRequest=function(){if(!this.pluginId){if(0===Object.keys(s.handlers).length)return s.logError("No registered default HiveRequestFactory tech",s.loggerId),new XMLHttpRequest;this.pluginId=Object.keys(s.handlers)[0]}var t=s.handlers[this.pluginId];if(!t)return s.logError("no registered HiveRequestFactory tech for plugin",{pluginId:this.pluginId}),new XMLHttpRequest;var e=t.delegate;return t.manifestRequested?e.createRequest(this.pluginId):(t.manifestRequested=!0,e.createManifestRequest(this.pluginId))},s.register=function(t){var e=t.getName(),r=t.getPluginId();this.handlers[r]||(this.handlers[r]={tech:e,delegate:t,manifestRequested:!1})},s.clear=function(){this.handlers={}},s.clearPlugin=function(t){this.handlers[t]&&delete this.handlers[t]},s.clearPluginState=function(t){this.handlers[t]&&(this.handlers[t].manifestRequested=!1)},s.logError=function(t,e){this.errorLogged||(this.errorLogged=!0,n.ErrorMonitor.getInstance().logError(t,e))},s.loggerId="[HiveRequestFactory]",s.handlers={},s.errorLogged=!1,s);function s(t){this.pluginId=t}e.HiveRequestFactory=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.HiveSessionInternal=e.JA=void 0;var n,i,s=r(5),o=r(1),a=r(31),l=r(2);(i=n=e.JA||(e.JA={})).INITIALIZED="INITIALIZED",i.ACTIVE="ACTIVE",i.IDLE="IDLE",i.CLOSED="CLOSED";var u=(c.prototype.isActive=function(t,e){return void 0===e&&(e=!1),null!==this.tech&&this.tech.isActive(t,this,e)},c.prototype.updateIdleState=function(t){if(this.idle!=t){this.idle=t,this.tech&&this.tech.onStateChange(this,t);var e=this.idle?n.IDLE:n.ACTIVE;this.notifyStateChange(e)}},c.prototype.getTechName=function(){return this.tech&&this.tech.getName()||void 0},c.prototype.isIdle=function(){return this.idle},c.prototype.close=function(t){this.idle=!0,null!=this.tech&&this.tech.closeSession(this,t),this.notifyStateChange(n.CLOSED)},c.prototype.toString=function(){return this.ticket.toString()},c.prototype.toHiveSession=function(){var t=new a.HiveSession;return t.id=this.id,t.ticketUrl=this.ticketUrl,t.manifest=this.manifest,t.tech=this.tech.getName(),t},c.prototype.getReportingInstance=function(){return this.deferReportingInstance.promise},c.prototype.setReportingInstance=function(t){this.reportingInstance=t,this.deferReportingInstance.resolve(this.reportingInstance)},c.prototype.notifyStateChange=function(t){if(this.stateChangeCb)try{this.stateChangeCb({id:this.id,state:t,time:Date.now()})}catch(t){o.ErrorMonitor.getInstance().logError("Exception in user-defined Generic onSessionStateChange callback",this.loggerId,l.gt.ge,t)}},c.prototype.supportsXhrInterception=function(){return!!this.tech&&this.tech.supportsXhrInterception()},c);function c(t,e,r,n,i){this.loggerId="[HiveSessionInternal]",this.idle=!1,this.ticketUrl=t,this.ticket=e,this.manifest=r,"function"==typeof i&&(this.stateChangeCb=i),this.deferReportingInstance=s.defer(),this.reportingInstance=n,this.reportingInstance&&this.deferReportingInstance.resolve(this.reportingInstance)}e.HiveSessionInternal=u},function(t,e,r){var n;!function(i,s){"use strict";var o="undefined",a="string",l="model",u="name",c="type",h="vendor",p="version",f="architecture",d="console",g="mobile",v="tablet",m="smarttv",y="wearable",b={extend:function(t,e){var r={};for(var n in t)e[n]&&e[n].length%2==0?r[n]=e[n].concat(t[n]):r[n]=t[n];return r},has:function(t,e){return typeof t==a&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},Nj:function(t){return t.toLowerCase()},Cj:function(t){return typeof t==a?t.replace(/[^\d\.]/g,"").split(".")[0]:s},trim:function(t,e){return t=t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof e==o?t:t.substring(0,255)}},E={kj:function(t,e){for(var r,n,i,o,a,l,u=0;u<e.length&&!a;){var c=e[u],h=e[u+1];for(r=n=0;r<c.length&&!a;)if(a=c[r++].exec(t))for(i=0;i<h.length;i++)l=a[++n],"object"==typeof(o=h[i])&&0<o.length?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):s:this[o[0]]=l?o[1].call(this,l,o[2]):s:4==o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):s):this[o]=l||s;u+=2}},str:function(t,e){for(var r in e)if("object"==typeof e[r]&&0<e[r].length){for(var n=0;n<e[r].length;n++)if(b.has(e[r][n],t))return"?"===r?s:r}else if(b.has(e[r],t))return"?"===r?s:r;return t}},w={dN:{jj:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",Wv:"/"}},Mj:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{Dj:{version:{Pj:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",Lj:["NT 5.1","NT 5.2"],Hj:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],Uj:"ARM"}}}},A={dN:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[u,p],[/opios[\/\s]+([\w\.]+)/i],[p,[u,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[p,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[p,[u,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[p,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[p,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],p],[/focus\/([\w\.]+)/i],[p,[u,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[p,[u,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[p,[u,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[u,p],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[u],[/;fbav\/([\w\.]+);/i],[p,[u,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[u,p],[/\bgsa\/([\w\.]+)\s.*safari\//i],[p,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],p],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[p,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[p,u],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[p,E.str,w.dN.jj.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],p],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[p,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,p]],Fj:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,b.Nj]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",b.Nj]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,b.Nj]]],xj:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[l,[h,"Samsung"],[c,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[l,[h,"Samsung"],[c,g]],[/\((ip(?:hone|od)[\s\w]*);/i],[l,[h,"Apple"],[c,g]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,"Apple"],[c,v]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[l,[h,"Huawei"],[c,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[l,[h,"Huawei"],[c,g]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[l,/_/g," "],[h,"Xiaomi"],[c,g]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[l,/_/g," "],[h,"Xiaomi"],[c,v]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[l,[h,"OPPO"],[c,g]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[l,[h,"Vivo"],[c,g]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[l,[h,"Realme"],[c,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[l,[h,"Motorola"],[c,g]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[h,"Motorola"],[c,v]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[l,[h,"LG"],[c,v]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[l,[h,"LG"],[c,g]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[l,[h,"Lenovo"],[c,v]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[l,/_/g," "],[h,"Nokia"],[c,g]],[/droid.+;\s(pixel\sc)[\s)]/i],[l,[h,"Google"],[c,v]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[l,[h,"Google"],[c,g]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,"Sony"],[c,g]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[l,"Xperia Tablet"],[h,"Sony"],[c,v]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[l,[h,"OnePlus"],[c,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[l,[h,"Amazon"],[c,v]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[l,"Fire Phone"],[h,"Amazon"],[c,g]],[/\((playbook);[\w\s\),;-]+(rim)/i],[l,h,[c,v]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[l,[h,"BlackBerry"],[c,g]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[l,[h,"ASUS"],[c,v]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[l,[h,"ASUS"],[c,g]],[/(nexus\s9)/i],[l,[h,"HTC"],[c,v]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[l,/_/g," "],[c,g]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[l,[h,"Acer"],[c,v]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[l,[h,"Meizu"],[c,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,l,[c,g]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[h,l,[c,v]],[/\s(surface\sduo)\s/i],[l,[h,"Microsoft"],[c,v]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[l,[h,"Fairphone"],[c,g]],[/\s(u304aa)\sbuild/i],[l,[h,"AT&T"],[c,g]],[/sie-(\w*)/i],[l,[h,"Siemens"],[c,g]],[/[;\/]\s?(rct\w+)\sbuild/i],[l,[h,"RCA"],[c,v]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[l,[h,"Dell"],[c,v]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[l,[h,"Verizon"],[c,v]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[l,[h,"Barnes & Noble"],[c,v]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[l,[h,"NuVision"],[c,v]],[/;\s(k88)\sbuild/i],[l,[h,"ZTE"],[c,v]],[/;\s(nx\d{3}j)\sbuild/i],[l,[h,"ZTE"],[c,g]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[l,[h,"Swiss"],[c,g]],[/[;\/]\s?(zur\d{3})\sbuild/i],[l,[h,"Swiss"],[c,v]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[l,[h,"Zeki"],[c,v]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[h,"Dragon Touch"],l,[c,v]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[l,[h,"Insignia"],[c,v]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[l,[h,"NextBook"],[c,v]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[h,"Voice"],l,[c,g]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[h,"LvTel"],l,[c,g]],[/;\s(ph-1)\s/i],[l,[h,"Essential"],[c,g]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[l,[h,"Envizen"],[c,v]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[l,[h,"MachSpeed"],[c,v]],[/[;\/]\s?tu_(1491)\sbuild/i],[l,[h,"Rotor"],[c,v]],[/(shield[\w\s]+)\sbuild/i],[l,[h,"Nvidia"],[c,v]],[/(sprint)\s(\w+)/i],[h,l,[c,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,"Microsoft"],[c,g]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,"Zebra"],[c,v]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,"Zebra"],[c,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,l,[c,d]],[/droid.+;\s(shield)\sbuild/i],[l,[h,"Nvidia"],[c,d]],[/(playstation\s[345portablevi]+)/i],[l,[h,"Sony"],[c,d]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[l,[h,"Microsoft"],[c,d]],[/smart-tv.+(samsung)/i],[h,[c,m]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,"Samsung"],[c,m]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[h,"LG"],[c,m]],[/(apple)\s?tv/i],[h,[l,"Apple TV"],[c,m]],[/crkey/i],[[l,"Chromecast"],[h,"Google"],[c,m]],[/droid.+aft([\w])(\sbuild\/|\))/i],[l,[h,"Amazon"],[c,m]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[c,m]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,b.trim],[l,b.trim],[c,m]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[c,m]],[/((pebble))app\/[\d\.]+\s/i],[h,l,[c,y]],[/droid.+;\s(glass)\s\d/i],[l,[h,"Google"],[c,y]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[l,[h,"Zebra"],[c,y]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[h,[c,"embedded"]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[l,[c,g]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[l,[c,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,b.Nj]],[/(android[\w\.\s\-]{0,9});.+build/i],[l,[h,"Generic"]],[/(phone)/i],[[c,g]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[u,[p,E.str,w.os.Dj.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[p,E.str,w.os.Dj.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[u,"Mac OS"],[p,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[u,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],p],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[u,p],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,p]]},S=function(t,e){if("object"==typeof t&&(e=t,t=s),!(this instanceof S))return new S(t,e).Gj();var r=t||(void 0!==i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=e?b.extend(A,e):A;return this.Vj=function(){var t={name:s,version:s};return E.kj.call(t,r,n.dN),t.Cj=b.Cj(t.version),t},this.Bj=function(){var t={qj:s};return E.kj.call(t,r,n.Fj),t},this.Qj=function(){var t={vendor:s,Wj:s,type:s};return E.kj.call(t,r,n.xj),t},this.Yj=function(){var t={name:s,version:s};return E.kj.call(t,r,n.engine),t},this.xI=function(){var t={name:s,version:s};return E.kj.call(t,r,n.os),t},this.Gj=function(){return{Bp:this.zj(),dN:this.Vj(),engine:this.Yj(),os:this.xI(),xj:this.Qj(),Fj:this.Bj()}},this.zj=function(){return r},this.FI=function(t){return r=typeof t==a&&255<t.length?b.trim(t,255):t,this},this.FI(r),this};S.VERSION="0.7.28",S.Kj={$j:u,Xj:"major",VERSION:p},S.Jj={Zj:f},S.tM={iM:l,VENDOR:h,TYPE:c,nM:d,rM:g,sM:m,eM:v,hM:y,oM:"embedded"},S.uM={$j:u,VERSION:p},S.aM={$j:u,VERSION:p},typeof e!=o?(typeof t!=o&&t.exports&&(e=t.exports=S),e.UI=S):(n=function(){return S}.call(e,r,e,t))===s||(t.exports=n);var T=void 0!==i&&(i.jQuery||i.fM);if(T&&!T.Bp){var I=new S;T.Bp=I.Gj(),T.Bp.get=function(){return I.zj()},T.Bp.set=function(t){I.FI(t);var e=I.Gj();for(var r in e)T.Bp[r]=e[r]}}}("object"==typeof window?window:this)},function(t,e,r){"use strict";var n=this&&this.cM||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"s",{value:!0}),e.Ticket=e.lM=void 0;var i,s,o=r(57),a=r(18),l=r(21),u=r(8);(s=i=e.lM||(e.lM={}))[s.vM=0]="PROD",s[s.dM=1]="TEST",s[s.EM=2]="DEV",s[s.CUSTOM=3]="CUSTOM";var c=(h.tN=function(t,e,r){var n=new h;return n.partnerId=t,n.customerId=e,n.contentId=r,n},h.nN=function(t){var e=new h(t),r=a(t),i=r.path().split("/").slice(3);return e.partnerId=i[0],e.customerId=i[1],e.contentId=i[2],e.wM=i[3],e.searchParams=n(n({},e.searchParams),r.query(!0)),e},h.prototype.pM=function(t){this.contentId=t.ContentId,this.partnerId=t.SiteId,this.customerId=t.CROId,this.gM=t.Signature,this.manifestUrl=t.SourceURL,this.searchParams=n(n({},this.searchParams),t.SourceURLParams)},h.prototype.iN=function(t,e,r){this.partnerId=t,this.customerId=e,this.contentId=r},h.prototype.bM=function(){var t=this.contentId+this.partnerId+this.customerId+this.manifestUrl,e=new l.VO;e.Mb("b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253","010001");var r=l.BO(this.gM);return e.DO(t,r)},h.prototype.LI=function(){return this.partnerId},h.prototype.HI=function(){return this.customerId},h.prototype.rN=function(){return this.contentId},h.prototype.yM=function(){return this.wM},h.prototype.l_=function(){return this.ticketUrl},h.prototype.getManifestUrl=function(){return this.manifestUrl},h.prototype.setManifestUrl=function(t){var e=a(t);this.searchParams=n(n({},this.searchParams),e.query(!0)),this.manifestUrl=e.query("").valueOf(),this.TM=null},h.prototype.mM=function(){return this.TM||(this.TM=this.manifestUrl?a(this.manifestUrl).query(this.searchParams).valueOf():null),this.TM},h.prototype.OM=function(){return this.searchParams},h.prototype.QI=function(){return"["+this.partnerId+"/"+this.customerId+"/"+this.contentId+"]"},h.prototype.IM=function(){return[this.partnerId,this.customerId,this.contentId]},h.prototype._M=function(){return this.manifestUrl+"-["+this.partnerId+"/"+this.customerId+"/"+this.contentId+"]"},h.prototype.toString=function(){return this.QI()},h);function h(t){this.testId=null,this.originalManifest=null,this.ticketUrl=t,this.sessionId=o.oN();var e=RegExp("(?:api\\.hivestreaming\\.com)"),r=RegExp("(?:api-test\\.hivestreaming\\.com)"),n=RegExp("(?:api-dev\\.hivestreaming\\.com)"),s=RegExp(u.K.Rf);this.ticketUrl&&(e.test(t)?this.RM=i.vM:r.test(t)?this.RM=i.dM:n.test(t)?this.RM=i.EM:u.K.Rf&&s.test(t)&&(this.RM=i.CUSTOM))}e.Ticket=c},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.QualityLevel=void 0;var n=(i.from=function(t){return new i(t.id,t.bitrate)},i.prototype.hb=function(t){return this.id===t.id?0:this.SM-t.SM},i.prototype.AM=function(){this.NM=[this.bitrate]},i);function i(t,e,r,n,i,s){this.id=t,this.bitrate=e,this.SM=null,this.NM=[e],this.width=r,this.height=n,this.label=i,this.filtered=s||!1}e.QualityLevel=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.CM=void 0;var n=r(90),i=r(0),s=r(16),o=r(3),a=r(10),l=(u.wI=function(t,e,r){this.client=t,this.kM=e,this.guid=r},u.jM=function(t,e,r,s,o){var a=new n.qI;a.app=t||"CustomSnapshot",a.guid=s||this.guid,a.createdAt=i.Framework.time(),a.name=r,a.tags=e||this.kM,a.data="string"==typeof o?JSON.parse(o):o,this.send(a)},u.send=function(t){var e=new s.pl(HiveStreamingServices.u_,2,JSON.stringify(t));this.client&&this.MM&&this.client.h_().send(e)},u.DM=function(t,e,r,n,i,s){try{var o=t+(e?e.join():"")+r+n,a=this.PM.has(o)?this.PM.get(o):[];a.push("string"==typeof i?JSON.parse(i):i),a.length>=s?(this.jM(t,e,r,n,{buffer:a}),this.PM.delete(o)):this.PM.set(o,a)}catch(t){console.log(t)}},u.MM=a.HiveConfig.oc.enabled,u.PM=new o,u);function u(){}e.CM=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Wc=void 0;var n=(i.LM=!1,i.HM=!1,i);function i(){}e.Wc=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.UM=e.FM=e.xM=void 0;var n,i,s,o,a=r(69),l=r(3),u=r(27),c=r(0),h=r(6),p=r(7),f=r(11),d=r(1),g=r(2),v=r(70);(i=n=e.xM||(e.xM={}))[i.LS=0]="PLAYER",i[i.GM=1]="LAN",i[i.VM=2]="SITE",(o=s=s||{})[o.GM=0]="LAN",o[o.VM=1]="SITE",o[o.AS=2]="AS",o[o.vf=3]="OTHER";var m=function(){this.BM=!1,this.kA=null,this.prefetchDelay=-1,this.qM=0};e.FM=m;var y=(b.prototype.init=function(t){this.logger=c.Framework.resolve(c.Framework.v.p).log(t.sessionId),this.QM=t.WM,this.YM=t.YM,this.zM=t.zM,this.nw=t.nw,this.pluginId=t.reportingInstance.ticket.pluginId,this.z_=t.z_,this.partnership=t.partnership,this.KM=t.KM,this.$M=t.$M},b.prototype.eN=function(){this.isActive=!0},b.prototype.XM=function(t,e){this.context=t,this.JM=e,this.KM.XM(e)},b.prototype.ZM=function(t){return this.tD.has(t.id)},b.prototype.iD=function(){return this.JM},b.prototype.nD=function(t,e,r){var i=this;try{var s=new a;this.tD.forEach((function(t,e){s.hiveAdd(e)}));var o=new a;if(o.hiveAddEach(t.keys()),this.JM.rD()){var u=this.JM.rD().getQualityLevel();if(o.hiveAdd(u.id),o.forEach((function(t){s.delete(t)})),r){var c=[];s.forEach((function(t){i.tD.has(t)&&i.tD.get(t).sD==n.VM&&(c.push(t),o.hiveAdd(t))})),c.forEach((function(t){s.delete(t)}))}var h=new l;o.forEach((function(e){i.tD.has(e)&&i.tD.get(e).sD==n.VM?h.set(e,n.VM):h.set(e,t.get(e))})),this.eD(s),this.hD(h,e)}}catch(e){d.ErrorMonitor.getInstance().logError("Error updating the prefetch sessions",this.loggerId,g._t.Bs,e)}},b.prototype.hD=function(t,e){var r=this;t.forEach((function(t,n){var i=r.JM.oD().get(n);i&&r.uD(i,t,e)}))},b.prototype.eD=function(t){var e=this;t.forEach((function(t){var r=e.tD.get(t).qualityLevel;e.z_.aD(r),e.logger.debug(e.loggerId+"Remove unwanted quality level "+t),e.tD.delete(t)}))},b.prototype.uD=function(t,e,r){this.tD.has(t.id)?this.fD(t,r):this.tD.has(t.id)||this.cD(t,e,r)},b.prototype.fD=function(t,e){try{var r=this.tD.get(t.id);r.type=e,r.type!=n.VM&&(r.prefetchDelay=-1),this.z_.lD(t,r)}catch(t){d.ErrorMonitor.getInstance().logError("Error configuring already existing prefetch sessions",this.loggerId,g._t.qs,t)}},b.prototype.cD=function(t,e,r){var i=this;try{var s=new m;s.kA=null,s.type=r,s.qualityLevel=t,s.sD=e,this.tD.set(t.id,s),this.tD.forEach((function(t,e){i.logger.debug(i.loggerId+" Quality Level "+e+" session type "+n[t.type]+" PREF reason "+n[t.sD])})),this.z_.lD(t,s)}catch(t){d.ErrorMonitor.getInstance().logError("Error constructing a new prefetch session",this.loggerId,g._t.Qs,t)}},b.prototype.vD=function(t){var e=this;if(this.tD.has(t.getQualityLevel().id)){var r=this.tD.get(t.getQualityLevel().id);0<r.prefetchDelay&&r.dD&&(r.prefetchDelay=t.getDuration()-(c.Framework.time()-r.dD)-r.qM,r.qM=50),r.kA=t,this.ED(t.getQualityLevel()),this.tD.forEach((function(r,i){r&&r.type!=n.LS&&i!=t.getQualityLevel().id&&e.wD(r,e.tD.get(i).qualityLevel)}))}},b.prototype.wD=function(t,e){if(t.type!=n.LS){var r=this.JM.rD();if(null!=r){var i=this.JM.pD(r.jA(),e,p.af.cf);null==i?(this.logger.debug(this.loggerId+"PREFETCHING "+e+" MISSING METADATA "),this.BM(e)):(t.kA=i,this.ED(i.getQualityLevel()))}else this.logger.debug(this.loggerId+"PLAYER NOT PLAYING "),this.BM(e)}},b.prototype.gD=function(t){var e=this.tD.get(t.id);e&&e.BM&&(null!=e.kA?(this.logger.debug(this.loggerId+"RESTART PREFETCHING ON AVAILABLE METADATA"),e.BM=!1,this.ED(e.qualityLevel)):(e.BM=!1,this.wD(e,t)))},b.prototype.bD=function(t){var e=this;t?this.gD(t):this.tD.forEach((function(t,r){e.gD(e.tD.get(r).qualityLevel)}))},b.prototype.ED=function(t){var e=this.JM.rD();if(e){var r=this.tD.get(t.id);if(r){if(r.kA&&e.getQualityLevel().id===t.id){var n=this.yD(r.kA.jA(),t);this.z_.setDelta(n)}this.TD(r)}}else 0<this.JM.mD(p.af.ff).length&&0===this.JM.mD(p.af.cf).length||d.ErrorMonitor.getInstance().logError("Error attempting prefetch before having a player request",this.loggerId,g._t.Ys)},b.prototype.TD=function(t){if(t.kA){var e=this.OD(t.kA);if(null!=e)this.ID(e,t);else{var r=t.qualityLevel;this.tD.get(r.id)&&this.logger.debug(this.loggerId+"PREFETCHING "+r.id+" STOPPED BECAUSE OF MISSING METADATA "),this.tD.get(r.id).BM=!0,this.BM(r)}}else t.BM=!0,this.BM(t.qualityLevel)},b.prototype.ID=function(t,e){var r=this,i=this._D(t,e.type);if(i.MM)try{this.RD.has(t.sS())&&c.Framework.clearTimeout(this.RD.get(t.sS()));var s=i.type==u.RequestType.UR,o=1;if(s){var a=Math.max(0,e.prefetchDelay);o=this.KM.SD(e.type,t.getQualityLevel(),t.jA(),a)}this.logger.debug(this.loggerId+"PREFETCHING "+t.uS()+" CDN PREFETCH "+s+" IN "+o+" MSECS");var l=this.tD.get(t.getQualityLevel().id);l.kA=t;var p=c.Framework.setTimeout((function(){r.RD.delete(t.sS());var s=new v.AD(r.pluginId);s.url=t.uS(),l.dD=c.Framework.time(),r.ND=0;var o=r.YM.CD(s,t,r.context,i.type);o&&(o.CS=e.type==n.VM||e.type==n.GM,s.onerror=s.onload=function(){if(o.iS()==u.RequestType.UR&&(!s.status||s.status<200||299<s.status)){var e=r.tD.get(t.getQualityLevel().id);s=null;var n=e.kA.getDuration(),i=e.kA.getDuration()+h.Ko.za.Iu,a=Math.floor(c.Framework.random()*(i-n))+n;e.prefetchDelay=a-(c.Framework.time()-e.dD),e.qM=0,r.ED(e.kA.getQualityLevel())}})}),o);this.RD.set(t.sS(),p)}catch(e){d.ErrorMonitor.getInstance().logError("Error requesting for prefetch",this.loggerId,g._t.$s,e)}},b.prototype.kD=function(){var t=this;this.RD.forEach((function(e,r){t.logger.debug(t.loggerId+"Clearing delayed prefetch timer id "+e),c.Framework.clearTimeout(e),t.RD.delete(r)})),this.isActive=!1},b.prototype.BM=function(t){this.tD.has(t.id)&&(this.tD.get(t.id).BM=!0,this.JM.jD(t))},b.prototype.OD=function(t){try{var e=this.tD.get(t.getQualityLevel().id),r=t,n=this.MD(r);return n&&n.sS()!=t.sS()?n:n&&n.sS()==e.kA.sS()?t:null}catch(t){return d.ErrorMonitor.getInstance().logError("Error forwarding to next segment",this.loggerId,g._t.zs,t),null}},b.prototype.MD=function(t){if(null==t)return null;var e=this.nw.DD(),r=t;if(e)for(;null!=r&&-1!=e.indexOf(r.sS());)if(!(r=this.JM.PD(r)))return r;return r},b.prototype._D=function(t,e){try{var r,i=this.LD(t),s=i?u.RequestType.xR:u.RequestType.UR;r=e!=n.LS?!this.RD.has(t.sS())||s!=u.RequestType.UR:s==u.RequestType.xR;var o=this.JM.HD(),a=this.UD(t.jA(),t.getQualityLevel(),s),l=h.Ko.za.Ou&&r&&o&&a.valid&&this.isActive,c=e==n.VM;return this.logger.debug(this.loggerId+"Check prefetch for "+t.jA()+" - allowed "+l+" type "+u.RequestType[s]+" [HAVES:"+i+" NOTBUFFERING:"+o+" DISTANCE:"+a.valid+"("+a.FD+") LAN LEADER: "+this.z_.xD()+" SITE LEADER: "+c+"]"),{MM:l,type:s}}catch(t){return d.ErrorMonitor.getInstance().logError("Error checking if allowed to prefetch",this.loggerId,g._t.Ks,t),{MM:!1,type:u.RequestType.UR}}},b.prototype.UD=function(t,e,r){try{var n=this.JM.GD(t,e);return n<=this.JM.VD()?{FD:n,valid:!0}:{FD:n,valid:!1}}catch(t){return d.ErrorMonitor.getInstance().logError("Error checking the player distance",this.loggerId,g._t.Xs,t),{FD:0,valid:!1}}},b.prototype.yD=function(t,e){var r=this.JM.rD();if(null==r)return-1;var n=r.jA();return this.JM.BD(n,e,t,e)},b.prototype.LD=function(t){var e=t.sS(),r=t.getDuration(),n=t.jA(),i=t.getQualityLevel();if(this.QM.contains(e)){var o=this.QM.qD(e),a=this.QM.QD(e);if(a.length>=h.Ko.za.Au){if(h.Ko.za.ku){var l=[];l[s.GM]=[],l[s.VM]=[],l[s.AS]=[],l[s.vf]=[];var u=this.z_.WD(),c=this.z_.YD();a.forEach((function(t){if(t.zD.peerInfo.type!=f.ac.cc){var e=t.zD.peerInfo.internalAs;if(0!=u&&e&&u==e)l[s.VM].push(t);else{if(h.Ko.za.Vu){var r=t.zD.peerInfo.externalAs;if(0!=c&&c===r)return void l[s.AS].push(t)}t.zD.peerInfo.type==f.ac.fc&&l[s.vf].push(t)}}else l[s.GM].push(t)}));var p=null,d=!1,g=!0;return 0<l[s.GM].length&&(d=this.KD?!this.$D(l[s.GM],e):(p=s.GM,!0)),!this.z_.xD()&&this.z_.XD()||0<l[s.VM].length&&(p=s.VM,d=!0),!this.z_.JD()&&this.z_.ZD()&&0<l[s.AS].length&&(p=s.AS,d=!0),0<l[s.vf].length&&(this.z_.tP()||!(this.z_.JD()||this.z_.ZD()&&h.Ko.za.Vu))&&(p=s.vf,d=!0),d&&p>=h.Ko.za.Bu&&(g=this.iP(l[p],o,r,n,i)),!(!d||!g||(this.logger.debug("down from "+s[p]+" with haves : "+l[s.GM].length+" "+l[s.VM].length+" "+l[s.AS].length+" "+l[s.vf].length),0))}return!0}}return!1},b.prototype.iP=function(t,e,r,n,i){var s=this;return t.some((function(t){var o=t.nP();if(0<o){var a=e.size/o,l=s.JM.GD(n,i),u=!1;return l<r?(u=a<=l*h.Ko.za.qu,s.rP&&s.logger.debug("can download from "+t.guid+" size: "+e.size+" rate: "+o+" dTime: "+a+" fDistance: "+l*h.Ko.za.qu)):(u=a<=r*h.Ko.za.qu,s.rP&&s.logger.debug("can download from "+t.guid+" size: "+e.size+" rate: "+o+" dTime: "+a+" fDuration: "+r*h.Ko.za.qu)),u}}))},b.prototype.$D=function(t,e){try{return this.z_.sP().length>h.Ko.za.Fu&&(this.z_.eP(),t.length==h.Ko.za.Uu&&t[0].guid==this.z_.hP().uuid&&c.Framework.random()>h.Ko.za.xu&&this.ND<h.Ko.za.Gu&&(this.logger.debug("SKIP PREFETCH CYCLE "+this.ND+" TO OFFLOAD LEADER"),this.ND++,!0))}catch(t){return d.ErrorMonitor.getInstance().logError("Error deciding to offload the leader",this.loggerId,g._t.Js,t),!1}},b.prototype.oP=function(t,e){try{t.uP=t.DS.id,t.DS=e,this.logger.debug(this.loggerId+"UPGRADE "+u.RequestType[t.iS()]+" REQ "+t.hS+" FOR "+t.rS.sS()),t.iS()==u.RequestType.xR?(t.ZR.p2pAgenTrafficSuccessQt=t.MS,t.kS?(t.type=u.RequestType.qa,this.zM.aP(t)||this.zM.fP(t.cP,"TIMED-OUT")):(t.type=u.RequestType.LR,this.logger.debug(this.loggerId+"THE HIVE REQ "+t.sS()+" ARRIVED BEFORE THE P2P_PREFETCH INITIALIZED. CHANGE REQUEST TYPE TO "+u.RequestType[t.iS()]))):t.iS()==u.RequestType.UR&&(t.type=u.RequestType.LR)}catch(t){d.ErrorMonitor.getInstance().logError("Error upgrading prefetch",this.loggerId,g._t.Zs,t)}},b);function b(){this.loggerId="[Prefetcher] ",this.rP=!1,this.KD=!0,this.ND=0,this.isActive=!0,this.RD=new l,this.tD=new l}e.UM=y},function(t,e,r){var n,i,s;i=[r(222)],void 0===(s="function"==typeof(n=function(t){"use strict";var e=function(t,r,i){if(void 0===t&&(t=e.lP),void 0===r&&(r=e.vP),void 0===i&&(i=e.dP),!i){if((t|=0)<0)throw RangeError("Illegal capacity");r=!!r,i=!!i}this.buffer=0===t?n:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.EP=-1,this.wP=t,this.pP=r,this.gP=i};e.VERSION="5.0.1",e.bP=!0,e.yP=!1,e.lP=16,e.vP=e.yP,e.dP=!1,e.TP=t||null;var r=e.prototype;r.mP,Object.defineProperty(r,"mP",{value:!0,enumerable:!1,configurable:!1});var n=new ArrayBuffer(0),i=String.fromCharCode;function s(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function o(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+i.apply(String,t);1024<t.length+arguments.length&&(e.push(i.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function a(t,e,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-c)-1,f>>=-c,c+=a;0<c;s=256*s+t[e+h],h+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;0<c;o=256*o+t[e+h],h+=p,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)}function l(t,e,r,n,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(e+=1<=o+h?p/l:p*Math.pow(2,1-h))*l&&(o++,l/=2),c<=o+h?(a=0,o=c):1<=o+h?(a=(e*l-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[r+f]=255&a,f+=d,a/=256,i-=8);for(o=o<<i|a,u+=i;0<u;t[r+f]=255&o,f+=d,o/=256,u-=8);t[r+f-d]|=128*g}e.OP=function(){return Uint8Array},e.IP=function(t,r,n){return new e(t,r,n)},e.concat=function(t,r,n,i){"boolean"!=typeof r&&"string"==typeof r||(i=n,n=r,r=void 0);for(var s,o=0,a=0,l=t.length;a<l;++a)e._P(t[a])||(t[a]=e.wrap(t[a],r)),0<(s=t[a].wP-t[a].offset)&&(o+=s);if(0===o)return new e(0,n,i);var u,c=new e(o,n,i);for(a=0;a<l;)(s=(u=t[a++]).wP-u.offset)<=0||(c.view.set(u.view.subarray(u.offset,u.wP),c.offset),c.offset+=s);return c.wP=c.offset,c.offset=0,c},e._P=function(t){return!0===(t&&t.mP)},e.type=function(){return ArrayBuffer},e.wrap=function(t,n,i,s){if("string"!=typeof n&&(s=i,i=n,n=void 0),"string"==typeof t)switch(void 0===n&&(n="utf8"),n){case"base64":return e.RP(t,i);case"hex":return e.SP(t,i);case"binary":return e.AP(t,i);case"utf8":return e.NP(t,i);case"debug":return e.CP(t,i);default:throw Error("Unsupported encoding: "+n)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var o;if(e._P(t))return(o=r.clone.call(t)).EP=-1,o;if(t instanceof Uint8Array)o=new e(0,i,s),0<t.length&&(o.buffer=t.buffer,o.offset=t.byteOffset,o.wP=t.byteOffset+t.byteLength,o.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)o=new e(0,i,s),0<t.byteLength&&(o.buffer=t,o.offset=0,o.wP=t.byteLength,o.view=0<t.byteLength?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(o=new e(t.length,i,s)).wP=t.length;for(var a=0;a<t.length;++a)o.view[a]=t[a]}return o},r.kP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if(!(t instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=e,s=t.length,o=s>>3,a=0;for(e+=this.jP(s,e);o--;)n=1&!!t[a++]|(1&!!t[a++])<<1|(1&!!t[a++])<<2|(1&!!t[a++])<<3|(1&!!t[a++])<<4|(1&!!t[a++])<<5|(1&!!t[a++])<<6|(1&!!t[a++])<<7,this.Uw(n,e++);if(a<s){var l=0;for(n=0;a<s;)n|=(1&!!t[a++])<<l++;this.Uw(n,e++)}return r?(this.offset=e,this):e-i},r.MP=function(t){var e=void 0===t;e&&(t=this.offset);var r,n=this.DP(t),i=n.value,s=i>>3,o=0,a=[];for(t+=n.length;s--;)r=this.hp(t++),a[o++]=!!(1&r),a[o++]=!!(2&r),a[o++]=!!(4&r),a[o++]=!!(8&r),a[o++]=!!(16&r),a[o++]=!!(32&r),a[o++]=!!(64&r),a[o++]=!!(128&r);if(o<i){var l=0;for(r=this.hp(t++);o<i;)a[o++]=!!(r>>l++&1)}return e&&(this.offset=t),a},r.PP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var n=this.slice(e,e+t);return r&&(this.offset+=t),n},r.LP=r.append,r.HP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},r.Uw=r.HP,r.UP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return 128==(128&r)&&(r=-(255-r+1)),e&&(this.offset+=1),r},r.hp=r.UP,r.FP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},r.xP=r.FP,r.GP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return e&&(this.offset+=1),r},r.VP=r.GP,r.BP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=2,this.pP?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},r.qP=r.BP,r.QP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},r.WP=r.QP,r.YP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=2,this.pP?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},r.zP=r.YP,r.KP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),e&&(this.offset+=2),r},r.$P=r.KP,r.XP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,this.pP?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},r.Wl=r.XP,r.JP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},r.nv=r.JP,r.ZP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,this.pP?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},r.tL=r.ZP,r.iL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),e&&(this.offset+=4),r},r.nL=r.iL,t&&(r.rL=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("number"==typeof e)e=t.Vg(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.Vg(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var i=this.buffer.byteLength;i<r&&this.resize((i*=2)>r?i:r),r-=8;var s=e.low,o=e.high;return this.pP?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),n&&(this.offset+=8),this},r.sL=r.rL,r.eL=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.pP?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0);var s=new t(n,i,!1);return r&&(this.offset+=8),s},r.hL=r.eL,r.oL=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("number"==typeof e)e=t.Vg(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.Vg(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var i=this.buffer.byteLength;i<r&&this.resize((i*=2)>r?i:r),r-=8;var s=e.low,o=e.high;return this.pP?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),n&&(this.offset+=8),this},r.uL=r.oL,r.aL=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.pP?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0);var s=new t(n,i,!0);return r&&(this.offset+=8),s},r.fL=r.aL),r.cL=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,l(this.view,t,e,this.pP,23,4),r&&(this.offset+=4),this},r.lL=r.cL,r.vL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=a(this.view,t,this.pP,23,4);return e&&(this.offset+=4),r},r.dL=r.vL,r.EL=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=8,l(this.view,t,e,this.pP,52,8),r&&(this.offset+=8),this},r.Gw=r.EL,r.wL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=a(this.view,t,this.pP,52,8);return e&&(this.offset+=8),r},r.ap=r.wL,e.pL=5,e.gL=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},e.bL=function(t){return((t|=0)<<1^t>>31)>>>0},e.yL=function(t){return t>>>1^-(1&t)|0},r.jP=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,s=e.gL(t);r+=s;var o=this.buffer.byteLength;for(o<r&&this.resize((o*=2)>r?o:r),r-=s,t>>>=0;128<=t;)i=127&t|128,this.view[r++]=i,t>>>=7;return this.view[r++]=t,n?(this.offset=r,this):s},r.TL=function(t,r){return this.jP(e.bL(t),r)},r.DP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=0,i=0;do{if(!this.gP&&t>this.wP){var s=Error("Truncated");throw s.mL=!0,s}r=this.view[t++],n<5&&(i|=(127&r)<<7*n),++n}while(0!=(128&r));return i|=0,e?(this.offset=t,i):{value:i,length:n}},r.OL=function(t){var r=this.DP(t);return"object"==typeof r?r.value=e.yL(r.value):r=e.yL(r),r},t&&(e.IL=10,e._L=function(e){"number"==typeof e?e=t.Vg(e):"string"==typeof e&&(e=t.fromString(e));var r=e.RL()>>>0,n=e.SL(28).RL()>>>0,i=e.SL(56).RL()>>>0;return 0==i?0==n?r<16384?r<128?1:2:r<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:i<128?9:10},e.AL=function(e){return"number"==typeof e?e=t.Vg(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.NL&&(e=e.CL()),e.shiftLeft(1).xor(e.jL(63)).kL()},e.ML=function(e){return"number"==typeof e?e=t.Vg(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.NL&&(e=e.CL()),e.SL(1).xor(e.and(t.ONE).CL().Ob()).CL()},r.DL=function(r,n){var i=void 0===n;if(i&&(n=this.offset),!this.gP){if("number"==typeof r)r=t.Vg(r);else if("string"==typeof r)r=t.fromString(r);else if(!(r&&r instanceof t))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof r?r=t.Vg(r,!1):"string"==typeof r?r=t.fromString(r,!1):!1!==r.NL&&(r=r.CL());var s=e._L(r),o=r.RL()>>>0,a=r.SL(28).RL()>>>0,l=r.SL(56).RL()>>>0;n+=s;var u=this.buffer.byteLength;switch(u<n&&this.resize((u*=2)>n?u:n),n-=s,s){case 10:this.view[n+9]=l>>>7&1;case 9:this.view[n+8]=9!==s?128|l:127&l;case 8:this.view[n+7]=8!==s?a>>>21|128:a>>>21&127;case 7:this.view[n+6]=7!==s?a>>>14|128:a>>>14&127;case 6:this.view[n+5]=6!==s?a>>>7|128:a>>>7&127;case 5:this.view[n+4]=5!==s?128|a:127&a;case 4:this.view[n+3]=4!==s?o>>>21|128:o>>>21&127;case 3:this.view[n+2]=3!==s?o>>>14|128:o>>>14&127;case 2:this.view[n+1]=2!==s?o>>>7|128:o>>>7&127;case 1:this.view[n]=1!==s?128|o:127&o}return i?(this.offset+=s,this):s},r.PL=function(t,r){return this.DL(e.AL(t),r)},r.LL=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,i=0,s=0,o=0,a=0;if(i=127&(a=this.view[e++]),128&a&&(i|=(127&(a=this.view[e++]))<<7,(128&a||this.gP&&void 0===a)&&(i|=(127&(a=this.view[e++]))<<14,(128&a||this.gP&&void 0===a)&&(i|=(127&(a=this.view[e++]))<<21,(128&a||this.gP&&void 0===a)&&(s=127&(a=this.view[e++]),(128&a||this.gP&&void 0===a)&&(s|=(127&(a=this.view[e++]))<<7,(128&a||this.gP&&void 0===a)&&(s|=(127&(a=this.view[e++]))<<14,(128&a||this.gP&&void 0===a)&&(s|=(127&(a=this.view[e++]))<<21,(128&a||this.gP&&void 0===a)&&(o=127&(a=this.view[e++]),(128&a||this.gP&&void 0===a)&&(o|=(127&(a=this.view[e++]))<<7,128&a||this.gP&&void 0===a))))))))))throw Error("Buffer overrun");var l=t.Tm(i|s<<28,s>>>4|o<<24,!1);return r?(this.offset=e,l):{value:l,length:e-n}},r.HL=function(r){var n=this.LL(r);return n&&n.value instanceof t?n.value=e.ML(n.value):n=e.ML(n),n}),r.Yl=function(t,e){var r=void 0===e;r&&(e=this.offset);var n,i=t.length;if(!this.gP){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;n<i;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}i=c.UL(s(t))[1],e+=i+1;var o=this.buffer.byteLength;return o<e&&this.resize((o*=2)>e?o:e),e-=i+1,c.FL(s(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,r?(this.offset=e,this):i},r.ev=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=t,i=-1;return c.xL(function(){if(0===i)return null;if(t>=this.wP)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.wP);return 0===(i=this.view[t++])?null:i}.bind(this),r=o(),!0),e?(this.offset=t,r()):{string:r(),length:t-n}},r.GL=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=e;n=c.UL(s(t),this.gP)[1],e+=4+n;var o=this.buffer.byteLength;if(o<e&&this.resize((o*=2)>e?o:e),e-=4+n,this.pP?(this.view[e+3]=n>>>24&255,this.view[e+2]=n>>>16&255,this.view[e+1]=n>>>8&255,this.view[e]=255&n):(this.view[e]=n>>>24&255,this.view[e+1]=n>>>16&255,this.view[e+2]=n>>>8&255,this.view[e+3]=255&n),e+=4,c.FL(s(t),function(t){this.view[e++]=t}.bind(this)),e!==i+4+n)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+n));return r?(this.offset=e,this):e-i},r.VL=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var n=t,i=this.iL(t),s=this.BL(i,e.qL,t+=4);return t+=s.length,r?(this.offset=t,s.string):{string:s.string,length:t-n}},e.QL="c",e.qL="b",r.WL=function(t,e){var r,n=void 0===e;if(n&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e;r=c.UL(s(t))[1],e+=r;var o=this.buffer.byteLength;return o<e&&this.resize((o*=2)>e?o:e),e-=r,c.FL(s(t),function(t){this.view[e++]=t}.bind(this)),n?(this.offset=e,this):e-i},r.GE=r.WL,e.YL=function(t){return c.UL(s(t))[0]},e.zL=function(t){return c.UL(s(t))[1]},e.KL=e.zL,r.BL=function(t,r,n){"number"==typeof r&&(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),void 0===r&&(r=e.QL),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var s,a=0,l=n;if(r===e.QL){if(s=o(),c.$L(function(){return a<t&&n<this.wP?this.view[n++]:null}.bind(this),(function(t){++a,c.XL(t,s)})),a!==t)throw RangeError("Illegal range: Truncated data, "+a+" == "+t);return i?(this.offset=n,s()):{string:s(),length:n-l}}if(r!==e.qL)throw TypeError("Unsupported metrics: "+r);if(!this.gP){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+"+t+") <= "+this.buffer.byteLength)}var u=n+t;if(c.xL(function(){return n<u?this.view[n++]:null}.bind(this),s=o(),this.gP),n!==u)throw RangeError("Illegal range: Truncated data, "+n+" == "+u);return i?(this.offset=n,s()):{string:s(),length:n-l}},r.DE=r.BL,r.JL=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,o,a=r;i=c.UL(s(t),this.gP)[1],o=e.gL(i),r+=o+i;var l=this.buffer.byteLength;if(l<r&&this.resize((l*=2)>r?l:r),r-=o+i,r+=this.jP(i,r),c.FL(s(t),function(t){this.view[r++]=t}.bind(this)),r!==a+i+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+i+o));return n?(this.offset=r,this):r-a},r.ZL=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var n=t,i=this.DP(t),s=this.BL(i.value,e.qL,t+=i.length);return t+=s.length,r?(this.offset=t,s.string):{string:s.string,length:t-n}},r.append=function(t,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.gP){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,r));var s=t.wP-t.offset;if(s<=0)return this;n+=s;var o=this.buffer.byteLength;return o<n&&this.resize((o*=2)>n?o:n),n-=s,this.view.set(t.view.subarray(t.offset,t.wP),n),t.offset+=s,i&&(this.offset+=s),this},r.tH=function(t,e){return t.append(this,e),this},r.assert=function(t){return this.gP=!t,this},r.iH=function(){return this.buffer.byteLength},r.clear=function(){return this.offset=0,this.wP=this.buffer.byteLength,this.EP=-1,this},r.clone=function(t){var r=new e(0,this.pP,this.gP);return t?(r.buffer=new ArrayBuffer(this.buffer.byteLength),r.view=new Uint8Array(r.buffer)):(r.buffer=this.buffer,r.view=this.view),r.offset=this.offset,r.EP=this.EP,r.wP=this.wP,r},r.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0==r)return this.buffer=n,this.view=null,0<=this.EP&&(this.EP-=t),this.offset=0,this.wP=0,this;var i=new ArrayBuffer(r),s=new Uint8Array(i);return s.set(this.view.subarray(t,e)),this.buffer=i,this.view=s,0<=this.EP&&(this.EP-=t),this.offset=0,this.wP=r,this},r.nH=function(t,r){if(void 0===t&&(t=this.offset),void 0===r&&(r=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||r<t||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t===r)return new e(0,this.pP,this.gP);var n=r-t,i=new e(n,this.pP,this.gP);return i.offset=0,i.wP=n,0<=i.EP&&(i.EP-=t),this.pb(i,0,t,r),i},r.pb=function(t,r,n,i){var s,o;if(!this.gP&&!e._P(t))throw TypeError("Illegal target: Not a ByteBuffer");if(r=(o=void 0===r)?t.offset:0|r,n=(s=void 0===n)?this.offset:0|n,i=void 0===i?this.wP:0|i,r<0||r>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+r+" <= "+t.buffer.byteLength);if(n<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var a=i-n;return 0==a?t:(t.rH(r+a),t.view.set(this.view.subarray(n,i),r),s&&(this.offset+=a),o&&(t.offset+=a),this)},r.rH=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},r.fill=function(t,e,r){var n=void 0===e;if(n&&(e=this.offset),"string"==typeof t&&0<t.length&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(r<=e)return this;for(;e<r;)this.view[e++]=t;return n&&(this.offset=e),this},r.zl=function(){return this.wP=this.offset,this.offset=0,this},r.mark=function(t){if(t=void 0===t?this.offset:t,!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.EP=t,this},r.order=function(t){if(!this.gP&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.pP=!!t,this},r.sH=function(t){return this.pP=void 0===t||!!t,this},r.eH=function(t){return this.pP=void 0!==t&&!t,this},r.prepend=function(t,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.gP){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,r));var s=t.wP-t.offset;if(s<=0)return this;var o=s-n;if(0<o){var a=new ArrayBuffer(this.buffer.byteLength+o),l=new Uint8Array(a);l.set(this.view.subarray(n,this.buffer.byteLength),s),this.buffer=a,this.view=l,this.offset+=o,0<=this.EP&&(this.EP+=o),this.wP+=o,n+=o}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.wP),n-s),t.offset=t.wP,i&&(this.offset-=s),this},r.hH=function(t,e){return t.prepend(this,e),this},r.oH=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.uH(!0))},r.aH=function(){return this.wP-this.offset},r.reset=function(){return 0<=this.EP?(this.offset=this.EP,this.EP=-1):this.offset=0,this},r.resize=function(t){if(!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),r=new Uint8Array(e);r.set(this.view),this.buffer=e,this.view=r}return this},r.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e||Array.prototype.reverse.call(this.view.subarray(t,e)),this},r.PE=function(t){if(!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.gP&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},r.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.wP=e,r},r.toBuffer=function(t){var e=this.offset,r=this.wP;if(!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return n;var i=new ArrayBuffer(r-e);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,r),0),i},r.toArrayBuffer=r.toBuffer,r.toString=function(t,e,r){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.EP+",limit="+this.wP+",capacity="+this.iH()+")";switch("number"==typeof t&&(r=e=t="utf8"),t){case"utf8":return this.fH(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.cH(e,r);case"binary":return this.lH(e,r);case"debug":return this.uH();case"columns":return this.vH();default:throw Error("Unsupported encoding: "+t)}};var u=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],n=0,i=e.length;n<i;++n)r[e[n]]=n;return t.encode=function(t,r){for(var n,i;null!==(n=t());)r(e[n>>2&63]),i=(3&n)<<4,null!==(n=t())?(r(e[63&((i|=n>>4&15)|n>>4&15)]),i=(15&n)<<2,null!==(n=t())?(r(e[63&(i|n>>6&3)]),r(e[63&n])):(r(e[63&i]),r(61))):(r(e[63&i]),r(61),r(61))},t.decode=function(t,e){var n,i,s;function o(t){throw Error("Illegal character code: "+t)}for(;null!==(n=t());)if(void 0===(i=r[n])&&o(n),null!==(n=t())&&(void 0===(s=r[n])&&o(n),e(i<<2>>>0|(48&s)>>4),null!==(n=t()))){if(void 0===(i=r[n])){if(61===n)break;o(n)}if(e((15&s)<<4>>>0|(60&i)>>2),null!==(n=t())){if(void 0===(s=r[n])){if(61===n)break;o(n)}e((3&i)<<6>>>0|s)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();r.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),e|=0,(t|=0)<0||e>this.iH||e<t)throw RangeError("begin, end");var r;return u.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=o()),r()},e.RP=function(t,r){if("string"!=typeof t)throw TypeError("str");var n=new e(t.length/4*3,r),i=0;return u.decode(s(t),(function(t){n.view[i++]=t})),n.wP=i,n},e.btoa=function(t){return e.AP(t).toBase64()},e.atob=function(t){return e.RP(t).lH()},r.lH=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),e|=0,(t|=0)<0||e>this.iH()||e<t)throw RangeError("begin, end");if(t===e)return"";for(var r=[],n=[];t<e;)r.push(this.view[t++]),1024<=r.length&&(n.push(String.fromCharCode.apply(String,r)),r=[]);return n.join("")+String.fromCharCode.apply(String,r)},e.AP=function(t,r){if("string"!=typeof t)throw TypeError("str");for(var n,i=0,s=t.length,o=new e(s,r);i<s;){if(255<(n=t.charCodeAt(i)))throw RangeError("illegal char code: "+n);o.view[i++]=n}return o.wP=s,o},r.uH=function(t){for(var e,r=-1,n=this.buffer.byteLength,i="",s="",o="";r<n;){if(-1!==r&&(i+=(e=this.view[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(s+=32<e&&e<127?String.fromCharCode(e):".")),++r,t&&0<r&&r%16==0&&r!==n){for(;i.length<51;)i+=" ";o+=i+s+"\n",i=s=""}r===this.offset&&r===this.wP?i+=r===this.EP?"!":"|":r===this.offset?i+=r===this.EP?"[":"<":r===this.wP?i+=r===this.EP?"]":">":i+=r===this.EP?"'":t||0!==r&&r!==n?" ":""}if(t&&" "!==i){for(;i.length<51;)i+=" ";o+=i+s+"\n"}return t?o:i},e.CP=function(t,r,n){for(var i,s,o=t.length,a=new e((o+1)/3|0,r,n),l=0,u=0,c=!1,h=!1,p=!1,f=!1,d=!1;l<o;){switch(i=t.charAt(l++)){case"!":if(!n){if(h||p||f){d=!0;break}h=p=f=!0}a.offset=a.EP=a.wP=u,c=!1;break;case"|":if(!n){if(h||f){d=!0;break}h=f=!0}a.offset=a.wP=u,c=!1;break;case"[":if(!n){if(h||p){d=!0;break}h=p=!0}a.offset=a.EP=u,c=!1;break;case"<":if(!n){if(h){d=!0;break}h=!0}a.offset=u,c=!1;break;case"]":if(!n){if(f||p){d=!0;break}f=p=!0}a.wP=a.EP=u,c=!1;break;case">":if(!n){if(f){d=!0;break}f=!0}a.wP=u,c=!1;break;case"'":if(!n){if(p){d=!0;break}p=!0}a.EP=u,c=!1;break;case" ":c=!1;break;default:if(!n&&c){d=!0;break}if(s=parseInt(i+t.charAt(l++),16),!n&&(isNaN(s)||s<0||255<s))throw TypeError("Illegal str: Not a debug encoded string");a.view[u++]=s,c=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+l)}if(!n){if(!h||!f)throw TypeError("Illegal str: Missing offset or limit");if(u<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+o)}return a},r.cH=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.wP:e,!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,n=new Array(e-t);t<e;)(r=this.view[t++])<16?n.push("0",r.toString(16)):n.push(r.toString(16));return n.join("")},e.SP=function(t,r,n){if(!n){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=t.length,o=new e(s/2|0,r),a=0,l=0;a<s;a+=2){if(i=parseInt(t.substring(a,a+2),16),!n&&(!isFinite(i)||i<0||255<i))throw TypeError("Illegal str: Contains non-hex characters");o.view[l++]=i}return o.wP=l,o};var c=function(){var t={dH:1114111,EH:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):(r<2048?e(r>>6&31|192):(r<65536?e(r>>12&15|224):(e(r>>18&7|240),e(r>>12&63|128)),e(r>>6&63|128)),e(63&r|128)),r=null},$L:function(t,e){for(var r,n,i,s,o=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(n=t())&&o([r,n]),e((31&r)<<6|63&n);else if(224==(240&r))null!==(n=t())&&null!==(i=t())||o([r,n,i]),e((15&r)<<12|(63&n)<<6|63&i);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);null!==(n=t())&&null!==(i=t())&&null!==(s=t())||o([r,n,i,s]),e((7&r)<<18|(63&n)<<12|(63&i)<<6|63&s)}},wH:function(t,e){for(var r,n=null;null!==(r=null!==n?n:t());)55296<=r&&r<=57343&&null!==(n=t())&&56320<=n&&n<=57343?(e(1024*(r-55296)+n-56320+65536),n=null):e(r);null!==n&&e(n)},XL:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(e(55296+((r-=65536)>>10)),e(r%1024+56320)),r=null},FL:function(e,r){t.wH(e,(function(e){t.EH(e,r)}))},xL:function(e,r){t.$L(e,(function(e){t.XL(e,r)}))},pH:function(t){return t<128?1:t<2048?2:t<65536?3:4},gH:function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},UL:function(e){var r=0,n=0;return t.wH(e,(function(t){++r,n+=t<128?1:t<2048?2:t<65536?3:4})),[r,n]}};return t}();return r.fH=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;try{c.xL(function(){return t<e?this.view[t++]:null}.bind(this),r=o())}catch(r){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return r()},e.NP=function(t,r,n){if(!n&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var i=new e(c.UL(s(t),!0)[1],r,n),o=0;return c.FL(s(t),(function(t){i.view[o++]=t})),i.wP=o,i},e})?n.apply(e,i):n)||(t.exports=s)},function(t,e,r){var n=r(124),i=r(125),s=i;s.bH=n,s.oN=i,t.exports=s},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";t.exports=a,r(12);var n=r(13),i=r(77),s=r(14),o=r(39);function a(t,e,r){if(!(this instanceof a))return new a(t,e,r);var n=this.head=new this.Node;(n.next=n).yH=n,this.je=e||Object.equals,this.De=r||Function.ke,this.length=0,this.hiveAddEach(t)}function l(t){this.head=t,this.at=t.next}function u(t){this.value=t,this.yH=null,this.next=null}a.TH=a,Object.hiveAddEach(a.prototype,n.prototype),Object.hiveAddEach(a.prototype,i.prototype),Object.hiveAddEach(a.prototype,s.prototype),Object.hiveAddEach(a.prototype,o.prototype),a.prototype.Le=function(t){return new this.constructor(t,this.je,this.De)},a.prototype.find=function(t,e,r){e=e||this.je;for(var n=this.head,i=this.mH(r,n.next);i!==n;){if(e(i.value,t))return i;i=i.next}},a.prototype.findLast=function(t,e,r){e=e||this.je;for(var n=this.head,i=this.mH(r,n.yH);i!==n;){if(e(i.value,t))return i;i=i.yH}},a.prototype.has=function(t,e){return!!this.find(t,e)},a.prototype.get=function(t,e){var r=this.find(t,e);return r?r.value:this.De(t)},a.prototype.delete=function(t,e){var r=this.findLast(t,e);if(r){if(this.LN){var n=[],i=[t];this.GN(n,i,r.index)}return r.delete(),this.length--,this.LN&&(this.OH(r.next,r.index),this.UN(n,i,r.index)),!0}return!1},a.prototype.WN=function(t,e){e=e||this.je;for(var r=this.head,n=r.next,i=0;n!==r;)e(t,n.value)&&(n.delete(),i++),n=n.next;return this.length-=i,i},a.prototype.clear=function(){var t,e;this.LN&&(e=this.toArray(),t=[],this.GN(t,e,0)),this.head.next=this.head.yH=this.head,this.length=0,this.LN&&this.UN(t,e,0)},a.prototype.hiveAdd=function(t){var e=new this.Node(t);return this.LN&&(e.index=this.length,this.GN([t],[],e.index)),this.head.IH(e),this.length++,this.LN&&this.UN([t],[],e.index),!0},a.prototype.push=function(){var t=this.head;if(this.LN){var e=Array.prototype.slice.call(arguments),r=[],n=this.length;this.GN(e,r,n);var i=this.head.yH}for(var s=0;s<arguments.length;s++){var o=arguments[s],a=new this.Node(o);t.IH(a)}this.length+=arguments.length,this.LN&&(this.OH(i.next,void 0===i.index?0:i.index+1),this.UN(e,r,n))},a.prototype.unshift=function(){if(this.LN){var t=Array.prototype.slice.call(arguments),e=[];this.GN(t,e,0)}for(var r=this.head,n=0;n<arguments.length;n++){var i=arguments[n],s=new this.Node(i);r._H(s),r=s}this.length+=arguments.length,this.LN&&(this.OH(this.head.next,0),this.UN(t,e,0))},a.prototype.pop=function(){var t,e=this.head;if(e.yH!==e){if(t=e.yH.value,this.LN){var r=[],n=[t],i=this.length-1;this.GN(r,n,i)}e.yH.delete(),this.length--,this.LN&&this.UN(r,n,i)}return t},a.prototype.shift=function(){var t,e=this.head;if(e.yH!==e){if(t=e.next.value,this.LN){var r=[],n=[t];this.GN(r,n,0)}e.next.delete(),this.length--,this.LN&&(this.OH(this.head.next,0),this.UN(r,n,0))}return t},a.prototype.RH=function(){if(this.head!==this.head.next)return this.head.next.value},a.prototype.SH=function(t){this.head!==this.head.next?this.head.next.value=t:this.push(t)},a.prototype.mc=function(){return this.RH()},a.prototype.mH=function(t,e){var r=this.head;if("number"!=typeof t)return t||e;var n=t;if(0<=n)for(t=r.next;n&&(n--,(t=t.next)!=r););else for(t=r;n<0&&(n++,(t=t.yH)!=r););return t},a.prototype.slice=function(t,e){var r=[],n=this.head;for(t=this.mH(t,n.next),e=this.mH(e,n);t!==e&&t!==n;)r.push(t.value),t=t.next;return r},a.prototype.splice=function(t,e){return this.AH(t,e,Array.prototype.slice.call(arguments,2))},a.prototype.AH=function(t,e,r){var n=t;t=this.mH(t,this.head),null==e&&(e=1/0),r=Array.from(r);for(var i,s,o=[],a=t;e--&&0<=e&&a!==this.head;)o.push(a.value),a=a.next;this.LN&&(i=t===this.head?this.length:t.yH===this.head?0:t.index,s=t.yH,this.GN(r,o,i)),a=t;var l=0;for(a=t;l<o.length;l++,a=a.next)a.delete();for(null==n&&a===this.head&&(a=this.head.next),l=0;l<r.length;l++){var u=new this.Node(r[l]);a.IH(u)}return this.length+=r.length-o.length,this.LN&&(t===this.head?this.OH(this.head.next,0):this.OH(s.next,s.index+1),this.UN(r,o,i)),o},a.prototype.reverse=function(){if(this.LN){var t=this.toArray(),e=t.reversed();this.GN(e,t,0)}var r=this.head;do{var n=r.next;r.next=r.yH,r.yH=n,r=r.next}while(r!==this.head);return this.LN&&this.UN(e,t,0),this},a.prototype.sort=function(){this.AH(0,this.length,this.yc())},a.prototype.reduce=function(t,e){for(var r=arguments[2],n=this.head,i=n.next;i!==n;)e=t.call(r,e,i.value,i,this),i=i.next;return e},a.prototype.reduceRight=function(t,e){for(var r=arguments[2],n=this.head,i=n.yH;i!==n;)e=t.call(r,e,i.value,i,this),i=i.yH;return e},a.prototype.OH=function(t,e){for(;t!==this.head;)t.index=e++,t=t.next},a.prototype.Pc=function(){this.head.index=-1,this.OH(this.head.next,0),this.LN=!0},a.prototype.Oc=function(){return new l(this.head)},l.prototype.NH=null,Object.defineProperty(l.prototype,"CH",{get:function(){return this.NH||(this.NH={done:!1,value:null})}}),l.prototype.next=function(){if(this.at===this.head)this.CH.done=!0,this.CH.value=void 0;else{var t=this.at.value;this.at=this.at.next,this.CH.value=t}return this.CH},(a.prototype.Node=u).prototype.delete=function(){this.yH.next=this.next,this.next.yH=this.yH},u.prototype.IH=function(t){var e=this.yH;(((this.yH=t).yH=e).next=t).next=this},u.prototype._H=function(t){var e=this.next;(((this.next=t).next=e).yH=t).yH=this}},function(t,e,r){"use strict";r(12);var n=r(13),i=r(61),s=r(14);function o(t,e){if(!(this instanceof o))return new o(t,e);e=e||Function.ke,this.De=e,this.store=Object.create(null),this.length=0,this.hiveAddEach(t)}(t.exports=o).kH=o,Object.hiveAddEach(o.prototype,n.prototype),Object.hiveAddEach(o.prototype,i.prototype),Object.hiveAddEach(o.prototype,s.prototype),o.prototype.Le=function(t){return new this.constructor(t,this.De)},o.prototype.jH=function(t){if("string"!=typeof t)throw new TypeError("key must be a string but Got "+t)},Object.defineProperty(o.prototype,"MH",{writable:!0}),Object.defineProperty(o.prototype,"DH",{get:function(){return this.hasOwnProperty("$__proto__")&&void 0!==this.PH}}),Object.defineProperty(o.prototype,"PH",{get:function(){return this.MH},set:function(t){this.MH=t}}),o.prototype.get=function(t,e){return this.jH(t),"__proto__"===t?this.DH?this.PH:1<arguments.length?e:this.De(t):t in this.store?this.store[t]:1<arguments.length?e:this.De(t)},o.prototype.set=function(t,e){this.jH(t);var r="__proto__"===t;return(r?this.DH:t in this.store)?(this.LH&&this.HH(t,r?this.PH:this.store[t]),r?this.PH=e:this.store[t]=e,this.LH&&this.UH(t,e),!1):(this.LH&&this.HH(t,void 0),this.length++,r?this.PH=e:this.store[t]=e,this.LH&&this.UH(t,e),!0)},o.prototype.has=function(t){return this.jH(t),"__proto__"===t?this.DH:t in this.store},o.prototype.delete=function(t){return this.jH(t),"__proto__"===t?!!this.DH&&(this.LH&&this.HH(t,this.PH),this.PH=void 0,this.length--,this.LH&&this.UH(t,void 0),!0):t in this.store&&(this.LH&&this.HH(t,this.store[t]),delete this.store[t],this.length--,this.LH&&this.UH(t,void 0),!0)},o.prototype.clear=function(){var t;for(t in this.DH&&(this.LH&&this.HH("__proto__",this.PH),this.PH=void 0,this.LH&&this.UH("__proto__",void 0)),this.store)this.LH&&this.HH(t,this.store[t]),delete this.store[t],this.LH&&this.UH(t,void 0);this.length=0},o.prototype.reduce=function(t,e,r){this.DH&&(e=t.call(r,e,"$__proto__","__proto__",this));var n=this.store;for(var i in this.store)e=t.call(r,e,n[i],i,this);return e},o.prototype.reduceRight=function(t,e,r){var n=this,i=this.store;return e=Object.keys(this.store).reduceRight((function(e,s){return t.call(r,e,i[s],s,n)}),e),this.DH?t.call(r,e,this.PH,"__proto__",n):e},o.prototype.mc=function(){var t;for(t in this.store)return this.store[t];return this.PH},o.prototype.toJSON=function(){return this.dc()}},function(t,e,r){"use strict";var n=r(37),i=r(129),s=r(14);function o(){throw new Error("Can't construct. GenericMap is a mixin.")}function a(t,e){this.key=t,this.value=e}t.exports=o,n.hiveAddEach(o.prototype,i.prototype),n.hiveAddEach(o.prototype,s.prototype),o.prototype.isMap=!0,o.prototype.hiveAddEach=function(t){if(t&&n(t)===t)if("function"==typeof t.forEach)!0===t.isMap?t.forEach((function(t,e){this.set(e,t)}),this):t.forEach((function(t){this.set(t[0],t[1])}),this);else if("number"==typeof t.length)for(var e=0;e<t.length;e++)this.hiveAdd(t[e],e);else n.keys(t).forEach((function(e){this.set(e,t[e])}),this);else if(t&&"number"==typeof t.length)for(e=0;e<t.length;e++)this.hiveAdd(t[e],e);return this},o.prototype.get=function(t,e){var r=this.store.get(new this.FH(t));return r?r.value:1<arguments.length?e:this.De(t)},o.prototype.set=function(t,e){var r=new this.FH(t,e),n=this.store.get(r),i=!1;return n?(this.LH&&this.HH(t,n.value),n.value=e):(this.LH&&this.HH(t,void 0),this.store.hiveAdd(r)&&(this.length++,i=!0)),this.LH&&this.UH(t,e),i},o.prototype.hiveAdd=function(t,e){return this.set(e,t)},o.prototype.has=function(t){return this.store.has(new this.FH(t))},o.prototype.delete=function(t){var e=new this.FH(t);if(this.store.has(e)){var r=this.store.get(e).value;return this.LH&&this.HH(t,r),this.store.delete(e),this.length--,this.LH&&this.UH(t,void 0),!0}return!1},o.prototype.clear=function(){var t;this.LH&&(this.forEach((function(t,e){this.HH(e,t)}),this),t=this.keys()),this.store.clear(),this.length=0,this.LH&&t.forEach((function(t){this.UH(t)}),this)},o.prototype.reduce=function(t,e,r){return this.store.reduce((function(e,n){return t.call(r,e,n.value,n.key,this)}),e,this)},o.prototype.reduceRight=function(t,e,r){return this.store.reduceRight((function(e,n){return t.call(r,e,n.value,n.key,this)}),e,this)},o.prototype.keys=function(){return this.map((function(t,e){return e}))},o.prototype.values=function(){return this.map(Function.identity)},o.prototype.entries=function(){return this.map((function(t,e){return[e,t]}))},o.prototype.items=function(){return this.entries()},o.prototype.equals=function(t,e){return e=e||n.equals,this===t||(t&&"function"==typeof t.every?t.length===this.length&&t.every((function(t,r){return e(this.get(r),t)}),this):n.keys(t).length===this.length&&n.keys(t).every((function(r){return e(this.get(r),t[r])}),this))},o.prototype.toJSON=function(){return this.entries()},(o.prototype.FH=a).prototype.equals=function(t){return n.equals(this.key,t.key)&&n.equals(this.value,t.value)},a.prototype.compare=function(t){return n.compare(this.key,t.key)}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.xH=void 0,e.xH=function(t,e,r,n,i,s){this.id=t,this.qualityLevel=e,this.duration=r,this.url=n,this.NA=i,this.CA=s}},function(t,e,r){var n=r(20),i=window.hive;void 0===i&&(i=window.hive={}),void 0===i.snapshots&&(i.snapshots={}),i.snapshots.RequestType={1:"PREFETCH",GH:1,2:"PLAYER",LS:2},i.snapshots.OriginType={1:"CDN",HR:1,2:"P2P",qa:2,3:"CACHE",YN:3},i.snapshots.Traffic=function(t){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,t&&(void 0!==t.reqN&&null!==t.reqN&&(this.reqN=t.reqN),void 0!==t.respFallbackN&&null!==t.respFallbackN&&(this.respFallbackN=t.respFallbackN),void 0!==t.respFallbackErrN&&null!==t.respFallbackErrN&&(this.respFallbackErrN=t.respFallbackErrN),void 0!==t.respP2pN&&null!==t.respP2pN&&(this.respP2pN=t.respP2pN),void 0!==t.reqOtherN&&null!==t.reqOtherN&&(this.reqOtherN=t.reqOtherN),void 0!==t.respFallbackOtherN&&null!==t.respFallbackOtherN&&(this.respFallbackOtherN=t.respFallbackOtherN),void 0!==t.respFallbackOthertErrN&&null!==t.respFallbackOthertErrN&&(this.respFallbackOthertErrN=t.respFallbackOthertErrN),void 0!==t.srcReqN&&null!==t.srcReqN&&(this.srcReqN=t.srcReqN),void 0!==t.srcRespN&&null!==t.srcRespN&&(this.srcRespN=t.srcRespN),void 0!==t.srcRespErrN&&null!==t.srcRespErrN&&(this.srcRespErrN=t.srcRespErrN),void 0!==t.srcReqQt&&null!==t.srcReqQt&&(this.srcReqQt=t.srcReqQt),void 0!==t.srcRespQt&&null!==t.srcRespQt&&(this.srcRespQt=t.srcRespQt),void 0!==t.srcOverQt&&null!==t.srcOverQt&&(this.srcOverQt=t.srcOverQt),void 0!==t.srcOtherReqN&&null!==t.srcOtherReqN&&(this.srcOtherReqN=t.srcOtherReqN),void 0!==t.srcOtherRespN&&null!==t.srcOtherRespN&&(this.srcOtherRespN=t.srcOtherRespN),void 0!==t.srcOtherRespErrN&&null!==t.srcOtherRespErrN&&(this.srcOtherRespErrN=t.srcOtherRespErrN),void 0!==t.srcOtherReqQt&&null!==t.srcOtherReqQt&&(this.srcOtherReqQt=t.srcOtherReqQt),void 0!==t.srcOtherRespQt&&null!==t.srcOtherRespQt&&(this.srcOtherRespQt=t.srcOtherRespQt),void 0!==t.srcOtherOverQt&&null!==t.srcOtherOverQt&&(this.srcOtherOverQt=t.srcOtherOverQt),void 0!==t.p2pSubReqN&&null!==t.p2pSubReqN&&(this.p2pSubReqN=t.p2pSubReqN),void 0!==t.p2pSubRespN&&null!==t.p2pSubRespN&&(this.p2pSubRespN=t.p2pSubRespN),void 0!==t.p2pSubRespPartN&&null!==t.p2pSubRespPartN&&(this.p2pSubRespPartN=t.p2pSubRespPartN),void 0!==t.p2pSubRespErrN&&null!==t.p2pSubRespErrN&&(this.p2pSubRespErrN=t.p2pSubRespErrN),void 0!==t.p2pSubRespExpN&&null!==t.p2pSubRespExpN&&(this.p2pSubRespExpN=t.p2pSubRespExpN),void 0!==t.p2pSubReqQt&&null!==t.p2pSubReqQt&&(this.p2pSubReqQt=t.p2pSubReqQt),void 0!==t.p2pSubRespQt&&null!==t.p2pSubRespQt&&(this.p2pSubRespQt=t.p2pSubRespQt),void 0!==t.p2pDirectQt&&null!==t.p2pDirectQt&&(this.p2pDirectQt=t.p2pDirectQt),void 0!==t.p2pRelayQt&&null!==t.p2pRelayQt&&(this.p2pRelayQt=t.p2pRelayQt),void 0!==t.p2pNatQt&&null!==t.p2pNatQt&&(this.p2pNatQt=t.p2pNatQt),void 0!==t.p2pUdpbQt&&null!==t.p2pUdpbQt&&(this.p2pUdpbQt=t.p2pUdpbQt),void 0!==t.fallAgentRespN&&null!==t.fallAgentRespN&&(this.fallAgentRespN=t.fallAgentRespN),void 0!==t.fallAgentPredHitN&&null!==t.fallAgentPredHitN&&(this.fallAgentPredHitN=t.fallAgentPredHitN),void 0!==t.fallAgentFailedRespN&&null!==t.fallAgentFailedRespN&&(this.fallAgentFailedRespN=t.fallAgentFailedRespN),void 0!==t.fallAgentPredMissN&&null!==t.fallAgentPredMissN&&(this.fallAgentPredMissN=t.fallAgentPredMissN),void 0!==t.fallAgentPredPartialHitN&&null!==t.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=t.fallAgentPredPartialHitN),void 0!==t.fallAgenTrafficSuccessQt&&null!==t.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=t.fallAgenTrafficSuccessQt),void 0!==t.fallAgenTrafficFailureQt&&null!==t.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=t.fallAgenTrafficFailureQt),void 0!==t.p2pAgentPredHitN&&null!==t.p2pAgentPredHitN&&(this.p2pAgentPredHitN=t.p2pAgentPredHitN),void 0!==t.p2pAgentPredMissN&&null!==t.p2pAgentPredMissN&&(this.p2pAgentPredMissN=t.p2pAgentPredMissN),void 0!==t.p2pAgentPredPartialHitN&&null!==t.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=t.p2pAgentPredPartialHitN),void 0!==t.p2pAgenTrafficSuccessQt&&null!==t.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=t.p2pAgenTrafficSuccessQt),void 0!==t.p2pAgenTrafficFailureQt&&null!==t.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=t.p2pAgenTrafficFailureQt),void 0!==t.respP2pOtherN&&null!==t.respP2pOtherN&&(this.respP2pOtherN=t.respP2pOtherN),void 0!==t.lCacheRespN&&null!==t.lCacheRespN&&(this.lCacheRespN=t.lCacheRespN),void 0!==t.lCacheRespQt&&null!==t.lCacheRespQt&&(this.lCacheRespQt=t.lCacheRespQt),void 0!==t.p2pOutSiteLowPrio&&null!==t.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=t.p2pOutSiteLowPrio))},i.snapshots.Traffic.prototype={},i.snapshots.Traffic.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.reqN=t.LE().value:t.PE(r);break;case 2:r==n.Type.DOUBLE?this.respFallbackN=t.ap().value:t.PE(r);break;case 3:r==n.Type.I32?this.respFallbackErrN=t.LE().value:t.PE(r);break;case 4:r==n.Type.DOUBLE?this.respP2pN=t.ap().value:t.PE(r);break;case 5:r==n.Type.I32?this.reqOtherN=t.LE().value:t.PE(r);break;case 6:r==n.Type.I32?this.respFallbackOtherN=t.LE().value:t.PE(r);break;case 7:r==n.Type.I32?this.respFallbackOthertErrN=t.LE().value:t.PE(r);break;case 8:r==n.Type.I32?this.srcReqN=t.LE().value:t.PE(r);break;case 9:r==n.Type.I32?this.srcRespN=t.LE().value:t.PE(r);break;case 10:r==n.Type.I32?this.srcRespErrN=t.LE().value:t.PE(r);break;case 11:r==n.Type.I64?this.srcReqQt=t.up().value:t.PE(r);break;case 12:r==n.Type.I64?this.srcRespQt=t.up().value:t.PE(r);break;case 13:r==n.Type.I64?this.srcOverQt=t.up().value:t.PE(r);break;case 14:r==n.Type.I32?this.srcOtherReqN=t.LE().value:t.PE(r);break;case 15:r==n.Type.I32?this.srcOtherRespN=t.LE().value:t.PE(r);break;case 16:r==n.Type.I32?this.srcOtherRespErrN=t.LE().value:t.PE(r);break;case 17:r==n.Type.I64?this.srcOtherReqQt=t.up().value:t.PE(r);break;case 18:r==n.Type.I64?this.srcOtherRespQt=t.up().value:t.PE(r);break;case 19:r==n.Type.I64?this.srcOtherOverQt=t.up().value:t.PE(r);break;case 20:r==n.Type.I32?this.p2pSubReqN=t.LE().value:t.PE(r);break;case 21:r==n.Type.I32?this.p2pSubRespN=t.LE().value:t.PE(r);break;case 22:r==n.Type.DOUBLE?this.p2pSubRespPartN=t.ap().value:t.PE(r);break;case 23:r==n.Type.DOUBLE?this.p2pSubRespErrN=t.ap().value:t.PE(r);break;case 24:r==n.Type.I32?this.p2pSubRespExpN=t.LE().value:t.PE(r);break;case 25:r==n.Type.I64?this.p2pSubReqQt=t.up().value:t.PE(r);break;case 26:r==n.Type.I64?this.p2pSubRespQt=t.up().value:t.PE(r);break;case 27:r==n.Type.I64?this.p2pDirectQt=t.up().value:t.PE(r);break;case 28:r==n.Type.I64?this.p2pRelayQt=t.up().value:t.PE(r);break;case 29:r==n.Type.I64?this.p2pNatQt=t.up().value:t.PE(r);break;case 30:r==n.Type.I64?this.p2pUdpbQt=t.up().value:t.PE(r);break;case 31:r==n.Type.I32?this.fallAgentRespN=t.LE().value:t.PE(r);break;case 32:r==n.Type.I32?this.fallAgentPredHitN=t.LE().value:t.PE(r);break;case 33:r==n.Type.I32?this.fallAgentFailedRespN=t.LE().value:t.PE(r);break;case 34:r==n.Type.I32?this.fallAgentPredMissN=t.LE().value:t.PE(r);break;case 35:r==n.Type.I32?this.fallAgentPredPartialHitN=t.LE().value:t.PE(r);break;case 36:r==n.Type.I64?this.fallAgenTrafficSuccessQt=t.up().value:t.PE(r);break;case 37:r==n.Type.I64?this.fallAgenTrafficFailureQt=t.up().value:t.PE(r);break;case 38:r==n.Type.I32?this.p2pAgentPredHitN=t.LE().value:t.PE(r);break;case 39:r==n.Type.I32?this.p2pAgentPredMissN=t.LE().value:t.PE(r);break;case 40:r==n.Type.I32?this.p2pAgentPredPartialHitN=t.LE().value:t.PE(r);break;case 41:r==n.Type.I64?this.p2pAgenTrafficSuccessQt=t.up().value:t.PE(r);break;case 42:r==n.Type.I64?this.p2pAgenTrafficFailureQt=t.up().value:t.PE(r);break;case 43:r==n.Type.I32?this.respP2pOtherN=t.LE().value:t.PE(r);break;case 44:r==n.Type.I32?this.lCacheRespN=t.LE().value:t.PE(r);break;case 45:r==n.Type.I64?this.lCacheRespQt=t.up().value:t.PE(r);break;case 46:r==n.Type.I64?this.p2pOutSiteLowPrio=t.up().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.Traffic.prototype.write=function(t){t.FE("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(t.xE("reqN",n.Type.I32,1),t.BE(this.reqN),t.VE()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(t.xE("respFallbackN",n.Type.DOUBLE,2),t.Gw(this.respFallbackN),t.VE()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(t.xE("respFallbackErrN",n.Type.I32,3),t.BE(this.respFallbackErrN),t.VE()),null!==this.respP2pN&&void 0!==this.respP2pN&&(t.xE("respP2pN",n.Type.DOUBLE,4),t.Gw(this.respP2pN),t.VE()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(t.xE("reqOtherN",n.Type.I32,5),t.BE(this.reqOtherN),t.VE()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(t.xE("respFallbackOtherN",n.Type.I32,6),t.BE(this.respFallbackOtherN),t.VE()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(t.xE("respFallbackOthertErrN",n.Type.I32,7),t.BE(this.respFallbackOthertErrN),t.VE()),null!==this.srcReqN&&void 0!==this.srcReqN&&(t.xE("srcReqN",n.Type.I32,8),t.BE(this.srcReqN),t.VE()),null!==this.srcRespN&&void 0!==this.srcRespN&&(t.xE("srcRespN",n.Type.I32,9),t.BE(this.srcRespN),t.VE()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(t.xE("srcRespErrN",n.Type.I32,10),t.BE(this.srcRespErrN),t.VE()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(t.xE("srcReqQt",n.Type.I64,11),t.xw(this.srcReqQt),t.VE()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(t.xE("srcRespQt",n.Type.I64,12),t.xw(this.srcRespQt),t.VE()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(t.xE("srcOverQt",n.Type.I64,13),t.xw(this.srcOverQt),t.VE()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(t.xE("srcOtherReqN",n.Type.I32,14),t.BE(this.srcOtherReqN),t.VE()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(t.xE("srcOtherRespN",n.Type.I32,15),t.BE(this.srcOtherRespN),t.VE()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(t.xE("srcOtherRespErrN",n.Type.I32,16),t.BE(this.srcOtherRespErrN),t.VE()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(t.xE("srcOtherReqQt",n.Type.I64,17),t.xw(this.srcOtherReqQt),t.VE()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(t.xE("srcOtherRespQt",n.Type.I64,18),t.xw(this.srcOtherRespQt),t.VE()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(t.xE("srcOtherOverQt",n.Type.I64,19),t.xw(this.srcOtherOverQt),t.VE()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(t.xE("p2pSubReqN",n.Type.I32,20),t.BE(this.p2pSubReqN),t.VE()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(t.xE("p2pSubRespN",n.Type.I32,21),t.BE(this.p2pSubRespN),t.VE()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(t.xE("p2pSubRespPartN",n.Type.DOUBLE,22),t.Gw(this.p2pSubRespPartN),t.VE()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(t.xE("p2pSubRespErrN",n.Type.DOUBLE,23),t.Gw(this.p2pSubRespErrN),t.VE()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(t.xE("p2pSubRespExpN",n.Type.I32,24),t.BE(this.p2pSubRespExpN),t.VE()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(t.xE("p2pSubReqQt",n.Type.I64,25),t.xw(this.p2pSubReqQt),t.VE()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(t.xE("p2pSubRespQt",n.Type.I64,26),t.xw(this.p2pSubRespQt),t.VE()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(t.xE("p2pDirectQt",n.Type.I64,27),t.xw(this.p2pDirectQt),t.VE()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(t.xE("p2pRelayQt",n.Type.I64,28),t.xw(this.p2pRelayQt),t.VE()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(t.xE("p2pNatQt",n.Type.I64,29),t.xw(this.p2pNatQt),t.VE()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(t.xE("p2pUdpbQt",n.Type.I64,30),t.xw(this.p2pUdpbQt),t.VE()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(t.xE("fallAgentRespN",n.Type.I32,31),t.BE(this.fallAgentRespN),t.VE()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(t.xE("fallAgentPredHitN",n.Type.I32,32),t.BE(this.fallAgentPredHitN),t.VE()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(t.xE("fallAgentFailedRespN",n.Type.I32,33),t.BE(this.fallAgentFailedRespN),t.VE()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(t.xE("fallAgentPredMissN",n.Type.I32,34),t.BE(this.fallAgentPredMissN),t.VE()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(t.xE("fallAgentPredPartialHitN",n.Type.I32,35),t.BE(this.fallAgentPredPartialHitN),t.VE()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(t.xE("fallAgenTrafficSuccessQt",n.Type.I64,36),t.xw(this.fallAgenTrafficSuccessQt),t.VE()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(t.xE("fallAgenTrafficFailureQt",n.Type.I64,37),t.xw(this.fallAgenTrafficFailureQt),t.VE()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(t.xE("p2pAgentPredHitN",n.Type.I32,38),t.BE(this.p2pAgentPredHitN),t.VE()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(t.xE("p2pAgentPredMissN",n.Type.I32,39),t.BE(this.p2pAgentPredMissN),t.VE()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(t.xE("p2pAgentPredPartialHitN",n.Type.I32,40),t.BE(this.p2pAgentPredPartialHitN),t.VE()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(t.xE("p2pAgenTrafficSuccessQt",n.Type.I64,41),t.xw(this.p2pAgenTrafficSuccessQt),t.VE()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(t.xE("p2pAgenTrafficFailureQt",n.Type.I64,42),t.xw(this.p2pAgenTrafficFailureQt),t.VE()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(t.xE("respP2pOtherN",n.Type.I32,43),t.BE(this.respP2pOtherN),t.VE()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(t.xE("lCacheRespN",n.Type.I32,44),t.BE(this.lCacheRespN),t.VE()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(t.xE("lCacheRespQt",n.Type.I64,45),t.xw(this.lCacheRespQt),t.VE()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(t.xE("p2pOutSiteLowPrio",n.Type.I64,46),t.xw(this.p2pOutSiteLowPrio),t.VE()),t.qE(),t.QE()},i.snapshots.FragmentMetadata=function(t){this.url=null,this.size=null,this.duration=null,this.qualityLevelId=null,this.contentType=null,this.prefetched=null,this.downloadTime=null,t&&(void 0!==t.url&&null!==t.url&&(this.url=t.url),void 0!==t.size&&null!==t.size&&(this.size=t.size),void 0!==t.duration&&null!==t.duration&&(this.duration=t.duration),void 0!==t.qualityLevelId&&null!==t.qualityLevelId&&(this.qualityLevelId=t.qualityLevelId),void 0!==t.contentType&&null!==t.contentType&&(this.contentType=t.contentType),void 0!==t.prefetched&&null!==t.prefetched&&(this.prefetched=t.prefetched),void 0!==t.downloadTime&&null!==t.downloadTime&&(this.downloadTime=t.downloadTime))},i.snapshots.FragmentMetadata.prototype={},i.snapshots.FragmentMetadata.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.url=t.DE().value:t.PE(r);break;case 2:r==n.Type.I32?this.size=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.duration=t.LE().value:t.PE(r);break;case 4:r==n.Type.STRING?this.qualityLevelId=t.DE().value:t.PE(r);break;case 5:r==n.Type.I32?this.contentType=t.LE().value:t.PE(r);break;case 6:r==n.Type.BOOL?this.prefetched=t.ep().value:t.PE(r);break;case 7:r==n.Type.I32?this.downloadTime=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.FragmentMetadata.prototype.write=function(t){t.FE("FragmentMetadata"),null!==this.url&&void 0!==this.url&&(t.xE("url",n.Type.STRING,1),t.GE(this.url),t.VE()),null!==this.size&&void 0!==this.size&&(t.xE("size",n.Type.I32,2),t.BE(this.size),t.VE()),null!==this.duration&&void 0!==this.duration&&(t.xE("duration",n.Type.I32,3),t.BE(this.duration),t.VE()),null!==this.qualityLevelId&&void 0!==this.qualityLevelId&&(t.xE("qualityLevelId",n.Type.STRING,4),t.GE(this.qualityLevelId),t.VE()),null!==this.contentType&&void 0!==this.contentType&&(t.xE("contentType",n.Type.I32,5),t.BE(this.contentType),t.VE()),null!==this.prefetched&&void 0!==this.prefetched&&(t.xE("prefetched",n.Type.BOOL,6),t.Hw(this.prefetched),t.VE()),null!==this.downloadTime&&void 0!==this.downloadTime&&(t.xE("downloadTime",n.Type.I32,7),t.BE(this.downloadTime),t.VE()),t.qE(),t.QE()},i.snapshots.FragmentDownload=function(t){this.fragmentUrl=null,this.qualityLevelId=null,this.type=null,this.startTimestamp=null,this.endTimestamp=null,this.origin=null,t&&(void 0!==t.fragmentUrl&&null!==t.fragmentUrl&&(this.fragmentUrl=t.fragmentUrl),void 0!==t.qualityLevelId&&null!==t.qualityLevelId&&(this.qualityLevelId=t.qualityLevelId),void 0!==t.type&&null!==t.type&&(this.type=t.type),void 0!==t.startTimestamp&&null!==t.startTimestamp&&(this.startTimestamp=t.startTimestamp),void 0!==t.endTimestamp&&null!==t.endTimestamp&&(this.endTimestamp=t.endTimestamp),void 0!==t.origin&&null!==t.origin&&(this.origin=t.origin))},i.snapshots.FragmentDownload.prototype={},i.snapshots.FragmentDownload.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.fragmentUrl=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRING?this.qualityLevelId=t.DE().value:t.PE(r);break;case 3:r==n.Type.I32?this.type=t.LE().value:t.PE(r);break;case 4:r==n.Type.I64?this.startTimestamp=t.up().value:t.PE(r);break;case 5:r==n.Type.I64?this.endTimestamp=t.up().value:t.PE(r);break;case 6:r==n.Type.I32?this.origin=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.FragmentDownload.prototype.write=function(t){t.FE("FragmentDownload"),null!==this.fragmentUrl&&void 0!==this.fragmentUrl&&(t.xE("fragmentUrl",n.Type.STRING,1),t.GE(this.fragmentUrl),t.VE()),null!==this.qualityLevelId&&void 0!==this.qualityLevelId&&(t.xE("qualityLevelId",n.Type.STRING,2),t.GE(this.qualityLevelId),t.VE()),null!==this.type&&void 0!==this.type&&(t.xE("type",n.Type.I32,3),t.BE(this.type),t.VE()),null!==this.startTimestamp&&void 0!==this.startTimestamp&&(t.xE("startTimestamp",n.Type.I64,4),t.xw(this.startTimestamp),t.VE()),null!==this.endTimestamp&&void 0!==this.endTimestamp&&(t.xE("endTimestamp",n.Type.I64,5),t.xw(this.endTimestamp),t.VE()),null!==this.origin&&void 0!==this.origin&&(t.xE("origin",n.Type.I32,6),t.BE(this.origin),t.VE()),t.qE(),t.QE()},i.snapshots.QualityLevel=function(t){this.id=null,this.bitrates=null,this.width=null,this.height=null,this.label=null,this.filtered=null,t&&(void 0!==t.id&&null!==t.id&&(this.id=t.id),void 0!==t.bitrates&&null!==t.bitrates&&(this.bitrates=n.bp(t.bitrates,[null])),void 0!==t.width&&null!==t.width&&(this.width=t.width),void 0!==t.height&&null!==t.height&&(this.height=t.height),void 0!==t.label&&null!==t.label&&(this.label=t.label),void 0!==t.filtered&&null!==t.filtered&&(this.filtered=t.filtered))},i.snapshots.QualityLevel.prototype={},i.snapshots.QualityLevel.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.id=t.DE().value:t.PE(r);break;case 2:if(r==n.Type.LIST){var s,o;this.bitrates=[],(o=t.Zw()).tp,s=o.size;for(var a=0;a<s;++a){var l;l=t.LE().value,this.bitrates.push(l)}t.np()}else t.PE(r);break;case 3:r==n.Type.I32?this.width=t.LE().value:t.PE(r);break;case 4:r==n.Type.I32?this.height=t.LE().value:t.PE(r);break;case 5:r==n.Type.STRING?this.label=t.DE().value:t.PE(r);break;case 6:r==n.Type.BOOL?this.filtered=t.ep().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.QualityLevel.prototype.write=function(t){if(t.FE("QualityLevel"),null!==this.id&&void 0!==this.id&&(t.xE("id",n.Type.STRING,1),t.GE(this.id),t.VE()),null!==this.bitrates&&void 0!==this.bitrates){for(var e in t.xE("bitrates",n.Type.LIST,2),t.Mw(n.Type.I32,this.bitrates.length),this.bitrates)this.bitrates.hasOwnProperty(e)&&(e=this.bitrates[e],t.BE(e));t.Dw(),t.VE()}null!==this.width&&void 0!==this.width&&(t.xE("width",n.Type.I32,3),t.BE(this.width),t.VE()),null!==this.height&&void 0!==this.height&&(t.xE("height",n.Type.I32,4),t.BE(this.height),t.VE()),null!==this.label&&void 0!==this.label&&(t.xE("label",n.Type.STRING,5),t.GE(this.label),t.VE()),null!==this.filtered&&void 0!==this.filtered&&(t.xE("filtered",n.Type.BOOL,6),t.Hw(this.filtered),t.VE()),t.qE(),t.QE()},i.snapshots.Metrics=function(t){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,this.sourceLatency=null,t&&(void 0!==t.upBW&&null!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&null!==t.downBW&&(this.downBW=t.downBW),void 0!==t.memN&&null!==t.memN&&(this.memN=t.memN),void 0!==t.prtInN&&null!==t.prtInN&&(this.prtInN=t.prtInN),void 0!==t.prtOutN&&null!==t.prtOutN&&(this.prtOutN=t.prtOutN),void 0!==t.initVideoBufQt&&null!==t.initVideoBufQt&&(this.initVideoBufQt=t.initVideoBufQt),void 0!==t.videoAvgBufQt&&null!==t.videoAvgBufQt&&(this.videoAvgBufQt=t.videoAvgBufQt),void 0!==t.videoBufQt&&null!==t.videoBufQt&&(this.videoBufQt=t.videoBufQt),void 0!==t.videoBufN&&null!==t.videoBufN&&(this.videoBufN=t.videoBufN),void 0!==t.initAudioBufQt&&null!==t.initAudioBufQt&&(this.initAudioBufQt=t.initAudioBufQt),void 0!==t.audioAvgBufQt&&null!==t.audioAvgBufQt&&(this.audioAvgBufQt=t.audioAvgBufQt),void 0!==t.audioBufQt&&null!==t.audioBufQt&&(this.audioBufQt=t.audioBufQt),void 0!==t.audioBufN&&null!==t.audioBufN&&(this.audioBufN=t.audioBufN),void 0!==t.bitrateUpN&&null!==t.bitrateUpN&&(this.bitrateUpN=t.bitrateUpN),void 0!==t.bitrateDwnN&&null!==t.bitrateDwnN&&(this.bitrateDwnN=t.bitrateDwnN),void 0!==t.delay&&null!==t.delay&&(this.delay=t.delay),void 0!==t.delayEnforcement&&null!==t.delayEnforcement&&(this.delayEnforcement=t.delayEnforcement),void 0!==t.lookupReqEstablished&&null!==t.lookupReqEstablished&&(this.lookupReqEstablished=t.lookupReqEstablished),void 0!==t.lookupReqAccept&&null!==t.lookupReqAccept&&(this.lookupReqAccept=t.lookupReqAccept),void 0!==t.fallbackAvgTp&&null!==t.fallbackAvgTp&&(this.fallbackAvgTp=t.fallbackAvgTp),void 0!==t.srcThroughput&&null!==t.srcThroughput&&(this.srcThroughput=t.srcThroughput),void 0!==t.diskReadTimeout&&null!==t.diskReadTimeout&&(this.diskReadTimeout=t.diskReadTimeout),void 0!==t.diskReadRate&&null!==t.diskReadRate&&(this.diskReadRate=t.diskReadRate),void 0!==t.diskStoreRate&&null!==t.diskStoreRate&&(this.diskStoreRate=t.diskStoreRate),void 0!==t.diskRemoveRate&&null!==t.diskRemoveRate&&(this.diskRemoveRate=t.diskRemoveRate),void 0!==t.diskCacheSize&&null!==t.diskCacheSize&&(this.diskCacheSize=t.diskCacheSize),void 0!==t.clientBufferMs&&null!==t.clientBufferMs&&(this.clientBufferMs=t.clientBufferMs),void 0!==t.lookupTotal&&null!==t.lookupTotal&&(this.lookupTotal=t.lookupTotal),void 0!==t.lookupNotFound&&null!==t.lookupNotFound&&(this.lookupNotFound=t.lookupNotFound),void 0!==t.lookupFailed&&null!==t.lookupFailed&&(this.lookupFailed=t.lookupFailed),void 0!==t.lookupLatency&&null!==t.lookupLatency&&(this.lookupLatency=t.lookupLatency),void 0!==t.trackerFailed&&null!==t.trackerFailed&&(this.trackerFailed=t.trackerFailed),void 0!==t.trackerLatency&&null!==t.trackerLatency&&(this.trackerLatency=t.trackerLatency),void 0!==t.snapshotFailed&&null!==t.snapshotFailed&&(this.snapshotFailed=t.snapshotFailed),void 0!==t.snapshotLatency&&null!==t.snapshotLatency&&(this.snapshotLatency=t.snapshotLatency),void 0!==t.sourceLatency&&null!==t.sourceLatency&&(this.sourceLatency=t.sourceLatency))},i.snapshots.Metrics.prototype={},i.snapshots.Metrics.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.upBW=t.LE().value:t.PE(r);break;case 2:r==n.Type.I32?this.downBW=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.memN=t.LE().value:t.PE(r);break;case 4:r==n.Type.I32?this.prtInN=t.LE().value:t.PE(r);break;case 5:r==n.Type.I32?this.prtOutN=t.LE().value:t.PE(r);break;case 6:r==n.Type.I64?this.initVideoBufQt=t.up().value:t.PE(r);break;case 7:r==n.Type.DOUBLE?this.videoAvgBufQt=t.ap().value:t.PE(r);break;case 8:r==n.Type.I64?this.videoBufQt=t.up().value:t.PE(r);break;case 9:r==n.Type.I32?this.videoBufN=t.LE().value:t.PE(r);break;case 10:r==n.Type.I32?this.initAudioBufQt=t.LE().value:t.PE(r);break;case 11:r==n.Type.DOUBLE?this.audioAvgBufQt=t.ap().value:t.PE(r);break;case 12:r==n.Type.I64?this.audioBufQt=t.up().value:t.PE(r);break;case 13:r==n.Type.I32?this.audioBufN=t.LE().value:t.PE(r);break;case 14:r==n.Type.I32?this.bitrateUpN=t.LE().value:t.PE(r);break;case 15:r==n.Type.I32?this.bitrateDwnN=t.LE().value:t.PE(r);break;case 16:r==n.Type.I32?this.delay=t.LE().value:t.PE(r);break;case 17:r==n.Type.I32?this.delayEnforcement=t.LE().value:t.PE(r);break;case 18:r==n.Type.I32?this.lookupReqEstablished=t.LE().value:t.PE(r);break;case 19:r==n.Type.I32?this.lookupReqAccept=t.LE().value:t.PE(r);break;case 20:r==n.Type.DOUBLE?this.fallbackAvgTp=t.ap().value:t.PE(r);break;case 21:r==n.Type.DOUBLE?this.srcThroughput=t.ap().value:t.PE(r);break;case 22:r==n.Type.I32?this.diskReadTimeout=t.LE().value:t.PE(r);break;case 23:r==n.Type.DOUBLE?this.diskReadRate=t.ap().value:t.PE(r);break;case 24:r==n.Type.DOUBLE?this.diskStoreRate=t.ap().value:t.PE(r);break;case 25:r==n.Type.DOUBLE?this.diskRemoveRate=t.ap().value:t.PE(r);break;case 26:r==n.Type.I64?this.diskCacheSize=t.up().value:t.PE(r);break;case 27:r==n.Type.I32?this.clientBufferMs=t.LE().value:t.PE(r);break;case 28:r==n.Type.I32?this.lookupTotal=t.LE().value:t.PE(r);break;case 29:r==n.Type.I32?this.lookupNotFound=t.LE().value:t.PE(r);break;case 30:r==n.Type.I32?this.lookupFailed=t.LE().value:t.PE(r);break;case 31:r==n.Type.I32?this.lookupLatency=t.LE().value:t.PE(r);break;case 32:r==n.Type.I32?this.trackerFailed=t.LE().value:t.PE(r);break;case 33:r==n.Type.I32?this.trackerLatency=t.LE().value:t.PE(r);break;case 34:r==n.Type.I32?this.snapshotFailed=t.LE().value:t.PE(r);break;case 35:r==n.Type.I32?this.snapshotLatency=t.LE().value:t.PE(r);break;case 36:r==n.Type.I32?this.sourceLatency=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.Metrics.prototype.write=function(t){t.FE("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(t.xE("upBW",n.Type.I32,1),t.BE(this.upBW),t.VE()),null!==this.downBW&&void 0!==this.downBW&&(t.xE("downBW",n.Type.I32,2),t.BE(this.downBW),t.VE()),null!==this.memN&&void 0!==this.memN&&(t.xE("memN",n.Type.I32,3),t.BE(this.memN),t.VE()),null!==this.prtInN&&void 0!==this.prtInN&&(t.xE("prtInN",n.Type.I32,4),t.BE(this.prtInN),t.VE()),null!==this.prtOutN&&void 0!==this.prtOutN&&(t.xE("prtOutN",n.Type.I32,5),t.BE(this.prtOutN),t.VE()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(t.xE("initVideoBufQt",n.Type.I64,6),t.xw(this.initVideoBufQt),t.VE()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(t.xE("videoAvgBufQt",n.Type.DOUBLE,7),t.Gw(this.videoAvgBufQt),t.VE()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(t.xE("videoBufQt",n.Type.I64,8),t.xw(this.videoBufQt),t.VE()),null!==this.videoBufN&&void 0!==this.videoBufN&&(t.xE("videoBufN",n.Type.I32,9),t.BE(this.videoBufN),t.VE()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(t.xE("initAudioBufQt",n.Type.I32,10),t.BE(this.initAudioBufQt),t.VE()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(t.xE("audioAvgBufQt",n.Type.DOUBLE,11),t.Gw(this.audioAvgBufQt),t.VE()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(t.xE("audioBufQt",n.Type.I64,12),t.xw(this.audioBufQt),t.VE()),null!==this.audioBufN&&void 0!==this.audioBufN&&(t.xE("audioBufN",n.Type.I32,13),t.BE(this.audioBufN),t.VE()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(t.xE("bitrateUpN",n.Type.I32,14),t.BE(this.bitrateUpN),t.VE()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(t.xE("bitrateDwnN",n.Type.I32,15),t.BE(this.bitrateDwnN),t.VE()),null!==this.delay&&void 0!==this.delay&&(t.xE("delay",n.Type.I32,16),t.BE(this.delay),t.VE()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(t.xE("delayEnforcement",n.Type.I32,17),t.BE(this.delayEnforcement),t.VE()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(t.xE("lookupReqEstablished",n.Type.I32,18),t.BE(this.lookupReqEstablished),t.VE()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(t.xE("lookupReqAccept",n.Type.I32,19),t.BE(this.lookupReqAccept),t.VE()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(t.xE("fallbackAvgTp",n.Type.DOUBLE,20),t.Gw(this.fallbackAvgTp),t.VE()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(t.xE("srcThroughput",n.Type.DOUBLE,21),t.Gw(this.srcThroughput),t.VE()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(t.xE("diskReadTimeout",n.Type.I32,22),t.BE(this.diskReadTimeout),t.VE()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(t.xE("diskReadRate",n.Type.DOUBLE,23),t.Gw(this.diskReadRate),t.VE()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(t.xE("diskStoreRate",n.Type.DOUBLE,24),t.Gw(this.diskStoreRate),t.VE()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(t.xE("diskRemoveRate",n.Type.DOUBLE,25),t.Gw(this.diskRemoveRate),t.VE()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(t.xE("diskCacheSize",n.Type.I64,26),t.xw(this.diskCacheSize),t.VE()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(t.xE("clientBufferMs",n.Type.I32,27),t.BE(this.clientBufferMs),t.VE()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(t.xE("lookupTotal",n.Type.I32,28),t.BE(this.lookupTotal),t.VE()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(t.xE("lookupNotFound",n.Type.I32,29),t.BE(this.lookupNotFound),t.VE()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(t.xE("lookupFailed",n.Type.I32,30),t.BE(this.lookupFailed),t.VE()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(t.xE("lookupLatency",n.Type.I32,31),t.BE(this.lookupLatency),t.VE()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(t.xE("trackerFailed",n.Type.I32,32),t.BE(this.trackerFailed),t.VE()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(t.xE("trackerLatency",n.Type.I32,33),t.BE(this.trackerLatency),t.VE()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(t.xE("snapshotFailed",n.Type.I32,34),t.BE(this.snapshotFailed),t.VE()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(t.xE("snapshotLatency",n.Type.I32,35),t.BE(this.snapshotLatency),t.VE()),null!==this.sourceLatency&&void 0!==this.sourceLatency&&(t.xE("sourceLatency",n.Type.I32,36),t.BE(this.sourceLatency),t.VE()),t.qE(),t.QE()},i.snapshots.PartnerTraffic=function(t){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,t&&(void 0!==t.p2pSuccReq&&null!==t.p2pSuccReq&&(this.p2pSuccReq=t.p2pSuccReq),void 0!==t.p2pFailReq&&null!==t.p2pFailReq&&(this.p2pFailReq=t.p2pFailReq),void 0!==t.p2pPartReq&&null!==t.p2pPartReq&&(this.p2pPartReq=t.p2pPartReq),void 0!==t.p2pSuccReceived&&null!==t.p2pSuccReceived&&(this.p2pSuccReceived=t.p2pSuccReceived),void 0!==t.p2pSuccReceivedLow&&null!==t.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=t.p2pSuccReceivedLow),void 0!==t.p2pFailReceived&&null!==t.p2pFailReceived&&(this.p2pFailReceived=t.p2pFailReceived),void 0!==t.p2pSuccResp&&null!==t.p2pSuccResp&&(this.p2pSuccResp=t.p2pSuccResp),void 0!==t.p2pFailResp&&null!==t.p2pFailResp&&(this.p2pFailResp=t.p2pFailResp),void 0!==t.p2pPartResp&&null!==t.p2pPartResp&&(this.p2pPartResp=t.p2pPartResp),void 0!==t.p2pSuccSent&&null!==t.p2pSuccSent&&(this.p2pSuccSent=t.p2pSuccSent),void 0!==t.p2pSuccSentLow&&null!==t.p2pSuccSentLow&&(this.p2pSuccSentLow=t.p2pSuccSentLow),void 0!==t.p2pFailSent&&null!==t.p2pFailSent&&(this.p2pFailSent=t.p2pFailSent))},i.snapshots.PartnerTraffic.prototype={},i.snapshots.PartnerTraffic.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I64?this.p2pSuccReq=t.up().value:t.PE(r);break;case 2:r==n.Type.I64?this.p2pFailReq=t.up().value:t.PE(r);break;case 3:r==n.Type.I64?this.p2pPartReq=t.up().value:t.PE(r);break;case 4:r==n.Type.I64?this.p2pSuccReceived=t.up().value:t.PE(r);break;case 5:r==n.Type.I64?this.p2pSuccReceivedLow=t.up().value:t.PE(r);break;case 10:r==n.Type.I64?this.p2pFailReceived=t.up().value:t.PE(r);break;case 6:r==n.Type.I64?this.p2pSuccResp=t.up().value:t.PE(r);break;case 11:r==n.Type.I64?this.p2pFailResp=t.up().value:t.PE(r);break;case 7:r==n.Type.I64?this.p2pPartResp=t.up().value:t.PE(r);break;case 8:r==n.Type.I64?this.p2pSuccSent=t.up().value:t.PE(r);break;case 9:r==n.Type.I64?this.p2pSuccSentLow=t.up().value:t.PE(r);break;case 12:r==n.Type.I64?this.p2pFailSent=t.up().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.PartnerTraffic.prototype.write=function(t){t.FE("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(t.xE("p2pSuccReq",n.Type.I64,1),t.xw(this.p2pSuccReq),t.VE()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(t.xE("p2pFailReq",n.Type.I64,2),t.xw(this.p2pFailReq),t.VE()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(t.xE("p2pPartReq",n.Type.I64,3),t.xw(this.p2pPartReq),t.VE()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(t.xE("p2pSuccReceived",n.Type.I64,4),t.xw(this.p2pSuccReceived),t.VE()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(t.xE("p2pSuccReceivedLow",n.Type.I64,5),t.xw(this.p2pSuccReceivedLow),t.VE()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(t.xE("p2pFailReceived",n.Type.I64,10),t.xw(this.p2pFailReceived),t.VE()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(t.xE("p2pSuccResp",n.Type.I64,6),t.xw(this.p2pSuccResp),t.VE()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(t.xE("p2pFailResp",n.Type.I64,11),t.xw(this.p2pFailResp),t.VE()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(t.xE("p2pPartResp",n.Type.I64,7),t.xw(this.p2pPartResp),t.VE()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(t.xE("p2pSuccSent",n.Type.I64,8),t.xw(this.p2pSuccSent),t.VE()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(t.xE("p2pSuccSentLow",n.Type.I64,9),t.xw(this.p2pSuccSentLow),t.VE()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(t.xE("p2pFailSent",n.Type.I64,12),t.xw(this.p2pFailSent),t.VE()),t.qE(),t.QE()},i.snapshots.PartnerMetrics=function(t){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,t&&(void 0!==t.rateReceived&&null!==t.rateReceived&&(this.rateReceived=t.rateReceived),void 0!==t.rateSent&&null!==t.rateSent&&(this.rateSent=t.rateSent),void 0!==t.handshakeDelay&&null!==t.handshakeDelay&&(this.handshakeDelay=t.handshakeDelay))},i.snapshots.PartnerMetrics.prototype={},i.snapshots.PartnerMetrics.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.DOUBLE?this.rateReceived=t.ap().value:t.PE(r);break;case 2:r==n.Type.DOUBLE?this.rateSent=t.ap().value:t.PE(r);break;case 3:r==n.Type.I64?this.handshakeDelay=t.up().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.PartnerMetrics.prototype.write=function(t){t.FE("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(t.xE("rateReceived",n.Type.DOUBLE,1),t.Gw(this.rateReceived),t.VE()),null!==this.rateSent&&void 0!==this.rateSent&&(t.xE("rateSent",n.Type.DOUBLE,2),t.Gw(this.rateSent),t.VE()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(t.xE("handshakeDelay",n.Type.I64,3),t.xw(this.handshakeDelay),t.VE()),t.qE(),t.QE()},i.snapshots.ConnectivityInfo=function(t){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,this.localityGroupId=null,this.isVpn=null,t&&(void 0!==t.upBW&&null!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&null!==t.downBW&&(this.downBW=t.downBW),void 0!==t.externalAs&&null!==t.externalAs&&(this.externalAs=t.externalAs),void 0!==t.internalAs&&null!==t.internalAs&&(this.internalAs=t.internalAs),void 0!==t.publicIp&&null!==t.publicIp&&(this.publicIp=t.publicIp),void 0!==t.privateIp&&null!==t.privateIp&&(this.privateIp=t.privateIp),void 0!==t.localityGroupId&&null!==t.localityGroupId&&(this.localityGroupId=t.localityGroupId),void 0!==t.isVpn&&null!==t.isVpn&&(this.isVpn=t.isVpn))},i.snapshots.ConnectivityInfo.prototype={},i.snapshots.ConnectivityInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.upBW=t.LE().value:t.PE(r);break;case 2:r==n.Type.I32?this.downBW=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.externalAs=t.LE().value:t.PE(r);break;case 4:r==n.Type.I32?this.internalAs=t.LE().value:t.PE(r);break;case 5:r==n.Type.STRING?this.publicIp=t.DE().value:t.PE(r);break;case 6:r==n.Type.STRING?this.privateIp=t.DE().value:t.PE(r);break;case 7:r==n.Type.I32?this.localityGroupId=t.LE().value:t.PE(r);break;case 8:r==n.Type.BOOL?this.isVpn=t.ep().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.ConnectivityInfo.prototype.write=function(t){t.FE("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(t.xE("upBW",n.Type.I32,1),t.BE(this.upBW),t.VE()),null!==this.downBW&&void 0!==this.downBW&&(t.xE("downBW",n.Type.I32,2),t.BE(this.downBW),t.VE()),null!==this.externalAs&&void 0!==this.externalAs&&(t.xE("externalAs",n.Type.I32,3),t.BE(this.externalAs),t.VE()),null!==this.internalAs&&void 0!==this.internalAs&&(t.xE("internalAs",n.Type.I32,4),t.BE(this.internalAs),t.VE()),null!==this.publicIp&&void 0!==this.publicIp&&(t.xE("publicIp",n.Type.STRING,5),t.GE(this.publicIp),t.VE()),null!==this.privateIp&&void 0!==this.privateIp&&(t.xE("privateIp",n.Type.STRING,6),t.GE(this.privateIp),t.VE()),null!==this.localityGroupId&&void 0!==this.localityGroupId&&(t.xE("localityGroupId",n.Type.I32,7),t.BE(this.localityGroupId),t.VE()),null!==this.isVpn&&void 0!==this.isVpn&&(t.xE("isVpn",n.Type.BOOL,8),t.Hw(this.isVpn),t.VE()),t.qE(),t.QE()},i.snapshots.Partner=function(t){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,t&&(void 0!==t.connInfo&&null!==t.connInfo&&(this.connInfo=new i.snapshots.ConnectivityInfo(t.connInfo)),void 0!==t.traffic&&null!==t.traffic&&(this.traffic=new i.snapshots.PartnerTraffic(t.traffic)),void 0!==t.metrics&&null!==t.metrics&&(this.metrics=new i.snapshots.PartnerMetrics(t.metrics)),void 0!==t.inPart&&null!==t.inPart&&(this.inPart=t.inPart),void 0!==t.outPart&&null!==t.outPart&&(this.outPart=t.outPart),void 0!==t.udp&&null!==t.udp&&(this.udp=t.udp))},i.snapshots.Partner.prototype={},i.snapshots.Partner.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.STRUCT?(this.connInfo=new i.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.PE(r);break;case 2:r==n.Type.STRUCT?(this.traffic=new i.snapshots.PartnerTraffic,this.traffic.read(t)):t.PE(r);break;case 3:r==n.Type.STRUCT?(this.metrics=new i.snapshots.PartnerMetrics,this.metrics.read(t)):t.PE(r);break;case 4:r==n.Type.BOOL?this.inPart=t.ep().value:t.PE(r);break;case 5:r==n.Type.BOOL?this.outPart=t.ep().value:t.PE(r);break;case 6:r==n.Type.BOOL?this.udp=t.ep().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.Partner.prototype.write=function(t){t.FE("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(t.xE("connInfo",n.Type.STRUCT,1),this.connInfo.write(t),t.VE()),null!==this.traffic&&void 0!==this.traffic&&(t.xE("traffic",n.Type.STRUCT,2),this.traffic.write(t),t.VE()),null!==this.metrics&&void 0!==this.metrics&&(t.xE("metrics",n.Type.STRUCT,3),this.metrics.write(t),t.VE()),null!==this.inPart&&void 0!==this.inPart&&(t.xE("inPart",n.Type.BOOL,4),t.Hw(this.inPart),t.VE()),null!==this.outPart&&void 0!==this.outPart&&(t.xE("outPart",n.Type.BOOL,5),t.Hw(this.outPart),t.VE()),null!==this.udp&&void 0!==this.udp&&(t.xE("udp",n.Type.BOOL,6),t.Hw(this.udp),t.VE()),t.qE(),t.QE()},i.snapshots.MetadataInfo=function(t){this.timestamp=null,this.availableFragments=null,this.firstFragment=null,this.lastFragment=null,this.trimmedFragments=null,this.avgDuration=null,this.timescale=null,this.autogenerated=null,t&&(void 0!==t.timestamp&&null!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.availableFragments&&null!==t.availableFragments&&(this.availableFragments=t.availableFragments),void 0!==t.firstFragment&&null!==t.firstFragment&&(this.firstFragment=t.firstFragment),void 0!==t.lastFragment&&null!==t.lastFragment&&(this.lastFragment=t.lastFragment),void 0!==t.trimmedFragments&&null!==t.trimmedFragments&&(this.trimmedFragments=t.trimmedFragments),void 0!==t.avgDuration&&null!==t.avgDuration&&(this.avgDuration=t.avgDuration),void 0!==t.timescale&&null!==t.timescale&&(this.timescale=t.timescale),void 0!==t.autogenerated&&null!==t.autogenerated&&(this.autogenerated=t.autogenerated))},i.snapshots.MetadataInfo.prototype={},i.snapshots.MetadataInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I64?this.timestamp=t.up().value:t.PE(r);break;case 2:r==n.Type.I32?this.availableFragments=t.LE().value:t.PE(r);break;case 3:r==n.Type.I64?this.firstFragment=t.up().value:t.PE(r);break;case 4:r==n.Type.I64?this.lastFragment=t.up().value:t.PE(r);break;case 5:r==n.Type.I32?this.trimmedFragments=t.LE().value:t.PE(r);break;case 6:r==n.Type.I64?this.avgDuration=t.up().value:t.PE(r);break;case 7:r==n.Type.I64?this.timescale=t.up().value:t.PE(r);break;case 8:r==n.Type.BOOL?this.autogenerated=t.ep().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.MetadataInfo.prototype.write=function(t){t.FE("MetadataInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(t.xE("timestamp",n.Type.I64,1),t.xw(this.timestamp),t.VE()),null!==this.availableFragments&&void 0!==this.availableFragments&&(t.xE("availableFragments",n.Type.I32,2),t.BE(this.availableFragments),t.VE()),null!==this.firstFragment&&void 0!==this.firstFragment&&(t.xE("firstFragment",n.Type.I64,3),t.xw(this.firstFragment),t.VE()),null!==this.lastFragment&&void 0!==this.lastFragment&&(t.xE("lastFragment",n.Type.I64,4),t.xw(this.lastFragment),t.VE()),null!==this.trimmedFragments&&void 0!==this.trimmedFragments&&(t.xE("trimmedFragments",n.Type.I32,5),t.BE(this.trimmedFragments),t.VE()),null!==this.avgDuration&&void 0!==this.avgDuration&&(t.xE("avgDuration",n.Type.I64,6),t.xw(this.avgDuration),t.VE()),null!==this.timescale&&void 0!==this.timescale&&(t.xE("timescale",n.Type.I64,7),t.xw(this.timescale),t.VE()),null!==this.autogenerated&&void 0!==this.autogenerated&&(t.xE("autogenerated",n.Type.BOOL,8),t.Hw(this.autogenerated),t.VE()),t.qE(),t.QE()},i.snapshots.StreamInfo=function(t){this.url=null,this.streamType=null,this.streamProtocol=null,this.duration=null,this.qualityLevels=null,this.metadataInfo=null,t&&(void 0!==t.url&&null!==t.url&&(this.url=t.url),void 0!==t.streamType&&null!==t.streamType&&(this.streamType=t.streamType),void 0!==t.streamProtocol&&null!==t.streamProtocol&&(this.streamProtocol=t.streamProtocol),void 0!==t.duration&&null!==t.duration&&(this.duration=t.duration),void 0!==t.qualityLevels&&null!==t.qualityLevels&&(this.qualityLevels=n.bp(t.qualityLevels,[i.snapshots.QualityLevel])),void 0!==t.metadataInfo&&null!==t.metadataInfo&&(this.metadataInfo=n.bp(t.metadataInfo,[i.snapshots.MetadataInfo])),void 0!==t.metadataInfo&&null!==t.metadataInfo&&(this.metadataInfo=t.metadataInfo))},i.snapshots.StreamInfo.prototype={},i.snapshots.StreamInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.STRING?this.url=t.DE().value:t.PE(r);break;case 2:r==n.Type.I32?this.streamType=t.LE().value:t.PE(r);break;case 3:r==n.Type.I32?this.streamProtocol=t.LE().value:t.PE(r);break;case 4:r==n.Type.I32?this.duration=t.LE().value:t.PE(r);break;case 5:if(r==n.Type.LIST){var o,a;this.qualityLevels=[],(a=t.Zw()).tp,o=a.size;for(var l=0;l<o;++l){var u=null;(u=new i.snapshots.QualityLevel).read(t),this.qualityLevels.push(u)}t.np()}else t.PE(r);break;case 6:if(r==n.Type.LIST){var c,h;this.metadataInfo=[],(h=t.Zw()).tp,c=h.size;for(var p=0;p<c;++p){var f=null;(f=new i.snapshots.MetadataInfo).read(t),this.metadataInfo.push(f)}t.np()}else t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.StreamInfo.prototype.write=function(t){if(t.FE("StreamInfo"),null!==this.url&&void 0!==this.url&&(t.xE("url",n.Type.STRING,1),t.GE(this.url),t.VE()),null!==this.streamType&&void 0!==this.streamType&&(t.xE("streamType",n.Type.I32,2),t.BE(this.streamType),t.VE()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(t.xE("streamProtocol",n.Type.I32,3),t.BE(this.streamProtocol),t.VE()),null!==this.duration&&void 0!==this.duration&&(t.xE("duration",n.Type.I32,4),t.BE(this.duration),t.VE()),null!==this.qualityLevels&&void 0!==this.qualityLevels){for(var e in t.xE("qualityLevels",n.Type.LIST,5),t.Mw(n.Type.STRUCT,this.qualityLevels.length),this.qualityLevels)this.qualityLevels.hasOwnProperty(e)&&(e=this.qualityLevels[e]).write(t);t.Dw(),t.VE()}if(null!==this.metadataInfo&&void 0!==this.metadataInfo){for(var r in t.xE("metadataInfo",n.Type.LIST,6),t.Mw(n.Type.STRUCT,this.metadataInfo.length),this.metadataInfo)this.metadataInfo.hasOwnProperty(r)&&(r=this.metadataInfo[r]).write(t);t.Dw(),t.VE()}if(null!==this.metadataInfo&&void 0!==this.metadataInfo){for(var r in t.xE("metadataInfo",n.Type.LIST,6),t.Mw(n.Type.STRUCT,this.metadataInfo.length),this.metadataInfo)this.metadataInfo.hasOwnProperty(r)&&(r=this.metadataInfo[r]).write(t);t.Dw(),t.VE()}t.qE(),t.QE()},i.snapshots.ClientInfo=function(t){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,t&&(void 0!==t.clientType&&null!==t.clientType&&(this.clientType=t.clientType),void 0!==t.majorVersion&&null!==t.majorVersion&&(this.majorVersion=t.majorVersion),void 0!==t.minorVersion&&null!==t.minorVersion&&(this.minorVersion=t.minorVersion),void 0!==t.patchVersion&&null!==t.patchVersion&&(this.patchVersion=t.patchVersion))},i.snapshots.ClientInfo.prototype={},i.snapshots.ClientInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.clientType=t.LE().value:t.PE(r);break;case 2:r==n.Type.BYTE?this.majorVersion=t.hp().value:t.PE(r);break;case 3:r==n.Type.BYTE?this.minorVersion=t.hp().value:t.PE(r);break;case 4:r==n.Type.I16?this.patchVersion=t.op().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.ClientInfo.prototype.write=function(t){t.FE("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(t.xE("clientType",n.Type.I32,1),t.BE(this.clientType),t.VE()),null!==this.majorVersion&&void 0!==this.majorVersion&&(t.xE("majorVersion",n.Type.BYTE,2),t.Uw(this.majorVersion),t.VE()),null!==this.minorVersion&&void 0!==this.minorVersion&&(t.xE("minorVersion",n.Type.BYTE,3),t.Uw(this.minorVersion),t.VE()),null!==this.patchVersion&&void 0!==this.patchVersion&&(t.xE("patchVersion",n.Type.I16,4),t.Fw(this.patchVersion),t.VE()),t.qE(),t.QE()},i.snapshots.AgentInfo=function(t){this.firstTierBitrates=null,this.secondTierBitrates=null,t&&(void 0!==t.firstTierBitrates&&null!==t.firstTierBitrates&&(this.firstTierBitrates=n.bp(t.firstTierBitrates,[null])),void 0!==t.secondTierBitrates&&null!==t.secondTierBitrates&&(this.secondTierBitrates=n.bp(t.secondTierBitrates,[null])))},i.snapshots.AgentInfo.prototype={},i.snapshots.AgentInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:if(r==n.Type.SET){var s,o;this.firstTierBitrates=[],(o=t.rp()).tp,s=o.size;for(var a=0;a<s;++a){var l;l=t.LE().value,this.firstTierBitrates.push(l)}t.sp()}else t.PE(r);break;case 2:if(r==n.Type.SET){var u,c;this.secondTierBitrates=[],(c=t.rp()).tp,u=c.size;for(var h=0;h<u;++h){var p;p=t.LE().value,this.secondTierBitrates.push(p)}t.sp()}else t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.AgentInfo.prototype.write=function(t){if(t.FE("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){for(var e in t.xE("firstTierBitrates",n.Type.SET,1),t.Pw(n.Type.I32,this.firstTierBitrates.length),this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(e)&&(e=this.firstTierBitrates[e],t.BE(e));t.Lw(),t.VE()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){for(var r in t.xE("secondTierBitrates",n.Type.SET,2),t.Pw(n.Type.I32,this.secondTierBitrates.length),this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(r)&&(r=this.secondTierBitrates[r],t.BE(r));t.Lw(),t.VE()}t.qE(),t.QE()},i.snapshots.TrafficKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,this.qualityLevelId=null,t&&(void 0!==t.bitrate&&null!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&null!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&null!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid),void 0!==t.qualityLevelId&&null!==t.qualityLevelId&&(this.qualityLevelId=t.qualityLevelId))},i.snapshots.TrafficKey.prototype={},i.snapshots.TrafficKey.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.bitrate=t.LE().value:t.PE(r);break;case 2:r==n.Type.I32?this.AS=t.LE().value:t.PE(r);break;case 3:r==n.Type.STRING?this.partnerGuid=t.DE().value:t.PE(r);break;case 4:r==n.Type.STRING?this.qualityLevelId=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.TrafficKey.prototype.write=function(t){t.FE("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.xE("bitrate",n.Type.I32,1),t.BE(this.bitrate),t.VE()),null!==this.AS&&void 0!==this.AS&&(t.xE("AS",n.Type.I32,2),t.BE(this.AS),t.VE()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.xE("partnerGuid",n.Type.STRING,3),t.GE(this.partnerGuid),t.VE()),null!==this.qualityLevelId&&void 0!==this.qualityLevelId&&(t.xE("qualityLevelId",n.Type.STRING,4),t.GE(this.qualityLevelId),t.VE()),t.qE(),t.QE()},i.snapshots.PartnerKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,this.qualityLevelId=null,t&&(void 0!==t.bitrate&&null!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&null!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&null!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid),void 0!==t.qualityLevelId&&null!==t.qualityLevelId&&(this.qualityLevelId=t.qualityLevelId))},i.snapshots.PartnerKey.prototype={},i.snapshots.PartnerKey.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I32?this.bitrate=t.LE().value:t.PE(r);break;case 2:r==n.Type.I32?this.AS=t.LE().value:t.PE(r);break;case 3:r==n.Type.STRING?this.partnerGuid=t.DE().value:t.PE(r);break;case 4:r==n.Type.STRING?this.qualityLevelId=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.PartnerKey.prototype.write=function(t){t.FE("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.xE("bitrate",n.Type.I32,1),t.BE(this.bitrate),t.VE()),null!==this.AS&&void 0!==this.AS&&(t.xE("AS",n.Type.I32,2),t.BE(this.AS),t.VE()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.xE("partnerGuid",n.Type.STRING,3),t.GE(this.partnerGuid),t.VE()),null!==this.qualityLevelId&&void 0!==this.qualityLevelId&&(t.xE("qualityLevelId",n.Type.STRING,4),t.GE(this.qualityLevelId),t.VE()),t.qE(),t.QE()},i.snapshots.Player=function(t){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,this.playingTimeMs=null,this.playerVolume=null,t&&(void 0!==t.bufferingN&&null!==t.bufferingN&&(this.bufferingN=t.bufferingN),void 0!==t.bufferingMs&&null!==t.bufferingMs&&(this.bufferingMs=t.bufferingMs),void 0!==t.initBufferingN&&null!==t.initBufferingN&&(this.initBufferingN=t.initBufferingN),void 0!==t.initBufferingMs&&null!==t.initBufferingMs&&(this.initBufferingMs=t.initBufferingMs),void 0!==t.seekBufferingN&&null!==t.seekBufferingN&&(this.seekBufferingN=t.seekBufferingN),void 0!==t.seekBufferingMs&&null!==t.seekBufferingMs&&(this.seekBufferingMs=t.seekBufferingMs),void 0!==t.playerBufferMs&&null!==t.playerBufferMs&&(this.playerBufferMs=t.playerBufferMs),void 0!==t.playingTimeMs&&null!==t.playingTimeMs&&(this.playingTimeMs=t.playingTimeMs),void 0!==t.playerVolume&&null!==t.playerVolume&&(this.playerVolume=t.playerVolume))},i.snapshots.Player.prototype={},i.snapshots.Player.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I16?this.bufferingN=t.op().value:t.PE(r);break;case 2:r==n.Type.I32?this.bufferingMs=t.LE().value:t.PE(r);break;case 3:r==n.Type.I16?this.initBufferingN=t.op().value:t.PE(r);break;case 4:r==n.Type.I32?this.initBufferingMs=t.LE().value:t.PE(r);break;case 5:r==n.Type.I16?this.seekBufferingN=t.op().value:t.PE(r);break;case 6:r==n.Type.I32?this.seekBufferingMs=t.LE().value:t.PE(r);break;case 36:r==n.Type.I32?this.playerBufferMs=t.LE().value:t.PE(r);break;case 37:r==n.Type.I32?this.playingTimeMs=t.LE().value:t.PE(r);break;case 38:r==n.Type.I16?this.playerVolume=t.op().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.Player.prototype.write=function(t){t.FE("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(t.xE("bufferingN",n.Type.I16,1),t.Fw(this.bufferingN),t.VE()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(t.xE("bufferingMs",n.Type.I32,2),t.BE(this.bufferingMs),t.VE()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(t.xE("initBufferingN",n.Type.I16,3),t.Fw(this.initBufferingN),t.VE()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(t.xE("initBufferingMs",n.Type.I32,4),t.BE(this.initBufferingMs),t.VE()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(t.xE("seekBufferingN",n.Type.I16,5),t.Fw(this.seekBufferingN),t.VE()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(t.xE("seekBufferingMs",n.Type.I32,6),t.BE(this.seekBufferingMs),t.VE()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(t.xE("playerBufferMs",n.Type.I32,36),t.BE(this.playerBufferMs),t.VE()),null!==this.playingTimeMs&&void 0!==this.playingTimeMs&&(t.xE("playingTimeMs",n.Type.I32,37),t.BE(this.playingTimeMs),t.VE()),null!==this.playerVolume&&void 0!==this.playerVolume&&(t.xE("playerVolume",n.Type.I16,38),t.Fw(this.playerVolume),t.VE()),t.qE(),t.QE()},i.snapshots.ResponseInfo=function(t){this.statusCode=null,this.count=null,t&&(void 0!==t.statusCode&&null!==t.statusCode&&(this.statusCode=t.statusCode),void 0!==t.count&&null!==t.count&&(this.count=t.count))},i.snapshots.ResponseInfo.prototype={},i.snapshots.ResponseInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I16?this.statusCode=t.op().value:t.PE(r);break;case 2:r==n.Type.I32?this.count=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.ResponseInfo.prototype.write=function(t){t.FE("ResponseInfo"),null!==this.statusCode&&void 0!==this.statusCode&&(t.xE("statusCode",n.Type.I16,1),t.Fw(this.statusCode),t.VE()),null!==this.count&&void 0!==this.count&&(t.xE("count",n.Type.I32,2),t.BE(this.count),t.VE()),t.qE(),t.QE()},i.snapshots.ServiceResponseInfo=function(t){this.source=null,t&&void 0!==t.source&&null!==t.source&&(this.source=n.bp(t.source,[i.snapshots.ResponseInfo]))},i.snapshots.ServiceResponseInfo.prototype={},i.snapshots.ServiceResponseInfo.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;if(1===s)if(r==n.Type.LIST){var o,a;this.source=[],(a=t.Zw()).tp,o=a.size;for(var l=0;l<o;++l){var u=null;(u=new i.snapshots.ResponseInfo).read(t),this.source.push(u)}t.np()}else t.PE(r);else t.PE(r);t.HE()}t.UE()},i.snapshots.ServiceResponseInfo.prototype.write=function(t){if(t.FE("ServiceResponseInfo"),null!==this.source&&void 0!==this.source){for(var e in t.xE("source",n.Type.LIST,1),t.Mw(n.Type.STRUCT,this.source.length),this.source)this.source.hasOwnProperty(e)&&(e=this.source[e]).write(t);t.Dw(),t.VE()}t.qE(),t.QE()},i.snapshots.MetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,this.responseInfo=null,this.testInfo=null,this.clientId=null,this.fragments=null,this.fetchedFragments=null,t&&(void 0!==t.timestamp&&null!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&null!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&null!==t.eventId&&(this.eventId=new EventId(t.eventId)),void 0!==t.streamInfo&&null!==t.streamInfo&&(this.streamInfo=new i.snapshots.StreamInfo(t.streamInfo)),void 0!==t.metrics&&null!==t.metrics&&(this.metrics=new i.snapshots.Metrics(t.metrics)),void 0!==t.traffic&&null!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&null!==t.snapshotInfo&&(this.snapshotInfo=new SnapshotInfo(t.snapshotInfo)),void 0!==t.agentInfo&&null!==t.agentInfo&&(this.agentInfo=new i.snapshots.AgentInfo(t.agentInfo)),void 0!==t.connInfo&&null!==t.connInfo&&(this.connInfo=new i.snapshots.ConnectivityInfo(t.connInfo)),void 0!==t.partners&&null!==t.partners&&(this.partners=t.partners),void 0!==t.player&&null!==t.player&&(this.player=new i.snapshots.Player(t.player)),void 0!==t.client&&null!==t.client&&(this.client=new i.snapshots.ClientInfo(t.client)),void 0!==t.sessionId&&null!==t.sessionId&&(this.sessionId=t.sessionId),void 0!==t.responseInfo&&null!==t.responseInfo&&(this.responseInfo=new i.snapshots.ServiceResponseInfo(t.responseInfo)),void 0!==t.testInfo&&null!==t.testInfo&&(this.testInfo=new TestInfo(t.testInfo)),void 0!==t.clientId&&null!==t.clientId&&(this.clientId=t.clientId),void 0!==t.fragments&&null!==t.fragments&&(this.fragments=n.bp(t.fragments,[i.snapshots.FragmentMetadata])),void 0!==t.fetchedFragments&&null!==t.fetchedFragments&&(this.fetchedFragments=t.fetchedFragments))},i.snapshots.MetricSnapshot.prototype={},i.snapshots.MetricSnapshot.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.I64?this.timestamp=t.up().value:t.PE(r);break;case 2:r==n.Type.STRING?this.guid=t.DE().value:t.PE(r);break;case 3:r==n.Type.STRUCT?(this.eventId=new EventId,this.eventId.read(t)):t.PE(r);break;case 4:r==n.Type.STRUCT?(this.streamInfo=new i.snapshots.StreamInfo,this.streamInfo.read(t)):t.PE(r);break;case 5:r==n.Type.STRUCT?(this.metrics=new i.snapshots.Metrics,this.metrics.read(t)):t.PE(r);break;case 6:if(r==n.Type.MAP){var o,a;this.traffic={},(a=t.Kw()).$w,a.Xw,o=a.size;for(var l=0;l<o;++l){0<l&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var u=null,c=null;(u=new i.snapshots.TrafficKey).read(t),(c=new i.snapshots.Traffic).read(t),this.traffic[u]=c}t.Jw()}else t.PE(r);break;case 7:r==n.Type.STRUCT?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.PE(r);break;case 8:r==n.Type.STRUCT?(this.agentInfo=new i.snapshots.AgentInfo,this.agentInfo.read(t)):t.PE(r);break;case 9:r==n.Type.STRUCT?(this.connInfo=new i.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.PE(r);break;case 10:if(r==n.Type.MAP){var h,p;this.partners={},(p=t.Kw()).$w,p.Xw,h=p.size;for(var f=0;f<h;++f){0<f&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var d=null,g=null;(d=new i.snapshots.PartnerKey).read(t),(g=new i.snapshots.Partner).read(t),this.partners[d]=g}t.Jw()}else t.PE(r);break;case 11:r==n.Type.STRUCT?(this.player=new i.snapshots.Player,this.player.read(t)):t.PE(r);break;case 12:r==n.Type.STRUCT?(this.client=new i.snapshots.ClientInfo,this.client.read(t)):t.PE(r);break;case 13:r==n.Type.STRING?this.sessionId=t.DE().value:t.PE(r);break;case 14:r==n.Type.STRUCT?(this.responseInfo=new i.snapshots.ServiceResponseInfo,this.responseInfo.read(t)):t.PE(r);break;case 15:r==n.Type.STRUCT?(this.testInfo=new TestInfo,this.testInfo.read(t)):t.PE(r);break;case 16:r==n.Type.I64?this.clientId=t.up().value:t.PE(r);break;case 17:if(r==n.Type.LIST){var v,m;this.fragments=[],(m=t.Zw()).tp,v=m.size;for(var y=0;y<v;++y){var b=null;(b=new i.snapshots.FragmentMetadata).read(t),this.fragments.push(b)}t.np()}else t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.MetricSnapshot.prototype.write=function(t){if(t.FE("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.xE("timestamp",n.Type.I64,1),t.xw(this.timestamp),t.VE()),null!==this.guid&&void 0!==this.guid&&(t.xE("guid",n.Type.STRING,2),t.GE(this.guid),t.VE()),null!==this.eventId&&void 0!==this.eventId&&(t.xE("eventId",n.Type.STRUCT,3),this.eventId.write(t),t.VE()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.xE("streamInfo",n.Type.STRUCT,4),this.streamInfo.write(t),t.VE()),null!==this.metrics&&void 0!==this.metrics&&(t.xE("metrics",n.Type.STRUCT,5),this.metrics.write(t),t.VE()),null!==this.traffic&&void 0!==this.traffic){for(var e in t.xE("traffic",n.Type.MAP,6),t.kw(n.Type.STRUCT,n.Type.STRUCT,n.wE(this.traffic)),this.traffic)if(this.traffic.hasOwnProperty(e)){var r=this.traffic[e];r.key.write(t),r.value.write(t)}t.jw(),t.VE()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.xE("snapshotInfo",n.Type.STRUCT,7),this.snapshotInfo.write(t),t.VE()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.xE("agentInfo",n.Type.STRUCT,8),this.agentInfo.write(t),t.VE()),null!==this.connInfo&&void 0!==this.connInfo&&(t.xE("connInfo",n.Type.STRUCT,9),this.connInfo.write(t),t.VE()),null!==this.partners&&void 0!==this.partners){for(var i in t.xE("partners",n.Type.MAP,10),t.kw(n.Type.STRUCT,n.Type.STRUCT,n.wE(this.partners)),this.partners)if(this.partners.hasOwnProperty(i)){var s=this.partners[i];s.key.write(t),s.value.write(t)}t.jw(),t.VE()}if(null!==this.player&&void 0!==this.player&&(t.xE("player",n.Type.STRUCT,11),this.player.write(t),t.VE()),null!==this.client&&void 0!==this.client&&(t.xE("client",n.Type.STRUCT,12),this.client.write(t),t.VE()),null!==this.sessionId&&void 0!==this.sessionId&&(t.xE("sessionId",n.Type.STRING,13),t.GE(this.sessionId),t.VE()),null!==this.responseInfo&&void 0!==this.responseInfo&&(t.xE("responseInfo",n.Type.STRUCT,14),this.responseInfo.write(t),t.VE()),null!==this.testInfo&&void 0!==this.testInfo&&(t.xE("testInfo",n.Type.STRUCT,15),this.testInfo.write(t),t.VE()),null!==this.clientId&&void 0!==this.clientId&&(t.xE("clientId",n.Type.I64,16),t.xw(this.clientId),t.VE()),null!==this.fragments&&void 0!==this.fragments){for(var o in t.xE("fragments",n.Type.LIST,17),t.Mw(n.Type.STRUCT,this.fragments.length),this.fragments)this.fragments.hasOwnProperty(o)&&(o=this.fragments[o]).write(t);t.Dw(),t.VE()}if(null!==this.fetchedFragments&&void 0!==this.fetchedFragments){for(var a in t.xE("fetchedFragments",n.Type.LIST,18),t.Mw(n.Type.STRUCT,this.fetchedFragments.length),this.fetchedFragments)this.fetchedFragments.hasOwnProperty(a)&&(a=this.fetchedFragments[a]).write(t);t.Dw(),t.VE()}t.qE(),t.QE()},i.snapshots.JsonMetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,this.responseInfo=null,this.testInfo=null,this.clientId=null,this.fragments=null,this.fetchedFragments=null,t&&(void 0!==t.timestamp&&null!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&null!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&null!==t.eventId&&(this.eventId=new EventId(t.eventId)),void 0!==t.streamInfo&&null!==t.streamInfo&&(this.streamInfo=new i.snapshots.StreamInfo(t.streamInfo)),void 0!==t.metrics&&null!==t.metrics&&(this.metrics=new i.snapshots.Metrics(t.metrics)),void 0!==t.traffic&&null!==t.traffic&&(this.traffic=n.gp(t.traffic,[i.snapshots.Traffic])),void 0!==t.snapshotInfo&&null!==t.snapshotInfo&&(this.snapshotInfo=new SnapshotInfo(t.snapshotInfo)),void 0!==t.agentInfo&&null!==t.agentInfo&&(this.agentInfo=new i.snapshots.AgentInfo(t.agentInfo)),void 0!==t.connInfo&&null!==t.connInfo&&(this.connInfo=new i.snapshots.ConnectivityInfo(t.connInfo)),void 0!==t.partners&&null!==t.partners&&(this.partners=n.gp(t.partners,[i.snapshots.Partner])),void 0!==t.player&&null!==t.player&&(this.player=new i.snapshots.Player(t.player)),void 0!==t.client&&null!==t.client&&(this.client=new i.snapshots.ClientInfo(t.client)),void 0!==t.sessionId&&null!==t.sessionId&&(this.sessionId=t.sessionId),void 0!==t.responseInfo&&null!==t.responseInfo&&(this.responseInfo=new i.snapshots.ServiceResponseInfo(t.responseInfo)),void 0!==t.testInfo&&null!==t.testInfo&&(this.testInfo=new TestInfo(t.testInfo)),void 0!==t.clientId&&null!==t.clientId&&(this.clientId=t.clientId),void 0!==t.fragments&&null!==t.fragments&&(this.fragments=n.bp(t.fragments,[i.snapshots.FragmentMetadata])),void 0!==t.fetchedFragments&&null!==t.fetchedFragments&&(this.fetchedFragments=n.bp(t.fetchedFragments,[i.snapshots.FragmentDownload])))},i.snapshots.JsonMetricSnapshot.prototype={},i.snapshots.JsonMetricSnapshot.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),s=e.fid;if(r==n.Type.STOP)break;switch(s){case 1:r==n.Type.I64?this.timestamp=t.up().value:t.PE(r);break;case 2:r==n.Type.STRING?this.guid=t.DE().value:t.PE(r);break;case 3:r==n.Type.STRUCT?(this.eventId=new EventId,this.eventId.read(t)):t.PE(r);break;case 4:r==n.Type.STRUCT?(this.streamInfo=new i.snapshots.StreamInfo,this.streamInfo.read(t)):t.PE(r);break;case 5:r==n.Type.STRUCT?(this.metrics=new i.snapshots.Metrics,this.metrics.read(t)):t.PE(r);break;case 6:if(r==n.Type.MAP){var o,a;this.traffic={},(a=t.Kw()).$w,a.Xw,o=a.size;for(var l=0;l<o;++l){0<l&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var u,c=null;u=t.DE().value,(c=new i.snapshots.Traffic).read(t),this.traffic[u]=c}t.Jw()}else t.PE(r);break;case 7:r==n.Type.STRUCT?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.PE(r);break;case 8:r==n.Type.STRUCT?(this.agentInfo=new i.snapshots.AgentInfo,this.agentInfo.read(t)):t.PE(r);break;case 9:r==n.Type.STRUCT?(this.connInfo=new i.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.PE(r);break;case 10:if(r==n.Type.MAP){var h,p;this.partners={},(p=t.Kw()).$w,p.Xw,h=p.size;for(var f=0;f<h;++f){0<f&&t.Bw.length>t.zE[t.zE.length-1]+1&&t.Bw.pop();var d,g=null;d=t.DE().value,(g=new i.snapshots.Partner).read(t),this.partners[d]=g}t.Jw()}else t.PE(r);break;case 11:r==n.Type.STRUCT?(this.player=new i.snapshots.Player,this.player.read(t)):t.PE(r);break;case 12:r==n.Type.STRUCT?(this.client=new i.snapshots.ClientInfo,this.client.read(t)):t.PE(r);break;case 13:r==n.Type.STRING?this.sessionId=t.DE().value:t.PE(r);break;case 14:r==n.Type.STRUCT?(this.responseInfo=new i.snapshots.ServiceResponseInfo,this.responseInfo.read(t)):t.PE(r);break;case 15:r==n.Type.STRUCT?(this.testInfo=new TestInfo,this.testInfo.read(t)):t.PE(r);break;case 16:r==n.Type.STRING?this.clientId=t.DE().value:t.PE(r);break;case 17:if(r==n.Type.LIST){var v,m;this.fragments=[],(m=t.Zw()).tp,v=m.size;for(var y=0;y<v;++y){var b=null;(b=new i.snapshots.FragmentMetadata).read(t),this.fragments.push(b)}t.np()}else t.PE(r);break;case 18:if(r==n.Type.LIST){var E,w;this.fetchedFragments=[],(w=t.Zw()).tp,E=w.size;for(var A=0;A<E;++A){var S=null;(S=new i.snapshots.FragmentDownload).read(t),this.fetchedFragments.push(S)}t.np()}else t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.snapshots.JsonMetricSnapshot.prototype.write=function(t){if(t.FE("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.xE("timestamp",n.Type.I64,1),t.xw(this.timestamp),t.VE()),null!==this.guid&&void 0!==this.guid&&(t.xE("guid",n.Type.STRING,2),t.GE(this.guid),t.VE()),null!==this.eventId&&void 0!==this.eventId&&(t.xE("eventId",n.Type.STRUCT,3),this.eventId.write(t),t.VE()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.xE("streamInfo",n.Type.STRUCT,4),this.streamInfo.write(t),t.VE()),null!==this.metrics&&void 0!==this.metrics&&(t.xE("metrics",n.Type.STRUCT,5),this.metrics.write(t),t.VE()),null!==this.traffic&&void 0!==this.traffic){for(var e in t.xE("traffic",n.Type.MAP,6),t.kw(n.Type.STRING,n.Type.STRUCT,n.wE(this.traffic)),this.traffic)if(this.traffic.hasOwnProperty(e)){var r=this.traffic[e];t.GE(e),r.write(t)}t.jw(),t.VE()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.xE("snapshotInfo",n.Type.STRUCT,7),this.snapshotInfo.write(t),t.VE()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.xE("agentInfo",n.Type.STRUCT,8),this.agentInfo.write(t),t.VE()),null!==this.connInfo&&void 0!==this.connInfo&&(t.xE("connInfo",n.Type.STRUCT,9),this.connInfo.write(t),t.VE()),null!==this.partners&&void 0!==this.partners){for(var i in t.xE("partners",n.Type.MAP,10),t.kw(n.Type.STRING,n.Type.STRUCT,n.wE(this.partners)),this.partners)if(this.partners.hasOwnProperty(i)){var s=this.partners[i];t.GE(i),s.write(t)}t.jw(),t.VE()}if(null!==this.player&&void 0!==this.player&&(t.xE("player",n.Type.STRUCT,11),this.player.write(t),t.VE()),null!==this.client&&void 0!==this.client&&(t.xE("client",n.Type.STRUCT,12),this.client.write(t),t.VE()),null!==this.sessionId&&void 0!==this.sessionId&&(t.xE("sessionId",n.Type.STRING,13),t.GE(this.sessionId),t.VE()),null!==this.responseInfo&&void 0!==this.responseInfo&&(t.xE("responseInfo",n.Type.STRUCT,14),this.responseInfo.write(t),t.VE()),null!==this.testInfo&&void 0!==this.testInfo&&(t.xE("testInfo",n.Type.STRUCT,15),this.testInfo.write(t),t.VE()),null!==this.clientId&&void 0!==this.clientId&&(t.xE("clientId",n.Type.STRING,16),t.GE(this.clientId),t.VE()),null!==this.fragments&&void 0!==this.fragments){for(var o in t.xE("fragments",n.Type.LIST,17),t.Mw(n.Type.STRUCT,this.fragments.length),this.fragments)this.fragments.hasOwnProperty(o)&&(o=this.fragments[o]).write(t);t.Dw(),t.VE()}if(null!==this.fetchedFragments&&void 0!==this.fetchedFragments){for(var a in t.xE("fetchedFragments",n.Type.LIST,18),t.Mw(n.Type.STRUCT,this.fetchedFragments.length),this.fetchedFragments)this.fetchedFragments.hasOwnProperty(a)&&(a=this.fetchedFragments[a]).write(t);t.Dw(),t.VE()}t.qE(),t.QE()}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.TimeDuration=void 0;var n=r(1),i=(s.prototype.ms=function(){return Math.round(1e3*this.secs())},s.prototype.secs=function(){return this.duration/this.timescale},s.prototype.value=function(){return this.duration},s.TIMESCALE_MILLISECONDS=1e3,s.TIMESCALE_SECONDS=1,s.TIMESCALE_LOWER_BOUND_SECS=.5,s.TIMESCALE_UPPER_BOUND_SECS=100,s);function s(t,e){this.timescale=e,this.duration=t,(this.duration/this.timescale<=s.TIMESCALE_LOWER_BOUND_SECS||this.duration/this.timescale>=s.TIMESCALE_UPPER_BOUND_SECS)&&n.ErrorMonitor.getInstance().logError("Segment time duration value outside interval duration: "+this.duration+", timescale "+this.timescale+", value in seconds "+this.duration/this.timescale+", interval in seconds ["+s.TIMESCALE_LOWER_BOUND_SECS+","+s.TIMESCALE_UPPER_BOUND_SECS+"]")}e.TimeDuration=i},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0});var s,o=r(91),a=r(0),l=r(47),u=(i(c,s=o.default),c);function c(){return s.call(this,l.WA.StatsJS,a.Framework.v.bC)||this}e.default=new u},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.StatsJS=void 0;var n=r(65),i=r(5),s=r(49),o=r(48),a=r(9),l=r(186),u=r(23),c=r(22),h=r(35),p=r(1),f=r(32),d=r(0),g=r(106),v=r(107),m=r(187),y=r(7),b=r(67),E=r(188),w=r(2),A=(S.prototype.getName=function(){return S.XA},S.prototype.id=function(){return"["+S.XA+"] "},S.prototype.getVersion=function(){return this.plugin.getPluginVersion()},S.prototype.needsReportingInstance=function(){return!0},S.prototype.isReady=function(){return i.resolve(!0)},S.prototype.initSession=function(t,e){var r=this.VH(t,e.ticket,e.ticket.mM(),e);return this.BH=!1,h.UA.getInstance().register(this.plugin,r),o.HiveRequestFactory.register(this),window&&window.activateXHRInterceptor&&window.activateXHRInterceptor(this.plugin.loggerLevel()>f.TA.info,this.plugin.getPluginId()),i.resolve(r)},S.prototype.getInitSessionTimeout=function(){return this.options().initTimeout},S.prototype.isActive=function(t,e,r){var n=this.plugin.options().manifestDomainMatcher,i=a.Bf(t,e.manifest,n,r),s=i.Zf,o=i.tc;return this.BH||(this.qH||this.plugin.logger().info("The player does not use HiveRequest"),this.BH=!0,s&&o&&e.ticket.setManifestUrl(t)),s},S.prototype.closeSession=function(t,e){window&&window.deactivateXHRInterceptor&&window.deactivateXHRInterceptor(),t.reportingInstance&&n.default.getInstance().__(t.id)&&(this.plugin.logger().debug("[StatsJS] stopping session ["+t.id+"] complete close: "+e),t.reportingInstance.q_.a_(),t.reportingInstance.V_.QH(),t.reportingInstance.V_.reset(e)),e?(o.HiveRequestFactory.clearPlugin(this.plugin.getPluginId()),n.default.getInstance().close(t.id)):this.onStateChange(t,!0)},S.prototype.onStateChange=function(t,e){var r=e?u.T_.IDLE:u.T_.m_;this.plugin.logger().notice("[HiveComm] client state: "+u.T_[r]),t.reportingInstance&&t.reportingInstance.onStateChange(r)},S.prototype.handleStats=function(t,e){var r=this,n=0,s=e.height,o=e.width;return this.state.WH<e.totalBuffering&&(n=e.totalBuffering-this.state.WH,this.state.WH=e.totalBuffering),t.getReportingInstance().then((function(){if(s!==r.state.YH||o!==r.state.zH){var i=o+"x"+s;t.reportingInstance.r_.AI(t.ticket.sessionId,c.PlayerEvents.WINDOW_SIZE,{value:i}),r.state.YH=s,r.state.zH=o}t.reportingInstance.D_.KH(n,e.bufferLength),t.reportingInstance.D_.handleStats(e),t.reportingInstance.r_.RI(e.playingPoint,e.bufferLength,e.totalBuffering)})).done(),i.resolve(!0)},S.prototype.handleEvent=function(t,e,r,n){if(void 0===n&&(n=!0),n)return t.getReportingInstance().then((function(n){n.r_.AI(t.ticket.sessionId,e,r)}));var s=t.reportingInstance;if(!s)return p.ErrorMonitor.getInstance().logError("No reporting instance to handle synchronous event",this.id(),w.gt.ye,r),i.reject();try{return s.r_.AI(t.ticket.sessionId,e,r),i.resolve(!0)}catch(n){return i.reject()}},S.prototype.handleTechEvent=function(t,e){return t.getReportingInstance().then((function(){t.reportingInstance.r_.kI([e])})).done(),i.resolve(!0)},S.prototype.onError=function(t){var e=!0;if(null!=this.options().onError)try{!1===this.options_.onError(t)&&(e=!1)}catch(t){p.ErrorMonitor.getInstance().logError("exception in user-defined onError callback",this.id(),t)}return e},S.prototype.onActiveSession=function(t){var e=this;this.$H(),t.getReportingInstance().then((function(r){e.XH=r;var n={getStreamProtocol:function(){return e.plugin.getStreamProtocol()},JH:function(){return e.plugin.isLive()},ZH:function(){return[]}};e.tU.init(e.XH,t.id),e.tU.XM(e.XH.ticket,e.options_),t.authenticationToken&&e.tU.M.iU(t.authenticationToken),e.XH.D_.nU.init(t.ticket,n),e.plugin.updateIntegrationInfo(e.XH),e.XH.V_.init(e.XH.D_,t.id),e.plugin.options().testId&&e.XH.D_.rU(e.plugin.options().testId),e.XH.r_.manifestRequested(t.ticket.sessionId,e.plugin.getPlayerSource(),200),e.sU.init(e.XH);var i=e.plugin.flushTechEvents();i&&0<i.length&&e.XH.r_.kI(i);var s=e.plugin.getInitStepTimers().eU();if(e.XH.r_.jI(s,t.id),null!=e.options_.onActiveSession)try{e.options_.onActiveSession(t.toHiveSession())}catch(r){p.ErrorMonitor.getInstance().logError("exception in user-defined onActiveSession callback",e.id(),r)}})).done()},S.prototype.onTechTimeout=function(){},S.prototype.resetTech=function(){},S.prototype.setPlugin=function(t){this.plugin=t},S.prototype.options=function(){return this.options_},S.prototype.$H=function(){this.state={WH:0,zH:null,YH:null}},S.prototype.VH=function(t,e,r,n){var i=new s.HiveSessionInternal(t,e,r,n,this.plugin.options().onSessionStateChange);return i.SDN=!1,i.id=e.sessionId,i},S.prototype.getPluginId=function(){return this.plugin.getPluginId()},S.prototype.createManifestRequest=function(t){var e=this,r=d.Framework.resolve(d.Framework.v.iC),n=new m.hU(r,t);return n.oU=function(t,r){if(t===b.aU.uU){e.plugin.logger().debug("Intercepted Manifest Request "+r);var i=e.tU.M;i.fU(n),e.XH.D_.nU.cU(i),e.XH.D_.nU.lU(i.oD())}else p.ErrorMonitor.getInstance().logError("Error intercepting manifest request",r)},r},S.prototype.createRequest=function(t){var e=this,r=this.tU.M,n=d.Framework.resolve(d.Framework.v.iC),i=new v.vU(n,r.getMetadata());return i.oU=function(t){r.dU(i).then((function(){if(e.sU.EU(i),t===b.aU.uU)switch(i.nS()){case y.af.ff:r.wU(i);break;case y.af.cf:r.pU(i),r.gU(i),r.wU(i),r.bU(i)}}))},n},S.prototype.supportsXhrInterception=function(){return Boolean(this.options_.enableXhrInterception)},S.prototype.yU=function(){this.qH=!0},S.XA="StatsJS",S);function S(t,e){this.BH=!1,this.qH=!1,this.plugin=t,this.options_=new l.StatsJSOptions,this.tU=new E.TU,this.sU=new g.mU,void 0!==e[S.XA]&&a.updateOptions(e[S.XA],this.options_),a.parseParameterOptions(window.location.href,new l.StatsJSUrlConfigurableOptions,this.options_)}e.StatsJS=A},function(t,e,r){"use strict";var n;Object.defineProperty(e,"s",{value:!0}),e.aU=void 0,(n=e.aU||(e.aU={}))[n.OU=0]="CREATED",n[n.IU=1]="STARTED",n[n.uU=2]="SUCCEEDED",n[n._U=3]="ABORTED",n[n.RU=4]="FAILED",n[n.SU=5]="TIMEDOUT"},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.AU=void 0;var n=r(25),i=r(33),s=r(0),o=r(202),a=r(7),l=r(27),u=r(55),c=r(6),h=r(2),p=r(1),f=r(52),d=hive.snapshots.OriginType,g=hive.snapshots.RequestType,v=r(205),m=(y.prototype.NU=function(t,e){try{var r=0,n=0;if(this.CU.length<e)return!0;for(var i=this.CU.keys().reverse(),s=i[0],o=this.CU.get(s).getQualityLevel(),a=i.slice(1),l=0;l<a.length;l++){var u=a[l],c=this.CU.get(u),f=c.kU,d=c.getQualityLevel(),g=Math.abs(f-s);if(d.id!==o.id)return!1;if(g<t){if(++n>=e)return!1}else{if(++r>e)return!0;n=Math.max(0,n-1),s=f,o=d}}return!1}catch(t){return p.ErrorMonitor.getInstance().logError("Error calculating if the player is in buffering mode",this.jU,h.Lt.xr,t),!1}},y.prototype.dU=function(t,e){if(this.MU(e)){var r=this.rD();if(r){var n=t.getQualityLevel(),i=r.getQualityLevel();0<n.hb(i)?this.PU.DU(!0):n.hb(i)<0&&this.PU.DU(!1)}else this.PU.DU(!0);if(this.CU.length>c.Ko.Ka.Qu){var o=this.CU.keys()[0];this.CU.delete(o)}this.CU.set(s.Framework.time(),t)}return this.LU(t,e)},y.prototype.LU=function(t,e){var r=new o.HU;try{if(this.UU.ZM(t.getQualityLevel())){if(this.xU.FU(t.sS())){r.GU=!0;var n=this.xU.VU(t.sS());this.BU(e,n,r)}if(this.xU.qU(t.sS()))for(var i=this.xU.QU(t.sS()),s=0,a=i;s<a.length;s++){var l=a[s];this.BU(e,l.iS(),r),r.WU=!0}}else{var c=u.xM.LS;this.z_.xD()&&(c=u.xM.GM),this.UU.uD(t.getQualityLevel(),c,c)}return r}catch(t){return p.ErrorMonitor.getInstance().logError("Error configuring the request directive",this.jU,h.Lt.Gr,t),new o.HU}},y.prototype.BU=function(t,e,r){t!=l.RequestType.UR&&t!=l.RequestType.xR||e!=l.RequestType.LR&&e!=l.RequestType.xR&&e!=l.RequestType.UR||(r.YU=!0)},y.prototype.MU=function(t){return t!=l.RequestType.xR&&t!=l.RequestType.UR},y.prototype.zU=function(t,e,r){var n=[];try{for(var i=this.xU.QU(e.sS()),s=0,o=i;s<o.length;s++){var a=o[s];a.iS()!=l.RequestType.LR&&(this.logger.debug("UPGRADING REQUEST. FORCING AUTHENTICATION IF NEEDED."),a.RS(),this.UU.oP(a,t),n.push(a.uP))}return n}catch(t){return p.ErrorMonitor.getInstance().logError("Error attempting to upgrade prefetch",this.jU,h.Lt.Vr,t),[]}},y.prototype.KU=function(t){this.xU.KU(t)},y.prototype.$U=function(t,e){this.xU.$U(t,e)},y.prototype.XU=function(t){this.xU.XU(t)},y.prototype.JU=function(t){this.xU.ZU(t)},y.prototype.tF=function(t){this.xU.iF()||this.UU.ED(t)},y.prototype.rD=function(){var t=this.CU.keys();return 0<t.length?this.CU.get(t[t.length-1]):null},y.prototype.nF=function(){var t=this.CU.keys();if(0<t.length)return t[t.length-1]},y.prototype.rF=function(t){var e=f.QualityLevel.from(t.qualityLevel);this.tF(e)},y.prototype.sF=function(t){switch(t.nS()){case a.af.ff:this.wU(t);break;case a.af.cf:this.$U(t.sS(),t.eS()),this.wU(t),this.bU(t)}},y.prototype.wU=function(t){var e=this.metadata.eF(t.oS());e&&this.hF.add(e,t.wS())},y.prototype.bU=function(t){this.MU(t.type)||this.oF.add(t,g.GH,t.ZR.GR?d.qa:d.HR)},y.prototype.eP=function(){return this.ticket},y.prototype.uF=function(){return this.UU},y.prototype.mD=function(t){return this.metadata.mD(t)},y.prototype.JH=function(){return this.aF},y.prototype.fF=function(){return this.cF},y.prototype.getMetadata=function(){return this.metadata},y.prototype.getStreamProtocol=function(){return this.metadata.getStreamProtocol()},y.prototype.nS=function(t){return this.metadata.nS(t)},y.prototype.ZH=function(){return this.metadata.ZH()},y.prototype.fS=function(t){var e=this.nS(t);if(e==a.af.cf||e==a.af.ff)return!0},y.prototype.pD=function(t,e,r){var n=this.metadata.lF(t,e);return null!=n?new i.SA(n.NA,r,!0,t,n.duration.ms(),e,!0,this.getContextId()):null},y.prototype.PD=function(t){try{var e=t.uS(),r=this.metadata.vF(e);return null!=r?this.gS(r.NA):null}catch(e){return p.ErrorMonitor.getInstance().logError("Error getting the next entity",this.jU,h.Lt.hr,{detailedError:e,url:t.uS()}),null}},y.prototype.iU=function(t){this.metadata.iU(t)},y.prototype.oD=function(){return this.metadata.oD()},y.prototype.dF=function(){return this.EF},y);function y(t,e){this.jU="[VideoContext] ",this.CU=new n,this.logger=s.Framework.resolve(s.Framework.v.p).log(e.sessionId),this.hF=e.reportingInstance.D_.hF,this.oF=e.reportingInstance.D_.oF,this.ticket=t,this.manifestUrl=t.mM(),this.z_=e.z_,this.PU=e.wF,this.xU=e.xU,this.UU=e.pF,this.UU.XM(this,this),this.EF=new v.gF}e.AU=m},function(t,e,r){"use strict";t.exports=o,r(12);var n=r(203),i=r(40),s=r(14);function o(t,e,r,i){if(!(this instanceof o))return new o(t,e,r,i);n.call(this,t,e,r,i)}((o.SortedArraySet=o).prototype=Object.create(n.prototype)).constructor=o,Object.hiveAddEach(o.prototype,i.prototype),Object.hiveAddEach(o.prototype,s.prototype),o.prototype.bF=!0,o.prototype.hiveAdd=function(t){return!this.has(t)&&(n.prototype.hiveAdd.call(this,t),!0)},o.prototype.reduce=function(t,e){var r=this,n=arguments[2];return this.array.reduce((function(e,i,s){return t.call(n,e,i,s,r)}),e)},o.prototype.reduceRight=function(t,e){var r=this,n=arguments[2];return this.array.reduceRight((function(e,i,s){return t.call(n,e,i,s,r)}),e)}},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.AD=void 0;var s,o=r(71),a=(i(l,s=o.vU),l);function l(){var t=null!==s&&s.apply(this,arguments)||this;return t.internal=!0,t}e.AD=a},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.vU=void 0;var s,o=r(111),a=r(204),l=(i(u,s=a.yF),u.prototype.send=function(){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");if(!this.pluginId){var t=Object.keys(u.TF);0<t.length&&(this.pluginId=u.TF[t[0]])}o.default.getInstance().request(this,this.pluginId)},u.prototype.abort=function(){o.default.getInstance().abort(this,this.pluginId)},u.prototype.pb=function(t){this.mF.forEach((function(e){"range"!==e.key.toLowerCase()&&t.setRequestHeader(e.key,e.value)})),this.async&&0<this.timeout&&(t.timeout=this.timeout),this.mimeType&&t.overrideMimeType(this.mimeType),this.withCredentials&&(t.withCredentials=this.withCredentials)},u.fv=0,u);function u(t){var e=s.call(this,t)||this;return e.DONE=4,e.LOADING=3,e.HEADERS_RECEIVED=2,e.OPENED=1,e.UNSENT=0,e.internal=!1,e.id=u.fv++,e}e.vU=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.OF=e.IF=void 0;var n=(i._F=function(t,e){var r=t.SF.RF(!1),n=e.SF.RF(!1);return n<r?1:r<n?0:-1},i);function i(){}e.IF=n;var s=(o._F=function(t,e){var r=t.AF.RF(!1),n=e.AF.RF(!1);return n<r?1:r<n?0:-1},o);function o(){}e.OF=s},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}},function(t,e,r){"use strict";r(76);var n=r(13),i=r(77),s=r(38);t.exports=Array;var o=Array.prototype.splice,a=Array.prototype.slice;function l(t,e){Array.prototype[t]||Object.defineProperty(Array.prototype,t,{value:e,writable:!0,configurable:!0,enumerable:!1})}function u(t,e,r){this.array=t,this.start=null==e?0:e,this.end=r}Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=Array.from||function(t){var e=[];return e.hiveAddEach(t),e},Array.bc=function(t){for(var e=[],r=1/0,n=0;n<t.length;n++){var i=t[n];t[n]=i.toArray(),i.length<r&&(r=i.length)}for(n=0;n<t.length;n++){i=t[n];for(var s=0;s<i.length;s++)s<r&&s in i&&(e[s]=e[s]||[],e[s][n]=i[s])}return e},l("hiveAddEach",n.prototype.hiveAddEach),l("deleteEach",n.prototype.vc),l("toArray",n.prototype.toArray),l("toObject",n.prototype.dc),l("all",n.prototype.all),l("any",n.prototype.Do),l("min",n.prototype.min),l("max",n.prototype.max),l("sum",n.prototype.yh),l("average",n.prototype.wc),l("only",n.prototype.only),l("flatten",n.prototype.pc),l("zip",n.prototype.gc),l("enumerate",n.prototype.enumerate),l("group",n.prototype.group),l("sorted",n.prototype.yc),l("reversed",n.prototype.reversed),l("constructClone",(function(t){var e=new this.constructor;return e.hiveAddEach(t),e})),l("has",(function(t,e){return-1!==this.find(t,e)})),l("set",(function(t,e){return this[t]=e,!0})),l("hiveAdd",(function(t){return this.push(t),!0})),l("delete",(function(t,e){var r=this.find(t,e);return-1!==r&&(this.splice(r,1),!0)})),l("deleteAll",(function(t,e){e=e||this.je||Object.equals;for(var r=0,n=0;n<this.length;)e(t,this[n])?(this.AH(n,1),r++):n++;return r})),l("find",(function(t,e){e=e||this.je||Object.equals;for(var r=0;r<this.length;r++)if(r in this&&e(t,this[r]))return r;return-1})),l("findLast",(function(t,e){e=e||this.je||Object.equals;var r=this.length;do{if(--r in this&&e(this[r],t))return r}while(0<r);return-1})),l("swap",(function(t,e,r){var n,i,s,l,u;if(t>this.length&&(this.length=t),void 0===r)return void 0!==e?o.call(this,t,e):void 0!==t?o.call(this,t):[];if(n=[t,e],Array.isArray(r)||(r=a.call(r)),s=0,(i=r.length)<1e3){for(;s<i;s++)n[s+2]=r[s];return o.apply(this,n)}for(u=o.apply(this,n);s<i;){for(n=[t+s,0],l=2;l<1002&&s<i;l++,s++)n[l]=r[s];o.apply(this,n)}return u})),l("peek",(function(){return this[0]})),l("poke",(function(t){0<this.length&&(this[0]=t)})),l("peekBack",(function(){if(0<this.length)return this[this.length-1]})),l("pokeBack",(function(t){0<this.length&&(this[this.length-1]=t)})),l("one",(function(){for(var t in this)if(Object._N(this,t))return this[t]})),Array.prototype.clear||l("clear",(function(){return this.length=0,this})),l("compare",(function(t,e){var r,n,s;if(e=e||Object.compare,this===t)return 0;if(!t||!Array.isArray(t))return i.prototype.compare.call(this,t,e);for(n=Math.min(this.length,t.length),r=0;r<n;r++)if(r in this){if(!(r in t))return-1;if(s=e(this[r],t[r]))return s}else if(r in t)return 1;return this.length-t.length})),l("equals",(function(t,e){e=e||Object.equals;var r=0,n=this.length;if(this===t)return!0;if(!t||!Array.isArray(t))return i.prototype.equals.call(this,t);if(n!==t.length)return!1;for(;r<n;++r)if(r in this){if(!(r in t))return!1;if(!e(this[r],t[r]))return!1}else if(r in t)return!1;return!0})),l("clone",(function(t,e){if(null==t)t=1/0;else if(0===t)return this;if((e=e||new s).has(this))return e.get(this);var r=new Array(this.length);for(var n in e.set(this,r),this)r[n]=Object.clone(this[n],t-1,e);return r})),l("iterate",(function(t,e){return new u(this,t,e)})),l("Iterator",u),u.prototype.NH=null,Object.defineProperty(u.prototype,"CH",{get:function(){return this.NH||(this.NH={done:!1,value:null})}}),u.prototype.next=function(){return this.start===(null==this.end?this.array.length:this.end)?(this.CH.done=!0,this.CH.value=void 0):this.CH.value=this.array[this.start++],this.CH}},function(t,e){t.exports=Function,Function.ke=function(){},Function.identity=function(t){return t},Function.Tc=function(t,e){function r(r,n){return e(t(r),t(n))}return e=e||Object.compare,t=t||Function.identity,r.compare=e,r.Tc=t,r},Function.get=function(t){return function(e){return Object.get(e,t)}}},function(t,e,r){var n=r(37);function i(){throw new Error("Can't construct. GenericOrder is a mixin.")}(t.exports=i).prototype.equals=function(t,e){return e=e||this.je||n.equals,this===t||!!t&&this.length===t.length&&this.gc(t).every((function(t){return e(t[0],t[1])}))},i.prototype.compare=function(t,e){if(e=e||this.Ec||n.compare,this===t)return 0;if(!t)return 1;var r=Math.min(this.length,t.length),i=this.gc(t).reduce((function(t,n,i){return 0===t?r<=i?t:e(n[0],n[1]):t}),0);return 0===i?this.length-t.length:i},i.prototype.toJSON=function(){return this.toArray()}},function(t,e,r){"use strict";r(12);var n=r(59),i=r(130),s=r(13),o=r(40),a=r(14),l=r(39),u=r(131);function c(t,e,r,n){if(!(this instanceof c))return new c(t,e,r,n);e=e||Object.equals,r=r||Object.hash,n=n||Function.ke,this.je=e,this.Me=r,this.De=n,this.order=new this.NF(void 0,e),this.store=new this.CF(void 0,(function(t,r){return e(t.value,r.value)}),(function(t){return r(t.value)})),this.length=0,this.hiveAddEach(t)}(t.exports=c).Set=c,Object.hiveAddEach(c.prototype,s.prototype),Object.hiveAddEach(c.prototype,o.prototype),Object.hiveAddEach(c.prototype,a.prototype),Object.hiveAddEach(c.prototype,l.prototype),Object.defineProperty(c.prototype,"size",s.Pe),c.prototype.NF=n,c.prototype.CF=i,c.prototype.Le=function(t){return new this.constructor(t,this.je,this.Me,this.De)},c.prototype.has=function(t){var e=new this.order.Node(t);return this.store.has(e)},c.prototype.get=function(t,e){if(e)throw new Error("Set#get does not support second argument: equals");var r=new this.order.Node(t);return(r=this.store.get(r))?r.value:this.De(t)},c.prototype.hiveAdd=function(t){var e=new this.order.Node(t);if(this.store.has(e))return!1;var r=this.length;return this.LN&&this.GN([t],[],r),this.order.hiveAdd(t),e=this.order.head.yH,this.store.hiveAdd(e),this.length++,this.LN&&this.UN([t],[],r),!0},c.prototype.delete=function(t,e){if(e)throw new Error("Set#delete does not support second argument: equals");var r=new this.order.Node(t);return!!this.store.has(r)&&(r=this.store.get(r),this.LN&&this.GN([],[t],r.index),this.store.delete(r),this.order.splice(r,1),this.length--,this.LN&&this.UN([],[t],r.index),!0)},c.prototype.pop=function(){if(this.length){var t=this.order.head.yH.value;return this.delete(t),t}},c.prototype.shift=function(){if(this.length){var t=this.order.head.next.value;return this.delete(t),t}},c.prototype.mc=function(){if(0<this.length)return this.store.mc().value},c.prototype.clear=function(){var t;this.LN&&(t=this.toArray(),this.GN([],t,0)),this.store.clear(),this.order.clear(),this.length=0,this.LN&&this.UN([],t,0)},c.prototype.reduce=function(t,e){var r=arguments[2],n=this.order,i=0;return n.reduce((function(e,n){return t.call(r,e,n,i++,this)}),e,this)},c.prototype.reduceRight=function(t,e){var r=arguments[2],n=this.order,i=this.length-1;return n.reduceRight((function(e,n){return t.call(r,e,n,i--,this)}),e,this)},c.prototype.Oc=function(){return this.order.Oc()},c.prototype.values=function(){return new u(this)},c.prototype.log=function(){var t=this.store;return t.log.apply(t,arguments)},c.prototype.Pc=function(){this.order.Pc()}},function(t,e,r){"use strict";function n(){}(t.exports=n).kF={BN:"+",jF:"-",MF:"+",DF:"+",PF:".",LF:"'",HF:"+",UF:"|"},n.FF={BN:"",jF:"",MF:"",DF:"",PF:"",LF:"",HF:"",UF:""},n.xF={BN:"",jF:"",MF:"",DF:"",PF:"",LF:"",HF:"",UF:""}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.U=void 0;var n=(i.prototype.H=function(t){return this.resolve(t),this.GF},Object.defineProperty(i.prototype,"promise",{get:function(){return this.GF},enumerable:!1,configurable:!0}),i.prototype.resolve=function(t){this.VF(t)},i.prototype.reject=function(t){this.BF(t)},i);function i(){var t=this;this.GF=new Promise((function(e,r){t.VF=e,t.BF=r}))}e.U=n},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.qF=void 0;var s,o=r(82),a=r(144),l=r(84),u=r(0),c=r(145),h=r(7),p=r(62),f=r(147),d=r(149),g=r(24),v=r(10),m=r(1),y=r(2),b=r(150),E=r(4),w=r(152),A=r(86),S=r(155),T=r(64),I=(i(P,s=A.QF),P.prototype.getStreamProtocol=function(){return StreamProtocol.DASH},P.prototype.rc=function(t,e){var r=this.WF&&this.WF.contextMatcher&&this.WF.contextMatcher.dash;return g.Dash.rc(t,e,r)},P.prototype.YF=function(t){var e="";return-1!==t.indexOf("/")&&(-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),e=t.substring(0,t.lastIndexOf("/")+1)),e},P.prototype.parse=function(t,e,r){var n=this;try{this.KF.zF(),this.manifestUrl=t,this.manifest=this.$F.parse(e);var i=this.manifest.hasOwnProperty("Location")?this.YF(this.manifest.Location):this.YF(this.manifestUrl);this.manifest.hasOwnProperty("BaseURL")&&(i+=this.manifest.BaseURL),this.live="static"!==this.manifest.type;var s=this.manifest.Period_asArray[0],o=this.manifest.availabilityStartTime;if(s.AdaptationSet_asArray){var a=s.AdaptationSet_asArray.every((function(t){return(-1!=(t.mimeType?t.mimeType:t.Representation_asArray[0].mimeType).indexOf("audio")?h.af.ff:h.af.cf)==h.af.ff}));s.AdaptationSet_asArray.forEach((function(t){var e=-1!=(t.mimeType?t.mimeType:t.Representation_asArray[0].mimeType).indexOf("audio")?h.af.ff:h.af.cf;e===h.af.cf&&t.ContentProtection&&n.XF(t.ContentProtection);var r=t.SegmentTemplate;t.Representation_asArray&&t.Representation_asArray.forEach((function(t){var l=n.JF.add(e,{id:t.id,bitrate:parseInt(t.bandwidth),width:t.width,height:t.height,label:t.label}),p=n.ZF.has(t.id),f=p?n.ZF.get(t.id):new c.Representation,d=t.SegmentTemplate?t.SegmentTemplate:r;if(f.type=e,f.qualityLevel=l,f.timescale=parseInt(d.timescale)||1,e!==h.af.cf&&!a||n.KF.tx(f.timescale),f.ix=t.id,f.initialization=i+""+d.initialization,f.initialization=f.initialization.replace(P.nx,""+f.qualityLevel.bitrate),f.initialization=f.initialization.replace(P.sx,""+f.ix),f.initialization=E.We(f.initialization),f.ex=i+""+d.media,f.ex=f.ex.replace(P.nx,""+f.qualityLevel.bitrate),f.ex=f.ex.replace(P.sx,""+f.ix),f.ex=E.We(f.ex),f.hx=n.ox(E.ze(f.ex)),f.ex.match(P.ux)){if(f.ax=parseInt(d.duration),!f.ax)throw new Error("Expected duration on SegmentTemplate for Number-based template");f.startNumber=parseInt(d.startNumber)||0,f.lx=parseInt(s.start)||0;var g=u.Framework.time(),v=f.ax/f.timescale*1e3,m=Math.floor((g-(new Date(o).getTime()+1e3*s.start))/v);n.KF.vx(f.startNumber,m,f.ax,m-f.startNumber),n.Ex=!0}else n.wx(d.SegmentTimeline_asArray[0].S_asArray,f,a);p||n.ZF.set(l.id,f)}))}))}var l=this.gx.px?this.bx(e,r):e;return this.KF.yx(),l}catch(t){throw m.ErrorMonitor.getInstance().logError("Error parsing the metadata",this.loggerId,y.xt.Er,t),new Error(t)}},P.prototype.ox=function(t){var e=t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),r=e.match(/\\\$Number%(\d+)d\\\$/);return r&&(e=e.replace("\\$Number%"+r[1]+"d\\$","(\\d{"+parseInt(r[1])+"})")),e=(e=e.replace("\\$Time\\$","([0-9]*)")).replace("\\$Number\\$","([0-9]*)"),new RegExp(e,"i")},P.prototype.wx=function(t,e,r){var n=this;void 0===r&&(r=!1);try{var i,s=e.ex,o=e.qualityLevel,a=e.type,l=e.Tx,u=function(t,e,s,o,u,c,f){var d;if(l.has(t))d=l.get(t);else{var g=new T.TimeDuration(s,o);d=new p.xH(t,e,g,u,c,f);var v=E.ze(u);n.mx.set(v,d),l.set(t,d)}i&&(i.next=d),i=d,a!==h.af.cf&&!r||n.KF.Ox(d.id)},c=0,f=0;t.forEach((function(t){if(t.d){t.t?c=parseInt(t.t):c+=f;var r=parseInt(t.d),n=s.replace(P.Ix,c+"");u(c,o,r,e.timescale,n,n,a);var i=0;t.r&&(i=parseInt(t.r));for(var l=0;l<i;l++){c+=r;var h=s.replace(P.Ix,c+"");u(c,o,r,e.timescale,h,h,a)}f=r}}))}catch(t){throw m.ErrorMonitor.getInstance().logError("Error extracting segment maps",this.loggerId,y.xt.wr,t),new Error(t)}},P.prototype.XF=function(t){try{if(t){if(t.CryptoPeriod){var e=t.CryptoPeriod;this._x&&!this._x.Rx()&&this._x instanceof f.Sx||(this._x=new f.Sx(e.keyUriTemplate,e.IV,this.authenticationToken))}else this._x&&this._x instanceof d.Ax||(this._x=new d.Ax);this._x&&g.Dash.lR&&this._x.init()}}catch(t){throw m.ErrorMonitor.getInstance().logError("Error initializing the protection",this.loggerId,y.xt.pr,t),new Error(t)}},P.prototype.Nx=function(t){return t=E.ze(t),this.ZF.values().find((function(e){return e.hx.test(t)}))},P.prototype.eF=function(t){t=E.ze(t);var e=s.prototype.eF.call(this,t);if(e)return e;try{var r=this.Nx(t);if(r){var n=t.match(r.hx);if(n){var i=parseInt(n[1]);return this.lF(i,r.qualityLevel)}}throw new Error("No representation for "+t)}catch(t){return m.ErrorMonitor.getInstance().logError("Error getting the segment info",this.loggerId,y.xt.gr,t),null}},P.prototype.nS=function(t){try{return s.prototype.nS.call(this,t)}catch(e){return m.ErrorMonitor.getInstance().logError("Error getting the entity type based on a url",this.loggerId,y.Gt.sr,{detailedError:e,url:t}),h.af.vf}},P.prototype.Cx=function(t){t=E.ze(t);try{return this.Nx(t).timescale}catch(t){return m.ErrorMonitor.getInstance().logError("Error getting the representation for timescale",this.loggerId,y.xt.br,t),1e4}},P.prototype.kx=function(t){return t=E.ze(t),this.ZF.values().some((function(e){return E.ze(e.initialization)===t}))},P.prototype.jx=function(t){return!!this.manifest.hasOwnProperty("UTCTiming")&&this.manifest.UTCTiming.value===t},P.prototype.Mx=function(t,e){var r=this.ZF.get(e.id);if(r){if(r.Tx.length)return 1;var n=u.Framework.time(),i=r.ax/r.timescale*1e3,s=this.manifest.availabilityStartTime.getTime()+(this.manifest.Period.start||0)+(t-r.startNumber+1)*i;return Math.max(1,s-n)}return 1},P.prototype.BD=function(t,e,r,n){try{var i=this.ZF.get(n.id);if(i){if(i.Tx.has(t)&&i.Tx.has(r)){for(var s=i.Tx.get(t),o=i.Tx.get(r),a=0,l=s;l&&l!=o;)a+=l.duration.ms(),l=l.next;return a}if(i.ax)return(r-t)*i.ax/i.timescale*1e3}return 0}catch(t){return m.ErrorMonitor.getInstance().logError("Error extracting the segment distance",this.loggerId,y.xt.br,t),0}},P.prototype.Dx=function(t){try{t instanceof Uint8Array&&(t=t.buffer);var e=a.Px(t),r=e.fetch("tfhd"),n=e.fetch("trun"),i=r?r.default_sample_duration:0;if(n){var s=0;return n.Lx.forEach((function(t){s+=t.sample_duration})),isNaN(s)&&0<i&&(s=i*n.Lx.length),s}}catch(t){return m.ErrorMonitor.getInstance().logError("Error extracting duration from the buffer",this.loggerId,y.xt.yr,t),0}},P.prototype.bx=function(t,e){if(!e&&this.live)try{var r=t.match(/^<\?xml\s[^?]+\?>/),n=new l.default({escapeMode:!0,useDoubleQuotes:!0,arrayAccessForm:"property"}),i=n.Hx(t);this.live&&this.Ux(i),this.Fx(i);var s=n.xx(i);return r&&(s=r[0]+s),s}catch(t){this.logger.error(t)}return t},P.prototype.Gx=function(){var t=this.WF;return t&&t.maximumTrimming&&t.maximumTrimming.dash?{Vx:t.maximumTrimming.dash,Bx:t.maximumTrimming.dash}:{Vx:g.Dash.pR,Bx:g.Dash.ER}},P.prototype.Ux=function(t){var e=this,r=Math.max(1,g.Dash.DASH_METADATA_MIN_FRAGMENTS),n=this.Gx(),i=n.Vx,s=n.Bx,o=Math.max(1,i),a=[],l=!1;return t.MPD&&t.MPD.Period&&t.MPD.Period.AdaptationSet_asArray&&t.MPD.Period.AdaptationSet_asArray.forEach((function(n){if(!l){var i=n.SegmentTemplate;if(n.Representation&&n.Representation.SegmentTemplate&&(i=n.Representation.SegmentTemplate),i&&i._media&&i._media.match(P.ux)){l=!0;var c=u.Framework.time();t.MPD.Period._start=t.MPD.Period._start||"PT0S";var h=t.MPD.Period._start,p=w.default(h),f=parseInt(i._timescale)||1,d=parseInt(i._duration)/f*1e3,v=Math.floor((c-(new Date(t.MPD._availabilityStartTime).getTime()+1e3*p))/d),m=Math.max(0,v-g.Dash.wR),y=Math.ceil(1e3*s/d),b=Math.max(0,Math.min(m,y));e.KF.qx(b);var E=0<b?b*d/1e3:0;try{t.MPD.Period._start="PT"+(p+E)+"S",e.logger.debug("Trimmed "+E+" from period start "+h+" => "+t.MPD.Period._start)}catch(n){e.logger.warn("Could not modify period: "+n)}}else if(e.Qx(n)&&n.Representation_asArray){var A=e.Wx(n.SegmentTemplate,o,r);n.Representation_asArray.forEach((function(t){A.bandwidth=parseInt(t._bandwidth)||0,a.push(A)}))}else n.Representation_asArray&&0<n.Representation_asArray.length&&n.Representation_asArray.forEach((function(t){if(e.Yx(t)){var n=e.Wx(t.SegmentTemplate,o,r);n.bandwidth=parseInt(t._bandwidth)||0,a.push(n)}}))}})),t},P.prototype.Yx=function(t){return t&&("video/mp4"===t._mimeType||"video"===t._contentType||t.SegmentTemplate&&t.SegmentTemplate._media&&-1<t.SegmentTemplate._media.indexOf("video"))},P.prototype.Wx=function(t,e,r){for(var n=0,i=0,s=t.SegmentTimeline.S_asArray,o=parseInt(t._timescale),a=e*o,l=0,u=0,c=0;c<s.length&&0<r;c++)r<(d=(p=s[l=c])._r?parseInt(p._r):1)?(u=r,r=0):(r-=d,u=d);for(var h=s.length-1;0<=h&&0<a&&l<=h;h--){var p,f,d=(p=s[h])._r?parseInt(p._r):1;if(!p._d)throw new Error("missing segment duration");var g=d*(f=parseInt(p._d));if((l<h||h==l&&0==u)&&g<=a)a-=g,s.splice(h,1),n+=d,i+=g;else{var v=Math.ceil(a/f);h==l&&(v=Math.min(v,d-u));var m=f*v;p._r=d-v+"",a-=m,n+=v,i+=m}}this.KF.qx(n);var y=i/o*1e3;return this.logger.debug("DASH trimmed "+n+" segments for total duration: "+y),{count:n,zx:i}},P.prototype.Qx=function(t){try{if(!t)return!1;if("video/mp4"===t._mimeType||"video"===t._contentType||t.SegmentTemplate&&t.SegmentTemplate._media&&-1<t.SegmentTemplate._media.indexOf("video"))return!!t.SegmentTemplate.SegmentTimeline}catch(t){this.logger.error(t)}return!1},P.prototype.Kx=function(){var t=v.HiveConfig.Dash.DashFilterBitrates;if(t)try{return("string"==typeof t?t.split(","):t).map((function(t){return parseInt(t)})).filter((function(t){return!isNaN(t)}))}catch(t){m.ErrorMonitor.getInstance().logError("Error parsing DashFilterBitrates",this.loggerId,y.xt.Ar,t)}},P.prototype.Fx=function(t){var e=this;t.MPD&&t.MPD.Period&&t.MPD.Period.AdaptationSet.forEach((function(t){if(t.Representation_asArray&&(e.Qx(t)||t.Representation_asArray.every((function(t){return e.Yx(t)})))){var r=t.Representation_asArray;e.$x.filter(r)}}))},P.prototype.lF=function(t,e){var r=s.prototype.lF.call(this,t,e);if(r)return r;try{var n=e?this.ZF.get(e.id):this.ZF.values().find((function(t){return t.type===h.af.cf}));if(n&&n.ax){var i=n.ex.replace(P.ux,(function(e,r){return b.Xx(r||"%d",t)})),o=new T.TimeDuration(n.ax,n.timescale),a=new p.xH(t,n.qualityLevel,o,i,i,n.type);return this.mx.set(E.ze(i),a),a}return null}catch(e){return m.ErrorMonitor.getInstance().logError("Error getting the segment",this.loggerId,y.xt.kr,e),null}},P.nx="$Bandwidth$",P.Ix="$Time$",P.sx="$RepresentationID$",P.ux=/\$Number([^$]+)?\$/,P);function P(t,e,r){var n=s.call(this,t,e,r)||this;n.loggerId="[DASH METADATA] ",n.Ex=!1;var i=n.Kx()||[];return n.$x=new S.Jx(i,v.HiveConfig.Dash.DashRemoveBitrateSize,n.JF),n.$F=o.default().create(),n}e.qF=I},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n=p(r(83)),i=p(r(135)),s=p(r(84)),o=p(r(136)),a=p(r(137)),l=p(r(139)),u=p(r(140)),c=p(r(141)),h=p(r(143));function p(t){return t&&t.s?t:{default:t}}function f(t){t=t||{};var e,r=this.context,n=t.debug,p=void 0,f=void 0,d=void 0,g=void 0;return e={parse:function(t){var e=void 0,r=window.performance.now();if(!(e=d.Hx(t)))throw new Error("parsing the manifest failed");var n=window.performance.now();g.lN(e);var i=window.performance.now();return p&&"function"==typeof p.info&&p.info("Parsing complete: ( xml2json: "+(n-r).toPrecision(3)+"ms, objectiron: "+(i-n).toPrecision(3)+"ms, total: "+((i-r)/1e3).toPrecision(3)+"s)"),e.protocol="DASH",e},Zx:function(){return f},tG:function(){return g}},p=n&&n.iG(e),f=[new a.default,new l.default,new u.default,new o.default],d=new s.default({escapeMode:!1,nG:"",arrayAccessForm:"property",rG:"object",sG:!1,eG:!0,hG:!0,oG:f}),g=(0,i.default)(r).create({uG:new c.default,period:new h.default}),e}f.aG="DashParser",e.default=n.default.fG(f)},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n,i,s,o,a=(i=[],s={},o={},n={extend:function(t,e,r,n){!n[t]&&e&&(n[t]={instance:e,cG:r})},lG:l,vG:function(t,e,r){for(var n in i){var s=i[n];if(s.context===t&&s.name===e)return void(i[n].instance=r)}i.push({name:e,context:t,instance:r})},dG:function(t){var e=u(t.aG,s);return e||(e=function(e){var r=void 0;return void 0===e&&(e={}),{getInstance:function(){return(r=r||l(e,t.aG))||(r=h(t,e,arguments),i.push({name:t.aG,context:e,instance:r})),r}}},s[t.aG]=e),e},EG:function(t){return u(t,s)},wG:function(t,e){c(t,e,s)},fG:function(t){var e=u(t.aG,o);return e||(e=function(e){return void 0===e&&(e={}),{create:function(){return h(t,e,arguments)}}},o[t.aG]=e),e},pG:function(t){return u(t,o)},gG:function(t,e){c(t,e,o)}});function l(t,e){for(var r in i){var n=i[r];if(n.context===t&&n.name===e)return n.instance}return null}function u(t,e){return e[t]}function c(t,e,r){t in r&&(r[t]=e)}function h(t,e,r){var i=void 0,s=t.aG,o=e[s];if(o){var a=o.instance;if(!o.cG)return a.apply({context:e,bG:n},r);for(var l in i=t.apply({context:e},r),a=a.apply({context:e,bG:n,parent:i},r))i.hasOwnProperty(l)&&(i[l]=a[l])}else i=t.apply({context:e},r);return i.yG=function(){return s},i}e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.default=function(t){void 0===(t=t||{}).escapeMode&&(t.escapeMode=!0),void 0===t.nG&&(t.nG="_"),t.arrayAccessForm=t.arrayAccessForm||"none",t.rG=t.rG||"text",void 0===t.eG&&(t.eG=!0),t.TG=t.TG||[],void 0===t.mG&&(t.mG=!0),void 0===t.sG&&(t.sG=!0),t.OG=t.OG||[],void 0===t.useDoubleQuotes&&(t.useDoubleQuotes=!1),t.IG=t.IG||[],t._G=t._G||[],void 0===t.RG&&(t.RG=!1),void 0===t.hG&&(t.hG=!1);function e(t){var e=t.localName;return null==e&&(e=t.SG),null!=e&&""!=e||(e=t.nodeName),e}function r(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t}function n(t,e,r,n){for(var i=0;i<t.length;i++){var s=t[i];if("string"==typeof s){if(s==n)break}else if(s instanceof RegExp){if(s.test(n))break}else if("function"==typeof s&&s(e,r,n))break}return i!=t.length}function i(e,r,i){"property"===t.arrayAccessForm&&(e[r]instanceof Array?e[r+"_asArray"]=e[r]:e[r+"_asArray"]=[e[r]]),!(e[r]instanceof Array)&&0<t.TG.length&&n(t.TG,e,r,i)&&(e[r]=[e[r]])}function s(t){var e=t.split(/[-T:+Z]/g),r=new Date(e[0],e[1]-1,e[2]),n=e[5].split(".");if(r.setHours(e[3],e[4],n[0]),1<n.length&&r.setMilliseconds(n[1]),e[6]&&e[7]){var i=60*e[6]+Number(e[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(t)?"-":"+")?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==t.indexOf("Z",t.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function o(r,a){if(9==r.nodeType){for(var l=new Object,u=r.childNodes,c=0;c<u.length;c++)1==(p=u[c]).nodeType&&(t.hG?l=o(p):(l={})[f=e(p)]=o(p));return l}if(1==r.nodeType){(l=new Object).__cnt=0;var h=[];for(u=r.childNodes,c=0;c<u.length;c++){var p,f=e(p=u[c]);if(8!=p.nodeType){var d=a+"."+f;if(I=l,P=f,k=d,!(1==p.nodeType&&0<t.IG.length)||n(t.IG,I,P,k))if(l.__cnt++,null==l[f]){var g=o(p,d);("#text"!=f||/[^\s]/.test(g))&&((v={})[f]=g,h.push(v)),l[f]=g,i(l,f,d)}else{var v;null!=l[f]&&(l[f]instanceof Array||(l[f]=[l[f]],i(l,f,d))),g=o(p,d),("#text"!=f||/[^\s]/.test(g))&&((v={})[f]=g,h.push(v)),l[f][l[f].length]=g}}}l.__children=h;for(var m=e(r),y=0;y<r.attributes.length;y++){var b=r.attributes[y];l.__cnt++;var E=b.value;if(Array.isArray(t.oG))for(var w=0,A=t.oG.length;w<A;w++){var S=t.oG[w];S.test(b,m)&&(E=S.converter(b.value))}l[t.nG+b.name]=E}var T=function(t){return t.prefix}(r);return null!=T&&""!=T&&(l.__cnt++,l.__prefix=T),null!=l["#text"]&&(l.__text=l["#text"],l.__text instanceof Array&&(l.__text=l.__text.join("\n")),t.sG&&(l.__text=l.__text.trim()),delete l["#text"],"property"==t.arrayAccessForm&&delete l["#text_asArray"],l.__text=function(e,r,i){if(0<t.OG.length){var o=i.split(".#")[0];return n(t.OG,e,r,o)?s(e):e}return e}(l.__text,f,a+"."+f)),null!=l["#cdata-section"]&&(l.__cdata=l["#cdata-section"],delete l["#cdata-section"],"property"==t.arrayAccessForm&&delete l["#cdata-section_asArray"]),0==l.__cnt&&"text"==t.rG?l="":1==l.__cnt&&null!=l.__text?l=l.__text:1!=l.__cnt||null==l.__cdata||t.RG?1<l.__cnt&&null!=l.__text&&t.mG&&(t.sG&&""==l.__text||""==l.__text.trim())&&delete l.__text:l=l.__cdata,delete l.__cnt,!t.eG||null==l.__text&&null==l.__cdata||(l.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),l}if(3==r.nodeType||4==r.nodeType)return r.nodeValue;var I,P,k}function a(e,n,i,s){var o="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+n;if(null!=i)for(var a=0;a<i.length;a++){var l=i[a],u=e[l];t.escapeMode&&(u=r(u)),o+=" "+l.substr(t.nG.length)+"=",t.useDoubleQuotes?o+='"'+u+'"':o+="'"+u+"'"}return o+(s?"/>":">")}function l(t,e){return"</"+(null!=t.__prefix?t.__prefix+":":"")+e+">"}function u(e,r){return!!("property"==t.arrayAccessForm&&function(t,e){return-1!==t.indexOf(e,t.length-e.length)}(r.toString(),"_asArray")||0==r.toString().indexOf(t.nG)||0==r.toString().indexOf("__")||e[r]instanceof Function)}function c(t){var e=0;if(t instanceof Object)for(var r in t)u(t,r)||e++;return e}function h(e){var r=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(t.nG)&&r.push(n);return r}function p(e){var n="";return e instanceof Object?n+=function(e){var n="";return null!=e.__cdata&&(n+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t.escapeMode?n+=r(e.__text):n+=e.__text),n}(e):null!=e&&(t.escapeMode?n+=r(e):n+=e),n}function f(t,e){return""===t?e:t+"."+e}function d(t,e,r,n){var i="";if(0==t.length)i+=a(t,e,r,!0);else for(var s=0;s<t.length;s++)i+=a(t[s],e,h(t[s]),!1),i+=g(t[s],f(n,e)),i+=l(t[s],e);return i}function g(e,r){var i,s,o,v="";if(0<c(e))for(var m in e)if(!u(e,m)&&(""==r||(i=e,o=f(r,s=m),0==t._G.length||""==o||n(t._G,i,s,o)))){var y=e[m],b=h(y);null==y||null==y?v+=a(y,m,b,!0):y instanceof Object?y instanceof Array?v+=d(y,m,b,r):y instanceof Date?(v+=a(y,m,b,!1),v+=y.toISOString(),v+=l(y,m)):0<c(y)||null!=y.__text||null!=y.__cdata?(v+=a(y,m,b,!1),v+=g(y,f(r,m)),v+=l(y,m)):v+=a(y,m,b,!0):(v+=a(y,m,b,!1),v+=p(y),v+=l(y,m))}return v+p(e)}this.AG=function(t){var e;if(window.ActiveXObject||window,void 0===t)return null;if(window.DOMParser){var r=new window.DOMParser;try{0<(e=r.parseFromString(t,"text/xml")).getElementsByTagNameNS("*","parsererror").length&&(e=null)}catch(t){e=null}}else 0==t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.NG(t);return e},this.CG=function(t){return void 0===t||null==t?[]:t instanceof Array?t:[t]},this.kG=function(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null},this.jG=function(t){return"string"==typeof t?s(t):t},this.MG=function(t){return o(t)},this.Hx=function(t){var e=this.AG(t);return null!=e?this.MG(e):null},this.xx=function(t){return g(t,"")},this.DG=function(t){var e=this.xx(t);return this.AG(e)},this.getVersion=function(){return"1.2.0"}}},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"s",{value:!0});var i,s=(i=r(142))&&i.s?i:{default:i},o=(function(t,e,r){e&&n(t.prototype,e)}(a,[{key:"name",get:function(){return this.PG}},{key:"children",get:function(){return this.LG}},{key:"properties",get:function(){return this.HG}}]),a);function a(t,e,r){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.PG=t||"",this.HG=[],this.LG=r||[],Array.isArray(e)&&e.forEach((function(t){n.HG.push(new s.default(t))}))}e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.QF=void 0;var n=r(0),i=r(7),s=r(153),o=r(4),a=r(3),l=(u.prototype.getManifestUrl=function(){return this.manifestUrl},u.prototype.isLive=function(){return this.live},u.prototype.mD=function(t){return this.JF.getAll(t)},u.prototype.ZH=function(){return this.KF.UG()},u.prototype.iU=function(t){this.authenticationToken=t},u.prototype.oD=function(){return this.JF},u.prototype.lF=function(t,e){if(e&&this.ZF.has(e.id))return(r=this.ZF.get(e.id)).Tx.get(t);if(e)return null;var r,n=this.ZF.values().every((function(t,e){return t.type===i.af.ff}));return 0<(r=this.ZF.filter((function(e){return(e.type===i.af.cf||n)&&e.Tx.has(t)}))).length?r.values()[0].Tx.get(t):null},u.prototype.eF=function(t){return t=o.ze(t),this.mx.get(t)},u.prototype.vF=function(t){t=o.ze(t);var e=this.eF(t);return null!=e?e.next:null},u.prototype.nS=function(t){if(this.rc(t,void 0))return i.af.lf;if(this.kx(t)||this.jx(t))return i.af.vf;var e=this.eF(t);if(e)return e.CA;throw new Error("Segment not found")},u);function u(t,e,r){this.live=!1,this.mx=new a,this.ZF=new a,this.JF=n.Framework.resolve(n.Framework.v.MC),this.gx=t,this.WF=r,this.logger=n.Framework&&n.Framework.resolve(n.Framework.v.p)?n.Framework.resolve(n.Framework.v.p).log(e):console,this.KF=new s.FG(this.logger,this)}e.QF=l},function(t,e,r){var n=function(){var t={ay:{}};function e(t){for(var e,r=t.split(s),n=r.length,i={};n--;)""!==r[n]&&((e=/([^=]*)=(.*)/.exec(r[n]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i}t.ay.create=Object.create||function(t){function e(){}return e.prototype=t,new e},t.ay.xG=function(t,e,r){for(var n in t)hasOwnProp.call(t,n)&&e.call(r||this,n,t[n])},t.ay.ug=function(t,e){if(!e)return t;for(var r in e)hasOwnProp.call(e,r)&&(t[r]=e[r]);return t},t.ay.GG=function(e,r){var n,i,s;for(n in e=t.ay.nH(e),r)hasOwnProp.call(r,n)&&(i=e[n],s=r[n],t.ay.VG(i)&&t.ay.VG(s)?e[n]=t.ay.GG(i,s):e[n]=r[n]);return e},t.ay.nH=function(e){return t.ay.ug({},e)},t.ay.VG=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},t.ay.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.mergeOptions=function(e,r){var n,i,s;for(n in e=t.ay.nH(e),r)r.hasOwnProperty(n)&&(i=e[n],s=r[n],t.ay.VG(i)&&t.ay.VG(s)?e[n]=t.util.mergeOptions(i,s):e[n]=r[n]);return e},(o=function(){this.init=function(){var t={};this.on=function(e,r){t[e]||(t[e]=[]),t[e].push(r)},this.off=function(e,r){var n;return!!t[e]&&(n=t[e].indexOf(r),t[e].splice(n,1),-1<n)},this.trigger=function(e){var r,n,i,s;if(r=t[e])for(s=Array.prototype.slice.call(arguments,1),i=r.length,n=0;n<i;++n)r[n].apply(this,s)},this.dispose=function(){t={}}}}).prototype.BG=function(t){this.on("data",(function(e){t.push(e)}))},t.qG=o;var r,n,i,s=new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'),o=t.qG;return(r=function(){var t="";r.prototype.init.call(this),this.push=function(e){var r;for(r=(t+=e).indexOf("\n");-1<r;r=t.indexOf("\n"))this.trigger("data",t.substring(0,r)),t=t.substring(r+1)}}).prototype=new o,(n=function(){n.prototype.init.call(this)}).prototype=new o,n.prototype.push=function(t){var r,n;if(0!==(t=t.replace(/^\s+|\s+$/g,"")).length)if("#"===t[0])if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),r=/^#EXTM3U/.exec(t))this.trigger("data",{type:"tag",QG:"m3u"});else{if(r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",QG:"inf"},r[1]&&(n.duration=parseFloat(r[1])),r[2]&&(n.title=r[2]),void this.trigger("data",n);if(r=/^#EXT-X-MAP:?(.*)$/.exec(t))return n={type:"tag",QG:"x-map"},void(r[1]&&(n.attributes=e(r[1]),n.attributes.URI&&(this.trigger("data",n),this.trigger("data",{type:"uri",uri:n.attributes.URI}))));if(r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",QG:"targetduration"},r[1]&&(n.duration=parseInt(r[1],10)),void this.trigger("data",n);if(r=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",QG:"totalduration"},r[1]&&(n.duration=parseInt(r[1],10)),void this.trigger("data",n);if(r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",QG:"version"},r[1]&&(n.version=parseInt(r[1],10)),void this.trigger("data",n);if(r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",QG:"media-sequence"},r[1]&&(n.number=parseInt(r[1],10)),void this.trigger("data",n);if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",QG:"discontinuity-sequence"},r[1]&&(n.number=parseInt(r[1],10)),void this.trigger("data",n);if(r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",QG:"playlist-type"},r[1]&&(n.playlistType=r[1]),void this.trigger("data",n);if(r=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",QG:"byterange"},r[1]&&(n.length=parseInt(r[1],10)),r[2]&&(n.offset=parseInt(r[2],10)),void this.trigger("data",n);if(r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",QG:"allow-cache"},r[1]&&(n.MM=!/NO/.test(r[1])),void this.trigger("data",n);if(r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t))return n={type:"tag",QG:"stream-inf"},r[1]&&(n.attributes=e(r[1]),n.attributes.type="VIDEO",n.attributes.RESOLUTION&&(s={},(i=n.attributes.RESOLUTION.split("x"))[0]&&(s.width=parseInt(i[0],10)),i[1]&&(s.height=parseInt(i[1],10)),n.attributes.RESOLUTION=s),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.WG&&(n.attributes.WG=parseInt(n.attributes.WG,10))),void this.trigger("data",n);var i,s;if(r=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",QG:"x-media"},void(r[1]&&(n.attributes=e(r[1]),n.attributes.URI&&(this.trigger("data",n),this.trigger("data",{type:"uri",uri:n.attributes.URI}))));if(r=/^#EXT-X-ENDLIST/.exec(t))this.trigger("data",{type:"tag",QG:"endlist"});else if(r=/^#EXT-X-DISCONTINUITY/.exec(t))this.trigger("data",{type:"tag",QG:"discontinuity"});else{if(r=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",QG:"key"},r[1]&&(n.attributes=e(r[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2)&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);this.trigger("data",{type:"tag",data:t.slice(4,t.length)})}}else this.trigger("data",{type:"comment",text:t.slice(1)});else this.trigger("data",{type:"uri",uri:t})},(i=function(){var e,s=this,o=[],a={};i.prototype.init.call(this),this.YG=new r,this.zG=new n,this.YG.BG(this.zG),this.manifest={allowCache:!0},this.zG.on("data",(function(r){({tag:function(){({"allow-cache":function(){this.manifest.allowCache=r.MM,"allowed"in r||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in r&&((a.byterange=t).length=r.length,"offset"in r||(this.trigger("info",{message:"defaulting offset to zero"}),r.offset=0)),"offset"in r&&((a.byterange=t).offset=r.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<=r.duration&&(a.duration=r.duration),this.manifest.segments=o},"x-map":function(){r.attributes?r.attributes.URI?this.manifest.segments=o:this.trigger("warn",{message:"ignoring x-map declaration without URI"}):this.trigger("warn",{message:"ignoring x-map declaration without attribute list"})},key:function(){r.attributes?"NONE"!==r.attributes.KG?r.attributes.URI?(r.attributes.KG||this.trigger("warn",{message:"defaulting key method to AES-128"}),e={method:r.attributes.KG||"AES-128",uri:r.attributes.URI},void 0!==r.attributes.IV&&(e.iv=r.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):e=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(r.number)?this.manifest.mediaSequence=r.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+r.number})},"discontinuity-sequence":function(){isFinite(r.number)?this.manifest.discontinuitySequence=r.number:this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+r.number})},"playlist-type":function(){/VOD|EVENT/.test(r.playlistType)?this.manifest.playlistType=r.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+r.$G})},"stream-inf":function(){this.manifest.playlists=o,r.attributes?(a.attributes||(a.attributes={}),a.attributes=t.mergeOptions(a.attributes,r.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},"x-media":function(){this.manifest.playlists=o,r.attributes?(a.attributes||(a.attributes={}),a.attributes=t.mergeOptions(a.attributes,r.attributes)):this.trigger("warn",{message:"ignoring empty x-media attributes"})},discontinuity:function(){a.discontinuity=!0},targetduration:function(){!isFinite(r.duration)||r.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+r.duration}):this.manifest.targetDuration=r.duration},totalduration:function(){!isFinite(r.duration)||r.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+r.duration}):this.manifest.totalDuration=r.duration}}[r.QG]||function(){}).call(s)},uri:function(){a.uri=r.uri,o.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),e&&(a.key=e),a={}},comment:function(){}})[r.type].call(s)}))}).prototype=new o,i.prototype.push=function(t){this.YG.push(t)},i.prototype.end=function(){this.YG.push("\n")},t.XG=r,t.JG=n,t.ZG=i,t}();t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.SessionStorageUtil=void 0;var n=(i.getItem=function(t){try{return window.sessionStorage?window.sessionStorage.getItem(t):null}catch(t){return null}},i.setItem=function(t,e){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(t,e),!0)}catch(t){return!1}},i.removeItem=function(t){try{window.sessionStorage&&window.sessionStorage.removeItem(t)}catch(t){return null}},i);function i(){}e.SessionStorageUtil=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.SensitiveInfoUtils=void 0;var n=r(10),i=r(0),s=(o.getPrivateIp=function(t){var e=t.getPrivateIp();return this.shouldObfuscate()&&e&&(e=e.replace(/[0-9]*$/,"0")),e},o.getHostname=function(t){return this.shouldObfuscate()?n.HiveConfig.SensitiveInfo.hiddenHostnameValue:t.getHostName()},o.shouldObfuscate=function(){try{this.configStore||(this.configStore=i.Framework.resolve(i.Framework.v.PC));var t=this.configStore.getConfig("pii.obfuscationEnabled");return n.HiveConfig.SensitiveInfo.restrictedConnectivityInfo||t}catch(t){return!1}},o);function o(){}e.SensitiveInfoUtils=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.qI=void 0,e.qI=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.tV=void 0;var n=r(0),i=r(8),s=(o.prototype.getInstance=function(){return n.Framework.resolve(this.tag)},o.prototype.getName=function(){return this.name},o.prototype.getVersion=function(){return this.version},o.prototype.P_=function(){return a.iV(this)},o);function o(t,e){this.version=i.K.pf,this.name=t,this.tag=e}e.default=s;var a=(l.iV=function(t){return new l(t.getName(),t.getVersion())},l);function l(t,e){this.name=t,this.version=e}e.tV=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.wp=e.CF=e.nV=void 0;var n=r(89),i=r(3),s=r(20);r(63),r(173);var o=r(0),a=r(15),l=r(16),u=r(23),c=r(10),h=r(1),p=r(9),f=r(47),d="[SNAP] ",g=function(){this.metrics=new hive.snapshots.Metrics,this.rV=new hive.snapshots.Traffic,this.sV=new i,this.eV=new i,this.hV=new i,this.player=new hive.snapshots.Player};e.nV=g;var v=(m.prototype.init=function(t,e,r,n){this.logger=o.Framework.resolve(o.Framework.v.p).log(n),this.WI=o.Framework.resolve(o.Framework.v.XI),this.nU=o.Framework.resolve(o.Framework.v._C),this.hF=o.Framework.resolve(o.Framework.v.JN),this.oF=o.Framework.resolve(o.Framework.v.ZN),this.logger.debug(d+"INIT STATS STORE - Reporting ID: "+t),this.pI=t,this.ticket=e,this.gI(r)},m.prototype.rU=function(t){this.testId=t},m.prototype.oV=function(t){this.uV=t},m.prototype.aV=function(t){this.fV=t},m.prototype.cV=function(t){this.lV=t},m.prototype.vV=function(t){this.dV=t},m.prototype.gI=function(t){this.bI=t},m.prototype.EV=function(t){this.z_=t},m.prototype.wV=function(){this.x_=new g,this.pI=null,this.ticket=null,this.reset()},m.prototype.reset=function(){this.pV=new g,this.gV(this.pV.rV),this.bV(this.pV),this.responseInfo.source=[]},m.prototype.gV=function(t){t.reqN=0,t.respFallbackN=0,t.respFallbackErrN=0,t.respP2pN=0,t.reqOtherN=0,t.respFallbackOtherN=0,t.respFallbackOthertErrN=0,t.srcReqN=0,t.srcRespN=0,t.srcRespErrN=0,t.srcReqQt=0,t.srcRespQt=0,t.srcOverQt=0,t.srcOtherReqN=0,t.srcOtherRespN=0,t.srcOtherRespErrN=0,t.srcOtherReqQt=0,t.srcOtherRespQt=0,t.srcOtherOverQt=0,t.p2pSubReqN=0,t.p2pSubRespN=0,t.p2pSubRespPartN=0,t.p2pSubRespErrN=0,t.p2pSubRespExpN=0,t.p2pSubReqQt=0,t.p2pSubRespQt=0,t.p2pDirectQt=0,t.p2pRelayQt=0,t.p2pNatQt=0,t.p2pUdpbQt=0,t.fallAgentRespN=0,t.fallAgentPredHitN=0,t.fallAgentFailedRespN=0,t.fallAgenTrafficSuccessQt=0,t.p2pAgentPredHitN=0,t.p2pAgentPredMissN=0,t.p2pAgentPredPartialHitN=0,t.p2pAgenTrafficSuccessQt=0,t.p2pAgenTrafficFailureQt=0},m.prototype.bV=function(t){t.metrics.videoBufN=0,t.metrics.videoBufQt=0,t.metrics.clientBufferMs=0,t.metrics.lookupNotFound=0,t.metrics.lookupTotal=0,t.metrics.lookupLatency=0,t.metrics.lookupReqAccept=0,t.metrics.lookupReqEstablished=0,t.metrics.lookupFailed=0,t.player.bufferingN=0,t.player.bufferingMs=0,t.player.playingTimeMs=0},m.prototype.Ic=function(t){var e=this;void 0===t&&(t=!0);var r=new hive.snapshots.MetricSnapshot;r.timestamp=o.Framework.time(),r.guid=this.pI,r.sessionId=this.ticket.sessionId,r.eventId=new EventId,r.eventId.partnerId=this.ticket.LI(),r.eventId.customerId=this.ticket.HI(),r.eventId.contentId=this.ticket.rN();try{var i=new hive.snapshots.ClientInfo;if(i.clientType=this.bI.name===f.WA.HiveJS?ClientType.yV:ClientType.TV,this.bI.version){var s=this.bI.version.split(".");i.majorVersion=parseInt(s[0]),i.minorVersion=parseInt(s[1]),i.patchVersion=parseInt(s[2])}if(r.client=i,null!=this.testId){var a=new TestInfo;a.testId=this.testId,r.testInfo=a}}catch(t){this.logger.warn(d+"error setting Snapshot ClientInfo",t)}if(this.z_){var l=new hive.snapshots.AgentInfo;l.firstTierBitrates=this.z_.mV().map((function(t){return t.bitrate})),l.secondTierBitrates=this.z_.OV().map((function(t){return t.bitrate})),r.agentInfo=l}r.streamInfo=this.nU.UG(),r.fragments=this.hF.UG(),r.fetchedFragments=this.oF.UG(),r.traffic=[];var u=new hive.snapshots.TrafficKey;if(r.traffic.push({key:u,value:this.pV.rV}),this.pV.sV.forEach((function(t,e){var n=new hive.snapshots.TrafficKey;n.qualityLevelId=e,r.traffic.push({key:n,value:t})})),r.metrics=this.pV.metrics,this.uV&&(r.metrics.clientBufferMs=this.uV.min()),this.fV&&(r.metrics.trackerLatency=this.fV.min()),this.dV&&(r.metrics.sourceLatency=this.dV.min()),this.lV&&(r.metrics.remoteConfigServiceLatency=this.lV),r.player=this.pV.player,0<this.responseInfo.source.length&&(r.responseInfo=this.responseInfo),this._V){var c=this._V.RV();this.pV.metrics.prtOutN=c.SV+c.AV,this.pV.metrics.prtInN=c.NV+c.CV;var h=this._V.kV();h.forEach((function(t,n){e.jV(n,t,r)})),this._V.MV().filter((function(t,e){return!h.has(e)})).forEach((function(t,n){e.jV(n,t,r)}))}return r.connInfo=new hive.snapshots.ConnectivityInfo,t?this.WI.getConnectivityInfo().then((function(t){return r.connInfo.privateIp=n.SensitiveInfoUtils.getPrivateIp(t.getNetworkChanged()),e.DV(e.PV(r))})).fail((function(t){return e.DV(e.PV(r))})):(r.connInfo.privateIp=n.SensitiveInfoUtils.getPrivateIp(this.WI.zI().getNetworkChanged()),this.DV(r))},m.prototype.PV=function(t){return t.connInfo.internalAs=this.LV,t.connInfo.externalAs=this.HV,t.connInfo.publicIp=this.UV,t.connInfo.isVpn=this.isVpn,t},m.prototype.DV=function(t,e){void 0===e&&(e=[]);var r=p.Jf(t,"snapshot");return r.length&&h.ErrorMonitor.getInstance().logError("NaN found in MetricSnapshot",d,{keysWithNaN:r,snapshot:t}),e.length=0,e.push.apply(e,r),t},m.prototype.jV=function(t,e,r){var n=this.pV.eV.get(t);e.traffic=n,r.partners||(r.partners=[]);var i=new hive.snapshots.PartnerKey;i.partnerGuid=t,r.partners.push({key:i,value:e})},m.prototype.KH=function(t,e){0<t&&(this.pV.metrics.videoBufN++,this.pV.metrics.videoBufQt+=t,this.pV.player.bufferingN++,this.pV.player.bufferingMs+=t),this.pV.player.playerBufferMs=e},m.prototype.handleStats=function(t){var e=t.e_,r=t.playerVolume;0<e&&(this.pV.player.playingTimeMs+=e,this.x_.player.playingTimeMs+=e),this.pV.player.playerVolume=r},m.prototype.FV=function(){return this.pV.rV},m.prototype.xV=function(){return this.x_.rV},m.prototype.GV=function(t){return this.x_.sV.has(t.id)||this.x_.sV.set(t.id,new hive.snapshots.Traffic),this.x_.sV.get(t.id)},m.prototype.VV=function(t){if(!this.pV.sV.has(t.id)){var e=new hive.snapshots.Traffic;this.gV(e),this.pV.sV.set(t.id,e)}return this.pV.sV.get(t.id)},m.prototype.BV=function(){var t=new hive.snapshots.PartnerTraffic;return t.p2pSuccReq=0,t.p2pFailReq=0,t.p2pPartReq=0,t.p2pSuccReceived=0,t.p2pSuccReceivedLow=0,t.p2pFailReceived=0,t.p2pSuccResp=0,t.p2pFailResp=0,t.p2pPartResp=0,t.p2pSuccSent=0,t.p2pSuccSentLow=0,t.p2pFailSent=0,t},m.prototype.qV=function(t,e){return e.eV.has(t)||e.eV.set(t,this.BV()),e.eV.get(t)},m.prototype.QV=function(t){return this.qV(t,this.pV)},m.prototype.WV=function(t){return this.qV(t,this.x_)},m.prototype.YV=function(t){this.WI=t},m.prototype.zV=function(t){this._V=t},m.prototype.$I=function(t){},m.prototype.KV=function(t){var e=!1;this.responseInfo.source.forEach((function(r){r.statusCode==t&&(r.count++,e=!0)})),e||this.responseInfo.source.push(new hive.snapshots.ResponseInfo({statusCode:t,count:1}))},m);function m(){this.ticket=null,this.LV=0,this.HV=0,this.isVpn=!1,this.testId=null,this.responseInfo=new hive.snapshots.ServiceResponseInfo,this.wV()}e.CF=v;var y=(b.prototype.init=function(t,e){this.logger=o.Framework.resolve(o.Framework.v.p).log(e),this.logger.debug(d+"INIT CLIENT STATS"),this.store=t,this.$V()},b.prototype.$V=function(){var t=this;-1<this.XV&&o.Framework.clearInterval(this.XV),this.XV=o.Framework.setInterval((function(){t.snapshot()}),a.Wc.ol)},b.prototype.onStateChange=function(t){this.state=t},b.prototype.QH=function(){if(this.store)return this.snapshot(!1)},b.prototype.reset=function(t){o.Framework.clearInterval(this.XV),this.store&&(!1===t?this.store.reset():this.store.wV())},b.prototype.snapshot=function(t){var e=this;void 0===t&&(t=!0);var r=this.store.Ic(t);t?(this.logger.debug(d+"TAKING SNAPSHOT"),r.then((function(t){return e.forward(t)})).fail((function(t){e.logger.warn(d+"ERROR FORWARDING SNAPSHOT",t)})).finally((function(){e.store.reset()}))):(this.logger.debug(d+"FLUSHING SNAPSHOT"),this.forward(r))},b.prototype.forward=function(t){var e=this;if(this.state!==u.T_.IDLE&&this.state!==u.T_.STOP){if(this.filter){var r=this.filter.s_(),n=r.e_,i=r.threshold;if(!r.s_)return void this.logger.debug(d+"SKIPPING SNAPSHOT DUE TO REPORTING THRESHOLD: "+n+" < "+i)}if(this.client&&this.client.h_()){switch(this.JV){case 0:default:this.logger.debug(d+"SENDING SNAPSHOT");break;case 1:this.logger.debug(d+"SENDING SNAPSHOT "+JSON.stringify(t));break;case 2:this.logger.debug(d+"SENDING SNAPSHOT",t);break;case 3:this.logger.debug(d+"SENDING SNAPSHOT "+JSON.stringify(t),t)}this.protocol.mh("SNAPSHOT",s.Oh.ONEWAY,0),t.write(this.protocol),this.protocol.Ih();var o=this.transport._h(),a=this.Rh(o,",",4),c=o.slice(a+1,o.length-1),h=new l.pl(HiveStreamingServices.u_,1,c);this.client.h_().send(h).fail((function(t){e.logger.warn(d+"PROBLEM: ",t)}))}}else this.logger.debug(d+"not send - state "+u.T_[this.state])},b.prototype.Rh=function(t,e,r){return t.split(e,r).join(e).length},b.prototype.f_=function(t){this.filter=t},b);function b(){this.JV=isNaN(c.HiveConfig.DebugLogs.MetricSnapshotLogs)?0:c.HiveConfig.DebugLogs.MetricSnapshotLogs,this.state=u.T_.m_,this.client=o.Framework.resolve(o.Framework.v.c_),this.transport=new s.kh,this.protocol=new s.jh(this.transport)}e.wp=y},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.ZV=void 0;var n=r(5),i=r(18),s=r(174),o=r(0),a=r(15),l=r(51),u=r(16),c=r(8),h=c.K._f,p=c.K.If||c.K._f,f=(d.prototype.init=function(t,e,r){var o=this;if(r){if(this.tB)return{L_:this.connection,promise:this.tB};var f=n.defer(),d=new i(r).Nd({"connection-id":t,sendConfigs:"true"}).toString();return this.logger.debug(this.loggerId+"Connecting to serviceEndpoint "+d),this.connection=new s.iB(d,a.Wc.cl,a.Wc.ll,a.Wc.vl),this.connection.onconnect((function(){o.logger.debug(o.loggerId+"HIVE SERVICES CONNECTED"),f.resolve(o.connection)})),this.connection.on(HiveStreamingServices.nB,0,(function(t){o.logger.debug(o.loggerId+"FAKED RESOLVING")})),this.connection.onerror((function(){o.logger.warn(o.loggerId+"Hive Services Connection failed"),f.reject(new Error("Hive Services Connection Failed"))})),this.tB=f.promise,{L_:this.connection,promise:this.tB}}if(this.tB)this.tB.then((function(){var t={partnerId:e.LI(),customerId:e.HI(),contentId:e.rN(),secret:e.yM()},r=new u.pl(HiveStreamingServices.nB,1,JSON.stringify(t));o.connection.send(r)}));else{var g=n.defer(),v=a.Wc.zc;switch(e.RM){case l.lM.dM:p?v=a.Wc.$c:this.rB(g,"test","production");break;case l.lM.EM:p?v=a.Wc.Xc:this.rB(g,"dev","production");break;case l.lM.CUSTOM:h?v=c.K.Sf:this.rB(g,"custom","production or test")}d=new i(v).Nd({"connection-id":t,partner_id:e.LI(),customer_id:e.HI(),content_id:e.rN(),ticket:e.yM(),sendConfigs:"true"}).toString(),this.connection=new s.iB(d,a.Wc.cl,a.Wc.ll,a.Wc.vl),this.connection.onconnect((function(){g.resolve(o.connection)})),this.connection.onerror((function(){o.logger.warn("Hive Services Connection failed"),g.reject(new Error("Hive Services Connection Failed"))})),this.tB=g.promise}return{L_:this.connection,promise:this.tB}},d.prototype.rB=function(t,e,r){this.logger.warn(this.loggerId+"Error trying to resolve "+e+" ticket against "+r+" services"),t.reject(new Error(e+" ticket in "+r))},d.prototype.connect=function(){this.connection&&this.connection.connect(!0)},d.prototype.eN=function(t){},d.prototype.h_=function(){return this.connection},d.prototype.close=function(){this.connection&&(this.tB=null,this.connection.close(!1))},d);function d(){this.loggerId="[ServicesClient] ",this.logger=o.Framework.resolve(o.Framework.v.p).log(),this.logger.debug(this.loggerId+"INIT SERVICE CLIENT")}e.ZV=f},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.sB=void 0,r(175);var n=r(5),i=r(3),s=r(0),o=r(51),a=r(176),l=r(8),u=l.K._f,c=l.K.Rf,h=(p.prototype.resolve=function(t,e){var r=this,i=n.defer();return t&&(t.on(HiveStreamingServices.nB,0,(function(t){r.eB(t)})),t.on(HiveStreamingServices.nB,2,(function(t){r.eB(t)})),this.hB.set(e,new a.oB(i))),i.promise},p.prototype.eB=function(t){var e=this,r=(new Date).getTime(),n=JSON.parse(t.msg),i=!1;this.hB.forEach((function(t,s){if(e.uB(s,n)){i=!0;var o=e.verifyTicket(s,n);o?(o.v_=t.v_,o.d_=r,t.aB.resolve(o)):t.aB.reject("Ticket verification failed"),e.hB.delete(o)}})),i||this.logger.warn("no pending ticket matching: "+t.msg)},p.prototype.A_=function(t){var e=new RegExp("^https?://api(?:-test|-dev)?\\.hivestreaming\\.com/v1/events/(?:wildcard/)?");return u&&(e=new RegExp(c)),e.test(t)?o.Ticket.nN(t):null},p.prototype.uB=function(t,e){return t.LI()===e.SiteId&&t.HI()===e.CROId&&t.rN()===e.ContentId},p.prototype.verifyTicket=function(t,e){return t.pM(e),t.bM()?t:null},p);function p(){this.hB=new i,this.logger=(s.Framework.resolve(s.Framework.v.p)||console).log(),this.logger.debug("INIT TICKET RESOLVER")}e.sB=h},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.fB=e.cB=void 0;var s=r(57),o=r(5),a=r(0),l=r(15),u=r(177),c=(h.prototype.lB=function(){var t=this,e=o.defer(),r=indexedDB.open(this.vB);return r.onupgradeneeded=function(){r.result.createObjectStore(t.dB,{keyPath:"id"})},r.onsuccess=function(){var t=r.result;e.resolve(t)},r.onerror=function(t){e.reject(t)},e.promise},h.prototype.R_=function(){var t=this;if(this.EB)return this.EB;var e=o.defer();if(this.pI)e.resolve(new u.wB(this.pI));else if(l.Wc.Af&&this.indexedDB){var r=setTimeout((function(){t.logger.warn("[HiveComm] timeout retrieving persistent Reporting ID - generating random one"),t.pI=t.pB(),t.logger.debug("[HiveComm] Generated Reporting UUID: "+t.pI),e.resolve(new u.wB(t.pI))}),4e3);try{this.lB().then((function(n){var i=n.transaction(t.dB,"readwrite").objectStore(t.dB).get("MYID");i.onsuccess=function(){if(clearTimeout(r),t.pI)e.resolve(new u.wB(t.pI));else if(null!=i.result&&l.Wc.Af){var s=i.result.value;t.logger.debug("[HiveComm] Retrieved persistent Reporting UUID: "+s),t.pI=s,n.close(),e.resolve(new u.wB(t.pI))}else{var o=t.pB();t.gB(n,o),e.resolve(new u.wB(t.pI))}},i.onerror=function(n){clearTimeout(r),t.pI||(t.logger.warn("[HiveComm] error retrieving persistent Reporting UUID: "+n),t.pI=t.pB(),t.logger.debug("[HiveComm] Generated Reporting UUID: "+t.pI)),e.resolve(new u.wB(t.pI))}})).fail((function(n){clearTimeout(r),t.pI||(t.logger.warn("[HiveComm] error opening indexedDB - generating random Reporting ID. Error: "+n),t.pI=t.pB(),t.logger.debug("[HiveComm] Generated Reporting UUID: "+t.pI)),e.resolve(new u.wB(t.pI))}))}catch(t){this.pI=this.pB(),this.logger.debug("[HiveComm] Persistence error - Generate  Reporting UUID: "+this.pI,t),e.resolve(new u.wB(this.pI))}}else this.pI=this.pB(),this.logger.debug("[HiveComm] Persistence disabled - Generate  Reporting UUID: "+this.pI),e.resolve(new u.wB(this.pI));return this.EB=e.promise,this.EB},h.prototype.gB=function(t,e){var r=t.transaction(this.dB,"readwrite");r.objectStore(this.dB).put({id:"MYID",value:e}),r.oncomplete=function(){t.close()},this.logger.debug("[HiveComm] Generated Reporting UUID: "+e),this.pI=e},h.prototype.pB=function(){return s.oN()},h);function h(){this.dB="IdentityStore",this.vB="IdentityDB",this.pI=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,a.Framework&&a.Framework.resolve(a.Framework.v.p)?this.logger=a.Framework.resolve(a.Framework.v.p).log():this.logger=console}e.cB=c;var p,f=(i(d,p=c),d.prototype.R_=function(){var t=this;if(this.bB)return this.bB;var e=o.defer();return p.prototype.R_.call(this).then((function(r){var n=t.pB(),i=r.j_(),s=new u.wB(n,i);e.resolve(s)})).fail((function(r){var n=t.pB(),i=new u.wB(n);e.resolve(i)})),this.bB=e.promise,this.bB},d);function d(){return p.call(this)||this}e.fB=f},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.yB=void 0;var n=(i.prototype.TB=function(t){this.hostname=t},i.prototype.getHostName=function(){return this.hostname},i.prototype.mB=function(t){this.nc=t},i.prototype.getNetworkChanged=function(){return this.nc},i);function i(){}e.yB=n},function(t,e,r){"use strict";var n=this&&this.Fe||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(e,"s",{value:!0}),e.OB=void 0;var i=r(3),s=r(52),o=r(7),a=(l.prototype.add=function(t,e){var r,n=e.id,i=e.bitrate,a=e.width,l=e.height,u=e.label,c=new s.QualityLevel(n,i,a,l,u);switch(t){case o.af.cf:r=this.IB;break;case o.af.ff:r=this._B;break;default:return c}var h=r.find((function(t){return t.id===n}));return h?((c=h).bitrate!==i&&(c.bitrate=i,c.NM.push(i)),c.width!==a&&(c.width=a),c.height!==l&&(c.height=l),c.label!==u&&(c.label=u)):(r.push(c),this.RB(r)),c},l.prototype.get=function(t){return this.IB.find((function(e){return e.id===t}))},l.prototype.getAll=function(t){switch(t){case o.af.cf:return this.IB;case o.af.ff:return this._B;default:return n(n([],this._B),this.IB)}},l.prototype.SB=function(t){return this.getAll(t).reduce((function(t,e){return t.set(e.id,e.SM),t}),new i)},l.prototype.AB=function(t){this.get(t).filtered=!0},l.prototype.reset=function(){this.IB=[],this._B=[]},l.prototype.RB=function(t){t.sort((function(t,e){return t.bitrate-e.bitrate})).forEach((function(t,e){return t.SM=e}))},l);function l(){this.IB=[],this._B=[]}e.OB=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.NB=void 0;var n=hive.snapshots.QualityLevel,i=(s.prototype.lU=function(t){this.JF=t},s.prototype.UG=function(){if(!this.JF)return[];var t=this.JF.getAll(),e=t.map((function(t){var e=new n;return e.id=t.id,e.width=t.width||null,e.height=t.height||null,e.label=t.label||null,e.bitrates=t.NM.filter((function(t){return null!=t})),e.filtered=t.filtered,e}));return t.forEach((function(t){return t.AM()})),e},s);function s(){}e.NB=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.CB=void 0;var n=r(4),i=(s.prototype.kB=function(t){this.watchingQualityLevel=t},s.prototype.jB=function(){return this.watchingQualityLevel},s.prototype.MB=function(){return this.DB},s);function s(){this.DB=new n.hh}e.CB=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.PB=void 0;var n=hive.snapshots.FragmentMetadata,i=r(7),s=(o.prototype.add=function(t,e){var r=new n;switch(r.url=t.NA,r.size=e,r.duration=this.getDuration(t),r.qualityLevelId=t.qualityLevel.id,t.CA){case i.af.ff:r.contentType=ContentType.ff;break;case i.af.cf:r.contentType=ContentType.cf;break;default:r.contentType=null}this.metrics.push(r)},o.prototype.LB=function(t){this.metadata=t},o.prototype.UG=function(){var t=this.metrics;return this.metrics=[],t},o.prototype.getDuration=function(t){return t.duration.ms()},o);function o(){this.metrics=[]}e.PB=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.HB=void 0;var n=r(0),i=(s.prototype.init=function(t,e){this.UB=t,this.FB=e},s.prototype.cU=function(t){this.FB=t},s.prototype.lU=function(t){this.xB.lU(t)},s.prototype.UG=function(){var t=this.UB,e=this.FB,r=new hive.snapshots.StreamInfo;return r.url=t.mM(),r.streamProtocol=e.getStreamProtocol(),r.streamType=e.JH()?StreamType.LIVE:StreamType.VOD,r.qualityLevels=this.xB.UG(),r.metadataInfo=e.ZH(),r},s);function s(){this.xB=n.Framework.resolve(n.Framework.v.DC)}e.HB=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.GB=void 0;var n=r(5),i=r(3),s=r(0),o=r(179),a=r(180),l=r(10),u=r(15),c=r(53),h=(p.prototype.VB=function(){var t=new o.BB;this.qB.mB(t)},p.prototype.QB=function(){var t=this;s.Framework.setInterval((function(){t.privateIps=[],t.WB=[],t.YB=new i,t.publicIp=null,t.zB=null,t.getConnectivityInfo()}),12e4)},p.prototype.getConnectivityInfo=function(){return this.zB||(this.zB=this.KB()),this.zB},p.prototype.zI=function(){return this.qB},p.prototype.KB=function(){var t=this,e=n.defer();if(this.$B=s.Framework.setTimeout((function(){e.reject({XB:!0,message:"expired"})}),4e3),l.HiveConfig.ConnInfo.detectPrivateIP&&this.JB())try{this.ZB=new RTCPeerConnection(null),this.tq=this.ZB.createDataChannel("sendChannel",{reliable:!1}),this.iq=new RTCPeerConnection(null),this.iq.ondatachannel=function(r){t.nq=r.channel,t.nq.onopen=function(r){if("open"===t.nq.readyState){if(t.iq.close(),t.ZB.close(),t.iq=null,t.ZB=null,u.Wc.El&&!t.rq&&(setTimeout((function(){c.CM.jM(null,null,"local_ice",null,t.sq)}),5e3),t.rq=!0),0<t.YB.length&&u.Wc.dl){var n=t.YB.entries().sort((function(t,e){return e[1].eq-t[1].eq}));n=n.splice(0,1)[0],t.YB.clear(),t.YB.set(n[0],n[1])}t.oq.hq().then((function(e){t.WB=e,0<t.WB.length&&(t.logger.debug("Already known matching IPs ["+t.WB.join(",")+"]"),t.WB.forEach((function(e){0<t.YB.keys().indexOf(e)&&(t.privateIps.push(e),t.YB.delete(e))}))),t.privateIps=t.privateIps.concat(t.YB.keys())})).fail((function(e){t.logger.warn("Get Previous working IPs failed with error "+e.message),t.privateIps=t.privateIps.concat(t.YB.keys())})).finally((function(){t.M_.uq({privateIps:t.privateIps}),t.logger.debug("Final private IP list ["+t.privateIps.join(",")+"]"),e.resolve(t.aq())}))}}},this.ZB.onicecandidate=function(r){r.candidate&&(t.fq(r.candidate.candidate),t.iq&&t.iq.addIceCandidate(r.candidate).catch((function(r){e.reject({XB:!0,message:r.message}),s.Framework.clearTimeout(t.$B),console.log("Error: Failure during addIceCandidate()")})))},this.iq.onicecandidate=function(r){r.candidate&&(t.fq(r.candidate.candidate),t.ZB&&t.ZB.addIceCandidate(r.candidate).catch((function(r){e.reject({XB:!0,message:r.message}),s.Framework.clearTimeout(t.$B),console.log("Error: Failure during addIceCandidate()")})))},this.ZB.createOffer().then((function(e){return t.ZB.setLocalDescription(e)})).then((function(){return t.iq.setRemoteDescription(t.ZB.localDescription)})).then((function(){return t.iq.createAnswer()})).then((function(e){return t.iq.setLocalDescription(e)})).then((function(){return t.ZB.setRemoteDescription(t.iq.localDescription)})).catch((function(r){e.reject({XB:!0,message:r.message}),s.Framework.clearTimeout(t.$B),console.log("Error: Failure creating offer")}))}catch(r){e.reject({XB:!0,message:r.message})}else{s.Framework.clearTimeout(this.$B);var r=l.HiveConfig.ConnInfo.detectPrivateIP?"webrtc datachannel not supported":"private IP detection disabled";e.reject({XB:!1,message:r})}return e.promise},p.prototype.JB=function(){try{return"function"==typeof RTCPeerConnection.prototype.createDataChannel}catch(t){return!1}},p.prototype.fq=function(t){var e="candidate:",r=t.indexOf(e)+e.length,n=t.substr(r).split(" "),i=n[0],s=n[1],o=n[2],a=n[3],l=n[4],c=n[5],h={cq:s,type:n[7],lq:i,protocol:o,address:l,port:c,eq:a};u.Wc.El&&!this.rq&&this.sq.push(h),this.vq(h)},p.prototype.vq=function(t){var e=/([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(t.address);if(e){var r=e[0],n=this.YB.get(r);(isNaN(n)||t.eq>n)&&this.YB.set(r,t)}},p.prototype.aq=function(){var t=new o.BB;return 0<this.privateIps.length&&t.dq(this.privateIps[0]),this.publicIp&&t.Eq(this.publicIp),this.qB.mB(t),this.qB},p.prototype.wq=function(t,e,r){if(this.publicIp=t,this.pq(),0===r&&1<this.privateIps.length)this.privateIps.shift();else if(u.Wc.Lf&&0!==r&&-1==this.WB.indexOf(this.privateIps[0]))this.WB.unshift(this.privateIps[0]),this.oq.gq(this.WB.slice(0,2));else if(u.Wc.Lf&&0!==r&&0<this.WB.indexOf(this.privateIps[0])){var n=this.WB.indexOf(this.privateIps[0]);this.WB=this.WB.splice(n,1),this.WB.unshift(this.privateIps[0]),this.oq.gq(this.WB.slice(0,2))}this.aq()},p.prototype.pq=function(){var t=this.privateIps.indexOf(this.publicIp);-1<t&&this.privateIps.splice(t,1)},p.prototype.bq=function(t){},p);function p(){this.ZB=null,this.iq=null,this.tq=null,this.nq=null,this.YB=new i,this.publicIp=null,this.privateIps=[],this.failed=!1,this.$B=null,this.sq=[],this.rq=!1,this.logger=s.Framework.resolve(s.Framework.v.p).log(),this.qB=s.Framework.resolve(s.Framework.v.wC),this.M_=s.Framework.resolve(s.Framework.v.F_),this.oq=new a.yq,this.WB=[],this.VB(),this.QB()}e.GB=h},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Tq=void 0,r(184);var n=r(0),i=r(16),s=r(4),o=(a.prototype.init=function(t){this.logger=n.Framework.resolve(n.Framework.v.p).log(),this.configStore=n.Framework.resolve(n.Framework.v.PC),this.I_=t,this.mq(),this.logger.info(this.loggerId+"initialized")},a.prototype.X_=function(t,e){this.D_=e,this.ticket=t,this.Oq&&this.uq(this.Oq)},a.prototype.uq=function(t){var e,r=this;if(((null==t?void 0:t.siteId)&&0!==(null==t?void 0:t.siteId)||0<(null===(e=null==t?void 0:t.privateIps)||void 0===e?void 0:e.length))&&(this.Oq=t),this.ticket){var s,o=new hive.services.protocol.Iq.RemoteConfigRequest({partnerId:this.ticket.LI(),customerId:this.ticket.HI()});(null==t?void 0:t.siteId)&&0!==(null==t?void 0:t.siteId)&&(o.siteId=t.siteId),(null==t?void 0:t.privateIps)&&(o.privateIps=t.privateIps);try{s=this._q.Th(o,"REMOTE_CONFIG_REQUEST",0)}catch(t){this.logger.error(this.loggerId+"error serializing remote config request")}if(s){this.Rq=n.Framework.time();var a=new i.pl(HiveStreamingServices.Sq,0,s),l=this.I_.h_().send(a);l.then((function(){r.logger.info(r.loggerId+"configs requested")})),l.fail((function(t){r.logger.info(r.loggerId+"failed requesting remote configs: "+t)}))}}},a.prototype.mq=function(){var t=this;this.I_&&this.I_.h_()?this.I_.h_().on(HiveStreamingServices.Sq,0,(function(e){t.Aq(),t.Nq(e.msg)})):this.logger.error(this.loggerId+"error getting active services connection")},a.prototype.Nq=function(t){try{var e=this._q.Sh(t,"REMOTE_CONFIG_RESPONSE",1,hive.services.protocol.Iq.RemoteConfigResponse),r=JSON.parse(e.configs);this.logger.debug("RECEIVED REMOTE CONFIGS: ",r);var n=e.siteId;this.configStore.Cq(r),n&&this.configStore.kq(n)}catch(t){this.logger.error(this.loggerId+"error deserializing remote config response. ",t)}},a.prototype.Aq=function(){if(0<this.Rq&&this.D_){var t=n.Framework.time()-this.Rq;this.D_.cV(t),this.Rq=0}},a);function a(){this.loggerId="[DefaultRemoteConfigManager] ",this.Rq=0,this._q=new s.oh}e.Tq=o},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.cM||function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"s",{value:!0}),e.jq=void 0;var o,a=r(185),l=r(0),u=r(4),c=(i(h,o=u.Ge),h.prototype.init=function(){this.logger=l.Framework.resolve(l.Framework.v.p).log()},h.prototype.Cq=function(t){if(t&&0!==Object.keys(t).length){var e=s(s({},a.Mq),t);for(var r in e)e[r]!==this.configs[r]&&this.qh(r,e[r]);this.configs=e}},h.prototype.getConfig=function(t){var e=this.configs[t];return null==e&&this.logger.error(this.loggerId+" Invalid config key '"+t+"'"),e},h.prototype.kq=function(t){this.siteId=t},h.prototype.WD=function(){return this.siteId},h);function h(){var t=o.call(this)||this;return t.configs=a.Mq,t.loggerId="[DefaultConfigStore] ",t.siteId=0,t}e.jq=c},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Dq=void 0;var n=r(3),i=r(6),s=r(4),o=r(21),a=r(0),l=(u.prototype.setId=function(t){this.Pq=t},u.prototype.getId=function(){return this.Pq},u.prototype.Lq=function(t){this.udpScore=t},u.prototype.Hq=function(){return this.udpScore},u.prototype.Uq=function(t){this.Fq=t},u.prototype.xq=function(){return this.Fq},u.prototype.setContextId=function(t){var e=o.Bl.xg(t+"_"+i.Ko.Va.iu).toString(o.Bl.gg.bg);this.contextId=e},u.prototype.getContextId=function(){return this.contextId},u.prototype.Gq=function(t){this.Vq=t},u.prototype.xD=function(){return this.Vq},u.prototype.Bq=function(t){this.qq=t},u.prototype.XD=function(){return this.qq},u.prototype.Qq=function(t){this.Wq=t},u.prototype.JD=function(){return this.Wq},u.prototype.Yq=function(t){this.zq=t},u.prototype.ZD=function(){return this.zq},u.prototype.kq=function(t){(!this.siteId||0<t)&&(this.siteId=t)},u.prototype.WD=function(){return this.siteId||this.kq(this.configStore.WD()),this.siteId},u.prototype.setIsVpn=function(t){this.isVpn=t},u.prototype.getIsVpn=function(){return this.isVpn},u.prototype.Kq=function(t){this.$q=t},u.prototype.YD=function(){return this.$q},u.prototype.Xq=function(t){this.Jq=t},u.prototype.hP=function(){return this.Jq},u.prototype.Zq=function(t){this.tQ=t},u.prototype.tP=function(){return this.tQ},u.prototype.kB=function(t){this.watchingQualityLevel=t},u.prototype.jB=function(){return this.watchingQualityLevel},u.prototype.iQ=function(t){this.nQ=t},u.prototype.sP=function(){return this.nQ},u.prototype.dq=function(t){this.privateIp=t},u.prototype.getPrivateIp=function(){return this.privateIp},u.prototype.Eq=function(t){this.publicIp=t},u.prototype.getPublicIp=function(){return this.publicIp},u.prototype.setReportingGuid=function(t){this.reportingGuid=t},u.prototype.getReportingGuid=function(){return this.reportingGuid},u.prototype.setDelta=function(t){this.delta=t},u.prototype.getDelta=function(){return this.delta},u.prototype.lD=function(t,e){this.rQ.set(t.id,e)},u.prototype.aD=function(t){this.rQ.delete(t.id)},u.prototype.sQ=function(){return this.rQ},u.prototype.mV=function(){return this.tP()?this.rQ.values().map((function(t){return t.qualityLevel})):[]},u.prototype.OV=function(){return this.tP()?[]:this.rQ.values().map((function(t){return t.qualityLevel}))},u.prototype.eQ=function(t){this.ticket=t},u.prototype.eP=function(){return this.ticket},u.prototype.hQ=function(t){this.oQ=t},u.prototype.uQ=function(){return this.oQ},u.prototype.MB=function(){return this.srcThroughput},u);function u(){this.udpScore=0,this.Fq=0,this.siteId=0,this.isVpn=!1,this.Vq=!1,this.tQ=!1,this.qq=!1,this.Wq=!1,this.zq=!1,this.rQ=new n,this.srcThroughput=new s.hh,this.configStore=a.Framework.resolve(a.Framework.v.PC)}e.Dq=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.mU=void 0;var n=r(67),i=r(7),s=r(4),o=r(10),a=(l.prototype.init=function(t){this.z_=t.z_,this.D_=t.D_,this.aQ=new s.uh,this.D_.vV(this.aQ)},l.prototype.fQ=function(t){},l.prototype.DU=function(t){t?this.D_.pV.metrics.bitrateUpN++:this.D_.pV.metrics.bitrateDwnN++},l.prototype.EU=function(t){var e=t.nS()!=i.af.ff;if(this.cQ||e){var r=this.z_.MB().Hh();isNaN(r)||(this.D_.pV.metrics.srcThroughput=r);var s=t.tS-t.JR;this.aQ.add(s),this.lQ(t).forEach((function(e){-1==[i.af.lf,i.af.vf].indexOf(t.nS())?(e.reqN++,e.srcReqN++,e.srcRespQt+=t.wS(),e.srcReqQt+=t.wS(),e.srcOverQt+=t.wS()):e.reqOtherN++}))}switch(t.pS()){case n.aU.uU:this.vQ(t,NaN);break;case n.aU._U:case n.aU.SU:this.dQ(t,NaN),this.D_.KV(10);break;case n.aU.RU:var o=t.EQ();0<o?this.D_.KV(o):this.D_.KV(404),this.dQ(t,NaN)}},l.prototype.vQ=function(t,e){var r=t.nS()!=i.af.ff;(this.cQ||r)&&this.lQ(t).forEach((function(e){-1==[i.af.lf,i.af.vf].indexOf(t.nS())?(e.srcRespN++,e.respFallbackN++):e.respFallbackOtherN++}))},l.prototype.dQ=function(t,e){var r=t.nS()!=i.af.ff;(this.cQ||r)&&this.lQ(t).forEach((function(e){-1==[i.af.lf,i.af.vf].indexOf(t.nS())?(e.srcRespErrN++,e.respFallbackErrN++):e.respFallbackOthertErrN++}))},l.prototype.lQ=function(t){var e=[this.D_.FV()];if(t.nS()===i.af.cf){var r=t.gS().getQualityLevel(),n=this.D_.VV(r);e.push(n)}return e},l);function l(){this.cQ=!0===o.HiveConfig.Stats.AudioAccounting}e.mU=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.vU=void 0;var n=r(67),i=r(7),s=r(33),o=r(0),a=r(4),l=r(4),u=(Object.defineProperty(c.prototype,"JR",{get:function(){return this.wQ},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"tS",{get:function(){return this.pQ},enumerable:!1,configurable:!0}),c.prototype.loadstart=function(t){this.status=n.aU.IU,this.wQ=o.Framework.time()},c.prototype.onload=function(t){this.status=n.aU.uU},c.prototype.onerror=function(t){this.status=n.aU.RU},c.prototype.onloadend=function(t){this.gQ(),this.size=t.loaded,this.pQ=o.Framework.time(),this.rS=this.bQ(),this.oU&&this.oU(this.status,this.url)},c.prototype.ontimeout=function(t){this.status=n.aU.SU},c.prototype.bQ=function(){if(!this.yQ)return null;var t=this.yQ.nS(this.url);if(t!==i.af.cf&&t!==i.af.ff)return null;var e=this.yQ.eF(this.url);return s.SA.AA(e)},c.prototype.TQ=function(){this.xhr.addEventListener("loadstart",this.loadstart.bind(this)),this.xhr.addEventListener("load",this.onload.bind(this)),this.xhr.addEventListener("error",this.onerror.bind(this)),this.xhr.addEventListener("loadend",this.onloadend.bind(this)),this.xhr.addEventListener("timeout",this.ontimeout.bind(this))},c.prototype.gQ=function(){this.xhr.removeEventListener("loadstart",this.loadstart),this.xhr.removeEventListener("load",this.onload),this.xhr.removeEventListener("error",this.onerror),this.xhr.removeEventListener("loadend",this.onloadend),this.xhr.removeEventListener("timeout",this.ontimeout)},c.prototype.oS=function(){return this.url},c.prototype.bS=function(){return this.xhr&&this.xhr.responseURL||this.url},c.prototype.pS=function(){return this.status},c.prototype.wS=function(){return this.size},c.prototype.vS=function(){return new a.hh(this.pQ-this.wQ,this.size)},c.prototype.getResponse=function(){return this.xhr.response},c.prototype.ES=function(){return"arraybuffer"===this.xhr.responseType?l.ih(this.xhr.response):this.xhr.response},c.prototype.nS=function(){return this.rS?this.rS.nS():i.af.vf},c.prototype.gS=function(){return this.rS},c.prototype.EQ=function(){return this.xhr.status},c);function c(t,e){var r=this;this.xhr=t,this.yQ=e,this.status=n.aU.OU;var i=t.open;t.open=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e[0];var s=e[1];r.url=s,i.apply(t,e)},this.TQ()}e.vU=u},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.mQ=void 0;var n=r(34),i=r(1),s=r(18),o=(a.getInstance=function(){return this.instance||(this.instance=new a),this.instance},a.prototype.eN=function(t,e,r){var s=n.UA.getInstance().GA(t),o=n.UA.getInstance().VA(t);if(!s)return i.ErrorMonitor.getInstance().logError("Tech or Plugin are not defined",this.loggerId),!1;var a={plugin:s,url:e,onActivateSession:r};return this.OQ(o,!0,a)||this.OQ(o,!1,a)},a.prototype.OQ=function(t,e,r){for(var n=r.plugin,o=r.url,a=r.onActivateSession,l=!1,u=0,c=t;u<c.length;u++){var h=c[u],p=!1,f=void 0;if(!(p=e?(f=h.ticket.mM())===o:(f=h.ticket.getManifestUrl(),-1!==o.indexOf(h.ticket.getManifestUrl())))){var d=n.options().manifestDomainMatcher;if(d){var g=new s(o),v=new s(f),m=g.hostname();p=d.test(m)&&v.path()===g.path()}}p?(n.logger().debug(this.loggerId+"Intercepted Manifest Request "+o),n.setManifestUrl(h.ticket.mM()),a&&a(h),n.onActivateSession(o,e),l=!0):e||i.ErrorMonitor.getInstance().logError("Manifest url mismatches manifest url in ticket. Expected: "+f+", Actual: "+o,this.loggerId)}return l},a);function a(){this.loggerId="[SessionActivator] "}e.mQ=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.AU=void 0;var n=r(106),i=r(7),s=(o.prototype.dU=function(t){var e=this;return this.metadata.dU(t).then((function(r){return e.metadata.nS(t.oS())===i.af.lf&&e.fU(t),r}))},o.prototype.fU=function(t){this.metadata.parse(t.bS(),t.ES(),!1)},o.prototype.sF=function(t){},o.prototype.wU=function(t){var e=this.metadata.eF(t.oS());e&&this.hF.add(e,t.wS())},o.prototype.bU=function(t){this.oF.add(t,hive.snapshots.RequestType.LS,hive.snapshots.OriginType.HR)},o.prototype.pU=function(t){this.reportingInstance.z_.MB().Ph(t.vS())},o.prototype.gU=function(t){var e=t.gS(),r=this.reportingInstance.z_.jB(),n=e.getQualityLevel();r?0<n.hb(r)?this.sU.DU(!0):n.hb(r)<0&&this.sU.DU(!1):this.sU.DU(!0),this.reportingInstance.z_.kB(n)},o.prototype.getMetadata=function(){return this.metadata},o.prototype.getStreamProtocol=function(){return this.metadata.getStreamProtocol()},o.prototype.JH=function(){return this.aF},o.prototype.ZH=function(){return this.metadata.ZH()},o.prototype.iU=function(t){this.metadata.iU(t)},o.prototype.oD=function(){return this.metadata.oD()},o);function o(t){this.reportingInstance=t,this.sU=new n.mU,this.hF=t.D_.hF,this.oF=t.D_.oF,this.manifestUrl=t.ticket.mM(),this.sU.init(t)}e.AU=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.IQ=void 0;var n=r(24),i=r(30),s=(o.prototype.XM=function(t,e){var r=null,s=t.mM();return this.WF=e,i.sc.J_(s,this.logger,this._Q("HLS"))?this.M=r=this.RQ(t):n.Dash.J_(s,this.logger,this._Q("DASH"))?this.M=r=this.SQ(t):this.logger.warn("COULD NOT FIND A CONTEXT FOR "+s),null!=r&&this.AQ(this.M),r},o.prototype._Q=function(t){return"HLS"===t?this.WF&&this.WF.contextMatcher&&this.WF.contextMatcher.hls:"DASH"==t?this.WF&&this.WF.contextMatcher&&this.WF.contextMatcher.dash:this.WF&&this.WF.contextMatcher},o.prototype.AQ=function(t){},o);function o(){}e.IQ=s},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0});var s,o=r(91),a=r(0),l=r(47),u=(i(c,s=o.default),c);function c(){return s.call(this,l.WA.HiveJS,a.Framework.v.kl)||this}e.default=new u},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.NQ=void 0;var n=r(4),i=r(27),s=r(7),o=r(0),a=r(6),l=r(2),u=r(1),c=r(53),h=r(3),p=(f.prototype.CQ=function(t,e){try{var r=void 0,n=t.rS.getDuration(),s=t.size,c=-1,h=0,p=-1;if(this.kQ.isValid()&&(c=Math.max(10,this.kQ.Lh(s))),h=-1<c?Math.max(0,n-c*a.Ko.Qa.du):.5*n,f.jQ){var d=t.partner.nP();0<d&&(p=e/d*a.Ko.Qa.wu),r=t.type===i.RequestType.xR?n*a.Ko.Qa.Eu:-1<p&&p<=h?h:-1<p&&p<=n*a.Ko.Qa.pu?n*a.Ko.Qa.pu:0}else t.type==i.RequestType.xR&&(h*=2),r=Math.max(this.MQ(),h);if(a.Ko.ef.ja){var g=this.DQ.has(t.sS())?this.DQ.get(t.sS()):this.PQ(t);g.push([o.Framework.time(),e,c,h,p,t.type,r]),this.DQ.set(t.sS(),g)}return this.logger.debug("TIMER DETAILS duration: "+n+" left/total: "+e+"/"+s+" cdn: "+c+" remaining: "+h+" p2p: "+p+" timeout: "+r),r}catch(t){return u.ErrorMonitor.getInstance().logError("Error calculating the p2p timeout",this.loggerId,l.Ht.Ur,t),0}},f.prototype.LQ=function(t,e){return 5e3},f.prototype.HQ=function(t){try{return this.kQ.isValid()?Math.min(this.kQ.Lh(t),this.UQ()):this.FQ()}catch(t){return u.ErrorMonitor.getInstance().logError("Error calculating the delivery delay",this.loggerId,l.Ht.Fr,t),this.FQ()}},f.prototype.xQ=function(t){if(t.nS()===s.af.cf)switch(t.iS()){case i.RequestType.HR:case i.RequestType.LR:case i.RequestType.UR:case i.RequestType.FR:this.kQ.Ph(t.vS());break;case i.RequestType.qa:case i.RequestType.xR:this.GQ.Ph(t.vS())}if(a.Ko.ef.ja){var e=this.DQ.has(t.sS())?this.DQ.get(t.sS()):this.PQ(t);e.push([o.Framework.time(),t.iS()]),c.CM.DM(null,null,"p2p_timer",this.z_.getReportingGuid(),e,10)}},f.prototype.MQ=function(){return f.VQ},f.prototype.FQ=function(){return f.BQ},f.prototype.UQ=function(){return f.qQ},f.prototype.PQ=function(t){return[[t.sS(),t.rS.getDuration(),t.size]]},f.jQ=!0,f.VQ=500,f.qQ=1500,f.BQ=500,f);function f(t){this.loggerId="[TIMER HANDLER] ",this.kQ=new n.hh,this.GQ=new n.hh,this.DQ=new h,this.logger=o.Framework.resolve(o.Framework.v.p).log(),this.z_=t}e.NQ=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.QQ=void 0;var n,i,s=r(2),o=r(2),a=r(0),l=r(9),u=r(1),c=o.wt,h=r(7);(i=n=n||{})[i.WQ=0]="INFO",i[i.YQ=1]="WARN",i[i.ERROR=2]="ERROR";var p=(f.prototype.zQ=function(){var t=this.metadata.mD(h.af.cf),e=t.length,r=this.metadata.isLive();if(0===e||void 0!==r)for(var i=0;i<f.KQ.length;i++){var a=f.KQ[i],p=a[0],d=a[1],g=a[2];if(e<=p){if(-1===this.$Q.indexOf(d)){var v=t.map((function(t){return l.xh(t.bitrate)+"/s"})).join(", "),m=f.XQ+l.$f(s.dt[d],r?"Live":"VOD",e,v);switch(g){case n.WQ:this.logger.info(m);break;case n.YQ:this.logger.warn(m);break;default:this.logger.error(m);var y=0===e?c.Ne:c.Ce;u.ErrorMonitor.getInstance().logError(s.dt[y],f.XQ,y,{isLive:r,qualityLevels:t})}this.$Q.push(d)}break}}if(-1===this.$Q.indexOf(c.Ie)){var b=!1;for(i=0;i<t.length;i++){var E=t[i];if(E.bitrate>f.JQ){b=!0,m=f.XQ+l.$f(s.dt[o.wt.Ie],l.xh(E.bitrate),l.xh(f.JQ)),this.logger.warn(m);break}}b&&this.$Q.push(c.Ie)}},f.prototype.reset=function(){this.$Q.length=0},f.XQ="[StreamHealthChecker] ",f.JQ=35e5,f.KQ=[[0,c._e,n.ERROR],[4,c.Re,n.WQ],[7,c.Se,n.YQ],[1/0,c.Ae,n.ERROR]],f);function f(t){this.$Q=[],this.metadata=t,this.logger=a.Framework.resolve(a.Framework.v.p).log()}e.QQ=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.ZQ=e.tW=void 0;var n=r(1),i=(s.prototype.size=function(){var t=this.end-this.start+1;return Number.isInteger(t)||(n.ErrorMonitor.getInstance().logError("Segment Size is a Float",{size:t}),t=Math.round(t)),0==this.end&&0==this.start?0:t},s.prototype.iW=function(){return 0==this.start&&(this.end==this.total-1||this.end==this.total&&0==this.total)},s.prototype.nW=function(){return this.end==this.total-1||this.end==this.total&&0==this.total},s.prototype.rW=function(t){return t.start<=this.start&&this.start<=t.end},s.prototype.toString=function(){return"R[S="+this.start+",E="+this.end+",T="+this.total+"]"},s);function s(t,e,r){this.start=t,this.end=e,this.total=r}e.tW=i;var o=(a.sW=function(t){return t.split("-")},a.eW=function(t){var e=t.split("=",4),r=e[1].substr(0,e[1].indexOf(",")),n=e[2].substr(0,e[2].indexOf(",")),s=e[3].substr(0,e[3].indexOf("]"));return new i(+r,+n,+s)},a);function a(){}e.ZQ=o},function(t,e,r){"use strict";var n;Object.defineProperty(e,"s",{value:!0}),e.hW=void 0,(n=e.hW||(e.hW={}))[n.oW=0]="ALL",n[n.AS=1]="AS",n[n.VM=2]="SITE"},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.uW=e.aW=void 0;var n,i,s=r(0),o=r(17),a=r(6),l=r(11),u=r(5),c=r(3),h=r(69),p=r(232),f=r(1),d=(g.prototype.init=function(t){this.fW=t,this.logger=s.Framework.resolve(s.Framework.v.p).log(t.sessionId),this.z_=t.z_,this.cW=t.cW,this.KM=t.KM},g.prototype.lW=function(t,e){var r=this,n=u.defer();try{if(this.vW){var i=null;t.privateIpString&&(i=t.privateIpString);var s=new p.dW(t.guid,t.rankValue,i,t.isLeader);if(this.EW.has(s.uuid)){var o=this.EW.get(s.uuid);o.udpScore==s.udpScore&&o.wW==s.wW?n.resolve():(this.EW.set(s.uuid,s),this.pW(),this.gW(s).then((function(){n.resolve()})).fail((function(t){r.EW.delete(s.uuid),r.pW(),n.reject(t)})))}else e?(s.bW=e,this.logger.info(this.loggerId+" NEW MEMBER GUID "+s.uuid+" RANKING "+s.udpScore+" LEADER "+s.wW),this.EW.set(s.uuid,s),this.pW(),this.gW(s).then((function(){r.yW(r.EW.get(s.uuid)),n.resolve()})).fail((function(t){r.EW.delete(s.uuid),r.pW(),n.reject(t)}))):this.TW(s).then((function(t){s.bW=t,r.logger.info(r.loggerId+" NEW MEMBER GUID "+s.uuid+" RANKING "+s.udpScore+" LEADER "+s.wW),r.EW.set(s.uuid,s),r.pW(),r.gW(s).then((function(){n.resolve()})).fail((function(t){r.EW.delete(s.uuid),r.pW(),n.reject(t)}))})).fail((function(t){n.reject(t)}))}else n.reject("LEADER ELECTION NOT STARTED YET")}catch(t){n.reject("TRIGGER LEADER ELECTION ERROR "+t)}return n.promise},g.prototype.yW=function(t){var e=new l.uc(l.ac.cc,null);e.guid=t.uuid,e.isLeader=t.wW,e.rankValue=t.udpScore;var r=[e];this.cW.mW(r,!1)},g.prototype.TW=function(t){var e=this,r=u.defer();return this.OW.has(t.uuid)||this.IW.has(t.uuid)?r.reject(n._W):(this.OW.set(t.uuid,Date.now()),this.Pl.connect(t.uuid).then((function(n){var i=n.Ul.get(e.fW.swarmId);null==i?(i=n.Ul.create(e.fW.swarmId),e.RW(i).then((function(){r.resolve(n)})).fail((function(t){r.reject(t)})).done()):e.SW.get(t.uuid)?r.resolve(n):(e.OW.delete(t.uuid),e.RW(i).then((function(){r.resolve(n)})).fail((function(t){r.reject(t)})).done())})).fail((function(n){e.OW.delete(t.uuid),r.reject(n)})).done()),r.promise},g.prototype.RW=function(t){var e=this,r=u.defer(),n=new o.yl.ov.UDPHandshakeMessage;n.uuid=this.AW.uuid,n.udpScore=this.AW.udpScore,n.isLeader=this.AW.wW,n.streamId=this.AW.streamId,this.logger.debug(this.loggerId+"MSG uuid "+n.uuid+" rankValue "+n.udpScore+" isLeader "+n.isLeader+" stream id "+n.streamId);var i=s.Framework.setTimeout((function(){e.NW(t.otherGuid)}),a.Ko.UDPBroadcast.pa);return this.IW.set(t.otherGuid,{kW:i,defer:r}),t.xl(o.ml.Rl,n),r.promise},g.prototype.NW=function(t){if(this.IW.has(t)){this.logger.debug(this.loggerId+" HANDSHAKE REQ EXPIRED TO "+t);var e=this.IW.get(t);this.IW.delete(t),e.defer.reject("EXPIRED")}},g.prototype.jW=function(t,e){try{this.logger.debug(this.loggerId+"HANDSHAKE RESP RECEIVED FROM "+e.otherGuid);var r=e.otherGuid,n=this.IW.get(r);s.Framework.clearTimeout(n.kW),this.IW.delete(r),n.defer.resolve(e)}catch(t){f.ErrorMonitor.getInstance().logError("HANDSHAKE RESPONSE RECEIVED FAILED",this.loggerId,t)}},g.prototype.MW=function(t,e){var r=this;try{var n=new l.uc(l.ac.cc,null,t.isLeader);if(n.guid=t.uuid,n.rankValue=t.udpScore,t.streamId===this.z_.getContextId()){var i=e.Ul.get(this.fW.swarmId);this.SW.set(t.uuid,t.uuid),this.DW(i,"OK"),this.lW(n,e).then((function(){})).fail((function(t){f.ErrorMonitor.getInstance().logError("LEADER ELECTION FAILED",r.loggerId,t)}))}}catch(t){f.ErrorMonitor.getInstance().logError("HANDSHAKE REQUEST FAILED",this.loggerId,t)}},g.prototype.DW=function(t,e){var r=new o.yl.ov.UDPHandshakeResponse;r.accept=e,t.xl(o.ml.UDPHandshakeResponse,r),this.logger.debug(this.loggerId+"SEND HANDSHAKE RESPONSE TO "+t.otherGuid)},g.prototype.gW=function(t){var e=this,r=u.defer();if(this.PW()){var n=!1;this.logger.info(this.loggerId+"I HAVE THE HIGHEST SCORE"),t.wW&&!this.LW.has(t.uuid)&&(n=!0,this.logger.info(this.loggerId+"SEND SWITCH REQUEST TO "+t.uuid),this.HW(t).then((function(){r.resolve()})).fail((function(t){3==t.UW?(e.logger.debug(e.loggerId+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(t.UW=2)&&r.reject(t)}))),this.AW.wW||null==this.FW||this.FW.uuid==t.uuid||this.LW.has(this.FW.uuid)||(this.logger.info("SEND SWITCH REQUEST TO THE ALREADY KNOWN LEADER"),n=!0,this.HW(this.FW).then((function(){r.resolve()})).fail((function(t){3==t.UW?(e.logger.debug(e.loggerId+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(t.UW=2)&&r.reject(t)}))),null!=this.FW||t.wW||this.AW.wW||0!=this.LW.length||(this.logger.info(this.loggerId+"BECOME LEADER"),this.xW()),n||r.resolve()}else this.GW(t)&&(this.logger.info(this.loggerId+"PEER "+t.uuid+" HAS THE HIGHEST SCORE"),this.VW(),this.AW.wW&&t.wW&&this.stepDown(),this.BW(t)),r.resolve();return r.promise},g.prototype.BW=function(t){try{this.logger.info(this.loggerId+"UPDATE THE LEADERSHIP"),null!=this.FW&&this.EW.has(this.FW.uuid)&&(this.EW.get(this.FW.uuid).wW=!1),this.EW.has(t.uuid)?(this.EW.get(t.uuid).udpScore=t.udpScore,this.FW=t,this.EW.get(t.uuid).wW=!0):(this.logger.warn(this.loggerId+"SET A LEADER THAT IS NOT A LAN MEMBER LIST. SHOULD NEVER HAPPEN"),this.EW.set(t.uuid,t),this.FW=t),this.z_.Xq(t),this.logger.info(this.loggerId+"NEW KNOWN LEADER "+this.z_.hP().uuid)}catch(t){f.ErrorMonitor.getInstance().logError("Error updating leader",this.loggerId,{error:t})}},g.prototype.stepDown=function(){this.logger.info(this.loggerId+"STEP DOWN"),this.AW.wW=!1,this.z_.Gq(!1),a.Ko.za.ku&&(this.KM.qW(),this.KM.QW(!1))},g.prototype.VW=function(){for(var t=0,e=this.LW.keys();t<e.length;t++){var r=e[t],n=this.LW.get(r);this.LW.delete(r),s.Framework.clearTimeout(n.kW),n.defer.reject({UW:3,message:"CANCELED PENDING RESPONSES"})}},g.prototype.GW=function(t){return t.uuid==this.nQ[0].uuid},g.prototype.PW=function(){return p.dW.hb(this.AW,this.nQ[0])<0},g.prototype.pW=function(){var t=new h(this.EW.values()),e=t.yc(p.dW.hb);t.push(this.AW),this.z_.iQ(e);var r=new h(this.EW.values());this.nQ=r.yc(p.dW.hb)},g.prototype.WW=function(t){this.YW(t)},g.prototype.YW=function(t){this.logger.info(this.loggerId+"EVALUATE THE SWITCH REQUEST FROM "+t.uuid);var e=void 0;this.EW.has(t.uuid)?e=this.EW.get(t.uuid):this.logger.warn("I RECEIVED A SWITCH REQUEST FROM AN UNKNOWN MEMBER. THIS SHOULD NEVER HAPPEN"),e&&(this.AW.wW?this.PW()?this.zW(e,!1):(this.stepDown(),this.VW(),this.BW(e),this.zW(e,!0)):this.GW(e)?(this.BW(e),this.zW(e,!0)):this.zW(e,!1))},g.prototype.zW=function(t,e){var r=this;this.KW(t.bW,e).then((function(){})).fail((function(t){f.ErrorMonitor.getInstance().logError("SEND SWITCH RESPONSE ERROR",r.loggerId,t)})).done()},g.prototype.KW=function(t,e){var r=u.defer(),n=new o.yl.ov.UDPSwitchLeadershipAck;return n.ok=e,t.Ul.get(this.fW.swarmId).xl(o.ml.Sl,n),r.promise},g.prototype.HW=function(t){var e=this,r=u.defer();return this.$W(t.bW).then((function(n){e.XW(n,t),r.resolve()})).fail((function(t){r.reject(t)})).done(),r.promise},g.prototype.XW=function(t,e){try{t?(this.EW.get(e.uuid).wW=!1,this.FW=this.AW,this.xW()):(this.VW(),this.EW.get(e.uuid).wW=!0,this.stepDown(),this.BW(e))}catch(t){f.ErrorMonitor.getInstance().logError("HANDLE LEADERSHIP SWITCH RESPONSE ERROR",this.loggerId,t)}},g.prototype.JW=function(t,e){if(this.LW.has(e)){var r=this.LW.get(e);s.Framework.clearTimeout(r.kW),this.LW.delete(e),r.defer.resolve(t.ok)}else this.logger.warn(this.loggerId+" SWITCH LEADERSHIP RESPONSE RECEIVED FROM UNKNOWN PEER "+e)},g.prototype.$W=function(t){var e=this,r=u.defer(),n=new o.yl.ov.UDPSwitchLeadershipRequest;n.uuid=this.AW.uuid,n.udpScore=this.AW.udpScore,this.logger.debug(this.loggerId+"SWITCH LEADERSHIP REQUEST TO "+t.otherGuid);var i=s.Framework.setTimeout((function(){e.ZW(t.otherGuid)}),a.Ko.UDPBroadcast.wa);this.LW.set(t.otherGuid,{kW:i,defer:r});var l=t.Ul.get(this.fW.swarmId);return s.Framework.setTimeout((function(){l.xl(o.ml.UDPSwitchLeadershipRequest,n)}),1),r.promise},g.prototype.ZW=function(t){if(this.LW.has(t)){this.logger.info(this.loggerId+" SWITCH LEADERSHIP EXPIRED TO "+t);var e=this.LW.get(t);this.LW.delete(t),e.defer.reject({UW:2,message:"EXPIRED"})}},g.prototype.xW=function(){this.logger.info(this.loggerId+"BECOMING LAN LEADER"),null!=this.FW&&this.EW.has(this.FW.uuid)&&(this.EW.get(this.FW.uuid).wW=!1),this.AW.wW=!0,this.FW=this.AW,this.z_.Gq(!0),this.z_.Xq(this.AW),a.Ko.za.ku&&(this.KM.qW(),this.KM.QW(!0))},g.prototype.$I=function(t){this.AW=new p.dW(this.z_.getId(),this.z_.Hq(),"",!1,this.z_.getContextId()),this.vW=!0,this.logger.info(this.loggerId+" UDP LEADER ELECTION STARTED")},g.prototype.tY=function(t){this.EW.delete(t),this.pW(),0==this.EW.length?(this.AW.wW=!1,this.FW=null,this.z_.Gq(!1),this.z_.Bq(!1),this.KM.qW(),this.KM.QW(!1)):this.PW()?this.xW():0<this.nQ.length&&this.BW(this.nQ[0])},g);function g(){this.vW=!1,this.loggerId="[UDPLeaderElection] ",this.Pl=s.Framework.resolve(s.Framework.v.Ll),this.EW=new c,this.LW=new c,this.IW=new c,this.OW=new c,this.SW=new c,this.nQ=[]}e.aW=d,(i=n=e.uW||(e.uW={}))[i.iY=0]="FAILURE",i[i._W=1]="ALREADY_PENDING"},function(t,e){},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.nY=e.rY=e.sY=void 0;var s=hive.services.protocol.tracker.TrackerPeerInfo,o=hive.services.protocol.tracker.TrackerPeerStreamInfo;r(28);var a,l,u,c,h=r(5),p=r(3),f=r(0),d=r(225),g=r(6),v=r(17),m=r(11),y=r(226),b=r(8),E=r(1),w=r(2),A=r(52),S=r(119),T=r(4),I=b.K.Cf;(l=a=e.sY||(e.sY={}))[l.eY=1]="ACCEPT",l[l.hY=2]="REJECT",(c=u=e.rY||(e.rY={}))[c.oW=0]="ALL",c[c.oY=1]="IN",c[c.uY=2]="OUT";var P,k=(i(R,P=y.aY),R.prototype.init=function(t){P.prototype.init.call(this,t),this.configStore=f.Framework.resolve(f.Framework.v.PC),this.fW=t,this.cW=t.cW,this.KM=t.KM,this.fY=t.fY,this.cY.init(t),this.lY.init(t)},R.prototype.start=function(t){try{this.logger.debug(this.loggerId+"PARTNERSHIP STARTED "+t.getContextId()),this.context=t,this.contextId=t.getContextId(),this.vY(g.Ko.Ga.Jo),this.dY(g.Ko.za.Pu),this.EY(g.Ko.Va.nu),this.active=!0,this.configStore.on("p2p.siteToSiteEnabled",this.wY.bind(this)),this.configStore.on("p2p.peeringPolicy",this.pY.bind(this))}catch(t){E.ErrorMonitor.getInstance().logError("Error in partnership initialization",this.loggerId,w.Kt.En,t)}},R.prototype.stop=function(){return f.Framework.clearInterval(this.gY),f.Framework.clearInterval(this.bY),f.Framework.clearInterval(this.yY),this.context=null,this.contextId=null,this.active=!1,this.TY()},R.prototype.$I=function(t){this.logger.debug("PARTNERSHIP SERVER CONNECTED"),this.pI=t,this.connected=!0,null==this.z_.getId()&&this.z_.setId(this.pI)},R.prototype.mY=function(){this.connected=!1},R.prototype.OY=function(t){try{this.IY(t)||this._Y.has(t.peerInfo.guid)||this.OW.has(t.peerInfo.guid)||t.peerInfo.guid==this.pI?this.RY(t):this.SY(t),this.AY(t)&&this.NY(t)}catch(e){E.ErrorMonitor.getInstance().logError("Error in discoering new lan peer",this.loggerId,w.Kt.wn,{detailedError:e,otherGuid:t.peerInfo.guid})}},R.prototype.RY=function(t){if(this.CY.has(t.peerInfo.guid)){var e=this.CY.get(t.peerInfo.guid);this.CY.delete(t.peerInfo.guid),this.NV.set(t.peerInfo.guid,e),this.z_.Bq(!0)}},R.prototype.NY=function(t){if(this.SV.has(t.peerInfo.guid)){var e=this.SV.get(t.peerInfo.guid);this.SV.delete(t.peerInfo.guid),this.AV.set(t.peerInfo.guid,e)}},R.prototype.vY=function(t){var e=this;-1!=this.gY&&f.Framework.clearInterval(this.gY),this.gY=f.Framework.setInterval((function(){e.kY(!1)}),t)},R.prototype.kY=function(t){var e=this;t&&this.gY&&(f.Framework.clearInterval(this.gY),this.vY(g.Ko.Ga.Jo));try{if(this.connected){this.logger.debug(this.loggerId+"ADDING NEW PEERS IF POSSIBLE, NOW "+this.CY.length+"/"+g.Ko.Ga.Xo+","+this.NV.length+"/infinity OUT RND "+this.SV.length+" OUT LAN "+this.AV.length);var r=[].concat(this._Y.keys()).concat(this.OW.keys()),n=this.cW.jY(!0),i=void 0;i=this.z_.xD()||this.z_.tP()?this.lY.MY(g.Ko.Ga.Xo,this.CY.values(),r,n):this.cY.MY(g.Ko.Ga.Xo,this.CY.values(),r,n),this.DY=i.PY(),i.LY().forEach((function(t){e.SY(t)}))}else this.logger.warn(this.loggerId+"NOT RUNNING IN PARTNER CHOICE, SRV DISCONNECTED")}catch(t){E.ErrorMonitor.getInstance().logError("Error in choosing in partners",this.loggerId,w.Kt.pn,t)}},R.prototype.SY=function(t){var e=this,r=t.peerInfo.guid,n=t.peerInfo.privateIpString,i=t.peerInfo.publicIpString;this.IY(t)||this._Y.has(r)||this.OW.has(r)||this.fY.HY(r,n,i)||(this.OW.set(r,Date.now()),this.Pl.connect(r).then((function(n){var i=n.Ul.get(e.fW.swarmId);if(null==i&&(i=n.Ul.create(e.fW.swarmId)),i){var s=e.OW.get(r);e.OW.delete(r),e.active&&e.UY(i).then((function(n){if(e.FY(i,t,n.msg,s),e.GY.xY(!1,!1),e.fY.VY(r,t.peerInfo.privateIpString,t.peerInfo.publicIpString),e.BY(i),0<e.DY.length&&!t.qY()){var o=e.DY[0];e.QY(o.guid),o.YY.WY(u.uY),e.DY.splice(0,1)}})).fail((function(t){t&&"NOT ACCEPTED"!=t&&E.ErrorMonitor.getInstance().logError("Error in requesting partnership",e.loggerId,w.Kt.yn,{otherGuid:r,detailedError:t}),e.GY.xY(!1,!0),e.zY(r)}))}})).fail((function(t){E.ErrorMonitor.getInstance().logError("Error in creating new p2p connection",e.loggerId,w.Kt.bn,{otherGuid:r,detailedError:t}),e.GY.xY(!0,!0),e.OW.delete(r),e.cW.tY(r)})).done())},R.prototype.KY=function(t,e){var r=this;try{var n=t.guid,i=null,s=null;if(t.privateIpString&&(s=t.privateIpString),t.publicIpString&&(i=t.publicIpString),this.$Y(n))this.logger.debug(this.loggerId+"ALREADY OUT PARTNER "+n);else{var o=t.contextId,l=e.Ul.get(this.fW.swarmId);if(this.contextId!==o||g.Ko.Va.iu!==t.p2pProtocolVersion||this.fY.HY(n,s,i))this.logger.debug(this.loggerId+"PARTNERSHIP CANNOT BE ESTABLISHED WITH "+n+" CONTEXT ID "+o+" protocol version "+t.p2pProtocolVersion),this.XY(l,a.hY);else{var c=this.JY(t),h=void 0,p=void 0;if(c){if(this.cW.mW([c],!1),!(h=(p=this.cW.ZY(n)).qY()||this.SV.length<g.Ko.Ga.tu)){this.logger.debug(this.loggerId+" got out part req from "+n+" - reached max "+this.SV.length+"/"+g.Ko.Ga.tu);var v=void 0;(v=this.z_.xD()||this.z_.tP()?this.iz.tz(this.z_,c,this.SV.values()):this.nz.tz(this.SV.values()))&&(this.logger.debug(this.loggerId+" chocking "+v.guid),this.SV.delete(v.guid),v.YY.WY(u.oY),h=!0)}}else h=!1;if(h){var m=new d.Partner(n,this.GY,l,this.logger,!1,p);t.reportingGuid&&m.rz(t.reportingGuid),this.cW.sz.has(n)?this.AV.set(n,m):this.SV.set(n,m),this.logger.debug(this.loggerId+"ADDED OUT PART "+n),this.XY(l,a.eY),this.fY.VY(n,s,i),f.Framework.setTimeout((function(){r.ez(n)}),500),this.GY.hz()}else this.logger.debug(this.loggerId+" cannot establish partnership to "+n+" - reached max "+this.SV.length+"/"+g.Ko.Ga.tu),this.XY(l,a.hY)}}}catch(e){E.ErrorMonitor.getInstance().logError("Error receiving out partnership request",this.loggerId,w.Kt.Tn,{detailedError:e,otherGuid:t.guid})}},R.prototype.JY=function(t){try{var e=new s;e.guid=t.guid,e.internalAs=0,e.isVpn=t.isVpn,t.internalAs&&(e.internalAs=t.internalAs),t.externalAs&&(e.externalAs=t.externalAs),t.publicIpString&&(e.publicIpString=t.publicIpString),t.privateIpString&&(e.privateIpString=t.privateIpString);var r=!1,n=this.cW.ZY(t.guid);if(n&&(r=n.peerInfo.isLeader),t.streamCharacteristics){var i=[];t.streamCharacteristics.forEach((function(t){var e=new o;e.state=t.streamState,e.bitrate=t.qualityLevel.bitrate,e.qualityLevel=t.qualityLevel.id,e.delta=t.delta,i.push(e)})),e.streams=i}return new m.uc(m.ac.fc,e,r)}catch(e){return E.ErrorMonitor.getInstance().logError("Error constructing discovered peer info",this.loggerId,w.Kt.mn,{detailedError:e,otherGuid:t.guid}),null}},R.prototype.XY=function(t,e){var r=this;this.logger.debug(this.loggerId+"SEND PART RESPONSE TO "+t.otherGuid);try{var n=new v.yl.ov.OutPartnershipResponse;if(n.accept=e,n.accept===a.eY){n.internalAs=this.z_.WD(),n.isVpn=this.z_.getIsVpn(),this.z_.YD()&&(n.externalAs=this.z_.YD()),this.z_.getPublicIp()&&(n.publicIpString=this.z_.getPublicIp()),this.z_.getPrivateIp()&&(n.privateIpString=this.z_.getPrivateIp()),n.reportingGuid=this.z_.getReportingGuid();var i=this.z_.sQ(),s=[];i.forEach((function(t,e){var n=new v.yl.ov.StreamCharacteristics;n.qualityLevel=new v.yl.ov.QualityLevel,n.qualityLevel.id=t.qualityLevel.id,n.qualityLevel.bitrate=t.qualityLevel.bitrate,n.streamState=t.type,n.delta=null!=r.z_.getDelta()?r.z_.getDelta():-1,s.push(n)})),0<s.length&&n.setStreamCharacteristics(s)}t.xl(v.ml._l,n)}catch(e){E.ErrorMonitor.getInstance().logError("Error constructing partnership response message",this.loggerId,w.Kt.On,{detailedError:e,otherGuid:t.otherGuid})}},R.prototype.FY=function(t,e,r,n){var i=t.otherGuid;if(e.peerInfo.internalAs=0,e.peerInfo.isVpn=r.isVpn,r.externalAs&&(e.peerInfo.externalAs=r.externalAs),r.internalAs&&(e.peerInfo.internalAs=r.internalAs),r.publicIpString&&(e.peerInfo.publicIpString=r.publicIpString),r.privateIpString&&(e.peerInfo.privateIpString=r.privateIpString),r.streamCharacteristics){var s=[];r.streamCharacteristics.forEach((function(t){var e=new o;e.state=t.streamState,e.bitrate=t.qualityLevel.bitrate,e.qualityLevel=t.qualityLevel.id,e.delta=t.delta,s.push(e)})),e.peerInfo.streams=s}try{var a=new d.Partner(i,this.GY,t,this.logger,!0,e,n);return r.reportingGuid&&(a.reportingGuid=r.reportingGuid,t.receiver.setReportingGuid(r.reportingGuid),t.sender.setReportingGuid(r.reportingGuid)),e.peerInfo.type==m.ac.cc?(this.NV.set(i,a),this.z_.Yq(!0),this.z_.Qq(!0),this.z_.Bq(!0)):(0!=this.z_.YD()&&this.z_.YD()===e.peerInfo.externalAs&&this.z_.Yq(!0),0!=this.z_.WD()&&this.z_.WD()===e.peerInfo.internalAs&&this.z_.Qq(!0),this.CY.set(i,a)),this.logger.debug(this.loggerId+i+" IS NOW IN PARTNER"),a}catch(t){E.ErrorMonitor.getInstance().logError("Error adding a new partner object in the list",this.loggerId,w.Kt.In,{detailedError:t,otherGuid:i})}},R.prototype.tY=function(t){try{this.oz(t)&&(this.logger.debug(this.loggerId+"IN PRT DISC "+t),this.QY(t)),this.$Y(t)&&(this.logger.debug(this.loggerId+"OUT PRT DISC "+t),this.SV.delete(t),this.AV.delete(t))}catch(e){E.ErrorMonitor.getInstance().logError("Error removing disconected partner from the list",this.loggerId,w.Kt._n,{detailedError:e,otherGuid:t})}},R.prototype.QY=function(t){try{this.logger.debug(this.loggerId+"IN PARTNER REMOVE "+t);var e=this.uz(t);if(this.WM.az(e),this.CY.delete(t),this.NV.delete(t),this.cW.fz(t),this.cz(t,e),0<this.NV.length)this.z_.Yq(!0),this.z_.Qq(!0);else{var r=this.z_.WD(),n=this.z_.YD(),i=!1,s=!1;0!=r||0!=n?(this.CY.forEach((function(t){0<r&&r===t.zD.peerInfo.internalAs&&(i=!0),0<n&&n===t.zD.peerInfo.externalAs&&(s=!0)})),this.z_.Qq(i),this.z_.Yq(s)):(this.z_.Qq(!1),this.z_.Yq(!1))}}catch(e){E.ErrorMonitor.getInstance().logError("Error removing the in partner",this.loggerId,w.Kt.Rn,{detailedError:e,otherGuid:t})}},R.prototype.lz=function(t,e){try{e.getType()!=u.oW&&e.getType()!=u.uY||(this.SV.has(t)&&this.SV.delete(t),this.AV.has(t)&&this.AV.delete(t)),e.getType()!=u.oW&&e.getType()!=u.oY||this.QY(t)}catch(e){E.ErrorMonitor.getInstance().logError("Error when close received",this.loggerId,w.Kt.Sn,{detailedError:e,otherGuid:t})}},R.prototype.UY=function(t){var e=this,r=h.defer();try{var n=new v.yl.ov.OutPartnershipRequest;n.guid=this.pI,n.contextId=this.contextId,n.p2pProtocolVersion=g.Ko.Va.iu,n.reportingGuid=this.z_.getReportingGuid(),n.internalAs=this.z_.WD(),n.isVpn=this.z_.getIsVpn(),this.z_.YD()&&(n.externalAs=this.z_.YD()),this.z_.getPrivateIp()&&(n.privateIpString=this.z_.getPrivateIp()),this.z_.getPublicIp()&&(n.publicIpString=this.z_.getPublicIp());var i=this.z_.sQ(),s=[];i.forEach((function(t,r){var n=new v.yl.ov.StreamCharacteristics;n.qualityLevel=new v.yl.ov.QualityLevel,n.qualityLevel.id=t.qualityLevel.id,n.qualityLevel.bitrate=t.qualityLevel.bitrate,n.streamState=t.type,n.delta=null!=e.z_.getDelta()?e.z_.getDelta():-1,s.push(n)})),0<s.length&&n.setStreamCharacteristics(s),this.logger.debug(this.loggerId+"SEND PART REQ TO "+t.otherGuid);var o=f.Framework.setTimeout((function(){e.vz(r,t.otherGuid)}),g.Ko.Ga.$o);this._Y.set(t.otherGuid,{kW:o,defer:r}),t.xl(v.ml.Il,n)}catch(n){E.ErrorMonitor.getInstance().logError("Error sending partnership request",this.loggerId,w.Kt.An,{detailedError:n,otherGuid:t.otherGuid}),r.reject(n)}return r.promise},R.prototype.dz=function(t,e){var r=e.otherGuid,n=this._Y.get(r);n?(f.Framework.clearTimeout(n.kW),this._Y.delete(r),t.accept===a.eY?n.defer.resolve({transport:e,msg:t}):n.defer.reject("NOT ACCEPTED")):E.ErrorMonitor.getInstance().logError("Error receiving out partnership response from an unknown peer",this.loggerId,w.Kt.kn,{otherGuid:r})},R.prototype.vz=function(t,e){if(this._Y.has(e)){var r=this._Y.get(e);this._Y.delete(e),r.defer.reject("Expired")}else t.reject("Expired for unknown peer")},R.prototype.TY=function(){var t=this,e=h.defer(),r=this.CY.values();this.NV.forEach((function(t,e){r.push(t)}));var n=r.slice().map((function(t){return t.YY.close()}));return h.all(n).then((function(t){e.resolve("resolved")})).fail((function(r){E.ErrorMonitor.getInstance().logError("Error closing partnership",t.loggerId,w.Kt.jn,r),e.reject("could not close")})),e.promise},R.prototype.zY=function(t){this.Pl.disconnect(t)},R.prototype.dY=function(t){var e=this;-1!=this.bY&&f.Framework.clearInterval(this.bY),this.bY=f.Framework.setInterval((function(){e.Ez()}),t)},R.prototype.Ez=function(){try{if(this.z_.XD()&&!this.z_.xD()&&I){var t=this.z_.hP(),e=this.context.rD().getQualityLevel();if(e&&this.oz(t.uuid)){var r=this.uz(t.uuid);this.wz(r.YY,e)}}}catch(t){E.ErrorMonitor.getInstance().logError("Error announcing quality level",this.loggerId,w.Kt.Mn,t)}},R.prototype.wz=function(t,e){try{var r=new v.yl.ov.QualityLevelMessage;r.guid=this.pI,r.qualityLevel=new v.yl.ov.QualityLevel,r.qualityLevel.id=e.id,r.qualityLevel.bitrate=e.bitrate,this.logger.debug(this.loggerId+"ANNOUNCE QUALITY LEVEL "+r.qualityLevel.id+" TO PEER GUID "+t.otherGuid),t.xl(v.ml.QualityLevelMessage,r)}catch(e){E.ErrorMonitor.getInstance().logError("Error constructing quality level announcement",this.loggerId,w.Kt.Dn,{detailedError:e,otherGuid:t.otherGuid})}},R.prototype.pz=function(t){try{if(this.logger.debug(this.loggerId+"RECEIVED QUALITY LEVEL "+t.qualityLevel.id+" FROM PEER GUID "+t.guid),this.cW.sz.has(t.getGuid())){var e=A.QualityLevel.from(t.qualityLevel);this.cW.sz.get(t.guid).gz(e),this.KM.bz()}}catch(e){E.ErrorMonitor.getInstance().logError("Error receiving quality level info",this.loggerId,w.Kt.Pn,{detailedError:e,otherGuid:t.guid})}},R.prototype.yz=function(t){try{var e=t.guid,r=this.uz(e);r&&this.Tz(r,t),(r=this.mz(e))&&this.Tz(r,t),this.fY.VY(e,t.privateIpString,t.publicIpString)}catch(e){E.ErrorMonitor.getInstance().logError("Error receiving peer info",this.loggerId,w.Kt.Ln,{detailedError:e,otherGuid:t.guid})}},R.prototype.Tz=function(t,e){var r=t.zD.peerInfo;if(e.privateIpString&&(r.privateIpString=e.privateIpString),e.publicIpString&&(r.publicIpString=e.publicIpString),e.externalAs&&(r.externalAs=e.externalAs),T.xe(e.internalAs)&&(r.internalAs=e.internalAs),e.streamCharacteristics){var n=[];e.streamCharacteristics.forEach((function(t){var e=new o;e.bitrate=t.qualityLevel.bitrate,e.qualityLevel=t.qualityLevel.id,e.delta=t.delta,e.state=t.streamState,n.push(e)})),r.streams=n}},R.prototype.EY=function(t){var e=this;this.yY&&f.Framework.clearInterval(this.yY),this.yY=f.Framework.setInterval((function(){e.Oz()}),t)},R.prototype.Oz=function(){var t=this;try{if(this.z_.getPrivateIp()||this.z_.getPublicIp()||this.z_.WD()||this.z_.YD()){var e=this.Iz(),r=new v.yl.ov.PeerInfoMessage;r.guid=this.z_.getId(),r.internalAs=this.z_.WD(),this.z_.getPrivateIp()&&(r.privateIpString=this.z_.getPrivateIp()),this.z_.getPublicIp()&&(r.publicIpString=this.z_.getPublicIp()),this.z_.YD()&&(r.externalAs=this.z_.YD());var n=this.z_.sQ(),i=[];n.forEach((function(e,r){var n=new v.yl.ov.StreamCharacteristics;n.qualityLevel=new v.yl.ov.QualityLevel,n.qualityLevel.id=e.qualityLevel.id,n.qualityLevel.bitrate=e.qualityLevel.bitrate,n.streamState=e.type,n.delta=null!=t.z_.getDelta()?t.z_.getDelta():-1,i.push(n)})),0<i.length&&r.setStreamCharacteristics(i),e.forEach((function(t,e){t.YY.xl(v.ml.Al,r)}))}}catch(e){E.ErrorMonitor.getInstance().logError("Error announcing peer info to all partners",this.loggerId,w.Kt.Hn,e)}},R.prototype.Iz=function(){try{var t=new p;return this.SV.forEach((function(e,r){t.has(r)||t.set(r,e)})),this.AV.forEach((function(e,r){t.has(r)||t.set(r,e)})),this.NV.forEach((function(e,r){t.has(r)||t.set(r,e)})),this.CY.forEach((function(e,r){t.has(r)||t.set(r,e)})),t}catch(t){return E.ErrorMonitor.getInstance().logError("Error collecting all partners",this.loggerId,w.Kt.Un,t),new p}},R.prototype.wY=function(t){var e=this;t||this.Iz().filter((function(t){return t.zD.peerInfo.internalAs!==e.z_.WD()})).map((function(t){return e._z(t)}))},R.prototype.pY=function(t){var e=this;(t===S.Sz.Rz||t===S.Sz.Az)&&this.z_.getIsVpn()||t===S.Sz.Az&&!this.z_.WD()?this.Iz().map((function(t){return e._z(t)})):t===S.Sz.Rz?this.Nz():t===S.Sz.Az&&(this.Nz(),this.Cz())},R.prototype.Nz=function(){var t=this;this.Iz().filter((function(t){return t.zD.peerInfo.isVpn})).map((function(e){return t._z(e)}))},R.prototype.Cz=function(){var t=this;this.Iz().filter((function(t){return!t.zD.peerInfo.internalAs})).map((function(e){return t._z(e)}))},R.prototype._z=function(t){this.oz(t.guid)&&(this.QY(t.guid),t.YY.WY(u.uY)),this.$Y(t.guid)&&this.kz(t)},R.prototype.kz=function(t){this.logger.debug(this.loggerId+"OUT PRT REMOVED "+t.guid),this.SV.delete(t.guid),this.AV.delete(t.guid),t.YY.WY(u.oY)},R);function R(){var t=P.call(this)||this;return t.loggerId="[Partnership] ",t._Y=new p,t.OW=new p,t.gY=-1,t.bY=-1,t.yY=-1,t.connected=!1,t.Pl=f.Framework.resolve(f.Framework.v.Ll),t.cY=f.Framework.resolve(f.Framework.v.nC),t.nz=f.Framework.resolve(f.Framework.v.cC),t.lY=f.Framework.resolve(f.Framework.v.rC),t.iz=f.Framework.resolve(f.Framework.v.lC),t}e.nY=k},function(t,e,r){"use strict";var n;Object.defineProperty(e,"s",{value:!0}),e.Sz=void 0,(n=e.Sz||(e.Sz={})).jz="unrestricted",n.Rz="excludeVpnSites",n.Az="excludeVpnAndUnknownSites"},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Mz=e.Dz=void 0;var n=(i.Pz=!0,i.Lz=3e4,i.Hz=6e4,i.Uz=3e4,i);function i(){}e.Dz=n;var s=(o.Ia="site",o._a="externalAs",o.Ra="availableSendRate",o.Sa="remoteAddress",o.Aa="localAddress",o);function o(){}e.Mz=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Fz=void 0;var n=r(122),i=r(6),s=r(0),o=r(1),a=r(2),l=(u.prototype.init=function(t){this.z_=t.z_},u.prototype.MY=function(t,e,r,l){try{var u=[],c=[],h=Math.round(t*(1-i.Ko.Ga.Zo)),p=Math.max(e.length-h,0),f=t-e.length+p;if(0<p){var d=e.filter((function(t){return!t.YY.transport.Hl()})),g=s.Framework.time(),v=d.filter((function(t){return g-t.xz>i.Ko.Va.ou})),m=Math.min(v.length,p);c=this.Gz(m,v);var y=[],b=[];c.forEach((function(t){y.push(t.guid),b.push(t.SF.RF(!1))}))}return 0<f&&(u=this.Vz(f,e,r,l)),this.logger.debug(this.jU+" ADD/REMOVE: "+f+"/"+p+" ["+u.map((function(t){return t.peerInfo.guid.substring(0,8)}))+"/"+c.map((function(t){return t.guid.substring(0,8)}))+"] Parners:["+e.map((function(t){return t.guid.substring(0,8)}))+"] Members:["+l.map((function(t){return t.peerInfo.guid.substring(0,8)}))+"]"),new n.Bz(u,c)}catch(t){return o.ErrorMonitor.getInstance().logError("Error updating in partners",this.jU,a.zt.Fn,t),new n.Bz([],[])}},u);function u(){this.jU="[BaseInPartnerSelection] ",this.logger=s.Framework.resolve(s.Framework.v.p).log()}e.Fz=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Bz=void 0;var n=(i.prototype.PY=function(){return this.qz},i.prototype.LY=function(){return this.Qz},i);function i(t,e){this.Qz=t,this.qz=e}e.Bz=n},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.HiveHtml5=e.Wz=void 0;var s,o=r(35),a=r(50),l=/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/,u=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/,c=(i(h,s=o.Options),h);function h(){var t=null!==s&&s.apply(this,arguments)||this;return t.playerName=void 0,t.playerVersion=void 0,t}e.Wz=c;var p,f=(i(d,p=o.Plugin),d.prototype.initSession=function(t){var e=this;return this.closeHiveSession("Starting a new session."),this.newSession(t).then((function(t){return e.video&&e.Yz(),t.toHiveSession()})).fail((function(t){throw e.closeHiveSession(),t}))},d.prototype.closeHiveSession=function(t){this.getPotentialSession()&&p.prototype.closeHiveSession.call(this,t)},d.prototype.Yz=function(){this.eventBinder.zz(this.video,"addEventListener","removeEventListener").Yz({loadedmetadata:this.Kz,waiting:this.$z,canplay:this.Xz,pause:this.Jz,playing:this.Zz,ended:this.tK,seeking:this.iK,volumechange:this.nK});var t={fullscreenchange:this.rK,mozfullscreenchange:this.rK,webkitfullscreenchange:this.rK,msfullscreenchange:this.rK};this.eventBinder.zz(window.document,"addEventListener","removeEventListener").Yz(window.document,t)},d.prototype.Kz=function(t){this.logger().debug("Metadata loaded",t),this.onActivateSession(),this.onStartBuffering(!1),this.startPeriodicFeedback()},d.prototype.$z=function(t){this.logger().debug("Waiting",t),this.onStartBuffering()},d.prototype.Xz=function(t){this.logger().debug("Can Play",t),this.onEndBuffering()},d.prototype.Jz=function(){this.logger().debug("pause"),this.filterEvent(o.PlayerEvents.PAUSED)},d.prototype.Zz=function(){this.logger().debug("playing"),this.filterEvent(o.PlayerEvents.PLAYING)},d.prototype.tK=function(){this.logger().debug("ended"),this.onEventFeedback(o.PlayerEvents.STOPPED,{code:1})},d.prototype.iK=function(){this.logger().debug("seeking"),this.onEventFeedback(o.PlayerEvents.SKIP)},d.prototype.nK=function(){this.sK!==this.video.muted&&(this.logger().debug("mutechange "+this.video.muted),this.onEventFeedback(o.PlayerEvents.iI,{value:this.video.muted}),this.sK=this.video.muted)},d.prototype.rK=function(t){var e;if(t.target===this.video||(null===(e=t.target)||void 0===e?void 0:e.getElementsByTagName("video")[0])===this.video){var r=this.isFullscreen();this.logger().debug("fullscreen",r),this.filterEvent(o.PlayerEvents.FULLSCREEN,{value:r})}},d.prototype.createXMLHttpRequest=function(){return new o.HiveRequestFactory(this.getPluginId()).createXMLHttpRequest()},d.prototype.getPlayerSource=function(){return this.getManifestUrl()?this.getManifestUrl():this.video.currentSrc.startsWith("blob:")?(this.logger().warn("Current video source is a blob"),""):this.video.currentSrc},d.prototype.getCurrentTime=function(){return Math.round(1e3*this.video.currentTime)},d.prototype.getBufferLen=function(){if(0<this.video.buffered.length)return Math.max(0,Math.round(1e3*this.video.buffered.end(0))-Math.round(1e3*this.video.currentTime))},d.prototype.getWindowSize=function(){return{width:this.video.clientWidth,height:this.video.clientHeight}},d.prototype.isFullscreen=function(){var t,e,r,n,i,s,o=new a(null===(t=window.navigator)||void 0===t?void 0:t.userAgent),l=null==o?void 0:o.Vj();return(null===(e=null==l?void 0:l.name)||void 0===e?void 0:e.includes("Safari"))?window.document.webkitIsFullScreen:0<(null===(n=null===(r=window.document)||void 0===r?void 0:r.fullscreenElement)||void 0===n?void 0:n.getElementsByTagName("VIDEO").length)||"VIDEO"===(null===(s=null===(i=window.document)||void 0===i?void 0:i.fullscreenElement)||void 0===s?void 0:s.nodeName)},d.prototype.isLive=function(){return this.video.duration===1/0},d.prototype.isActive=function(){return!0},d.prototype.getStreamProtocol=function(){var t=this.getPlayerSource();return o.BasicUtils.getStreamProtocol(t)},d.prototype.getPlayerTech=function(){return o.qA.HTML5},d.prototype.getPlayerVersion=function(){return this.playerVersion},d.prototype.getPlayerName=function(){return this.playerName},d.prototype.getPlayerVolume=function(){return o.BasicUtils.Vf(this.video)},d);function d(t,e){void 0===e&&(e={});var r=p.call(this,e)||this,n=e.playerVersion,i=e.playerName;if("string"==typeof n&&n.match(u)?r.playerVersion=n:r.logger().warn("Missing or invalid playerVersion specified in Hive Plugin options."),"string"==typeof i&&i.length<=214&&i.match(l)?r.playerName=i:r.logger().warn("Missing or invalid playerName specified in Hive Plugin options."),t instanceof HTMLVideoElement)return r.video=t,r;var s=r.loggerId+" the hive plugin needs to be initialized with the HTML video element.";throw o.logError(s,r.loggerId,o.KA.be),new Error(s)}e.HiveHtml5=f},function(t,e,r){var n,i,s=r(73),o=r(74),a=0,l=0;t.exports=function(t,e,r){var u=e&&r||0,c=e||[],h=(t=t||{}).eK||n,p=void 0!==t.hK?t.hK:i;if(null==h||null==p){var f=s();null==h&&(h=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var d=void 0!==t.oK?t.oK:(new Date).getTime(),g=void 0!==t.uK?t.uK:l+1,v=d-a+(g-l)/1e4;if(v<0&&void 0===t.hK&&(p=p+1&16383),(v<0||a<d)&&void 0===t.uK&&(g=0),1e4<=g)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,i=p;var m=(1e4*(268435455&(d+=122192928e5))+(l=g))%4294967296;c[u++]=m>>>24&255,c[u++]=m>>>16&255,c[u++]=m>>>8&255,c[u++]=255&m;var y=d/4294967296*1e4&268435455;c[u++]=y>>>8&255,c[u++]=255&y,c[u++]=y>>>24&15|16,c[u++]=y>>>16&255,c[u++]=p>>>8|128,c[u++]=255&p;for(var b=0;b<6;++b)c[u+b]=h[b];return e||o(c)}},function(t,e,r){var n=r(73),i=r(74);t.exports=function(t,e,r){var s=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.aK||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[s+a]=o[a];return e||i(o)}},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(t,e){this._id=t,this.fK=e}e.setTimeout=function(){return new s(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new s(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.cK=s.prototype.lK=function(){},s.prototype.close=function(){this.fK.call(n,this._id)},e.vK=function(t,e){clearTimeout(t.dK),t.EK=e},e.wK=function(t){clearTimeout(t.dK),t.EK=-1},e.pK=e.active=function(t){clearTimeout(t.dK);var e=t.EK;0<=e&&(t.dK=setTimeout((function(){t.gK&&t.gK()}),e))},r(127),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(58))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,s,o,a=1,l={},u=!1,c=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,n="[object process]"==={}.toString.call(t.process)?function(t){e.zh((function(){f(t)}))}:function(){if(t.postMessage&&!t.bK){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(o="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",d,!1):t.attachEvent("onmessage",d),function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((s=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){s.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,function(t){var e=c.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):function(t){setTimeout(f,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={yK:t,TK:e};return l[a]=i,n(a),a++},h.clearImmediate=p}function p(t){delete l[t]}function f(t){if(u)setTimeout(f,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.yK,r=t.TK;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(void 0,r)}}(e)}finally{p(t),u=!1}}}}function d(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(58),r(36))},function(t,e){if(!RegExp.escape){var r=/[-[\]{}()*+?.\\^$|,#\s]/g;RegExp.escape=function(t){return t.replace(r,"\\$&")}}},function(t,e,r){"use strict";var n=r(38),i=r(59);function s(){throw new Error("Can't construct. MapChanges is a mixin.")}t.exports=s,Object.prototype.hasOwnProperty;var o=new n,a=null;s.prototype.mK=function(){return o.has(this)||(a=a||r(60),o.set(this,a())),o.get(this)},s.prototype.IK=function(t){var e=this.mK();return t=t||"",e.has(t)||e.set(t,{kc:new i,jc:new i}),e.get(t)},s.prototype._K=function(t,e,r){!this.Lc&&this.Pc&&this.Pc();var n=this.IK(e);(r?n.kc:n.jc).push(t),Object.defineProperty(this,"LH",{value:!0,writable:!0,configurable:!0,enumerable:!1});var i=this;return function(){i&&(i.RK(t,e,r),i=null)}},s.prototype.RK=function(t,e,r){var n=this.IK(e),i=(r?n.kc:n.jc).findLast(t);if(!i)throw new Error("Can't remove map change listener: does not exist: token "+JSON.stringify(e));i.delete()},s.prototype.UH=function(t,e,r){var n=this.mK(),i="Map"+(r?"WillChange":"Change");n.forEach((function(n,s){if(!n.isActive){var o;n.isActive=!0,o=r?n.kc:n.jc;var a="handle"+(s.slice(0,1).toUpperCase()+s.slice(1))+i;try{o.forEach((function(r){if(r[a])r[a](e,t,this);else{if(!r.call)throw new Error("Handler "+r+" has no method "+a+" and is not callable");r.call(r,e,t,this)}}),this)}finally{n.isActive=!1}}}),this)},s.prototype.SK=function(t,e){return this._K(t,e,!0)},s.prototype.AK=function(t,e){return this.RK(t,e,!0)},s.prototype.HH=function(t,e){return this.UH(t,e,!0)}},function(t,e,r){"use strict";r(12);var n=r(60),i=r(59),s=r(13),o=r(40),a=r(79),l=r(14);function u(t,e,r,n){if(!(this instanceof u))return new u(t,e,r,n);e=e||Object.equals,r=r||Object.hash,n=n||Function.ke,this.je=e,this.Me=r,this.De=n;var i=this;this.NK=new this.CK(null,(function(){return new i.kK})),this.length=0,this.hiveAddEach(t)}Object.prototype.hasOwnProperty,(t.exports=u).jK=u,Object.hiveAddEach(u.prototype,s.prototype),Object.hiveAddEach(u.prototype,o.prototype),Object.hiveAddEach(u.prototype,l.prototype),u.prototype.CK=n,u.prototype.kK=i,u.prototype.Le=function(t){return new this.constructor(t,this.je,this.Me,this.De)},u.prototype.has=function(t){var e=this.Me(t);return this.NK.get(e).has(t)},u.prototype.get=function(t,e){if(e)throw new Error("FastSet#get does not support second argument: equals");var r=this.Me(t),n=this.NK;return n.has(r)?n.get(r).get(t):this.De(t)},u.prototype.delete=function(t,e){if(e)throw new Error("FastSet#delete does not support second argument: equals");var r=this.Me(t),n=this.NK;if(n.has(r)){var i=n.get(r);if(i.delete(t))return this.length--,0===i.length&&n.delete(r),!0}return!1},u.prototype.clear=function(){this.NK.clear(),this.length=0},u.prototype.hiveAdd=function(t){var e=this.Me(t),r=this.NK;return r.has(e)||r.set(e,new this.kK(null,this.je)),!r.get(e).has(t)&&(r.get(e).hiveAdd(t),this.length++,!0)},u.prototype.reduce=function(t,e){var r=arguments[2],n=this.NK,i=0;return n.reduce((function(e,n){return n.reduce((function(e,n){return t.call(r,e,n,i++,this)}),e,this)}),e,this)},u.prototype.mc=function(){if(0<this.length)return this.NK.mc().mc()},u.prototype.Oc=function(){return this.NK.values().pc().Oc()},u.prototype.log=function(t,e,r,n){t=t||a.xF,e=e||this.He,r||(r=console.log,n=console),r=r.bind(n);var i=this.NK,s=i.keys();s.forEach((function(o,a){var l,u;u=a===s.length-1?(l=t.LF," "):(l=0===a?t.DF:t.HF,t.UF);var c=i.get(o);r.call(n,l+t.jF+t.DF+" "+o),c.forEach((function(i,s){var o,a,l;a=s===c.head.yH?(o=t.LF," "):(o=t.HF,t.UF),e(s,(function(e){l?r.call(n,u+" "+a+"  "+e):(r.call(n,u+" "+o+t.jF+t.jF+e),l=!0)}),(function(e){r.call(n,u+" "+t.UF+"  "+e)}))}))}))},u.prototype.He=function(t,e){var r=t.value;Object(r)===r?JSON.stringify(r,null,4).split("\n").forEach((function(t){e(" "+t)})):e(" "+r)}},function(t,e,r){"use strict";t.exports=s;var n=r(37),i=r(13);function s(t){if(!(this instanceof s))return new s(t);if(Array.isArray(t)||"string"==typeof t)return s.Oc(t);if((t=n(t))instanceof s)return t;if(t.next)this.next=function(){return t.next()};else if(t.Oc){var e=t.Oc();this.next=function(){return e.next()}}else{if("[object Function]"!==n.prototype.toString.call(t))throw new TypeError("Can't iterate "+t);this.next=t}}s.prototype.forEach=i.prototype.forEach,s.prototype.map=i.prototype.map,s.prototype.filter=i.prototype.filter,s.prototype.every=i.prototype.every,s.prototype.some=i.prototype.some,s.prototype.Do=i.prototype.Do,s.prototype.all=i.prototype.all,s.prototype.min=i.prototype.min,s.prototype.max=i.prototype.max,s.prototype.yh=i.prototype.yh,s.prototype.wc=i.prototype.wc,s.prototype.pc=i.prototype.pc,s.prototype.gc=i.prototype.gc,s.prototype.enumerate=i.prototype.enumerate,s.prototype.yc=i.prototype.yc,s.prototype.group=i.prototype.group,s.prototype.reversed=i.prototype.reversed,s.prototype.toArray=i.prototype.toArray,s.prototype.dc=i.prototype.dc,s.prototype.iterator=i.prototype.iterator,s.prototype.NH=null,n.defineProperty(s.prototype,"_iterationObject",{get:function(){return this.NH||(this.NH={done:!1,value:void 0})}}),s.prototype.Le=function(t){var e=[];return e.hiveAddEach(t),e},s.prototype.MK=function(t){var e=s(this),r=arguments[1],i=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor((function(){if(!0!==e.CH.done){var n=t.call(r,e.next().value,i++,e);e.CH.value=n}return e.CH}))},s.prototype.DK=function(t){var e=s(this),r=arguments[1],i=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor((function(){for(var n;;){if(!0===(n=e.next()).done)return n;if(t.call(r,n.value,i++,e))return n}}))},s.prototype.reduce=function(t){var e,r=s(this),i=arguments[1],o=arguments[2],a=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;if(!0===(e=r.next()).done){if(1<arguments.length)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(i=1<arguments.length?t.call(o,i,e.value,a,r):e.value,a++;;){if(!0===(e=r.next()).done)return i;i=t.call(o,i,e.value,a,r),a++}},s.prototype.concat=function(){return s.concat(Array.prototype.concat.apply(this,arguments))},s.prototype.PK=function(t){var e,r,i=s(this),o=arguments[1],a=!1,l=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;for(;!0!==(r=i.next()).done;){if(!t.call(o,r.value,l,i)){a=!0,e=r.value;break}l++}return a?i.constructor([e]).concat(i):i.constructor([])},s.prototype.LK=function(t){var e=s(this),r=arguments[1],i=0;if("[object Function]"!=n.prototype.toString.call(t))throw new TypeError;return new e.constructor((function(){if(!0!==e.CH.done){var n=e.next().value;t.call(r,n,i++,e)?e.CH.value=n:(e.CH.done=!0,e.CH.value=void 0)}return e.CH}))},s.prototype.HK=function(){return s.bc(Array.prototype.concat.apply(this,arguments))},s.prototype.UK=function(t){return s.count(t).HK(this)},s.Oc=function(t){var e;return e=0,new s((function(){if("object"==typeof t)for(;!(e in t);){if(e>=t.length){this.CH.done=!0,this.CH.value=void 0;break}e+=1}else e>=t.length&&(this.CH.done=!0,this.CH.value=void 0);return this.CH.done||(this.CH.value=t[e],e+=1),this.CH}))},s.FK=function(t,e){var r;return arguments.length<2&&(e=1/0),new s((function(){var n,i;return r&&(i=r()),r&&!0!==i.done||(i=0<e?(e--,n=s.Oc(t),(r=n.next.bind(n))()):(this.CH.done=!0,this.CH)),i}))},s.concat=function(t){var e;return t=s(t),new s((function(){var r,n;return e&&(n=e()),n&&!0!==n.done?n:!1===(n=t.next()).done?(r=s(n.value),(e=r.next.bind(r))()):n}))},s.bc=function(t){return 0===(t=s(t).map(s)).length?new s([]):new s((function(){var e,r,n=t.map((function(t){return!0===(r=t.next()).done&&(e=!0),r.value}));return e?(this.CH.done=!0,this.CH.value=void 0):this.CH.value=n,this.CH}))},s.gc=function(){return s.bc(Array.prototype.slice.call(arguments))},s.chain=function(){return s.concat(Array.prototype.slice.call(arguments))},s.range=function(t,e,r){return arguments.length<3&&(r=1),arguments.length<2&&(e=t,t=0),t=t||0,r=r||1,new s((function(){e<=t&&(this.CH.done=!0,this.CH.value=void 0);var n=t;return t+=r,this.CH.value=n,this.CH}))},s.count=function(t,e){return s.range(t,1/0,e)},s.repeat=function(t,e){return new s.range(e).MK((function(){return t}))}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.zA=void 0;var n=r(0),i=r(9),s=(o.prototype.destroy=function(){this.abort(),this.loader=null,this.xhr=null},o.prototype.abort=function(){var t=this.loader||this.xhr;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},o.prototype.load=function(t,e,r){this.context=t,this.config=e,this.callbacks=r,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.xK()},o.prototype.xK=function(){this.xhr=this.loader=new XMLHttpRequest;var t=this.context,e=this.stats;e.tfirst=0,e.loaded=0,this.xhrSetup?this.xhr=this.xhrSetup(this.xhr,t)||this.xhr:(console.warn(this.loggerId+"Hive XHR setup missing. To disable this warning, do not use a Hive-based XhrLoader without a Hive plugin on the player."),n.Framework.h()&&(this.xhr=n.Framework.resolve(n.Framework.v.iC)),this.xhr||(this.xhr=new XMLHttpRequest),this.xhr.open("GET",t.url,!0),t.rangeEnd&&this.xhr.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1))),this.xhr.readyState||this.xhr.open("GET",t.url,!0),t.rangeEnd&&this.xhr.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),this.xhr.onreadystatechange=this.readystatechange.bind(this),this.xhr.onprogress=this.loadprogress.bind(this);var r=this.context.responseType;this.xhr.responseType=i.Gf(r)?r:"",this.config.timeout&&(this.xhr.timeout=this.config.timeout,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout)),this.xhr.send()},o.prototype.readystatechange=function(t){var e=t.currentTarget,r=e.readyState,n=this.stats,i=this.context,s=this.config;if(!n.aborted&&2<=r)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest)),4===r){var o=e.status,a=e.getAllResponseHeaders()||"",l=e.responseURL||e.url,u=e.statusText||(200===o?"OK":""),c=a.trim().split(/[\r\n]+/),h={};if(a&&c.forEach((function(t){var e=t.split(": "),r=e.shift(),n=e.join(": ");h[r]=n})),200<=o&&o<300){n.tload=Math.max(n.tfirst,performance.now());var p,f=void 0;p="arraybuffer"===i.responseType?(f=e.response).byteLength:(f=e.responseText).length,n.loaded=n.total=p;var d={url:l,code:o,text:u,responseHeaders:a,GK:h,data:f};this.callbacks.onSuccess(d,n,i)}else void 0===s.retryDelay||void 0===s.VK||n.retry>=s.BK||400<=o&&o<499?(console.warn(o+" while loading "+i.url),d={url:l,code:o,text:u,responseHeaders:a,GK:h,data:"arraybuffer"===i.responseType?e.response:e.responseText},this.callbacks.onError(d,i)):(console.warn(o+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.xK.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.VK),n.retry++)}else s.timeout&&(this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout))},o.prototype.loadtimeout=function(){console.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)},o.prototype.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total);var r=this.callbacks.onProgress;r&&r(e,this.context,null)},o);function o(t){this.loggerId="[HiveXhrLoader] ",(this.qK=t)&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}e.zA=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.j=void 0;var n=r(29),i=(s.prototype.apply=function(t){t.apply(this.context)},s);function s(t){this.id=t,this.context=new n.V}e.j=i},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.hR=void 0;var s,o=r(81),a=r(62),l=r(24),u=r(5),c=r(7),h=r(64),p=(i(f,s=o.qF),f.prototype.dU=function(t){var e=this,r=this.nS(t.oS());if(r!==c.af.cf&&r!==c.af.ff)return u.resolve(!1);var n=this.eF(t.oS());if(!n||n.next)return u.resolve(!1);var i=u.defer(),s=u.defer();if(this._x)l.Dash.lR?this._x.QK().then((function(r){r?e._x.decrypt(t.getResponse()).then((function(t){s.resolve(e.Dx(t))})).fail((function(t){return s.reject(!0)})):s.reject(!1)})):s.reject(!1);else try{var p=this.Dx(t.getResponse());s.resolve(p)}catch(p){this.logger.warn("error extracting duration",p),s.reject(!0)}return r===c.af.cf&&this.KF.zF(!0),s.promise.then((function(t){if(!isNaN(t)){var s=n.id+t;e.logger.debug("found next fragment: "+n.id+" -> "+s+" duration: "+t),e.ZF.forEach((function(r){if(r.type===n.CA){var i=r.ex.replace(o.qF.Ix,n.id+""),l=r.ex.replace(o.qF.Ix,s+""),u=new h.TimeDuration(t,r.timescale),p=e.mx.get(i);if(!e.mx.has(l)&&p){p.duration=u;var f=new a.xH(s,r.qualityLevel,u,l,l,p.CA);f.CA===c.af.cf&&e.KF.Ox(s,!0),p.next=f,e.mx.set(l,f),r.Tx.set(s,f)}}}))}r===c.af.cf&&e.KF.yx(),i.resolve(!1)})).fail((function(n){e.logger.debug("could not extract duration from "+t.oS()+" [reevaluate: "+n+"]"),r===c.af.cf&&e.KF.yx(),i.resolve(n)})),i.promise},f);function f(){return null!==s&&s.apply(this,arguments)||this}e.hR=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=(n=r(83))&&n.s?n:{default:n};function o(t){function e(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function r(t,r,n){for(var s=0,o=t.length;s<o;++s){var a=t[s];if(r[a.name])if(n[a.name]){if(a.ug){var l=r[a.name],u=n[a.name];"object"===(void 0===l?"undefined":i(l))&&"object"===(void 0===u?"undefined":i(u))?e(l,u):n[a.name]=l+u}}else n[a.name]=r[a.name]}}function n(t,e){for(var i=0,s=t.children.length;i<s;++i){var o=t.children[i],a=e[o.name+"_asArray"];if(a)for(var l=0,u=a.length;l<u;++l){var c=a[l];r(t.properties,e,c),n(o,c)}}}return{lN:function(e){if(null===e||"object"!==(void 0===e?"undefined":i(e)))return e;if("period"in t)for(var r=t.period,s=e.Period_asArray,o=0,a=s.length;o<a;++o){var l=s[o];if(n(r,l),"adaptationset"in t){var u=l.AdaptationSet_asArray;if(u)for(var c=t.uG,h=0,p=u.length;h<p;++h)n(c,u[h])}}return e}}}o.aG="ObjectIron";var a=s.default.fG(o);e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n=s(r(42)),i=s(r(43));function s(t){return t&&t.s?t:{default:t}}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,n.default),l);function l(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,(function(t,e){var r,n=(o(r={},i.default.MPD,[i.default.ZC,i.default.tk]),o(r,i.default.va,[i.default.ZC]),o(r,i.default.UC,[i.default.ik,i.default.sk]),o(r,i.default.FC,[i.default.ek]),o(r,i.default.KC,[i.default.Fa]),o(r,i.default.YC,[i.default.Fa]),o(r,i.default.GC,[i.default.ek]),o(r,i.default.ck,[i.default.Fa]),o(r,i.default.VC,[i.default.hk,i.default.ek]),o(r,i.default.xC,[i.default.ek,i.default.rk,i.default.nk,i.default.$C,i.default.lk]),o(r,i.default.XC,[i.default.uk,i.default.ZC]),o(r,i.default.JC,[i.default.uk]),o(r,i.default.QC,[i.default.tk,i.default.fk,i.default.qC,i.default.vk,i.default.ak]),o(r,i.default.Ak,[i.default.uk,i.default.ZC]),o(r,i.default.Nk,[i.default.uk,i.default.ZC]),o(r,i.default.Ck,[i.default.uk,i.default.ZC]),o(r,i.default.kk,[i.default.uk,i.default.ZC]),o(r,i.default.jk,[i.default.uk,i.default.ZC]),o(r,i.default.Mk,[i.default.uk,i.default.ZC]),o(r,i.default.Dk,[i.default.uk,i.default.ZC]),o(r,i.default.Pk,[i.default.uk,i.default.ZC]),o(r,i.default.Lk,[i.default.uk,i.default.ZC]),o(r,i.default.xk,[i.default.uk,i.default.ZC]),o(r,i.default.Hk,[i.default.ak]),o(r,i.default.WC,[i.default.ZC,i.default.dk,i.default.Ek]),o(r,i.default.Uk,[i.default.ZC]),o(r,i.default.wk,[i.default.pk]),o(r,i.default.bC,[i.default.uk,i.default.ZC]),r);if(n.hasOwnProperty(e)){var s=n[e];return void 0!==s&&0<=s.indexOf(t.name)}return!1}),(function(t){return String(t)})))}e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n=o(r(42)),i=o(r(138)),s=o(r(43));function o(t){return t&&t.s?t:{default:t}}var a=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,n.default),u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,(function(t){for(var e=[s.default.uj,s.default.zk,s.default.Kk,s.default.ej,s.default.hj,s.default.aj,s.default.wj,s.default.fj,i.default.WK,s.default.tj],r=e.length,n=0;n<r;n++)if(t.nodeName===e[n])return a.test(t.value);return!1}),(function(t){var e=a.exec(t),r=31536e3*parseFloat(e[3]||0)+2592e3*parseFloat(e[5]||0)+86400*parseFloat(e[7]||0)+3600*parseFloat(e[9]||0)+60*parseFloat(e[11]||0)+parseFloat(e[13]||0);return void 0!==e[1]&&(r=-r),r})))}e.default=l},function(t,e,r){"use strict";function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.init()}Object.defineProperty(e,"s",{value:!0});var i=new(function(t,e,r){e&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e)}(n,[{key:"init",value:function(){this.YK="stream",this.cf="video",this.ff="audio",this.zK="text",this.KK="fragmentedText",this.$K="embeddedText",this.XK="muxed",this.JK="image",this.ZK="stpp",this.t$="ttml",this.i$="vtt",this.n$="wvtt",this.r$="abrDynamic",this.s$="abrBola",this.e$="abrThroughput",this.h$="slidingWindow",this.o$="ewma",this.u$="Invalid Arguments",this.a$="Missing config parameter(s)",this.f$="Location",this.c$="initialize",this.l$="showing",this.v$="hidden",this.d$="CC1",this.E$="CC3",this.UTF8="utf-8",this.w$="schemeIdUri",this.WK="starttime",this.p$="urn:dvb:dash:lowlatency:scope:2019",this.g$="urn:dvb:dash:lowlatency:critical:2019",this.b$="XML",this.ARRAY_BUFFER="ArrayBuffer"}}]),n);e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n,i=(n=r(42))&&n.s?n:{default:n},s=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i.default),a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,(function(t){return s.test(t.value)}),(function(t){var e=s.exec(t),r=void 0;if(r=Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),e[6]&&parseInt(e[6],10)||0,e[7]&&1e3*parseFloat(e[7])||0),e[9]&&e[10]){var n=60*parseInt(e[9],10)+parseInt(e[10],10);r+=("+"===e[8]?-1:1)*n*60*1e3}return new Date(r)})))}e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n,i=(n=r(42))&&n.s?n:{default:n},s=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i.default),a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,(function(t){return s.test(t.value)}),(function(t){return parseFloat(t)})))}e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n=s(r(85)),i=s(r(43));function s(t){return t&&t.s?t:{default:t}}var o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,n.default),a);function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=[i.default.tk,i.default.gk,i.default.bk,i.default.yk,i.default.Tk,i.default.mk,i.default.fk,i.default.qC,i.default.vk,i.default.Ok,i.default.Ik,i.default._k,i.default.Rk,i.default.Sk,i.default.Ak,i.default.Nk,i.default.Ck,i.default.kk,i.default.jk,i.default.Mk];return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i.default.QC,t,[new n.default(i.default.WC,t,[new n.default(i.default.zC,t)])]))}e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n=(function(t,e,r){e&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,e)}(i,[{key:"name",get:function(){return this.PG}},{key:"merge",get:function(){return this.y$}}]),i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.PG=t,this.y$=(e=t)&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()}e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0});var n=s(r(85)),i=s(r(43));function s(t){return t&&t.s?t:{default:t}}var o=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,n.default),a);function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var t=[i.default.FC,i.default.xC,i.default.GC];return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i.default.va,t,[new n.default(i.default.QC,t,[new n.default(i.default.WC,t)])]))}e.default=o},function(t,e,r){if(void 0===n)var n={};n.Px=function(t){return new i(t).parse()},n.T$={},n.T$.m$=function(t,e){var r=e||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(t);var n=[],i=0;if("utf-8"===r)for(;i<t.byteLength;){var s=t.getUint8(i++);s<128||(s<224?s=(31&s)<<6:(s<240?s=(15&s)<<12:(s=(7&s)<<18,s|=(63&t.getUint8(i++))<<12),s|=(63&t.getUint8(i++))<<6),s|=63&t.getUint8(i++)),n.push(String.fromCharCode(s))}else for(;i<t.byteLength;)n.push(String.fromCharCode(t.getUint8(i++)));return n.join("")},e.Px=n.Px,e.T$=n.T$,n.O$=function(t){this.offset=void 0===t?0:t};var i=function(t){this.I$=new DataView(t),this._$=new n.O$,this.R$=[]};i.prototype.fetch=function(t){var e=this.S$(t,!0);return e.length?e[0]:null},i.prototype.S$=function(t,e){var r=[];return i.A$.call(this,t,r,e),r},i.prototype.parse=function(){for(this._$.offset=0,this.R$=[];this._$.offset<this.I$.byteLength;){var t=s.parse(this);if(void 0===t.type)break;this.R$.push(t)}return this},i.A$=function(t,e,r){for(var n in this.type&&this.type==t&&e.push(this),this.R$){if(e.length&&r)return;i.A$.call(this.R$[n],t,e,r)}};var s=function(){this._$=new n.O$};s.parse=function(t){var e=new s;return e.N$=t._$.offset,e.C$=t.C$?t.C$:t,e.I$=t.I$,e.k$=t,e.j$(),t._$.offset=e.I$.byteOffset+e.I$.byteLength,e},s.prototype.M$=function(t){var e=null;switch(t){case 8:e=this.I$.getInt8(this._$.offset-this.I$.byteOffset);break;case 16:e=this.I$.getInt16(this._$.offset-this.I$.byteOffset);break;case 32:e=this.I$.getInt32(this._$.offset-this.I$.byteOffset);break;case 64:var r=this.I$.getInt32(this._$.offset-this.I$.byteOffset),n=this.I$.getInt32(this._$.offset-this.I$.byteOffset+4);e=r*Math.pow(2,32)+n}return this._$.offset+=t>>3,e},s.prototype.D$=function(t){var e=null;switch(t){case 8:e=this.I$.getUint8(this._$.offset-this.I$.byteOffset);break;case 16:e=this.I$.getUint16(this._$.offset-this.I$.byteOffset);break;case 24:e=((r=this.I$.getUint16(this._$.offset-this.I$.byteOffset))<<8)+(n=this.I$.getUint8(this._$.offset-this.I$.byteOffset+2));break;case 32:e=this.I$.getUint32(this._$.offset-this.I$.byteOffset);break;case 64:var r=this.I$.getUint32(this._$.offset-this.I$.byteOffset),n=this.I$.getUint32(this._$.offset-this.I$.byteOffset+4);e=r*Math.pow(2,32)+n}return this._$.offset+=t>>3,e},s.prototype.P$=function(t){for(var e="",r=0;r<t;r++){var n=this.D$(8);e+=String.fromCharCode(n)}return e},s.prototype.L$=function(){for(var t="";;){var e=this.D$(8);if(0==e)break;t+=String.fromCharCode(e)}return t},s.prototype.H$=function(t){return this.D$(t/2)+this.D$(t/2)/Math.pow(2,t/2)},s.prototype.j$=function(){if(this._$.offset=this.N$,this.N$+8>this.I$.buffer.byteLength)this.C$.U$=!0;else{switch(this.size=this.D$(32),this.type=this.P$(4),1==this.size&&(this.F$=this.D$(64)),"uuid"==this.type&&(this.x$=this.P$(16)),this.size){case 0:this.I$=new DataView(this.I$.buffer,this.N$,this.I$.byteLength-this._$.offset);break;case 1:this.N$+this.size>this.I$.buffer.byteLength?(this.U$=!0,this.C$.U$=!0):this.I$=new DataView(this.I$.buffer,this.N$,this.F$);break;default:this.N$+this.size>this.I$.buffer.byteLength?(this.U$=!0,this.C$.U$=!0):this.I$=new DataView(this.I$.buffer,this.N$,this.size)}!this.U$&&this.G$[this.type]&&this.G$[this.type].call(this)}},s.prototype.V$=function(){this.version=this.D$(8),this.flags=this.D$(24)},s.prototype.G$={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach((function(t){s.prototype.G$[t]=function(){for(this.R$=[];this._$.offset-this.I$.byteOffset<this.I$.byteLength;)this.R$.push(s.parse(this))}})),s.prototype.G$.B$=function(){this.V$(),this.q$=this.D$(32),this.entries=[];for(var t=1;t<=this.q$;t++){var e={};1==this.version?(e.Q$=this.D$(64),e.W$=this.M$(64)):(e.Q$=this.D$(32),e.W$=this.M$(32)),e.Y$=this.M$(16),e.z$=this.M$(16),this.entries.push(e)}},s.prototype.G$.K$=function(){this.V$(),this.$$=this.L$(),this.value=this.L$(),this.timescale=this.D$(32),this.X$=this.D$(32),this.J$=this.D$(32),this.id=this.D$(32),this.Z$=new DataView(this.I$.buffer,this._$.offset,this.I$.byteLength-(this._$.offset-this.N$))},s.prototype.G$.tX=s.prototype.G$.PE=function(){this.data=new DataView(this.I$.buffer,this._$.offset,this.I$.byteLength-(this._$.offset-this.N$))},s.prototype.G$.iX=s.prototype.G$.nX=function(){for(this.rX=this.P$(4),this.sX=this.D$(32),this.eX=[];this._$.offset-this.I$.byteOffset<this.I$.byteLength;)this.eX.push(this.P$(4))},s.prototype.G$.hX=function(){this.V$(),this.oX=this.D$(32),this.uX=this.P$(4),this.zv=[this.D$(32),this.D$(32),this.D$(32)],this.name=this.L$()},s.prototype.G$.aX=function(){this.data=new DataView(this.I$.buffer,this._$.offset,this.I$.byteLength-(this._$.offset-this.N$))},s.prototype.G$.fX=function(){this.V$(),1==this.version?(this.cX=this.D$(64),this.lX=this.D$(64),this.timescale=this.D$(32),this.duration=this.D$(64)):(this.cX=this.D$(32),this.lX=this.D$(32),this.timescale=this.D$(32),this.duration=this.D$(32));var t=this.D$(16);this.pad=t>>15,this.language=String.fromCharCode(96+(t>>10&31),96+(t>>5&31),96+(31&t)),this.oX=this.D$(16)},s.prototype.G$.vX=function(){this.V$(),this.dX=this.D$(32)},s.prototype.G$.EX=function(){this.V$(),1==this.version?(this.cX=this.D$(64),this.lX=this.D$(64),this.timescale=this.D$(32),this.duration=this.D$(64)):(this.cX=this.D$(32),this.lX=this.D$(32),this.timescale=this.D$(32),this.duration=this.D$(32)),this.rate=this.H$(32),this.volume=this.H$(16),this.wX=this.D$(16),this.pX=[this.D$(32),this.D$(32)],this.matrix=[];for(var t=0;t<9;t++)this.matrix.push(this.H$(32));for(this.oX=[],t=0;t<6;t++)this.oX.push(this.D$(32));this.gX=this.D$(32)},s.prototype.G$.bX=function(){var t=new DataView(this.I$.buffer,this._$.offset,this.I$.byteLength-(this._$.offset-this.N$));this.yX=n.T$.m$(t)},s.prototype.G$.TX=function(){this.V$(),this.mX=this.D$(32),this.timescale=this.D$(32),0==this.version?(this.OX=this.D$(32),this.IX=this.D$(32)):(this.OX=this.D$(64),this.IX=this.D$(64)),this.zv=this.D$(16),this._X=this.D$(16),this.RX=[];for(var t=0;t<this._X;t++){var e={},r=this.D$(32);e.SX=r>>31&1,e.AX=2147483647&r,e.NX=this.D$(32);var n=this.D$(32);e.CX=n>>31&1,e.kX=n>>28&7,e.jX=268435455&n,this.RX.push(e)}},s.prototype.G$.MX=function(){this.V$(),this.DX=this.D$(32),this.PX=[];for(var t=0;t<this.DX;t++){var e={};e.LX=this.D$(32),e.HX=[];for(var r=0;r<e.LX;r++){var n={};n.level=this.D$(8),n.UX=this.D$(24),e.HX.push(n)}this.PX.push(e)}},s.prototype.G$.FX=function(){this.V$(),1==this.version?this.xX=this.D$(64):this.xX=this.D$(32)},s.prototype.G$.tfhd=function(){this.V$(),this.GX=this.D$(32),1&this.flags&&(this.VX=this.D$(64)),2&this.flags&&(this.BX=this.D$(32)),8&this.flags&&(this.default_sample_duration=this.D$(32)),16&this.flags&&(this.qX=this.D$(32)),32&this.flags&&(this.QX=this.D$(32))},s.prototype.G$.WX=function(){this.V$(),1==this.version?(this.cX=this.D$(64),this.lX=this.D$(64),this.GX=this.D$(32),this.wX=this.D$(32),this.duration=this.D$(64)):(this.cX=this.D$(32),this.lX=this.D$(32),this.GX=this.D$(32),this.wX=this.D$(32),this.duration=this.D$(32)),this.pX=[this.D$(32),this.D$(32)],this.YX=this.D$(16),this.zX=this.D$(16),this.volume=this.H$(16),this.KX=this.D$(16),this.matrix=[];for(var t=0;t<9;t++)this.matrix.push(this.H$(32));this.width=this.D$(32),this.height=this.D$(32)},s.prototype.G$.trun=function(){this.V$(),this.$X=this.D$(32),1&this.flags&&(this.XX=this.M$(32)),4&this.flags&&(this.JX=this.D$(32)),this.Lx=[];for(var t=0;t<this.$X;t++){var e={};256&this.flags&&(e.sample_duration=this.D$(32)),512&this.flags&&(e.ZX=this.D$(32)),1024&this.flags&&(e.tJ=this.D$(32)),2048&this.flags&&(0==this.version?e.iJ=this.D$(32):e.iJ=this.M$(32)),this.Lx.push(e)}},s.prototype.G$.nJ=function(){var t=new DataView(this.I$.buffer,this._$.offset,this.I$.byteLength-(this._$.offset-this.N$));this.rJ=n.T$.m$(t)},s.prototype.G$.sJ=function(){var t=new DataView(this.I$.buffer,this._$.offset,this.I$.byteLength-(this._$.offset-this.N$));this.config=n.T$.m$(t)},s.prototype.G$.eJ=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Representation=void 0;var n=r(25);e.Representation=function(){this.Tx=new n}},function(t,e,r){"use strict";t.exports=l,r(12);var n=r(13),i=r(40),s=r(14),o=r(39),a=r(79);function l(t,e,r,n){if(!(this instanceof l))return new l(t,e,r,n);this.je=e||Object.equals,this.Ec=r||Object.compare,this.De=n||Function.ke,this.root=null,this.length=0,this.hiveAddEach(t)}function u(t){this.value=t,this.left=null,this.right=null,this.length=1}function c(t,e,r){if(this.set=t,this.yH=null,this.end=r,e){var n=this.set.hJ(e);n&&(this.set.oJ(n.value),this.yH=n.uJ())}}l.aJ=l,Object.hiveAddEach(l.prototype,n.prototype),Object.hiveAddEach(l.prototype,i.prototype),Object.hiveAddEach(l.prototype,s.prototype),Object.hiveAddEach(l.prototype,o.prototype),l.prototype.bF=!0,l.prototype.Le=function(t){return new this.constructor(t,this.je,this.Ec,this.De)},l.prototype.has=function(t,e){if(e)throw new Error("SortedSet#has does not support second argument: equals");return!!this.root&&(this.oJ(t),this.je(t,this.root.value))},l.prototype.get=function(t,e){if(e)throw new Error("SortedSet#get does not support second argument: equals");return this.root&&(this.oJ(t),this.je(t,this.root.value))?this.root.value:this.De(t)},l.prototype.hiveAdd=function(t){var e=new this.Node(t);if(!this.root)return this.LN&&this.GN([t],[],0),this.root=e,this.length++,this.LN&&this.UN([t],[],0),!0;if(this.oJ(t),this.je(t,this.root.value))return!1;var r=this.Ec(t,this.root.value);if(0===r)throw new Error("SortedSet cannot contain incomparable but inequal values: "+t+" and "+this.root.value);return this.LN&&this.GN([t],[],this.root.index),r<0?(e.right=this.root,e.left=this.root.left,this.root.left=null):(e.left=this.root,e.right=this.root.right,this.root.right=null),this.root.fJ(),e.fJ(),this.root=e,this.length++,this.LN&&this.UN([t],[],this.root.index),!0},l.prototype.delete=function(t,e){if(e)throw new Error("SortedSet#delete does not support second argument: equals");if(this.root&&(this.oJ(t),this.je(t,this.root.value))){var r=this.root.index;if(this.LN&&this.GN([],[t],r),this.root.left){var n=this.root.right;this.root=this.root.left,this.oJ(t),this.root.right=n}else this.root=this.root.right;return this.length--,this.root&&this.root.fJ(),this.LN&&this.UN([],[t],r),!0}return!1},l.prototype.indexOf=function(t,e){if(e)throw new Error("SortedSet#indexOf does not support second argument: startIndex");return this.root&&(this.oJ(t),this.je(t,this.root.value))?this.root.index:-1},l.prototype.find=function(t,e,r){if(e)throw new Error("SortedSet#find does not support second argument: equals");if(r)throw new Error("SortedSet#find does not support third argument: index");if(this.root&&(this.oJ(t),this.je(t,this.root.value)))return this.root},l.prototype.cJ=function(t){if(this.root){for(t=t||this.root;t.right;)t=t.right;return t}},l.prototype.lJ=function(t){if(this.root){for(t=t||this.root;t.left;)t=t.left;return t}},l.prototype.vJ=function(t){if(this.root)return this.oJ(t),0<this.Ec(this.root.value,t)?this.root.uJ():this.root},l.prototype.dJ=function(t){if(this.root)return this.oJ(t),0<=this.Ec(this.root.value,t)?this.root.uJ():this.root},l.prototype.hJ=function(t){if(this.root)return this.oJ(t),0<=this.Ec(this.root.value,t)?this.root:this.root.EJ()},l.prototype.wJ=function(t){if(this.root)return this.oJ(t),this.Ec(this.root.value,t)<=0?this.root.EJ():this.root},l.prototype.pop=function(){if(this.root){var t=this.cJ();return this.delete(t.value),t.value}},l.prototype.shift=function(){if(this.root){var t=this.lJ();return this.delete(t.value),t.value}},l.prototype.push=function(){this.hiveAddEach(arguments)},l.prototype.unshift=function(){this.hiveAddEach(arguments)},l.prototype.slice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var r=[];if(this.root)for(this.pJ(t);this.root.index<e&&(r.push(this.root.value),this.root.right);)this.oJ(this.root.EJ().value);return r},l.prototype.splice=function(t,e){return this.AH(t,e,Array.prototype.slice.call(arguments,2))},l.prototype.AH=function(t,e,r){if(void 0===t&&void 0===e)return[];(t=t||0)<0&&(t+=this.length),void 0===e&&(e=1/0);var n=[];if(this.root){this.pJ(t);for(var i=0;i<e;i++){n.push(this.root.value);var s=this.root.EJ();if(this.delete(this.root.value),!s)break;this.oJ(s.value)}}return this.hiveAddEach(r),n},l.prototype.oJ=function(t){var e,r,n,i,s,o;if(this.root){for(e=r=n=new this.Node,o=new this.Node,s=this.root;;){var a=this.Ec(t,s.value);if(a<0){if(!s.left)break;if(this.Ec(t,s.left.value)<0&&(i=s.left,s.left=i.right,s.fJ(),i.right=s,i.fJ(),!(s=i).left))break;(i=new u).right=s,i.left=o.left,o.left=i,n.left=s,n.fJ(),s=(n=s).left}else{if(!(0<a))break;if(!s.right)break;if(0<this.Ec(t,s.right.value)&&(i=s.right,s.right=i.left,s.fJ(),i.left=s,i.fJ(),!(s=i).right))break;(i=new u).left=s,i.right=o.right,o.right=i,r.right=s,r.fJ(),s=(r=s).right}}for(r.right=s.left,r.fJ(),n.left=s.right,n.fJ(),s.left=e.right,s.right=e.left;o.left;)o.left.right.fJ(),o.left=o.left.left;for(;o.right;)o.right.left.fJ(),o.right=o.right.right;s.fJ(),this.root=s}},l.prototype.pJ=function(t){if(this.root){for(var e=this.root,r=this.root.index;r!==t;)if(t<r&&e.left)r-=1+((e=e.left).right?e.right.length:0);else{if(!(r<t&&e.right))break;r+=1+((e=e.right).left?e.left.length:0)}return this.oJ(e.value),this.root.index===t}return!1},l.prototype.reduce=function(t,e,r){return this.root&&(e=this.root.reduce(t,e,0,r,this)),e},l.prototype.reduceRight=function(t,e,r){return this.root&&(e=this.root.reduceRight(t,e,this.length-1,r,this)),e},l.prototype.min=function(t){var e=this.lJ(t);if(e)return e.value},l.prototype.max=function(t){var e=this.cJ(t);if(e)return e.value},l.prototype.mc=function(){return this.min()},l.prototype.clear=function(){var t;this.LN&&(t=this.toArray(),this.GN([],t,0)),this.root=null,this.length=0,this.LN&&this.UN([],t,0)},l.prototype.Oc=function(t,e){return new this.Iterator(this,t,e)},l.prototype.Iterator=c,l.prototype.summary=function(){return this.root?this.root.summary():"()"},l.prototype.log=function(t,e,r,n){t=t||a.FF,e=e||this.He,r||(r=console.log,n=console),r=r.bind(n),this.root&&this.root.log(t,e,r,r)},l.prototype.He=function(t,e,r){e(" "+t.value)},l.gJ=a,(l.prototype.Node=u).prototype.reduce=function(t,e,r,n,i,s){if(s=s||0,this.left){var o=this.left.length;e=this.left.reduce(t,e,r,n,i,s+1),r+=o}return e=t.call(n,e,this.value,r,i,this,s),r+=1,this.right&&(e=this.right.reduce(t,e,r,n,i,s+1)),e},u.prototype.reduceRight=function(t,e,r,n,i,s){return s=s||0,this.right&&(e=this.right.reduce(t,e,r,n,i,s+1),r-=this.right.length),e=t.call(n,e,this.value,this.value,i,this,s),r-=1,this.left&&(e=this.left.reduce(t,e,r,n,i,s+1)),e},u.prototype.fJ=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},u.prototype.bJ=function(){var t=1;if(t+=this.left?this.left.bJ():0,t+=this.right?this.right.bJ():0,this.length!==t)throw new Error("Integrity check failed: "+this.summary());return t},u.prototype.EJ=function(){var t=this;if(t.right){for(t=t.right;t.left;)t=t.left;return t}},u.prototype.uJ=function(){var t=this;if(t.left){for(t=t.left;t.right;)t=t.right;return t}},u.prototype.summary=function(){var t=this.value||"-";return t+=" <"+this.length,this.left||this.right?"("+t+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+t+")"},u.prototype.log=function(t,e,r,n){var i,s,o,a,l=this;i=this.left&&this.right?t.BN:this.left?t.MF:this.right?t.DF:t.jF,this.left&&this.left.log(t,e,(function(e){s?n(t.UF+" "+e):(s=!0,n(t.PF+t.jF+e))}),(function(t){n("  "+t)})),e(this,(function(e){o?r((l.right?t.UF:" ")+e):(o=!0,r(i+e))}),(function(e){n((l.left?t.UF:" ")+e)})),this.right&&this.right.log(t,e,(function(e){a?r("  "+e):(a=!0,r(t.LF+t.jF+e))}),(function(e){r(t.UF+" "+e)}))},c.prototype.NH=null,Object.defineProperty(c.prototype,"CH",{get:function(){return this.NH||(this.NH={done:!1,value:null})}}),c.prototype.next=function(){var t;return(t=this.yH?this.set.wJ(this.yH.value):this.set.lJ())?void 0!==this.end&&0<=this.set.Ec(t.value,this.end)?(this.CH.done=!0,this.CH.value=void 0):(this.yH=t,this.CH.value=t.value):(this.CH.done=!0,this.CH.value=void 0),this.CH}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Sx=void 0;var n=r(5),i=r(0),s=r(1),o=r(2),a=function(t,e){this.name=t,this.iv=e},l=(u.prototype.init=function(){var t=this;try{this.yJ();var e=n.defer();this.TJ().then((function(){return e.resolve(!0)})).fail((function(r){s.ErrorMonitor.getInstance().logError("Error initializing key",t.loggerId,o.Vt.Zn,r),e.resolve(!1)})),this.mJ=e.promise}catch(t){s.ErrorMonitor.getInstance().logError("Error initializing AES Manager",this.loggerId,o.Vt.Jn,t)}},u.prototype.QK=function(){return this.mJ?this.mJ:n.resolve(!1)},u.prototype.TJ=function(){var t=this;if(this.OJ)return this.OJ;var e=n.defer();return this.IJ().then((function(r){window.crypto.subtle.importKey("raw",r,t._J,!1,["decrypt"]).then((function(t){e.resolve(t)}),(function(t){e.reject("error importing key: "+t.toString())}))})).fail((function(t){return e.reject(t)})),this.OJ=e.promise,this.OJ},u.prototype.yJ=function(){for(var t=2,e=this.RJ.length,r=[];t<e;t+=2)r.push(parseInt(this.RJ.substr(t,2),16));this.iv=new Uint8Array(r)},u.prototype.decrypt=function(t){var e=this,r=n.defer(),i=new a(this._J,this.iv);return this.OJ.then((function(e){window.crypto.subtle.decrypt(i,e,t).then((function(t){r.resolve(t)}))})).catch((function(t){s.ErrorMonitor.getInstance().logError("Error decrypting arraybuffer",e.loggerId,o.Vt.ir,t),e.failed=!0,e.mJ=n.resolve(!1),r.reject(t)})),r.promise},u.prototype.IJ=function(){var t=this,e=n.defer(),r=new XMLHttpRequest;return r.responseType="arraybuffer",r.open("GET",this.SJ),this.AJ&&r.setRequestHeader("Authorization",this.AJ),r.onload=function(){if(200===r.status){var n=new Uint8Array(r.response);e.resolve(n)}else s.ErrorMonitor.getInstance().logError("Error downloading key",t.loggerId,o.Vt.nr,r.status),e.reject("error downloading key - status: "+r.status)},r.onerror=function(){s.ErrorMonitor.getInstance().logError("Error downloading key",t.logger,o.Vt.rr),e.reject("error downloading key")},r.send(),e.promise},u.prototype.Rx=function(){return this.failed},u);function u(t,e,r){this.loggerId="[DASH AES Manager] ",this._J="AES-CBC",this.failed=!1,this.logger=i.Framework&&i.Framework.resolve(i.Framework.v.p)?i.Framework.resolve(i.Framework.v.p).log():console,this.SJ=t,this.RJ=e,this.logger.debug(this.loggerId+"Starting Dash AES Manager"),r&&(this.AJ=r)}e.Sx=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.it=void 0;var n=(i.getInstance=function(){return void 0===this.instance&&(this.instance=new i),this.instance},i.prototype.tt=function(t,e){this.NJ.push(t),this.callbacks.push(e)},i.prototype.CJ=function(t){for(var e=function(e){var n=!0;r.NJ[e].forEach((function(e){null!=t[e]&&t[e]||(n=!1)})),n&&r.callbacks[e]()},r=this,n=0;n<this.NJ.length;n++)e(n)},i);function i(){var t=this;if(this.NJ=[],this.callbacks=[],i.instance)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var e={};document.addEventListener("keydown",(function(r){e[r.keyCode]=!0,t.CJ(e)}),!0),document.addEventListener("keyup",(function(t){e={}}),!0)}e.it=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Ax=void 0;var n=r(5),i=(s.prototype.init=function(){},s.prototype.QK=function(){return n.resolve(!1)},s.prototype.decrypt=function(t){return n.reject("unsupported")},s.prototype.Rx=function(){return!1},s);function s(){}e.Ax=i},function(t,e,r){var n;!function(){"use strict";var i={kJ:/[^s]/,jJ:/[^t]/,MJ:/[^T]/,DJ:/[^v]/,number:/[diefg]/,PJ:/[bcdiefguxX]/,json:/[j]/,LJ:/[^j]/,text:/^[^\x25]+/,HJ:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,UJ:/^\.([a-z_][a-z_\d]*)/i,FJ:/^\[(\d+)\]/,sign:/^[+-]/};function s(t){return function(t,e){var r,n,o,a,l,u,c,h,p,f=1,d=t.length,g="";for(n=0;n<d;n++)if("string"==typeof t[n])g+=t[n];else if("object"==typeof t[n]){if((a=t[n]).keys)for(r=e[f],o=0;o<a.keys.length;o++){if(null==r)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[o],a.keys[o-1]));r=r[a.keys[o]]}else r=a.xJ?e[a.xJ]:e[f++];if(i.MJ.test(a.type)&&i.DJ.test(a.type)&&r instanceof Function&&(r=r()),i.PJ.test(a.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(s("[sprintf] expecting number but found %T",r));switch(i.number.test(a.type)&&(h=0<=r),a.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,a.width?parseInt(a.width):0);break;case"e":r=a.precision?parseFloat(r).toExponential(a.precision):parseFloat(r).toExponential();break;case"f":r=a.precision?parseFloat(r).toFixed(a.precision):parseFloat(r);break;case"g":r=a.precision?String(Number(r.toPrecision(a.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=a.precision?r.substring(0,a.precision):r;break;case"t":r=String(!!r),r=a.precision?r.substring(0,a.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=a.precision?r.substring(0,a.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=a.precision?r.substring(0,a.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}i.json.test(a.type)?g+=r:(!i.number.test(a.type)||h&&!a.sign?p="":(p=h?"+":"-",r=r.toString().replace(i.sign,"")),u=a.GJ?"0"===a.GJ?"0":a.GJ.charAt(1):" ",c=a.width-(p+r).length,l=a.width&&0<c?u.repeat(c):"",g+=a.align?p+r+l:"0"===u?p+l+r:l+p+r)}return g}(function(t){if(a[t])return a[t];for(var e,r=t,n=[],s=0;r;){if(null!==(e=i.text.exec(r)))n.push(e[0]);else if(null!==(e=i.HJ.exec(r)))n.push("%");else{if(null===(e=i.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){s|=1;var o=[],l=e[2],u=[];if(null===(u=i.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=i.UJ.exec(l)))o.push(u[1]);else{if(null===(u=i.FJ.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(u[1])}e[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],xJ:e[1],keys:e[2],sign:e[3],GJ:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return a[t]=n}(t),arguments)}function o(t,e){return s.apply(null,[t].concat(e||[]))}var a=Object.create(null);e.Xx=s,e.VJ=o,"undefined"!=typeof window&&(window.Xx=s,window.VJ=o,void 0===(n=function(){return{Xx:s,VJ:o}}.call(e,r,e,t))||(t.exports=n))}()},function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}((t.exports=a).Bh=a).prototype.BJ=void 0,a.prototype.qJ=0,a.prototype.QJ=void 0;var l=10;function u(t){return void 0===t.QJ?a.WJ:t.QJ}function c(t,e,r,n){var i,s,o;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(s=t.BJ)?(s=t.BJ=Object.create(null),t.qJ=0):(void 0!==s.YJ&&(t.qh("newListener",e,r.listener?r.listener:r),s=t.BJ),o=s[e]),void 0===o)o=s[e]=r,++t.qJ;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(i=u(t))&&o.length>i&&!o.zJ){o.zJ=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.KJ=t,a.type=e,a.count=o.length,function(t){console&&console.warn&&console.warn(t)}(a)}return t}function h(t,e,r){var n={$J:!1,XJ:void 0,target:t,type:e,listener:r},i=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.$J||(this.target.removeListener(this.type,this.XJ),this.$J=!0,s(this.listener,this.target,t))}.bind(n);return i.listener=r,n.XJ=i}function p(t,e,r){var n=t.BJ;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):d(i,i.length)}function f(t){var e=this.BJ;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(a,"WJ",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),a.init=function(){void 0!==this.BJ&&this.BJ!==Object.getPrototypeOf(this).BJ||(this.BJ=Object.create(null),this.qJ=0),this.QJ=this.QJ||void 0},a.prototype.JJ=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.QJ=t,this},a.prototype.ZJ=function(){return u(this)},a.prototype.qh=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this.BJ;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(0<e.length&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[t];if(void 0===l)return!1;if("function"==typeof l)s(l,this,e);else{var u=l.length,c=d(l,u);for(r=0;r<u;++r)s(c[r],this,e)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.gN=function(t,e){return c(this,t,e,!0)},a.prototype.wN=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,h(this,t,e)),this},a.prototype.bN=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.gN(t,h(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var r,n,i,s,o;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(n=this.BJ))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this.qJ?this.BJ=Object.create(null):(delete n[t],n.removeListener&&this.qh("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;0<=s;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.qh("removeListener",t,o||e)}return this},a.prototype.pN=function(t){var e,r,n;if(void 0===(r=this.BJ))return this;if(void 0===r.removeListener)return 0===arguments.length?(this.BJ=Object.create(null),this.qJ=0):void 0!==r[t]&&(0==--this.qJ?this.BJ=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.pN(i);return this.pN("removeListener"),this.BJ=Object.create(null),this.qJ=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;0<=n;n--)this.removeListener(t,e[n]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.tZ=function(t){return p(this,t,!1)},a.iZ=function(t,e){return"function"==typeof t.iZ?t.iZ(e):f.call(t,e)},a.prototype.iZ=f,a.prototype.nZ=function(){return 0<this.qJ?n(this.BJ):[]}},function(t,e,r){var n,i;void 0===(i="function"==typeof(n=function(t){"use strict";var e,r;Object.defineProperty(t,"s",{value:!0});var n={YEAR:31536e3,MONTH:2628e3,DAY:86400,HOUR:3600,MINUTE:60,SECOND:1},i=((e={}).rZ=0,e.sZ=0,e.eZ=0,e),s=((r={}).hZ=0,r.oZ=0,r.uZ=0,r),o=function(t){return/^-?P((([0-9]+Y([0-9]+M)?([0-9]+D)?|([0-9]+M)([0-9]+D)?|([0-9]+D))(T(([0-9]+H)([0-9]+M)?([0-9]+(\.[0-9]+)?S)?|([0-9]+M)([0-9]+(\.[0-9]+)?S)?|([0-9]+(\.[0-9]+)?S)))?)|(T(([0-9]+H)([0-9]+M)?([0-9]+(\.[0-9]+)?S)?|([0-9]+M)([0-9]+(\.[0-9]+)?S)?|([0-9]+(\.[0-9]+)?S))))$/.test(t)},a=function(t){return"string"==typeof t&&0<t.length},l=function(t){return"-"===t[0]},u=function(t){return t.slice(1)},c=function(t,e){return function(t,e){return n[t.toUpperCase()]*e}(t,h(e))},h=function(t){var e=parseFloat(t);return isNaN(e)?0:e},p=function(t){var e=l(t),r=(e?u(t):t).split("T"),n=u(r[0]),i=r[1],s=0;return a(n)&&(s+=function(t){var e=/^(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?$/g.exec(t)||[],r=e[1],n=e[2],i=e[3];return c("year",r)+c("month",n)+c("day",i)}(n)),a(i)&&(s+=function(t){var e=/^(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?$/g.exec(t)||[],r=e[1],n=e[2],i=e[3];return c("hour",r)+c("minute",n)+c("second",i)}(i)),e?-s:s},f=t.aZ=function(t){var e,r=l(t),n=(r?u(t):t).split("T"),o=u(n[0]),c=n[1],p=((e={}).fZ=r,e);return p=a(o)?Object.assign(p,function(t){var e,r=/^(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?$/g.exec(t)||[],n=r[1],i=r[2],s=r[3];return(e={}).years=h(n),e.months=h(i),e.days=h(s),e}(o)):Object.assign(p,i),a(c)?Object.assign(p,function(t){var e,r=/^(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?$/g.exec(t)||[],n=r[1],i=r[2],s=r[3];return(e={}).hours=h(n),e.minutes=h(i),e.seconds=h(s),e}(c)):Object.assign(p,s)};t.default=function(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof t)return o(t)?e?f(t):p(t):null;throw new TypeError("expected input to be a string")}(t,e)}})?n.apply(e,[e]):n)||(t.exports=i)},function(t,e,r){"use strict";var n=this&&this.Fe||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t};Object.defineProperty(e,"s",{value:!0}),e.FG=void 0;var i=r(154),s=(o.prototype.reset=function(){this.cZ=[]},o.prototype.tx=function(t){this.lZ?this.lZ.timescale=t:this.logger.warn("No MetadataInfo initialized!")},o.prototype.zF=function(t){void 0===t&&(t=!1);var e=null,r=null;try{if(t){var s=this.dZ.vZ;e=n([],s),r=this.dZ.timescale}this.lZ=new i.MetadataInfo(r,this.EZ,e)}catch(t){this.logger.warn("not able to get last metadata info")}},o.prototype.Ox=function(t,e){void 0===e&&(e=!1),this.lZ?this.lZ.Ox(t,e):this.logger.warn("No MetadataInfo initialized!")},o.prototype.vx=function(t,e,r,n){this.lZ?this.lZ.vx(t,e,r,n):this.logger.console.warn("No MetdataInfo initialized")},o.prototype.qx=function(t){this.lZ?this.lZ.wZ=t:this.logger.warn("No MetadataInfo initialized!")},o.prototype.yx=function(){this.lZ?(this.cZ.push(this.lZ),this.dZ=this.lZ,this.lZ=null):this.logger.warn("No MetadataInfo modified, so nothing was stored")},o.prototype.UG=function(t){void 0===t&&(t=!0);var e=this.cZ.map((function(t){return t.pZ()}));return t&&this.reset(),e},o);function o(t,e){this.logger=t,this.cZ=[],this.EZ=e}e.FG=s},function(t,e,r){"use strict";var n;Object.defineProperty(e,"s",{value:!0}),e.MetadataInfo=void 0,r(63);var i=hive.snapshots.MetadataInfo,s=r(0),o=r(1),a=(l.prototype.Ox=function(t,e){this.vZ.indexOf(t)<0&&(this.vZ.push(t),e&&this.vZ.shift())},l.prototype.vx=function(t,e,r,n){this.firstFragment=t,this.lastFragment=e,this.avgDuration=r,this.availableFragments=n},l.prototype.gZ=function(){0<this.vZ.length&&this.firstFragment?o.ErrorMonitor.getInstance().logError("Metadata info set with both list of segments and raw data!",this.loggerId):void 0===this.availableFragments&&(this.availableFragments=this.vZ.length,0<this.vZ.length&&(this.firstFragment=this.vZ[0],this.lastFragment=this.vZ[this.vZ.length-1]),this.avgDuration=this.bZ())},l.prototype.pZ=function(){this.gZ();var t=new i;return t.timestamp=this.timestamp,t.availableFragments=this.availableFragments,t.firstFragment=this.firstFragment,t.lastFragment=this.lastFragment,t.avgDuration=Math.round(this.avgDuration),t.trimmedFragments=this.wZ,t.autogenerated=this.autogenerated,t.timescale=this.timescale,t},l.prototype.bZ=function(){var t=this,e=0;return this.vZ.forEach((function(r){var n=t.EZ.lF(r);n?e+=n.duration.ms():o.ErrorMonitor.getInstance().logError("ID in the segments list not found in StreamMetadata",t.loggerId)})),Math.round(e/this.vZ.length)},l);function l(t,e,r){this[n]="MetadataInfo",this.loggerId="[ MetadataInfo ]",this.timestamp=s.Framework.time(),this.timescale=t,this.EZ=e,r?(this.vZ=r,this.autogenerated=!0):(this.vZ=new Array,this.autogenerated=!1)}e.MetadataInfo=a,n=Symbol.toStringTag},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Jx=void 0;var n=r(7),i=r(0),s=(o.prototype.yZ=function(){return this.TZ&&0<this.TZ.length?this.mZ:(this.OZ=this.configStore.getConfig("stream.maxBandwidth"),this.OZ?this.IZ:null)},o.prototype.filter=function(t){var e=this.yZ(),r=this._Z||this.configStore.getConfig("stream.removeResolution"),i=this.JF.SB(n.af.cf),s=[];t.sort((function(t,e){return i.get(t._id)-i.get(e._id)}));for(var o=t.length-1;0<=o;o--)if(r&&(delete t[o]._width,delete t[o]._height),e){var a=t[o],l=a._id,u=a._bandwidth;e(i.get(l),u)&&1<t.length?(t.splice(o,1),this.JF.AB(l)):s.push(l)}this.logger.debug("DASH filtered-in quality levels: "+s.reverse().join(", ")+" - removed size: "+r)},o.prototype.RZ=function(){return null},o);function o(t,e,r){var n=this;this.mZ=function(t,e){return n.TZ&&!n.TZ.includes(t)},this.IZ=function(t,e){return e>n.OZ},this.logger=i.Framework.resolve(i.Framework.v.p).log(),this.configStore=i.Framework.resolve(i.Framework.v.PC),this.JF=r,this.TZ=t,this._Z=e,this.OZ=0}e.Jx=s},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.eR=void 0;var s,o=r(81),a=r(5),l=r(7),u=(i(c,s=o.qF),c.prototype.dU=function(t){var e=this.nS(t.oS());if(e!==l.af.cf&&e!==l.af.ff)return a.resolve(!1);var r=this.eF(t.oS());return!r||r.next||(r.next=this.lF(r.id+1,r.qualityLevel)),a.resolve(!1)},c);function c(){return null!==s&&s.apply(this,arguments)||this}e.eR=u},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.uA=void 0;var s,o=r(5),a=r(1),l=r(87),u=r(3),c=r(158),h=r(62),p=r(4),f=r(30),d=r(2),g=r(86),v=r(21),m=r(7),y=r(159),b=r(64),E=(i(w,s=g.QF),w.prototype.getStreamProtocol=function(){return StreamProtocol.HLS},w.prototype.rc=function(t,e){var r=this.WF&&this.WF.contextMatcher&&this.WF.contextMatcher.hls;return f.sc.rc(t,e,r)},w.prototype.parse=function(t,e){try{var r=new l.ZG;if(r.push(e),r.manifest.playlists)this.$x=new y.SZ(t,this.JF,e),this.AZ(t,r.manifest),this.$x.filter(r.manifest.playlists),e=this.$x.RZ();else if(r.manifest.segments){this.KF.zF();var n=this.NZ(t,r.manifest);if(n&&n.$G&&(this.live=!n.$G.endList),this.live&&this.gx.px){var i=this.CZ(r.manifest,e),s=i.kZ,o=i.jZ,u=i.MZ;return this.KF.qx(o),this.logger.debug("HLS manifest trimmed "+o+" segments ("+u+"s) - new segments:["+n.DZ.map((function(t){return t.id+":"+t.duration.secs()+"s"}))+"]"),this.KF.yx(),s}this.KF.yx()}else a.ErrorMonitor.getInstance().logError("Error parsing metadata",this.loggerId,d.Ut.Er,{detailedError:"Manifest has no bitrates or playlist has no segments",url:t});return e}catch(r){return a.ErrorMonitor.getInstance().logError("Error parsing metadata",this.loggerId,d.Ut.Er,{detailedError:r,url:t}),e}},w.prototype.nS=function(t){try{return s.prototype.nS.call(this,t)}catch(e){return a.ErrorMonitor.getInstance().logError("Error getting the entityType",this.loggerId,d.Ft.sr,{detailedError:e,url:t}),m.af.vf}},w.prototype.PZ=function(t){return t=p.ze(t),this.LZ.has(t)},w.prototype.HZ=function(t){return t=p.ze(t),this.LZ.get(t)},w.prototype.UZ=function(){return this.LZ},w.prototype.FZ=function(){return this.ZF},w.prototype.AZ=function(t,e){var r=this;this.manifestUrl=t,this.manifest=e,this.xZ=!0,this.manifest.playlists.forEach((function(t){var e=t.uri,n=t.attributes,i=p.Ke(r.manifestUrl,e),s=n.BANDWIDTH?n.BANDWIDTH:0,o=n.RESOLUTION;"VIDEO"!==n.TYPE||Number.isInteger(s)||(a.ErrorMonitor.getInstance().logError("Segment Bitrate is a Float",{bitrate:s}),s=Math.round(s));var l=o?o.width:null,u=o?o.height:null,c=n.$j||null,h="AUDIO"===n.TYPE?m.af.ff:m.af.cf;r.GZ(i,s,l,u,c,h)}))},w.prototype.GZ=function(t,e,r,n,i,s){var o=p.ze(t),a=v.Bl.xg(o).toString(v.Bl.gg.bg),l=new c.VZ;l.type=s,l.qualityLevel=this.JF.add(l.type,{id:a,bitrate:e,width:r,height:n,label:i}),l.BZ=t,this.LZ.set(o,l),this.ZF.set(a,l)},w.prototype.NZ=function(t,e){var r=this;try{this.xZ||0!==this.JF.getAll().length||this.GZ(t,1,null,null,null,m.af.cf);var n=this.HZ(t);if(!n)return void a.ErrorMonitor.getInstance().logError("Playlist url does not match any playlist in the master file",this.loggerId,d.Ut.Dr,{url:t});var i=null!=e.mediaSequence?e.mediaSequence:0,s=[],o=i-1,l=n.Tx.get(o),u=[];return e.segments.forEach((function(e){var o=p.Ke(t,e.uri),a=n.qualityLevel,c=new b.TimeDuration(e.duration,b.TimeDuration.TIMESCALE_SECONDS),f=new h.xH(i,a,c,e.uri,o,n.type);r.KF.Ox(f.id),r.eF(o)||u.push(f),r.mx.set(p.ze(o),f),n.Tx.set(i,f),s.push(f),l&&(l.next=f),l=f,i++})),n.update(e.mediaSequence,e.discontinuitySequence,e.endList,e.targetDuration,s),{$G:n,DZ:u}}catch(e){return a.ErrorMonitor.getInstance().logError("Error updating the playlist",this.loggerId,d.Ut.Lr,e),null}},w.prototype.Gx=function(){var t=this.WF;return t&&t.maximumTrimming&&t.maximumTrimming.hls?t.maximumTrimming.hls:f.sc.wA},w.prototype.CZ=function(t,e){try{for(var r=e.split("\n"),n=Math.max(1,f.sc.pA),i=this.Gx(),s=null,o=0,l=0,u=t.segments.length-1;n-1<u&&(s=t.segments[u],!(i<=o));u--)l++,o+=s.duration;var c="";if(s)for(u=0;u<r.length&&(c=c+r[u]+"\n",r[u].trim()!==s.uri);u++);else c=r.join("\n")+"\n",this.logger.debug("HLS trimming disabled (minFragments = "+n+", segments.length = "+t.segments.length+")");return{kZ:c,jZ:l,MZ:o}}catch(t){throw a.ErrorMonitor.getInstance().logError("Error trimming the playlist",this.loggerId,d.Ut.Hr,t),new Error(t)}},w.prototype.dU=function(t){return o.resolve(!1)},w.prototype.kx=function(t){return!1},w.prototype.jx=function(t){return!1},w);function w(t,e,r){var n=s.call(this,t,e,r)||this;return n.loggerId="[HLS METADATA] ",n.LZ=new u,n.xZ=!1,n}e.uA=E},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.VZ=void 0;var n=r(25),i=(s.prototype.update=function(t,e,r,n,i){this.mediaSequence=t,this.discontinuitySequence=e,this.endList=r,this.targetDuration=n,this.segments=i,this.updated=!0},s);function s(){this.Tx=new n}e.VZ=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.SZ=void 0;var n=r(21),i=r(0),s=r(4),o=(a.prototype.filter=function(t){var e=this.configStore.getConfig("stream.maxBandwidth"),r=this.configStore.getConfig("stream.removeResolution");if(t.sort((function(t,e){return t.attributes.BANDWIDTH-e.attributes.BANDWIDTH})),r&&this._Z(),e)for(var i=t.length-1;0<=i;i--){var o=t[i],a=o.uri,l=o.attributes,u=l.BANDWIDTH?l.BANDWIDTH:0;if(e<u&&1<t.length){t.splice(i,1);var c=s.Ke(this.manifestUrl,a),h=s.ze(c),p=n.Bl.xg(h).toString(n.Bl.gg.bg);this.JF.AB(p),this.qZ(u),this.logger.debug("Removed playlist with bitrate "+u)}}},a.prototype.RZ=function(){return this.content},a.prototype.qZ=function(t){for(var e=this.content.split("\n"),r=e.length-2;0<=r;r--)e[r].startsWith("#EXT-X-STREAM-INF")&&-1<e[r].indexOf("BANDWIDTH="+t)&&e.splice(r,2);this.content=e.join("\n")},a.prototype._Z=function(){for(var t=this.content.split("\n"),e=t.length-2;0<=e;e--)t[e].startsWith("#EXT-X-STREAM-INF")&&-1<t[e].indexOf("RESOLUTION=")&&(t[e]=t[e].replace(/RESOLUTION=[\d]+x[\d]+[,]?/,""));this.content=t.join("\n")},a);function a(t,e,r){this.logger=i.Framework.resolve(i.Framework.v.p).log(),this.configStore=i.Framework.resolve(i.Framework.v.PC),this.JF=e,this.manifestUrl=t,this.content=r}e.SZ=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.zA=e.QZ=void 0;var n=r(0),i=r(9),s=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}};e.QZ=s;var o=/^age:\s*[\d.]+\s*$/m,a=(l.prototype.destroy=function(){this.callbacks=null,this.WZ(),this.loader=null,this.config=null},l.prototype.WZ=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},l.prototype.abort=function(){var t;this.WZ(),(null===(t=this.callbacks)||void 0===t?void 0:t.YZ)&&this.callbacks.YZ(this.stats,this.context,this.loader)},l.prototype.load=function(t,e,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=r,this.retryDelay=e.retryDelay,this.xK()},l.prototype.xK=function(){var t,e,r,s=this.config,o=this.context;if(s){var a=this.loader=n.Framework.resolve(n.Framework.v.iC),l=this.stats;l.loading.first=0,l.loaded=0;var u=this.xhrSetup;try{if(u)try{a=this.loader=null!==(t=u(a,o))&&void 0!==t?t:a}catch(t){this.logger.warn("Integration-provided xhrSetup failed: "+t)}a.readyState||a.open("GET",o.url,!0)}catch(t){return void(null===(r=null===(e=this.callbacks)||void 0===e?void 0:e.onError)||void 0===r||r.call(e,{code:a.status,text:t.message},o,a))}o.rangeEnd&&a.setRequestHeader("Range","bytes="+o.rangeStart+"-"+(o.rangeEnd-1)),a.onreadystatechange=this.readystatechange.bind(this),a.onprogress=this.loadprogress.bind(this);var c=this.context.responseType;a.responseType=i.Gf(c)?c:"",a.timeout=s.timeout,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),a.send()}},l.prototype.readystatechange=function(t){var e,r,n=this.context,i=this.stats,s=t.currentTarget,o=s.readyState;if(n&&s){var a=this.config;if(!i.aborted&&2<=o)if(self.clearTimeout(this.requestTimeout),0===i.loading.first&&(i.loading.first=Math.max(self.performance.now(),i.loading.start)),4===o){s.onreadystatechange=null,s.onprogress=null;var l=s.status;if(200<=l&&l<300){i.loading.end=Math.max(self.performance.now(),i.loading.first);var u,c=void 0;if(u="arraybuffer"===n.responseType?(c=s.response).byteLength:(c=s.responseText).length,i.loaded=i.total=u,!this.callbacks)return;var h=this.callbacks.onProgress;if(h&&h(i,n,c,s),!this.callbacks)return;var p={url:s.responseURL,data:c};this.callbacks.onSuccess(p,i,n,s)}else i.retry>=a.BK||400<=l&&l<499?(this.logger.error(l+" while loading "+n.url),null===(r=null===(e=this.callbacks)||void 0===e?void 0:e.onError)||void 0===r||r.call(e,{code:l,text:s.statusText},n,s)):(this.logger.warn(l+" while loading "+n.url+", retrying in "+this.retryDelay+"..."),this.WZ(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.xK.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.VK),i.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout)}},l.prototype.loadtimeout=function(){this.logger.warn("timeout while loading "+this.context.url);var t=this.callbacks;t&&(this.WZ(),t.onTimeout(this.stats,this.context,this.loader))},l.prototype.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)},l.prototype.zZ=function(){var t=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t},l);function l(t){this.config=null,this.callbacks=null,this.loader=null,this.xhrSetup=t?t.xhrSetup:null,this.stats=new s,this.retryDelay=0,this.logger=n.Framework.resolve(n.Framework.v.p).log()}e.zA=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.HivePlayerStats=void 0;var n=(Object.defineProperty(i.prototype,"fullscreen",{get:function(){return this._fullscreen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"totalBuffering",{get:function(){return this._totalBuffering},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bufferLength",{get:function(){return this._bufferLength},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"playingPoint",{get:function(){return this._playingPoint},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"e_",{get:function(){return this._playingTime},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"playerVolume",{get:function(){return this._playerVolume},enumerable:!1,configurable:!0}),i.prototype.replaceNaNs=function(){isNaN(this.playingPoint)&&(this._playingPoint=0),isNaN(this.bufferLength)&&(this._bufferLength=0),isNaN(this.totalBuffering)&&(this._totalBuffering=0),isNaN(this.e_)&&(this._playingTime=0),isNaN(this._playerVolume)&&(this._playerVolume=0)},i);function i(t,e,r,n,i,s,o,a){this._playingPoint=t,this._bufferLength=e,this._totalBuffering=r,this._width=Math.round(n),this._height=Math.round(i),this._fullscreen=s,this._playingTime=o,this._playerVolume=a,this.replaceNaNs()}e.HivePlayerStats=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.StatsChecker=void 0;var n=(i.prototype.check=function(t){var e=Date.now();return this.isEqual(this.previousStats,t)||(this.lastStatsChange=e),this.previousStats=t,e-this.lastStatsChange>=this.maxPeriod},i.prototype.isEqual=function(t,e){return!(!t||!e)&&[e.playingPoint-t.playingPoint,e.bufferLength-t.bufferLength,e.totalBuffering-t.totalBuffering].reduce((function(t,e){return t&&Math.abs(e)<10}),!0)},i);function i(t){this.maxPeriod=t}e.StatsChecker=n},function(t,e,r){"use strict";var n=this&&this.AR||function(t,e,r,n){return new(r=r||Promise)((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.NR(t))}catch(t){s(t)}}function l(t){t.done?i(t.value):function(t){return t instanceof r?t:new r((function(e){e(t)}))}(t.value).then(o,a)}l((n=n.apply(t,e||[])).next())}))},i=this&&this.CR||function(t,e){var r,n,i,s,o={label:0,kR:function(){if(1&i[0])throw i[1];return i[1]},jR:[],MR:[]};return s={next:a(0),NR:a(1),_o:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n._o:s[0]?n.NR||((i=n._o)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.MR.pop(),o.jR.pop();continue;default:if(!(i=0<(i=o.jR).length&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.MR.push(s);break}i[2]&&o.MR.pop(),o.jR.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function s(t){if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return t.toString()}}Object.defineProperty(e,"s",{value:!0}),e.StreamLiveChecker=void 0;var o=r(87),a=r(82),l=r(9),u=r(4),c=r(1),h=r(2),p=(f.isLive=function(t,e){switch(t=t.toLowerCase()){case"azurehtml5js":return this.isLiveDASH(e);case"html5":case"html5fairplayhls":return this.isLiveHLS(e)}return c.ErrorMonitor.getInstance().logError("Could not find valid playerTech for StreamLiveChecker",this.loggerId,h.GENERIC_ERROR,{playerTech:t}),Promise.resolve(!0)},f.isLiveHLS=function(t){return n(this,void 0,void 0,(function(){var e,r,n,a,p,f,d;return i(this,(function(i){switch(i.label){case 0:return i.jR.push([0,5,,6]),e=function(t){var e=new o.ZG;return e.push(t),e.manifest},[4,l.zf(t)];case 1:return r=i.kR(),(n=e(r)).endList?[2,!1]:[3,2];case 2:return n.playlists&&n.playlists.length?(a=n.playlists[0].uri,p=u.Ke(t,a),[4,l.zf(p)]):[3,4];case 3:if(f=i.kR(),e(f).endList)return[2,!1];i.label=4;case 4:return[3,6];case 5:return d=i.kR(),c.ErrorMonitor.getInstance().logError("Error determing live status in HLS for StreamLiveChecker",this.loggerId,h.GENERIC_ERROR,{error:s(d)}),[3,6];case 6:return[2,!0]}}))}))},f.isLiveDASH=function(t){return n(this,void 0,void 0,(function(){var e,r,n;return i(this,(function(i){switch(i.label){case 0:return i.jR.push([0,2,,3]),e=a.default().create(),[4,l.zf(t)];case 1:return r=i.kR(),[2,"static"!==e.parse(r).type];case 2:return n=i.kR(),c.ErrorMonitor.getInstance().logError("Error determing live status in DASH for StreamLiveChecker",this.loggerId,h.GENERIC_ERROR,{error:s(n)}),[3,3];case 3:return[2,!0]}}))}))},f.loggerId="[StreamLiveChecker] ",f);function f(){}e.StreamLiveChecker=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.VisibilityChangeListener=void 0;var n=(i.getInstance=function(t){return t&&(this.logger=t),void 0===this.instance&&(this.instance=new i),this.instance},i.prototype.callListeners=function(){var t=this,e=!document[this.hidden];this.listeners.forEach((function(r){r.call(t,e)}))},i.prototype.setVisibilityChangeListener=function(t){this.listeners.push(t)},i.prototype.cleanListeners=function(){document.removeEventListener(this.visibilityChange,this.callListeners,!1),this.listeners.length=0},i);function i(){if(i.instance)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==document[this.hidden]?document.addEventListener(this.visibilityChange,this.callListeners.bind(this),!1):i.logger&&i.logger.debug("warn - visibilityChange listener not supported"),this.listeners=[]}e.VisibilityChangeListener=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.fN=void 0;var n=r(46),i=r(45),s=r(9),o=r(1),a=(l.prototype.KZ=function(){var t=this;this.plugin.options().silent&&(HiveConfig&&(HiveConfig.ConnInfo.detectPrivateIP=!0),void 0===this.$Z&&(this.url="//"+n.mR.Oj+":"+this.XZ+"/feedback",this.plugin.logger().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.$Z=setInterval((function(){t.JZ()}),i.Wc.Tj)))},l.prototype.JZ=function(){var t=this,e=this.plugin.getActiveSession(),r=void 0;e&&(r="S["+e.id+"]");var n=this.plugin.getCurrentTime();n>this.ZZ?(this.plugin.logger().info("sending hive tester ping ["+n+" > "+this.ZZ+"]"),s.zf(this.url).then((function(t){}),(function(e){o.ErrorMonitor.getInstance().logError("error sending hive tester ping",r,{error:e}),clearInterval(t.$Z)}))):this.plugin.logger().warn("not sending hive tester ping ["+n+" <= "+this.ZZ+"]"),this.ZZ=n},l);function l(t){this.XZ=i.Wc.yR?9989:9988,this.ZZ=-1,this.plugin=t,this.KZ()}e.fN=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.vI=void 0,e.vI=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Al=void 0,e.Al=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.GI=void 0,e.GI=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.EI=void 0,e.EI=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.uN=void 0;var n=r(29),i=r(32),s=r(41),o=r(171),a=(l.prototype.apply=function(t){t.bind(new n.WS(s.v.l,o.t0,n.YS.ZS)),t.bind(new n.WS(s.v.p,i.yA))},l);function l(){}e.uN=a},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"s",{value:!0}),e.t0=void 0;var n=r(78),i=r(3),s=r(80),o=(a.prototype.init=function(){this.i0=void 0},a.prototype.T=function(){return!1},a.prototype.n0=function(t,e,r){},a.prototype.D=function(){return null},a.prototype.time=function(){return+new Date},a.prototype.setTimeout=function(t,e,r){var n=this;void 0===r&&(r=!1);var i=this.r0.setTimeout((function(){n.s0.delete(i),t(),0===n.s0.length&&n.i0&&(n.i0.resolve(),n.i0=void 0)}),e);return this.s0.set(i,r),i},a.prototype.clearTimeout=function(t){return this.s0.delete(t),this.r0.clearTimeout(t),!0},a.prototype.setInterval=function(t,e){var r=this.r0.setInterval((function(){t()}),e);return this.e0.hiveAdd(r),r},a.prototype.clearInterval=function(t){return this.e0.delete(t),this.r0.clearInterval(t),!0},a.prototype.F=function(t){var e=this;void 0===t&&(t=!1),this.s0.forEach((function(r,n){!t&&r||e.clearTimeout(n)}));var r=new s.U;return this.e0.forEach((function(t){return e.clearInterval(t)})),0===this.s0.length?r.resolve():this.i0=r,r.promise},a);function a(){this.s0=new i,this.e0=new n,this.r0=void 0!==t?t:window}e.t0=o}).call(this,r(58))},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.aN=void 0;var n=r(29),i=r(32),s=r(41),o=r(23),a=r(22),l=r(92),u=r(93),c=r(94),h=r(95),p=r(96),f=r(97),d=r(98),g=r(99),v=r(100),m=r(101),y=r(178),b=r(102),E=r(103),w=r(104),A=r(105),S=(T.prototype.apply=function(t){t.bind(new n.WS(s.v.bC,o.Reporting,n.YS.ZS)),t.bind(new n.WS(s.v.c_,u.ZV,n.YS.ZS)),t.bind(new n.WS(s.v.U_,c.sB,n.YS.ZS)),t.bind(new n.WS(s.v.H_,h.fB,n.YS.ZS)),t.bind(new n.WS(s.v.p,i.yA,n.YS.ZS)),t.bind(new n.WS(s.v.PC,w.jq,n.YS.ZS)),t.bind(new n.WS(s.v.aC,A.Dq,n.YS.hA)),t.bind(new n.WS(s.v.XI,b.GB,n.YS.ZS)),t.bind(new n.WS(s.v.wC,p.yB,n.YS.ZS)),"undefined"!=typeof HiveOriginalXMLHttpRequest?t.bind(new n.WS(s.v.iC,HiveOriginalXMLHttpRequest)):t.bind(new n.WS(s.v.iC,XMLHttpRequest)),t.bind(new n.WS(s.v.Q_,l.CF,n.YS.hA)),t.bind(new n.WS(s.v.W_,l.wp,n.YS.hA)),t.bind(new n.WS(s.v.Y_,a.YO,n.YS.hA)),t.bind(new n.WS(s.v.AC,a.wp,n.YS.hA)),t.bind(new n.WS(s.v.MC,f.OB,n.YS.hA)),t.bind(new n.WS(s.v.DC,d.NB,n.YS.hA)),t.bind(new n.WS(s.v.K_,g.CB,n.YS.hA)),t.bind(new n.WS(s.v._C,m.HB,n.YS.hA)),t.bind(new n.WS(s.v.JN,v.PB,n.YS.hA)),t.bind(new n.WS(s.v.ZN,y.h0,n.YS.hA)),t.bind(new n.WS(s.v.F_,E.Tq,n.YS.ZS))},T);function T(){}e.aN=S},function(t,e,r){var n=r(20),i=(window.StreamType={1:"LIVE",LIVE:1,2:"VOD",VOD:2},window.StreamProtocol={1:"DASH",DASH:1,2:"HDS",HDS:2,3:"HLS",HLS:3,4:"SS",SS:4},window.ClientType={1:"JAVA",o0:1,2:"STATS_ONLY",TV:2,3:"JS_DIRECT",yV:3,4:"JS_PROXY",u0:4},window.ContentType={1:"AUDIO",ff:1,2:"VIDEO",cf:2},window.EventId=function(t){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,t&&(void 0!==t.partnerId&&null!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&null!==t.customerId&&(this.customerId=t.customerId),void 0!==t.contentId&&null!==t.contentId&&(this.contentId=t.contentId),void 0!==t.tags&&null!==t.tags&&(this.tags=n.bp(t.tags,[null])))});i.prototype={},i.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.partnerId=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRING?this.customerId=t.DE().value:t.PE(r);break;case 3:r==n.Type.STRING?this.contentId=t.DE().value:t.PE(r);break;case 4:if(r==n.Type.LIST){var s,o;this.tags=[],(o=t.Zw()).tp,s=o.size;for(var a=0;a<s;++a){var l;l=t.DE().value,this.tags.push(l)}t.np()}else t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.prototype.write=function(t){if(t.FE("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(t.xE("partnerId",n.Type.STRING,1),t.GE(this.partnerId),t.VE()),null!==this.customerId&&void 0!==this.customerId&&(t.xE("customerId",n.Type.STRING,2),t.GE(this.customerId),t.VE()),null!==this.contentId&&void 0!==this.contentId&&(t.xE("contentId",n.Type.STRING,3),t.GE(this.contentId),t.VE()),null!==this.tags&&void 0!==this.tags){for(var e in t.xE("tags",n.Type.LIST,4),t.Mw(n.Type.STRING,this.tags.length),this.tags)this.tags.hasOwnProperty(e)&&(e=this.tags[e],t.GE(e));t.Dw(),t.VE()}t.qE(),t.QE()};var s=window.SnapshotInfo=function(t){this.timestamp=null,this.apiServer=null,this.clientIp=null,t&&(void 0!==t.timestamp&&null!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.apiServer&&null!==t.apiServer&&(this.apiServer=t.apiServer),void 0!==t.clientIp&&null!==t.clientIp&&(this.clientIp=t.clientIp))};s.prototype={},s.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.I64?this.timestamp=t.up().value:t.PE(r);break;case 2:r==n.Type.STRING?this.apiServer=t.DE().value:t.PE(r);break;case 3:r==n.Type.STRING?this.clientIp=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},s.prototype.write=function(t){t.FE("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(t.xE("timestamp",n.Type.I64,1),t.xw(this.timestamp),t.VE()),null!==this.apiServer&&void 0!==this.apiServer&&(t.xE("apiServer",n.Type.STRING,2),t.GE(this.apiServer),t.VE()),null!==this.clientIp&&void 0!==this.clientIp&&(t.xE("clientIp",n.Type.STRING,3),t.GE(this.clientIp),t.VE()),t.qE(),t.QE()};var o=window.TestInfo=function(t){this.testId=null,t&&void 0!==t.testId&&null!==t.testId&&(this.testId=t.testId)};o.prototype={},o.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;1===i&&r==n.Type.STRING?this.testId=t.DE().value:t.PE(r),t.HE()}t.UE()},o.prototype.write=function(t){t.FE("TestInfo"),null!==this.testId&&void 0!==this.testId&&(t.xE("testId",n.Type.STRING,1),t.GE(this.testId),t.VE()),t.qE(),t.QE()};var a=window.InetAddress=function(t){this.address=null,this.port=null,t&&(void 0!==t.address&&null!==t.address&&(this.address=t.address),void 0!==t.port&&null!==t.port&&(this.port=t.port))};a.prototype={},a.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.address=t.fp().value:t.PE(r);break;case 2:r==n.Type.I32?this.port=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},a.prototype.write=function(t){t.FE("InetAddress"),null!==this.address&&void 0!==this.address&&(t.xE("address",n.Type.STRING,1),t.Vw(this.address),t.VE()),null!==this.port&&void 0!==this.port&&(t.xE("port",n.Type.I32,2),t.BE(this.port),t.VE()),t.qE(),t.QE()}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.iB=void 0;var n=r(5),i=r(16),s=r(15),o=(a.prototype.a0=function(){return Date.now()>=this.f0},a);function a(t,e){this.msg=t,this.f0=Date.now()+e,this.c0=n.defer()}var l=(u.prototype.po=function(t){var e=t.service+"_"+t.msgId,r=this.YY[e];null!=r?r(t):i.logger().error(i.loggerId+"Could not find a dispatcher for ",t,e,this.YY)},u.prototype.on=function(t,e,r){this.YY[t+"_"+e]=r},u.prototype.onerror=function(t){this.l0.push(t)},u.prototype.onconnect=function(t){this.v0.push(t)},u.prototype.d0=function(){var t=this;if(window.WebSocket){var e=new WebSocket(this.endpoint);return e.binaryType="arraybuffer",e.onopen=function(e){t.E0(),i.logger().debug(i.loggerId+"HiveServicesConnection established to "+t.endpoint),t.w0=(new t.p0).getTime(),t.g0(),t.v0.forEach((function(e){return e(t)})),t.b0(),t.y0()},e.onclose=function(e){t.close(t.T0),t.connect()},e.onmessage=function(e){var r=i.pl.gl(e.data);t.po(r)},e.onerror=function(e){t.close(!0),t.l0.forEach((function(t){return t(e.toString())}))},e}this.l0.forEach((function(t){return t("WebSocket not defined")}))},u.prototype.isOpen=function(){return null!=this.Av&&this.Av.readyState==this.Av.OPEN},u.prototype.connect=function(t){var e=this;t&&(this.T0=!0),this.T0&&1!=this.isOpen()&&(0<this.m0||(-1<this.w0&&(new this.p0).getTime()-this.w0>this.O0?(this.I0=s.Wc.wl,this.w0=-1):this.I0=Math.min(2*this.I0,this.O0),this.m0=window.setTimeout((function(){e.m0=-1,i.logger().debug(i.loggerId+"Connection attempt to "+e.endpoint+" [t:"+e.I0+" hb:"+e._0+"]"),e.Av=e.d0(),e.I0=Math.max(e.I0,s.Wc.wl)}),this.I0)))},u.prototype.E0=function(){-1<this.m0&&(clearTimeout(this.m0),this.m0=-1)},u.prototype.close=function(t){this.T0=null!=t&&t,i.logger().debug(i.loggerId+"Closing connection [reconnect:"+this.T0+"]"),this.E0(),null!=this.Av&&(this.Av.close(),this.Av=null)},u.prototype.g0=function(){for(;0<this.R0.length;){var t=this.R0.pop();try{t.a0()?t.c0.reject(new Error("Message expired")):(this.b0(),this.Av.send(t.msg.Th()))}catch(e){if(e.code===DOMException.INVALID_STATE_ERR){this.R0.push(t);break}i.logger().error(i.loggerId+"Failed to send the message, dropped: ",e.code,e.name),t.c0.reject(e)}}this.y0()},u.prototype.b0=function(){this.S0&&(clearTimeout(this.S0),this.S0=null)},u.prototype.y0=function(){var t=this;this._0&&!this.S0&&(this.S0=window.setInterval((function(){t.send(new i.pl(HiveStreamingServices.A0,0,""))}),this.N0))},u.prototype.send=function(t,e){if(void 0===e&&(e=this.C0),this.R0.length>=this.k0)throw new Error("HiveServices connection cannot queue more messages");var r=new o(t,e);return this.R0.push(r),this.Av?this.g0():i.logger().warn(i.loggerId+" The websocket is closed, messages are being queued"),r.c0.promise},u.prototype.j0=function(t){this._0=t,this._0&&this.y0()},u.prototype.isConnected=function(){return null!=this.Av},u);function u(t,e,r,n,i,s,o){void 0===e&&(e=3e4),void 0===r&&(r=100),void 0===n&&(n=3e4),void 0===i&&(i=15e3),void 0===s&&(s=Date),void 0===o&&(o=!1),this.I0=1,this.m0=-1,this.w0=-1,this.YY={},this.l0=[],this.v0=[],this._0=!1,this.T0=!0,this.endpoint=t,this.R0=Array(),this.O0=e,this.k0=r,this.C0=n,this.N0=i,this.p0=s,this._0=o||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}e.iB=l},function(t,e){window.HiveStreamingServices={1:"REMOTE_EXECUTOR",M0:1,2:"PEER_FORWARDER",D0:2,3:"PEER_INDEX",P0:3,4:"PEER_BROADCAST",L0:4,5:"PEER_FILTER",H0:5,6:"PEER_LOGGING",U0:6,7:"HIVEJS_TRACKER",F0:7,8:"PEER_SYSTEM",x0:8,9:"HIVEJS_SNAPSHOTS",u_:9,10:"HIVEJS_TICKETS",nB:10,11:"HIVEJS_KEEPALIVE",A0:11,12:"HIVEJS_FORWARDING",G0:12,13:"INTERNAL_TICKET",V0:13,14:"LOCALITY_SERVICE",B0:14,15:"REMOTE_CONFIG_SERVICE",Sq:15}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.oB=void 0,e.oB=function(t){this.v_=(new Date).getTime(),this.aB=t}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.wB=void 0;var n=(i.prototype.k_=function(){return this.p2pId},i.prototype.j_=function(){return this.reportingId?this.reportingId:this.p2pId},i);function i(t,e){this.p2pId=t,this.reportingId=e}e.wB=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.h0=void 0;var n=hive.snapshots.FragmentDownload,i=r(7),s=(o.prototype.UG=function(){var t=this.metrics;return this.metrics=[],t},o.prototype.add=function(t,e,r){t.nS()===i.af.cf&&this.metrics.push(new n({fragmentUrl:t.oS(),startTimestamp:t.JR,endTimestamp:t.tS,origin:r,type:e,qualityLevelId:t.gS().getQualityLevel().id}))},o);function o(){this.metrics=[]}e.h0=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.BB=void 0;var n=(i.prototype.Eq=function(t){this.publicIp=t},i.prototype.getPublicIp=function(){return this.publicIp},i.prototype.q0=function(t){this.macAddress=t},i.prototype.getMacAddress=function(){return this.macAddress},i.prototype.Q0=function(t){this.nic=t},i.prototype.getNic=function(){return this.nic},i.prototype.W0=function(t){this.nicName=t},i.prototype.getNicName=function(){return this.nicName},i.prototype.dq=function(t){this.privateIp=t},i.prototype.getPrivateIp=function(){return this.privateIp},i.prototype.Y0=function(t){this.netmask=t},i.prototype.getNetmask=function(){return this.netmask},i.prototype.z0=function(t){this.cidr=t},i.prototype.getCidr=function(){return null},i);function i(){}e.BB=n},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.yq=void 0;var n=r(181),i=r(5),s=r(0),o=r(15),a=(l.prototype.lB=function(){var t=i.defer(),e=this.indexedDB.open("PrivateIPDB");return e.onupgradeneeded=function(){e.result.createObjectStore("PrivateIPStore",{keyPath:"id"})},e.onsuccess=function(){var r=e.result;t.resolve(r)},e.onerror=function(e){t.reject(e)},t.promise},l.prototype.hq=function(){var t=this;if(this.K0)return this.K0;var e=setTimeout((function(){t.logger.warn("Private list retrieval timeout"),r.reject({message:"Private list timeout"})}),4e3),r=i.defer();return o.Wc.Lf&&this.indexedDB?this.lB().then((function(i){var s=i.transaction("PrivateIPStore","readwrite").objectStore("PrivateIPStore").get("iplist");s.onsuccess=function(){clearTimeout(e);var t=[];n.$0(s.result)||n.$0(s.result.value)||(t=s.result.value.split("|")),r.resolve(t),i.close()},s.onerror=function(n){clearTimeout(e),t.logger.warn("I got an error on indexed db "+n.message),r.reject({message:"Error on indexedDB "+n.message})}})).fail((function(n){clearTimeout(e),t.logger.warn("DB is not open with error"+n.message),r.reject({message:"DB is not open with error "+n.message})})):(clearTimeout(e),r.reject({message:"DB is not ready or enabled"})),this.K0=r.promise,this.K0},l.prototype.gq=function(t){var e=this;if(o.Wc.Lf&&this.indexedDB){var r=t.join("|");this.lB().then((function(n){var i=n.transaction("PrivateIPStore","readwrite");i.objectStore("PrivateIPStore").put({id:"iplist",value:r}),i.oncomplete=function(){e.logger.debug("Storing site matched ips ["+t.join(",")+"]"),n.close()}})).fail((function(t){e.logger.warn("DB is not open with error "+t.message)}))}},l);function l(){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.logger=s.Framework.resolve(s.Framework.v.p).log()}e.yq=a},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,s=n.length,o=String(t).replace(i,(function(t){if("%%"===t)return"%";if(s<=r)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),l=n[r];r<s;l=n[++r])g(l)||!E(l)?o+=" "+l:o+=" "+a(l);return o},e.X0=function(r,n){if(void 0!==t&&!0===t.J0)return r;if(void 0===t)return function(){return e.X0(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.Z0)throw new Error(n);t.t1?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var s,o={};function a(t,r){var n={i1:[],n1:u};return 3<=arguments.length&&(n.s1=arguments[2]),4<=arguments.length&&(n.e1=arguments[3]),d(r)?n.h1=r:r&&e.o1(n,r),y(n.h1)&&(n.h1=!1),y(n.s1)&&(n.s1=2),y(n.e1)&&(n.e1=!1),y(n.u1)&&(n.u1=!0),n.e1&&(n.n1=l),c(n,t,n.s1)}function l(t,e){var r=a.a1[e];return r?"["+a.e1[r][0]+"m"+t+"["+a.e1[r][1]+"m":t}function u(t,e){return t}function c(t,r,n){if(t.u1&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return m(i)||(i=c(t,i,n)),i}var s=function(t,e){if(y(e))return t.n1("undefined","undefined");if(m(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.n1(r,"string")}return v(e)?t.n1(""+e,"number"):d(e)?t.n1(""+e,"boolean"):g(e)?t.n1("null","null"):void 0}(t,r);if(s)return s;var o=Object.keys(r),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.h1&&(o=Object.getOwnPropertyNames(r)),A(r)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return h(r);if(0===o.length){if(S(r)){var l=r.name?": "+r.name:"";return t.n1("[Function"+l+"]","special")}if(b(r))return t.n1(RegExp.prototype.toString.call(r),"regexp");if(w(r))return t.n1(Date.prototype.toString.call(r),"date");if(A(r))return h(r)}var u,E="",T=!1,I=["{","}"];return f(r)&&(T=!0,I=["[","]"]),S(r)&&(E=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(E=" "+RegExp.prototype.toString.call(r)),w(r)&&(E=" "+Date.prototype.toUTCString.call(r)),A(r)&&(E=" "+h(r)),0!==o.length||T&&0!=r.length?n<0?b(r)?t.n1(RegExp.prototype.toString.call(r),"regexp"):t.n1("[Object]","special"):(t.i1.push(r),u=T?function(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)k(e,String(o))?s.push(p(t,e,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(p(t,e,r,n,i,!0))})),s}(t,r,n,a,o):o.map((function(e){return p(t,r,n,a,e,T)})),t.i1.pop(),function(t,e,r){return 60<t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(u,E,I)):I[0]+E+I[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,i,s){var o,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.n1("[Getter/Setter]","special"):t.n1("[Getter]","special"):l.set&&(a=t.n1("[Setter]","special")),k(n,i)||(o="["+i+"]"),a||(t.i1.indexOf(l.value)<0?-1<(a=g(r)?c(t,l.value,null):c(t,l.value,r-1)).indexOf("\n")&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.n1("[Circular]","special")),y(o)){if(s&&i.match(/^\d+$/))return a;o=(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),t.n1(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.n1(o,"string"))}return o+": "+a}function f(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return"number"==typeof t}function m(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return E(t)&&"[object RegExp]"===T(t)}function E(t){return"object"==typeof t&&null!==t}function w(t){return E(t)&&"[object Date]"===T(t)}function A(t){return E(t)&&("[object Error]"===T(t)||t instanceof Error)}function S(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}e.f1=function(r){if(y(s)&&(s=t.to.c1||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(s)){var n=t.l1;o[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else o[r]=function(){};return o[r]},(e.inspect=a).e1={bold:[1,22],v1:[3,23],d1:[4,24],inverse:[7,27],E1:[37,39],w1:[90,39],g1:[30,39],blue:[34,39],b1:[36,39],green:[32,39],T1:[35,39],red:[31,39],m1:[33,39]},a.a1={O1:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",rT:"magenta",I1:"red"},e.isArray=f,e.$p=d,e.Jp=g,e.$0=function(t){return null==t},e.Zp=v,e.tg=m,e._1=function(t){return"symbol"==typeof t},e.ig=y,e.R1=b,e.Qc=E,e.S1=w,e.A1=A,e.Xp=S,e.N1=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(182);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.pE=r(183),e.o1=function(t,e){if(!e||!E(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var R="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.C1=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(R&&t[R]){var e;if("function"!=typeof(e=t[R]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,i)}catch(n){r(n)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),R&&Object.defineProperty(e,R,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.C1.j1=R,e.M1=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");function s(){return i.apply(o,arguments)}var o=this;e.apply(this,r).then((function(e){t.zh(s,null,e)}),(function(e){t.zh(C,e,s)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this,r(36))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.nH&&"function"==typeof t.fill&&"function"==typeof t.VP}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.D1=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){function r(){}t.D1=e,r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){var n=r(20);"undefined"==typeof hive&&(hive={}),void 0===hive.services&&(hive.services={}),void 0===hive.services.protocol&&(hive.services.protocol={}),void 0===hive.services.protocol.Iq&&(hive.services.protocol.Iq={}),hive.services.protocol.Iq.RemoteConfigRequest=function(t){this.partnerId=null,this.customerId=null,this.privateIps=null,this.siteId=null,t&&(void 0!==t.partnerId&&null!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&null!==t.customerId&&(this.customerId=t.customerId),void 0!==t.privateIps&&null!==t.privateIps&&(this.privateIps=n.bp(t.privateIps,[null])),void 0!==t.siteId&&null!==t.siteId&&(this.siteId=t.siteId))},hive.services.protocol.Iq.RemoteConfigRequest.prototype={},hive.services.protocol.Iq.RemoteConfigRequest.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.partnerId=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRING?this.customerId=t.DE().value:t.PE(r);break;case 3:if(r==n.Type.LIST){var s,o;this.privateIps=[],(o=t.Zw()).tp,s=o.size;for(var a=0;a<s;++a){var l;l=t.DE().value,this.privateIps.push(l)}t.np()}else t.PE(r);break;case 4:r==n.Type.I32?this.siteId=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},hive.services.protocol.Iq.RemoteConfigRequest.prototype.write=function(t){if(t.FE("RemoteConfigRequest"),null!==this.partnerId&&void 0!==this.partnerId&&(t.xE("partnerId",n.Type.STRING,1),t.GE(this.partnerId),t.VE()),null!==this.customerId&&void 0!==this.customerId&&(t.xE("customerId",n.Type.STRING,2),t.GE(this.customerId),t.VE()),null!==this.privateIps&&void 0!==this.privateIps){for(var e in t.xE("privateIps",n.Type.LIST,3),t.Mw(n.Type.STRING,this.privateIps.length),this.privateIps)this.privateIps.hasOwnProperty(e)&&(e=this.privateIps[e],t.GE(e));t.Dw(),t.VE()}null!==this.siteId&&void 0!==this.siteId&&(t.xE("siteId",n.Type.I32,4),t.BE(this.siteId),t.VE()),t.qE(),t.QE()},hive.services.protocol.Iq.RemoteConfigResponse=function(t){this.configs=null,this.siteId=null,t&&(void 0!==t.configs&&null!==t.configs&&(this.configs=t.configs),void 0!==t.siteId&&null!==t.siteId&&(this.siteId=t.siteId))},hive.services.protocol.Iq.RemoteConfigResponse.prototype={},hive.services.protocol.Iq.RemoteConfigResponse.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=(e.fname,e.ftype),i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.configs=t.DE().value:t.PE(r);break;case 2:r==n.Type.I32?this.siteId=t.LE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},hive.services.protocol.Iq.RemoteConfigResponse.prototype.write=function(t){t.FE("RemoteConfigResponse"),null!==this.configs&&void 0!==this.configs&&(t.xE("configs",n.Type.STRING,1),t.GE(this.configs),t.VE()),null!==this.siteId&&void 0!==this.siteId&&(t.xE("siteId",n.Type.I32,2),t.BE(this.siteId),t.VE()),t.qE(),t.QE()}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Mq=void 0,e.Mq=new function(){this["p2p.peeringPolicy"]="excludeVpnSites",this["p2p.siteToSiteEnabled"]=!1,this["stream.maxBandwidth"]=0,this["stream.removeResolution"]=!1,this["pii.obfuscationEnabled"]=!1,this["security.fragmentAuthenticationEnabled"]=!1}},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.StatsJSUrlConfigurableOptions=e.StatsJSOptions=void 0;var s,o=r(26),a=r(35),l=(i(u,s=o.HiveTechOptions),u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.enableXhrInterception=a.K.Ff,t}e.StatsJSOptions=l,e.StatsJSUrlConfigurableOptions=function(){this.hiveEnableXhrInterception="enableXhrInterception"}},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.hU=void 0;var s,o=r(107),a=r(1),l=r(34),u=r(108),c=r(66),h=(i(p,s=o.vU),p);function p(t,e){var r=s.call(this,t,null)||this;r.pluginId=e,r.pluginId||(r.pluginId=l.UA.getInstance().xA());var n=t.send;return t.send=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];u.mQ.getInstance().eN(r.pluginId,r.url,(function(t){t.tech instanceof c.StatsJS&&t.tech.yU()}))||a.ErrorMonitor.getInstance().logError("Failed to initialize session on player request"),n.apply(t,e)},r}e.hU=h},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.TU=void 0;var s,o=r(0),a=r(189),l=r(190),u=r(110),c=(i(h,s=u.IQ),h.prototype.init=function(t,e){this.reportingInstance=t,this.logger=o.Framework.resolve(o.Framework.v.p).log(e)},h.prototype.RQ=function(t){return new l.P1(this.reportingInstance,this.WF)},h.prototype.SQ=function(t){return new a.L1(this.reportingInstance,this.WF)},h);function h(){return null!==s&&s.apply(this,arguments)||this}e.TU=c},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.L1=void 0;var s,o=r(109),a=r(24),l=(i(u,s=o.AU),u.prototype.fU=function(t){s.prototype.fU.call(this,t),void 0===this.aF&&(this.aF=this.metadata.isLive())},u);function u(t,e){var r=s.call(this,t)||this;return r.metadata=a.Dash.sR(r.manifestUrl,{px:!1},null,e),r.hF.LB(r.metadata),r}e.L1=l},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.P1=void 0;var s,o=r(109),a=r(30),l=(i(u,s=o.AU),u.prototype.fU=function(t){s.prototype.fU.call(this,t),this.metadata.PZ(t.oS())&&void 0===this.aF&&(this.aF=this.metadata.isLive())},u);function u(t,e){var r=s.call(this,t)||this;return r.metadata=a.sc.sR({px:!1},null,e),r}e.P1=l},function(t,e,r){"use strict";var n=this&&this.cM||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"s",{value:!0}),e.BA=void 0;var i=r(8),s=(o.prototype.H1=function(t,e){this.U1(""+t),this.errStr=e},o.prototype.F1=function(t){if(t){var e=Number(t);return 1075<=e&&e<=1099||1e3<=e&&e<=1049}return!1},o.prototype.G1=function(t){if(t){var e=Number(t);return 1050<=e&&e<=1074}return!1},o.prototype.U1=function(t){(this.errCode=t)&&isNaN(Number(t))?this.errCode=t:t&&o.V1.hasOwnProperty(t)?this.errCode=o.V1[t]:t&&this.G1(t.toString())?this.errCode=o.JWT_PUBLIC_KEY:t&&this.F1(t.toString())&&(this.errCode=o.JWT_INVALID),"stream"!==i.K.gf&&"string"==typeof this.errCode&&this.errCode.match(/^C_/)&&(this.errCode=this.errCode.slice(2))},o.ZA=function(t,e){var r=new o;if(void 0!==e)r.H1(t,e);else if("string"==typeof t)try{var i=JSON.parse(t);r.H1(i.code,i.description)}catch(t){r.errCode=o.NETWORK,r.errStr="Network Error"}return n({},r)},o.JWT_PUBLIC_KEY="JWT_PUBLIC_KEY",o.JWT_INVALID="JWT_INVALID",o.INVALID_LIC="INVALID_LIC",o.SDN_API_FAIL="SDN_API_FAIL",o.B1="C_MULTIPLE_CUSTOMERS_FOUND",o.q1="C_MULTIPLE_PARTNERS_FOUND",o.Q1="C_TECH_UNSUPPORTED",o.W1="C_NO_STREAM_PROVIDED",o.Y1="C_INVALID_PARTNER",o.z1="C_INVALID_CUSTOMER",o.CONFIG_STRING="CONFIG_STRING",o.MANIFEST_FETCH="MANIFEST_FETCH",o.MANIFEST_PARSE="MANIFEST_PARSE",o.TIME_OUT="TIME_OUT",o.NETWORK="NETWORK",o.LOCAL_HOST="LOCAL_HOST",o.V1={1003:o.q1,1004:o.B1,1005:o.Y1,1006:o.z1,1007:o.Q1,1008:o.INVALID_LIC,1009:o.W1,1010:o.SDN_API_FAIL},o);function o(t,e){this.U1(t),this.errStr=e}e.BA=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.QA=void 0;var n=r(3),i=(s.prototype.zz=function(t,e,r){return this.K1.has(t)||(this.X1(t,e,r),this.K1.set(t,{J1:s.Z1++,t2:e,i2:r,events:{}})),this},s.prototype.X1=function(t,e,r){if(!t[e])throw new Error(s.loggerId+"- method "+e+" is undefined in event target.");if(!t[r])throw new Error(s.loggerId+"- method "+r+" is undefined in event target.")},s.prototype.Yz=function(t,e){if(!e){var r=this.K1.keys(),n=r.length;if(1!==n)throw new Error(s.loggerId+"Incorrect use of non-targeted registerEvents; "+n+" registered");e=t,t=r[0]}var i=this.K1.get(t);if(!i)throw new Error(s.loggerId+"- target not registered");for(var o=i.t2,a=i.J1,l=[],u=0,c=Object.keys(e);u<c.length;u++){var h,p=c[u],f=e[p];if(h="function"==typeof f?f=f.bind(this.plugin):f.n2=f.n2.bind(this.plugin),!i.events[p])try{var d=this.registerEvent(t,o,p,h,f);i.events[p]=d,l.push(p)}catch(t){this.plugin.logger().warn(s.loggerId+" error binding event '"+p+"' on target #"+a+": "+t.toString())}}return this.plugin&&this.plugin.logger().debug(s.loggerId+"Registering events ["+l.join(", ")+"] on target #"+a),0<l.length},s.prototype.registerEvent=function(t,e,r,n,i){return t[e](r,n),i},s.prototype.sN=function(t){var e=this;void 0===t&&(t=!1),this.K1.forEach((function(r,n){for(var i=r.i2,o=r.events,a=r.J1,l=[],u=0,c=Object.keys(o);u<c.length;u++){var h=c[u],p=o[h],f=void 0,d=void 0;if("function"==typeof p?f=p:(f=p.n2,d=p.s2),t||!d)try{e.e2(n,i,h,f),delete o[h],l.push(h)}catch(r){e.plugin.logger().warn(s.loggerId+" error unbinding event '"+h+"' on target #"+a+": "+r.toString())}}t&&e.K1.delete(n),e.plugin&&e.plugin.logger().debug(s.loggerId+"Unregistering events ["+l.join(", ")+"] on target #"+a+" [destroy: "+t+"]")}))},s.prototype.e2=function(t,e,r,n){t[e](r,n)},s.prototype.reset=function(){var t=this;this.K1.forEach((function(e,r){var n=e.J1;t.K1.delete(r),t.plugin&&t.plugin.logger().debug(s.loggerId+"Reset on target #"+n)}))},s.loggerId="[HiveEventsBinder] ",s.Z1=0,s);function s(t,e,r,i){this.K1=new n,this.plugin=t,e&&this.zz(e,r,i)}e.QA=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.cN=void 0;var n=r(22),i=(s.prototype.start=function(t){var e=this,r=Date.now();Array.isArray(t)?t.forEach((function(t){return e.h2[t]=r})):this.h2[t]=Date.now()},s.prototype.stop=function(t,e,r){void 0===e&&(e=!1);var i=Date.now(),o=this.h2[t];if(!o)return!1;delete this.h2[t];var a=i-o;r&&(t=r);var l=new n.zO(t,i,a);if(e?this.o2.push(l):this.events.push(l),this.logger.debug(s.loggerId,n.$O[t],"in",a,"ms"),this.u2)try{this.u2(l)}catch(t){this.logger.debug(s.loggerId+" failing to run callback",t)}return!0},s.prototype.eU=function(){var t=this.events,e=this.o2;return this.reset(!0),t.concat(e)},s.prototype.reset=function(t){void 0===t&&(t=!1),this.events=new Array,t&&(this.h2={},this.o2=new Array)},s.loggerId="[Timing]",s);function s(t,e){this.h2={},this.events=new Array,this.o2=new Array,this.logger=t,this.u2=e}e.cN=i},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.HiveJS=void 0;var s,o=r(5),a=r(50),l=r(0),u=r(195),c=r(111),h=r(23),p=r(66),f=r(258),d=r(31),g=r(49),v=r(48),m=r(259),y=r(9),b=r(1),E=r(32),w=r(71),A=r(34),S=(i(T,s=p.StatsJS),T.prototype.getName=function(){return T.XA},T.prototype.getVersion=function(){return this.plugin.getPluginVersion()},T.prototype.needsReportingInstance=function(){return!0},T.prototype.isReady=function(){return c.default.getInstance?navigator&&navigator.userAgent&&this.a2(navigator.userAgent)?o.resolve(!0):o.reject(new d.HiveTechError(d.bA.NOT_READY,"WebRTC DataChannels not supported by browser")):o.reject(new d.HiveTechError(d.bA.NOT_READY,"Not included in the page"))},T.prototype.initSession=function(t,e){var r=this;return this.isReady().then((function(){var n=e.ticket;r.$H();var i=n.mM();0===i.indexOf("//")&&(i=location.protocol+i);var s=r.VH(t,n,i,e),o=r.plugin.getPluginId();return A.UA.getInstance().register(r.plugin,s),v.HiveRequestFactory.register(r),window&&window.activateXHRInterceptor&&window.activateXHRInterceptor(r.plugin.loggerLevel()>E.TA.info,o),s}))},T.prototype.isActive=function(t,e,r){void 0===r&&(r=!1);var n=t.toLowerCase(),i=this.plugin.options().manifestDomainMatcher,s=y.Bf(t,e.manifest,i,r),o=s.Zf,a=s.tc,l=s.ic;return!!o&&(l?-1<n.indexOf(".ism/manifest(format=mpd-time-csf)")?this.f2?(e.ticket.setManifestUrl(t),!0):this.c2(e,"The player does not use HiveRequest, downgrading to StatsJS"):this.c2(e,"Protocol not supported by HiveJS tech, downgrading to StatsJS"):this.f2?(a&&e.ticket.setManifestUrl(t),!0):this.c2(e,"The player does not use HiveRequest, downgrading to StatsJS"))},T.prototype.closeSession=function(t,e){window&&window.deactivateXHRInterceptor&&window.deactivateXHRInterceptor(),s.prototype.closeSession.call(this,t,e);var r=c.default.getInstance();e?(v.HiveRequestFactory.clearPlugin(this.plugin.getPluginId()),A.UA.getInstance().unregister(this.plugin,t),r&&(r.onStateChange(this.plugin.getPluginId(),h.T_.STOP),r.l2())):r&&r.onStateChange(this.plugin.getPluginId(),h.T_.IDLE)},T.prototype.c2=function(t,e){return t.tech=this.$A,v.HiveRequestFactory.register(this.$A),this.f2&&this.f2.resolve(),this.f2=void 0,this.plugin.logger().warn("[HiveJS] "+e),this.onError(new d.HiveTechError(d.bA.SESSION_ERROR,e)),window&&window.deactivateXHRInterceptor&&window.deactivateXHRInterceptor(),!0},T.prototype.v2=function(t){this.f2=t},T.prototype.resetTech=function(){},T.prototype.onActiveSession=function(t){var e=this;l.Framework.h().apply(new u.d2(!0));var r=c.default.getInstance();if(r.onStateChange(this.plugin.getPluginId(),h.T_.STOP),this.E2()&&r.w2(!0),r.start(t.reportingInstance,this.options_).then((function(n){if(e.$H(),e.XH=t.reportingInstance,e.XH.renderStatsCallback=e.options_.renderStatsCallback,e.XH.gI(c.default.P_()),e.XH.V_.init(e.XH.D_,t.ticket.sessionId),e.plugin.options().testId&&e.XH.D_.rU(e.plugin.options().testId),t.authenticationToken){var i=r.g2(e.plugin.getPluginId());i&&i.b2.M.iU(t.authenticationToken)}e.f2&&r.request(e.f2,e.plugin.getPluginId()),e.XH.r_.manifestRequested(t.ticket.sessionId,e.plugin.getPlayerSource(),200);var s=e.plugin.flushTechEvents();s&&0<s.length&&e.XH.r_.kI(s);var o=e.plugin.getInitStepTimers().eU();e.XH.r_.jI(o,t.id),e.plugin.updateIntegrationInfo(e.XH)})),null!=this.options().onActiveSession)try{this.options().onActiveSession(t.toHiveSession())}catch(t){b.ErrorMonitor.getInstance().logError("exception in user-defined onActiveSession callback","[HiveJS]",t)}},T.prototype.onStateChange=function(t,e){},T.prototype.VH=function(t,e,r,n){var i=new g.HiveSessionInternal(t,e,r,n,this.plugin.options().onSessionStateChange);return i.SDN=!0,i.id=i.ticket.sessionId,i},T.prototype.T2=function(){},T.prototype.E2=function(){var t=new a.UI;return t.FI(navigator.userAgent),"Android"==t.xI().name},T.prototype.a2=function(t){try{var e=new a.UI(t).Vj();return"Mobile Safari"!==e.name&&("Safari"===e.name?12<=parseInt(e.Cj,10):"function"==typeof RTCPeerConnection.prototype.createDataChannel)}catch(t){return!1}},T.prototype.getPluginId=function(){return this.plugin.getPluginId()},T.prototype.createManifestRequest=function(t){return new m.hU(t)},T.prototype.createRequest=function(t){return new w.vU(t)},T.prototype.supportsXhrInterception=function(){return!0},T.XA="HiveJS",T);function T(t,e,r){var n=s.call(this,t,e)||this;return n.options_=new f.HiveJSOptions,null!=e[T.XA]&&y.updateOptions(e[T.XA],n.options_),n.$A=r,n}e.HiveJS=S},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.d2=void 0;var n=r(29),i=r(41),s=r(32),o=r(23),a=r(93),l=r(94),u=r(95),c=r(92),h=r(22),p=r(196),f=r(197),d=r(200),g=r(209),v=r(212),m=r(213),y=r(214),b=r(215),E=r(216),w=r(118),A=r(233),S=r(234),T=r(235),I=r(55),P=r(17),k=r(236),R=r(240),C=r(241),O=r(105),_=r(242),x=r(244),L=r(245),N=r(246),D=r(96),M=r(247),B=r(248),j=r(249),F=r(8),U=r(250),H=r(251),q=r(252),V=r(253),G=r(255),z=r(256),W=r(116),X=r(102),Q=r(97),Z=r(98),K=r(99),Y=r(100),J=r(101),$=r(103),tt=r(104),et=F.K.Nf,rt=F.K.Cf,nt=(F.K.Hf,it.prototype.apply=function(t){this.m2||(t.bind(new n.WS(i.v.bC,o.Reporting,n.YS.ZS)),t.bind(new n.WS(i.v.c_,a.ZV,n.YS.ZS)),t.bind(new n.WS(i.v.U_,l.sB,n.YS.ZS)),t.bind(new n.WS(i.v.H_,u.fB,n.YS.ZS)),t.bind(new n.WS(i.v.p,s.yA,n.YS.ZS)),t.bind(new n.WS(i.v.PC,tt.jq,n.YS.ZS)),t.bind(new n.WS(i.v.aC,O.Dq,n.YS.hA)),t.bind(new n.WS(i.v.W_,c.wp,n.YS.hA)),t.bind(new n.WS(i.v.Y_,h.YO,n.YS.hA)),t.bind(new n.WS(i.v.AC,h.wp,n.YS.hA)),t.bind(new n.WS(i.v.MC,Q.OB,n.YS.hA)),t.bind(new n.WS(i.v.DC,Z.NB,n.YS.hA)),t.bind(new n.WS(i.v.K_,K.CB,n.YS.hA)),t.bind(new n.WS(i.v._C,J.HB,n.YS.hA)),t.bind(new n.WS(i.v.JN,Y.PB,n.YS.hA)),t.bind(new n.WS(i.v.XI,X.GB,n.YS.ZS)),t.bind(new n.WS(i.v.F_,$.Tq,n.YS.ZS))),t.bind(new n.WS(i.v.hC,V.O2,n.YS.hA)),t.bind(new n.WS(i.v.IC,U.mU,n.YS.hA)),t.bind(new n.WS(i.v.wC,D.yB,n.YS.ZS)),t.bind(new n.WS(i.v.kl,p.rf,n.YS.ZS)),t.bind(new n.WS(i.v.$N,f.I2,n.YS.hA)),t.bind(new n.WS(i.v.KN,d.TU,n.YS.hA)),t.bind(new n.WS(i.v.YN,v.Cache,n.YS.hA)),t.bind(new n.WS(i.v.eC,g._2,n.YS.hA)),t.bind(new n.WS(i.v.XN,m.R2,n.YS.hA)),"undefined"!=typeof HiveOriginalXMLHttpRequest?t.bind(new n.WS(i.v.iC,HiveOriginalXMLHttpRequest)):t.bind(new n.WS(i.v.iC,XMLHttpRequest)),t.bind(new n.WS(i.v.SC,L.S2,n.YS.ZS)),t.bind(new n.WS(i.v.RC,y.A2,n.YS.hA)),t.bind(new n.WS(i.v.Ll,k.N2,n.YS.ZS)),t.bind(new n.WS(i.v.OC,R.C2,n.YS.ZS)),t.bind(new n.WS(i.v.zN,N.j2,n.YS.hA)),t.bind(new n.WS(i.v.fC,b.M2,n.YS.hA)),t.bind(new n.WS(i.v.uC,E.Za,n.YS.hA)),t.bind(new n.WS(i.v.EC,w.nY,n.YS.hA)),t.bind(new n.WS(i.v.nC,H.D2,n.YS.hA)),t.bind(new n.WS(i.v.cC,B.P2,n.YS.hA)),t.bind(new n.WS(i.v.rC,j.L2,n.YS.hA)),t.bind(new n.WS(i.v.lC,j.H2,n.YS.hA)),t.bind(new n.WS(i.v.sC,M.Ba,n.YS.hA)),t.bind(new n.WS(i.v.vC,A.U2,n.YS.hA)),t.bind(new n.WS(i.v.TC,S.F2,n.YS.hA)),t.bind(new n.WS(i.v.mC,T.G2,n.YS.hA)),t.bind(new n.WS(i.v.pC,_.V2,n.YS.hA)),t.bind(new n.WS(i.v.dC,I.UM,n.YS.hA)),t.bind(new n.WS(i.v.gC,x.B2,n.YS.hA)),t.bind(new n.WS(i.v.NC,P.yl,n.YS.hA)),t.bind(new n.WS(i.v.yC,C.Ka,n.YS.hA)),t.bind(new n.WS(i.v.oC,q.q2,n.YS.hA)),et&&(t.bind(new n.WS(i.v.kC,z.Q2,n.YS.hA)),t.bind(new n.WS(i.v.CC,G.W2,n.YS.hA))),rt&&t.bind(new n.WS(i.v.Cf,W.aW,n.YS.hA))},it);function it(t){this.m2=!1,t&&(this.m2=t)}e.d2=nt},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.rf=e.Y2=void 0;var n=r(5),i=r(21),s=r(0),o=r(6),a=r(23),l=r(3),u=r(54),c=r(53),h=r(8),p=r(1),f=r(2),d=h.K.Nf,g=h.K.Cf,v=h.K.kf,m=(y.prototype.init=function(t,e){try{v||e?this.z2(!1):this.z2(!0),this.z_.eQ(t),this.z_.setReportingGuid(this.reportingInstance.identity.j_()),this.z_.hQ(e),this.nw.init(o.Ko.Cache.zu,o.Ko.Cache.Ku);var r=this.b2.XM(t,this.K2);this.z_.setContextId(this.b2.M.getContextId()),this.reportingInstance.D_.nU.init(t,r),this.reportingInstance.D_.nU.lU(r.oD()),this.X2.start(this.b2,this.cW),(d||s.Framework.T()&&u.Wc.LM)&&this.Z2.J2(this.cW);var n=[this.t3,this.cW,this.partnership,this.X2,this.reportingInstance.D_,this.reportingInstance.r_,this.fY];(d||s.Framework.T()&&u.Wc.LM)&&n.push(this.Z2),(g||s.Framework.T()&&u.Wc.HM)&&n.push(this.i3),this.Pl.start(this.swarmId,n),this.reportingInstance.D_.zV(this.partnership),this.reportingInstance.D_.EV(this.z_)}catch(t){throw p.ErrorMonitor.getInstance().logError("Error initializing swarm object",this.loggerId,f.yt.he,t),new Error(t)}},y.prototype.z2=function(t){t&&"undefined"!=typeof navigator&&navigator.hardwareConcurrency?(this.z_.Lq(navigator.hardwareConcurrency),this.z_.Uq(navigator.hardwareConcurrency)):(this.z_.Lq(1),this.z_.Uq(1)),this.logger.debug(this.loggerId+"My score "+this.z_.Hq())},y.prototype.n3=function(t){return i.Bl.xg(t).toString(i.Bl.gg.bg)},y.prototype.request=function(t){this.r3(),this.YM.request(t)},y.prototype.s3=function(){this.state!==a.T_.STOP?(this.cW.stop(),this.partnership.stop(),this.KM.e3(),this.KM.h3(),this.X2.o3(),this.Z2&&this.Z2.u3(),this.reportingInstance.onStateChange(a.T_.IDLE),this.nw.a3(),this.$M.f3(),this.YM.c3(),this.wF.l3(),s.Framework.clearTimeout(this.requestTimeout)):this.logger.debug("Ignoring changing state from Stop to Idle")},y.prototype.onStateChange=function(t,e){try{if(this.state!=t){switch(this.logger.info("Switching state "+a.T_[this.state]+" -> "+a.T_[t]),t){case a.T_.STOP:this.s3(),this.Pl.stop(e);break;case a.T_.IDLE:this.s3();break;case a.T_.m_:o.Ko.qa.vu&&(this.X2.v3(),this.cW.start(),this.partnership.start(this.b2.M),this.KM.d3()),this.Z2&&this.Z2.E3(),this.reportingInstance.onStateChange(a.T_.m_),this.wF.w3()}this.state=t}}catch(t){p.ErrorMonitor.getInstance().logError("Error changing peer status",this.loggerId,f.yt.oe,t)}},y.prototype.r3=function(){var t=this;try{s.Framework.clearTimeout(this.requestTimeout),this.onStateChange(a.T_.m_),this.requestTimeout=s.Framework.setTimeout((function(){t.onStateChange(a.T_.IDLE)}),o.Ko.rf.Ca)}catch(t){p.ErrorMonitor.getInstance().logError("Error requesting timeout",this.loggerId,f.yt.te,t)}},y);function y(t,e){this.state=a.T_.m_,this.requestTimeout=-1;try{this.logger=s.Framework.resolve(s.Framework.v.p).log(t.ticket.sessionId),this.loggerId="[SWARM] ",this.Pl=s.Framework.resolve(s.Framework.v.Ll),this.sessionId=t.ticket.sessionId,this.reportingInstance=t,this.YM=s.Framework.resolve(s.Framework.v.$N),this.nw=s.Framework.resolve(s.Framework.v.YN),this.cW=s.Framework.resolve(s.Framework.v.uC),this.g3=s.Framework.resolve(s.Framework.v.XN),this.WM=s.Framework.resolve(s.Framework.v.fC),this.partnership=s.Framework.resolve(s.Framework.v.EC),this.uploadScore=s.Framework.resolve(s.Framework.v.mC),this.b3=s.Framework.resolve(s.Framework.v.TC),this.X2=s.Framework.resolve(s.Framework.v.RC),this.zM=s.Framework.resolve(s.Framework.v.vC),this.b2=s.Framework.resolve(s.Framework.v.KN),this.xU=s.Framework.resolve(s.Framework.v.yC),this.z_=s.Framework.resolve(s.Framework.v.aC),this.pF=s.Framework.resolve(s.Framework.v.dC),this.KM=s.Framework.resolve(s.Framework.v.gC),this.$M=s.Framework.resolve(s.Framework.v.zN),this.fY=s.Framework.resolve(s.Framework.v.sC),this.wF=s.Framework.resolve(s.Framework.v.IC),this.y3=s.Framework.resolve(s.Framework.v.oC),this.t3=s.Framework.resolve(s.Framework.v.hC),this.K2=e,(d||s.Framework.T()&&u.Wc.LM)&&(this.T3=s.Framework.resolve(s.Framework.v.CC),this.Z2=s.Framework.resolve(s.Framework.v.kC)),(g||s.Framework.T()&&u.Wc.HM)&&(this.i3=s.Framework.resolve(s.Framework.v.Cf)),this.swarmId=this.n3(t.ticket.QI()),this.wF.init(this),this.g3.init(this),this.$M.init(this),this.fY.init(this),this.partnership.init(this),this.b3.init(this),this.X2.init(this),this.zM.init(this),this.b2.init(this),this.YM.init(this),this.cW.init(this),this.pF.init(this),this.KM.init(this),this.xU.init(this),this.y3.init(this),this.t3.init(this),(g||s.Framework.T()&&u.Wc.HM)&&this.i3.init(this),(d||s.Framework.T()&&u.Wc.LM)&&this.Z2.init(this)}catch(t){throw p.ErrorMonitor.getInstance().logError("Error constructing swarm object",this.loggerId,f.yt.ee,t),new Error(t)}}e.Y2=m;var b=(E.prototype.start=function(t,e){var r=this;this.logger=s.Framework.resolve(s.Framework.v.p).log(t.ticket.sessionId);var i=t.ticket,o=i.pluginId;if(this.m3.has(o))this.logger.warn("SESSION ALREADY ACTIVE "+o);else{c.CM.wI(t.q_.client,i.IM(),t.identity.j_());var a=new m(t,e);a.init(i,this.oQ),this.WI.getConnectivityInfo().then((function(t){var e=t.getNetworkChanged().getPrivateIp();e&&a.z_.dq(e)})).catch((function(t){r.logger.debug("Could not set IP address info",t)})),t.D_.YV(this.WI),this.logger.info("PEER CONTEXT STARTED"),this.m3.set(o,a),this.O3.set(a.swarmId,o)}return 1!=this.m3.length&&!this.I3||s.Framework.T()||(this._3.init(),this.I3=!1),n.resolve(i.getManifestUrl())},E.prototype.l2=function(){this.I3=!0},E.prototype.Cl=function(t){if(this.O3.has(t)){var e=this.O3.get(t);return this.m3.get(e)}return null},E.prototype.g2=function(t){return this.m3.get(t)},E.prototype.R3=function(t){return this.m3.has(t)?this.m3.get(t).YM:null},E.prototype.request=function(t,e){this.g2(e).request(t)},E.prototype.onStateChange=function(t,e){var r=this.g2(t);r&&(r.onStateChange(e,r.swarmId),e===a.T_.STOP&&this.m3.delete(t))},E.prototype.abort=function(t,e){var r=this.R3(e);r&&r.abort(t)},E.prototype.w2=function(t){this.oQ=t},E.prototype.S3=function(t,e){this.WI.bq(t)},E);function E(){this.m3=new l,this.O3=new l,this.I3=!1,this._3=s.Framework.resolve(s.Framework.v.SC),this.WI=s.Framework.resolve(s.Framework.v.XI),this.oQ=!1}e.rf=b},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.I2=void 0;var n=r(3),i=r(5),s=r(27),o=r(4),a=r(6),l=r(0),u=r(7),c=r(199),h=r(4),p=r(1),f=r(2),d=hive.snapshots.OriginType,g=hive.snapshots.RequestType,v=(m.prototype.init=function(t){this.logger=l.Framework.resolve(l.Framework.v.p).log(t.sessionId),this.WM=t.WM,this.nw=t.nw,this.partnership=t.partnership,this.D_=t.reportingInstance.D_,this.sessionId=t.reportingInstance.ticket.sessionId,this.g3=t.g3,this.zM=t.zM,this.A3=t.b2,this.z_=t.z_,this.$M=t.$M,this.wF=t.wF,this.N3=t.KM,this.renderStats=new c.C3(t.reportingInstance),this.D_.oV(this.j3)},m.prototype.request=function(t){try{var e=t.url;this.logger.info("HIVE REQ "+e),t.M3=l.Framework.time();var r=this.A3.D3(t),n=r.gS(t.url);this.wF.fQ(n),this.CD(t,n,r,s.RequestType.LR)}catch(t){p.ErrorMonitor.getInstance().logError("Error on player request",this.loggerId,f.Ot.ie,t)}},m.prototype.CD=function(t,e,r,n){var i=this;if(e.fS()){if(e.nS()!=u.af.cf)return this.P3(t,e,r,n);var a=r.dU(e,n);if(a.YU)return this.logger.debug("DO NOT CONTINUE WITH THE REQUEST "+e.sS()+". ALREADY REQUESTED  "+a.GU+" PENDING REQUEST "+a.WU),null;if(a.WU&&n==s.RequestType.LR){var l=this.L3(t,e,r,n);return 0<l.length?(l.forEach((function(e){var r=i.H3.get(e);i.H3.set(t.id,r),i.H3.delete(e)})),null):(this.logger.info("PREFETCH UPGRADE FAILED. THIS SHOULD NOT HAPPEN. CHECK FOR MULTIPLE PLAYER REQUESTS FOR THE SAME FRAGMENT"),this.P3(t,e,r,n))}return this.P3(t,e,r,n)}var c=o.eh.next(),h=new s.DR(t,c,n,e,r);return this.H3.set(t.id,h),h.type=s.RequestType.HR,this.U3(h),h},m.prototype.P3=function(t,e,r,n){var i=this,a=o.eh.next(),l=new s.DR(t,a,n,e,r);if(this.H3.set(t.id,l),e.nS()==u.af.cf&&(r.KU(l),n!==s.RequestType.UR&&n!==s.RequestType.xR)){var c=e.getQualityLevel(),h=this.z_.jB();c&&(this.z_.kB(c),this.N3.QW(this.z_.tP()||this.z_.xD()),h&&c.id===h.id||(this.F3=!0,this.x3=0),this.F3&&this.x3++,this.x3===this.G3&&(this.partnership.Ez(),this.F3=!1,this.x3=0))}return this.V3(e.sS()).then((function(t){i.wF.B3(l,t),i.q3(l,t),r.$U(l.sS(),l.eS()),r.tF(e.getQualityLevel())})).catch((function(){i.Q3(e,l),l.nS()==u.af.cf&&(r.JU(l),l.type==s.RequestType.LR&&i.j3.add(0))})),l},m.prototype.L3=function(t,e,r,n){return r.zU(t,e,n)},m.prototype.V3=function(t){return this.nw.get(t)},m.prototype.Q3=function(t,e){this.WM.contains(t.sS())?(this.logger.debug("OBJ IDX CONTAINS "+e.sS()+" PROCEED WITH P2P REQUEST"),e.iS()==s.RequestType.UR&&(e.type=s.RequestType.xR),this.GR(e)):e.iS()!=s.RequestType.xR?this.U3(e):(p.ErrorMonitor.getInstance().logError("P2P prefetch failed because object index does not contain request entity",this.loggerId,{HA:e.sS()}),e.PS.$U(e.sS(),e.eS()))},m.prototype.c3=function(){var t=this;this.H3.forEach((function(e){return t.abort(e.DS)}))},m.prototype.abort=function(t){if(this.H3.has(t.id)){var e=this.H3.get(t.id);try{var r=e.eS();this.logger.debug("REQUEST "+r+" ABORTED "),this.zM.vo(r)?this.zM.W3(r):this.g3.vo(r)&&this.g3.W3(r),this.H3.delete(t.id)}catch(t){p.ErrorMonitor.getInstance().logError("Error occurred while aborting the request",this.loggerId,f.Ot.ne,t)}}},m.prototype.GR=function(t){t.type==s.RequestType.LR&&(t.type=s.RequestType.qa),t.type==s.RequestType.xR&&(t.kS=!0),this.zM.request(t)},m.prototype.Y3=function(t){if(0!=t.MS&&(t.ZR.BR=t.MS,this.logger.info("ALREADY DOWNLOADED "+t.ZR.BR+" BYTES"),t.ZR.qR=t.MS),!a.Ko.Xa.sa&&t.MS&&(t.ZR.BR=0),this.wF.z3(t),t.type!=s.RequestType.xR)t.type=s.RequestType.FR,this.U3(t);else if(t.nS()==u.af.cf){t.PS.XU(t.sS()),t.PS.$U(t.sS(),t.eS());var e=t.rS;e.getQualityLevel()&&t.PS.tF(e.getQualityLevel())}},m.prototype.K3=function(t){var e=this;this.logger.info("SUCCESS FROM P2P FOR "+t.oS()+" [REQ "+t.hS+"] ["+s.RequestType[t.type]+"] AFTER "+t.lS()+" [bw:"+t.vS().xh()+"]"),this.X3(t),this.J3(t,this.MU(t.type)),this.$M.Z3(t);var r=this.g3.t5().Hh();this.wF.i5(t,r),this.n5(t).then((function(){t.PS.sF(t),e.r5()})).finally((function(){e.MU(t.type)&&e.s5(t,d.qa),e.H3.delete(t.DS.id)}))},m.prototype.e5=function(t){if(t.type!=s.RequestType.xR)t.type=s.RequestType.LR,this.U3(t);else if(t.nS()==u.af.cf){t.PS.XU(t.sS()),t.PS.$U(t.sS(),t.eS());var e=t.rS;e.getQualityLevel()&&t.PS.tF(e.getQualityLevel())}},m.prototype.U3=function(t){t.PS.dF().h5(t.DS),this.wF.EU(t),this.g3.request(t)},m.prototype.o5=function(t){this.r5();var e=this.g3.t5().Hh();this.wF.dQ(t,e),t.nS()==u.af.cf&&(t.PS.XU(t.sS()),t.PS.$U(t.sS(),t.eS())),this.H3.delete(t.DS.id)},m.prototype.u5=function(t){var e=this;this.X3(t),this.J3(t,this.MU(t.type)),t.type==s.RequestType.FR&&this.logger.debug("CDN COMPENSATION TIME "+(t.ZR.XR-t.DS.M3)+" / "+(t.ZR.XR-t.ZR.zR)+" P2P TIME "+(t.ZR.$R-t.ZR.KR)),-1==[u.af.lf,u.af.vf].indexOf(t.nS())&&this.$M.Z3(t);var r=this.g3.t5().Hh();this.wF.vQ(t,r),this.n5(t).then((function(){t.nS()==u.af.lf&&t.PS.fU(t),-1==[u.af.lf,u.af.vf].indexOf(t.nS())&&t.PS.sF(t),e.r5()})).catch((function(t){e.logger.error(t)})).finally((function(){e.MU(t.type)&&e.s5(t,d.HR),e.H3.delete(t.DS.id)}))},m.prototype.X3=function(t){t.type==s.RequestType.xR&&(t.ZR.p2pAgenTrafficSuccessQt=t.ZR.BR),t.type==s.RequestType.UR&&(t.ZR.YR=t.ZR.WR,t.CS&&(t.ZR.srcOtherRespQt=t.ZR.WR)),t.ZR.VR=t.ZR.WR+t.ZR.BR,t.DS.total=t.ZR.VR},m.prototype.J3=function(t,e){if(this.a5(t),t.DS.total=t.size,e){var r=o.createEvent(ProgressEvent,"progress",{lengthComputable:!0,total:t.ZR.VR,loaded:t.ZR.VR,currentTarget:t.DS});t.DS.dispatchEvent(r),t.rS.PA()||(t.DS.response=t.ES(),t.DS.responseText=t.ES())}},m.prototype.s5=function(t,e){var r=t.DS,n=l.Framework.T()?r.total:t.dS?t.dS.byteLength:0;t.nS()===u.af.cf&&this.D_.oF.add(t,g.LS,e),this.logger.info("RESPOND TO THE PLAYER "+t.sS()+" SIZE "+n),r.status=200,r.statusText="OK",r.readyState=4,"string"==typeof r.response&&"arraybuffer"===r.responseType&&(r.response=o.qe(r.response)),"text"!=r.responseType&&""!=r.responseType&&delete r.responseText,t.rS.PA()&&(r.response=l.Framework.T()?null:o.rh(t.dS));var i=o.createEvent(Event,"readystatechange",{currentTarget:r}),s=o.createEvent(ProgressEvent,"load",{bubbles:!1,cancelable:!1,lengthComputable:!1,total:n,currentTarget:r,loaded:n}),a=o.createEvent(ProgressEvent,"loadend",{bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:n,total:0,currentTarget:r});r.dispatchEvent(i),r.dispatchEvent(s),r.dispatchEvent(a)},m.prototype.n5=function(t){var e=this;return t.rS.fS()?this.nw.put(t).then((function(){return e.partnership.f5(t.rS,t.ZR.VR,t.partner)})).catch((function(t){i.resolve(!0)})):i.resolve(!0)},m.prototype.q3=function(t,e){var r=this;t.dS=e.data,t.jS=e.headers,t.c5=e.c5,t.ZR=e.ZR,t.size=e.length;var n=t.PS.fF().HQ(e.length);this.logger.info("SCHEDULE DELIVERY OF "+t.sS()+" SIZE "+(l.Framework.T()?e.length:t.dS.byteLength)+" BYTES IN "+n+" MS"),l.Framework.setTimeout((function(){r.l5(t)}),n)},m.prototype.l5=function(t){this.logger.debug("DELIVERY OF "+t.sS()),this.J3(t,!0),this.H3.delete(t.DS.id);var e,r=t.DS.M3-t.ZR.XR;0<r&&t.nS()==u.af.cf&&this.j3.add(r),e=0<t.ZR.KR?t.DS.M3-t.ZR.KR:t.DS.M3-t.ZR.$R,this.logger.debug("FRAGMENT PREFETCHED "+r+" MS BEFORE PLAYER REQUEST AND REQUESTED "+e+" MS BEFORE PLAYER REQUEST"),this.s5(t,d.YN)},m.prototype.MU=function(t){return t!=s.RequestType.xR&&t!=s.RequestType.UR},m.prototype.a5=function(t){if(t.type!==s.RequestType.FR)t.jS=t.DS.jS=t.jS;else{var e="\nContent-Range: bytes=0-"+(t.size-1)+"/"+t.size+"\n";e+="Content-Length: "+t.size+"\n",t.jS=t.DS.jS=e}null==t.jS?t.jS="access-control-allow-origin: *":-1==t.jS.toLowerCase().indexOf("access-control-allow-origin")&&(t.jS=t.jS.trim()+"\naccess-control-allow-origin: *\n")},m.prototype.r5=function(){!l.Framework.T()&&this.renderStats&&this.renderStats.render()},m.prototype.v5=function(t){this.nw.remove(t)},m);function m(){this.H3=new n,this.F3=!1,this.x3=0,this.loggerId="[HiveCache] ",this.G3=5,this.j3=new h.uh}e.I2=v},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.uf=void 0;var n=r(0),i=r(6),s=(o.prototype.request=function(){this.disabled()||(this.d5=this.E5())},o.prototype.E5=function(){var t=this;return new Promise((function(e,r){var s=n.Framework.resolve(n.Framework.v.iC),a=t.playerRequest,l=a.url,u=a.async,c=a.username,h=a.password;s.open("GET",l+"?range",u,c,h),s.setRequestHeader("Range","bytes=-"+i.Ko.uf.Fa),s.responseType="arraybuffer",t.playerRequest.pb(s),s.onload=function(){if(s.status===i.Ko.Xa.ea){var n=s.response;n.byteLength!==i.Ko.uf.Fa?r("Received wrong length. Length: "+n.byteLength):(t.logger.log("Received Fragment Authentication response"),e(n))}else o.w5=!1,r("Received wrong status code. Status code: "+s.status)},s.onerror=function(t){r(t)},s.send()}))},o.prototype.authenticate=function(t){var e=this;return new Promise((function(r){if(e.disabled()||!e.d5)return r(!0);e.d5.then((function(n){var s=t.slice(t.byteLength-i.Ko.uf.Fa),o=e.compareBuffers(n,s);if(!o){var a=btoa(String.fromCharCode.apply(null,new Uint8Array(s))),l=btoa(String.fromCharCode.apply(null,new Uint8Array(n)));e.logger.error("P2P Validation Bytes: ["+a+"] - CDN Validation Bytes: ["+l+"]")}r(o)})).catch((function(t){e.logger.log("FragmentAuthentication error "+t),r(!0)}))}))},o.prototype.cancel=function(){this.logger.debug("CANCELING FRAGMENT AUTHENTICATION FOR "+this.playerRequest.url),this.p5=!0},o.prototype.compareBuffers=function(t,e){if(e.byteLength!==t.byteLength)return!1;for(var r=new Int8Array(e),n=new Int8Array(t),i=0;i<e.byteLength;i++)if(r[i]!==n[i])return!1;return!0},o.prototype.disabled=function(){return this.p5||!this.configStore.getConfig("security.fragmentAuthenticationEnabled")||!o.w5},o.w5=!0,o);function o(t){this.logger=n.Framework.resolve(n.Framework.v.p).log(),this.configStore=n.Framework.resolve(n.Framework.v.PC),this.playerRequest=t,this.p5=!1}e.uf=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.C3=void 0;var n=r(31),i=(s.prototype.g5=function(t){t.uuid=this.reportingInstance.D_.pI;var e=this.reportingInstance.D_.x_.rV,r=this.b5(e.p2pSubRespQt),n=this.b5(e.srcRespQt);t.cdnRequests+=this.b5(e.srcReqN),t.cdnResponses+=this.b5(e.srcRespN),t.cdnResponseErrors+=this.b5(e.srcRespErrN),t.cdnResponseBytes+=this.b5(e.srcRespQt),t.p2pRequests+=this.b5(e.p2pSubReqN),t.p2pResponses+=this.b5(e.p2pSubRespN),t.p2pResponseErrors+=this.b5(e.p2pSubRespErrN),t.p2pResponseBytes+=this.b5(e.p2pSubRespQt),t.savings=this.b5(r/(n+r)*100)},s.prototype.b5=function(t){return t||0},s.prototype.y5=function(t){var e=this;t.uuid=this.reportingInstance.D_.pI;var r=this.reportingInstance.D_.x_.eV,i=this.reportingInstance.D_.x_.hV;r.forEach((function(r,s){t.partners[s]||(t.partners[s]=new n.HivePartnerStats);var o=t.partners[s];o.uuid=s;var a=e.b5(r.p2pSuccSent);o.sentBytes+=a,t.p2pPartnerTotalSentBytes+=a;var l=e.b5(r.p2pSuccReceived);o.receivedBytes+=l,o.successTransfers+=e.b5(r.p2pSuccReq),o.failedTransfers+=e.b5(r.p2pFailReq),i.has(s)&&(o.rateReceived=i.get(s).rateReceived),o.lastUpdated=Date.now()}))},s.prototype.render=function(){var t=this.reportingInstance.renderStatsCallback;if(t){var e=new n.HiveClientStats;this.g5(e),this.y5(e);try{t(e)}catch(t){console.warn("error in rendering local stats",t)}}},s);function s(t){this.reportingInstance=t}e.C3=i},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.TU=void 0;var s,o=r(201),a=r(207),l=r(0),u=r(110),c=r(6),h=(i(p,s=u.IQ),p.prototype.init=function(t){this.logger=l.Framework.resolve(l.Framework.v.p).log(t.sessionId),this.fW=t,this.partnership=t.partnership},p.prototype.RQ=function(t){return new a.P1(t,this.fW,this.WF)},p.prototype.SQ=function(t){return new o.L1(t,this.fW,this.WF)},p.prototype.AQ=function(t){var e=this;c.Ko.qa.vu&&(null!=this.partnership?this.partnership.stop().then((function(r){e.partnership.start(t)})):this.partnership.start(t))},p.prototype.D3=function(t){if(null==this.M)this.logger.warn("FIRST REQUEST, COULD NOT FIND RIGHT CONTEXT "+t.url);else{if(!this.M.T5(t))return this.logger.warn("REQUEST DOES NOT BELONG TO THE CURRENT CONTEXT "+t.url),null;this.M.dF().m5(t,this.WF)}return this.M},p);function p(){var t=null!==s&&s.apply(this,arguments)||this;return t.partnership=null,t}e.TU=h},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.L1=void 0;var s,o=r(68),a=r(24),l=r(206),u=r(7),c=r(33),h=r(0),p=r(1),f=r(2),d=r(4),g=r(113),v=r(70),m=(i(y,s=o.AU),y.prototype.gS=function(t){var e=u.af.vf,r=0,n=null,i=0,s=!0,o=!1;try{if(e=this.nS(t),this.metadata.kx(t))s=!0;else if(e!=u.af.lf){var a=this.metadata.eF(t);if(null!=a)r=a.duration.ms(),n=a.qualityLevel,i=a.id,o=this.fS(t);else{this.jD(),this.logger.warn("could not extract segment info for "+t);var l=this.metadata.Nx(t);l?(this.logger.warn("representation is",l),this.logger.warn("representation segments",l.Tx.map((function(t,e){return e+" => "+t.NA})).join(", "))):this.logger.warn("no representation found for "+t)}}else s=!1;return new c.SA(t,e,s,i,r,n,o,this.getContextId())}catch(e){return p.ErrorMonitor.getInstance().logError("Error getting the entity characteristics based on a url",this.loggerId,f.Gt.er,{detailedError:e,url:t}),new c.SA(t,u.af.vf,!1,0,0,null,!1,this.getContextId())}},y.prototype.HD=function(){return s.prototype.NU.call(this,a.Dash.oR,a.Dash.uR)},y.prototype.T5=function(t){try{var e=t.url;return d.ze(e)===d.ze(this.manifestUrl)||!(null==this.metadata||!this.metadata.kx(e))||!(this.metadata.rc(e,this.logger)&&this.manifestUrl!==e&&!a.Dash.nR(this.manifestUrl,e))}catch(e){return p.ErrorMonitor.getInstance().logError("Error identifying if is current context",this.loggerId,f.Gt.ur,{detailedError:e,url:t.url}),!1}},y.prototype.fU=function(t){try{this.O5=h.Framework.time();var e=t.ES(),r=t.DS.url,n=this.metadata.parse(r,e,t.DS.internal);this.I5.zQ(),void 0===this.aF&&(this.aF=this.metadata.isLive()),t.DS.responseText=n,t.DS.response=n,this._5()}catch(e){p.ErrorMonitor.getInstance().logError("Error parsing received metadata",this.loggerId,f.Gt.ar,{detailedError:e,url:t.DS.url}),t.ES()&&(t.DS.responseText=t.ES(),t.DS.response=t.ES())}try{this.UU.bD()}catch(e){p.ErrorMonitor.getInstance().logError("Error starting prefetcher after fetching metadata",this.loggerId,f.Gt.cr,{detailedError:e,url:t.DS.url})}this.R5()},y.prototype.sF=function(t){var e=this;try{s.prototype.sF.call(this,t),t.nS()!==u.af.cf&&t.nS()!==u.af.ff||(t.nS()===u.af.cf&&this.cF.xQ(t),this.metadata.dU(t).then((function(r){r&&e.R5(),t.nS()==u.af.cf&&e.UU.vD(t.rS)})).done())}catch(t){p.ErrorMonitor.getInstance().logError("Error when received a fragment",this.loggerId,f.Gt.lr,t)}},y.prototype.getContextId=function(){return this.ticket._M()},y.prototype.dU=function(t,e){var r=t;return r.kU=h.Framework.time(),s.prototype.dU.call(this,r,e)},y.prototype.BD=function(t,e,r,n){return this.metadata.BD(t,e,r,n)},y.prototype.R5=function(){var t=this;try{this.metadata._x?this.metadata._x.QK().then((function(e){if(e)t.S5=!0,t.logger.debug("Protection evaluation: can decrypt");else{var r="Protection evaluation: cannot decrypt ["+(a.Dash.lR?"error":"disabled")+"]";a.Dash.vR?(t.S5=!0,t.logger.debug(r+", metadata prefetch enabled")):t.logger.warn(r+", metadata prefetch DISABLED")}})).done():this.logger.debug("Stream protection evaluation: not encrypted")}catch(t){if(p.ErrorMonitor.getInstance().logError("Error evaluating the protection",this.loggerId,f.Gt.vr,t),a.Dash.vR){var e="Protection evaluation: cannot decrypt ["+(a.Dash.lR?"error":"disabled")+"]";this.S5=!0,this.logger.debug(e+", metadata prefetch enabled")}}},y.prototype.jD=function(){this.S5&&(null==this.A5&&this.metadata.isLive()?this.N5():this.logger.debug("DASH PRE-FETCHING METADATA ALREADY SCHEDULED OR NOT LIVE"))},y.prototype._5=function(){this.S5&&null!=this.A5&&(h.Framework.clearTimeout(this.A5),this.A5=null)},y.prototype.N5=function(){var t=this,e=(null!=this.O5?this.O5:0)+a.Dash.aR,r=Math.max(1,e-h.Framework.time()+a.Dash.dR);this.logger.debug("DASH PREFETCHING METADATA "+this.metadata.getManifestUrl()+" IN "+r),this.A5=h.Framework.setTimeout((function(){t.C5(t.metadata.getManifestUrl(),h.Framework.time())}),r)},y.prototype.C5=function(t,e){var r=this.O5;if(null==r&&(r=0),e<r&&this.N5(),this.metadata&&this.metadata.Ex)this.A5=null,this.O5=h.Framework.time();else{var n=new v.AD(this.ticket.pluginId);n.open("GET",t),n.send(),this.A5=null,this.O5=h.Framework.time()}},y.prototype.GD=function(t,e){try{var r=this.rD(),n=this.nF(),i=r.jA(),s=this.metadata.BD(i,r.getQualityLevel(),t,e),o=h.Framework.time()-n;return Math.max(0,s-o)}catch(t){return p.ErrorMonitor.getInstance().logError("Error calculating the distance duration",this.loggerId,f.Gt.dr,t),0}},y.prototype.Mx=function(t,e){return this.metadata.Mx(t,e)},y.prototype.k5=function(){return a.Dash.cR},y.prototype.VD=function(){return a.Dash.fR},y);function y(t,e,r){var n=s.call(this,t,e)||this;return n.loggerId="[Dash Context] ",n.S5=!0,n.cF=new l.j5(e.z_),n.metadata=a.Dash.sR(n.manifestUrl,{px:!0},e.sessionId,r),n.I5=new g.QQ(n.metadata),n.hF.LB(n.metadata),n}e.L1=m},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.HU=void 0,e.HU=function(){this.GU=!1,this.WU=!1,this.YU=!1}},function(t,e,r){"use strict";t.exports=o,r(12);var n=r(13),i=r(14),s=r(39);function o(t,e,r,n){if(!(this instanceof o))return new o(t,e,r,n);Array.isArray(t)?t=(this.array=t).splice(0,t.length):this.array=[],this.je=e||Object.equals,this.Ec=r||Object.compare,this.De=n||Function.ke,this.length=0,this.hiveAddEach(t)}function a(t,e,r){for(var n=0,i=t.length-1;n<=i;){var s=n+i>>1,o=r(e,t[s]);if(0<o)n=1+s;else{if(!(o<0))return s;i=s-1}}return-(n+1)}function l(t,e,r,n){var i=a(t,e,r);if(i<0)return-1;for(;0<i&&n(e,t[i-1]);)i--;return n(e,t[i])?i:-1}function u(t,e,r,n){var i=a(t,e,r);if(i<0)return-1;for(;i<t.length-1&&n(e,t[i+1]);)i++;return n(e,t[i])?i:-1}o.M5=o,Object.hiveAddEach(o.prototype,n.prototype),Object.hiveAddEach(o.prototype,i.prototype),Object.hiveAddEach(o.prototype,s.prototype),o.prototype.bF=!0,o.prototype.Le=function(t){return new this.constructor(t,this.je,this.Ec,this.De)},o.prototype.has=function(t,e){if(e)throw new Error("SortedSet#has does not support second argument: equals");var r=a(this.array,t,this.Ec);return 0<=r&&this.je(this.array[r],t)},o.prototype.get=function(t,e){if(e)throw new Error("SortedArray#get does not support second argument: equals");var r=l(this.array,t,this.Ec,this.je);return-1!==r?this.array[r]:this.De(t)},o.prototype.hiveAdd=function(t){var e=function(t,e,r){var n=a(t,e,r);if(n<0)return-n-1;for(var i=t.length-1;n<i&&0===r(e,t[n+1]);)n++;return n}(this.array,t,this.Ec);return this.LN&&this.GN([t],[],e),this.array.splice(e,0,t),this.length++,this.LN&&this.UN([t],[],e),!0},o.prototype.delete=function(t,e){if(e)throw new Error("SortedArray#delete does not support second argument: equals");var r=l(this.array,t,this.Ec,this.je);return-1!==r&&(this.LN&&this.GN([],[t],r),this.array.splice(r,1),this.length--,this.LN&&this.UN([],[t],r),!0)},o.prototype.WN=function(t,e){if(e){var r=this.array.WN(t,e);return this.length-=r,r}var n=l(this.array,t,this.Ec,this.je);if(-1===n)return 0;for(var i=n;this.je(t,this.array[i]);)i++;var s=this.slice(n,i);return this.LN&&this.GN([],s,n),this.array.splice(n,s.length),this.length-=s.length,this.LN&&this.UN([],s,n),s.length},o.prototype.indexOf=function(t){return l(this.array,t,this.Ec,this.je)},o.prototype.lastIndexOf=function(t){return u(this.array,t,this.Ec,this.je)},o.prototype.find=function(t,e,r){if(e)throw new Error("SortedArray#find does not support second argument: equals");if(r)throw new Error("SortedArray#find does not support third argument: index");return l(this.array,t,this.Ec,this.je)},o.prototype.findLast=function(t,e,r){if(e)throw new Error("SortedArray#findLast does not support second argument: equals");if(r)throw new Error("SortedArray#findLast does not support third argument: index");return u(this.array,t,this.Ec,this.je)},o.prototype.push=function(){this.hiveAddEach(arguments)},o.prototype.unshift=function(){this.hiveAddEach(arguments)},o.prototype.pop=function(){var t=this.array.pop();return this.length=this.array.length,t},o.prototype.shift=function(){var t=this.array.shift();return this.length=this.array.length,t},o.prototype.slice=function(){return this.array.slice.apply(this.array,arguments)},o.prototype.splice=function(t,e){return this.AH(t,e,Array.prototype.slice.call(arguments,2))},o.prototype.AH=function(t,e,r){if(void 0===t&&void 0===e)return[];(t=t||0)<0&&(t+=this.length),void 0===e&&(e=1/0);var n=this.slice(t,t+e);return this.LN&&this.GN(r,n,t),this.array.splice(t,e),this.length-=n.length,this.LN&&this.UN([],n,t),this.hiveAddEach(r),n},o.prototype.reduce=function(t,e){var r=arguments[2];return this.array.reduce((function(e,n,i){return t.call(r,e,n,i,this)}),e,this)},o.prototype.reduceRight=function(){var t=arguments[2];return this.array.reduceRight((function(e,r,n){return callback.call(t,e,r,n,this)}),basis,this)},o.prototype.min=function(){if(this.length)return this.array[0]},o.prototype.max=function(){if(this.length)return this.array[this.length-1]},o.prototype.mc=function(){return this.array.mc()},o.prototype.clear=function(){var t;this.LN&&(t=this.array.slice(),this.GN([],t,0)),this.length=0,this.array.clear(),this.LN&&this.UN([],t,0)},o.prototype.equals=function(t,e){return this.array.equals(t,e)},o.prototype.compare=function(t,e){return this.array.compare(t,e)},o.prototype.Oc=function(t,e){return new this.Iterator(this.array,t,e)},o.prototype.toJSON=function(){return this.toArray()},o.prototype.Iterator=Array.prototype.Iterator},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.yF=void 0;var n=r(4),i=r(1),s=(o.prototype.addEventListener=function(t,e,r){this.events[t]=this.events[t]||[],this.events[t].push(e)},o.prototype.removeEventListener=function(t,e,r){this.events[t]&&(this.events[t]=this.events[t].filter((function(t){return t!==e})))},o.prototype.dispatchEvent=function(t){var e=this;this.events[t.type]&&this.events[t.type].forEach((function(r){try{"function"==typeof r?r.call(e,t):"function"==typeof r.handleEvent&&r.handleEvent(t)}catch(r){i.ErrorMonitor.getInstance().logError("Error in callback handler",{n2:t.type,error:r})}}));var r=this["on"+t.type];if("function"==typeof r)try{r.call(this,t)}catch(r){i.ErrorMonitor.getInstance().logError("Error in callback handler",{n2:t.type,error:r})}return!1},o.prototype.msCachingEnabled=function(){return void 0!==this.msCaching},o.prototype.overrideMimeType=function(t){this.mimeType=t},o.register=function(t,e){o.TF[t]=e},o.prototype.D5=function(t){this.pluginId||(this.pluginId=o.TF[t])},o.prototype.open=function(t,e,r,i,s){void 0===r&&(r=!0),void 0===i&&(i=null),void 0===s&&(s=null),this.url=e.trim(),this.method=t,this.username=i,this.password=s,this.async=r,this.readyState=this.OPENED;var o=n.createEvent(Event,"readystatechange",{currentTarget:this});this.dispatchEvent(o)},o.prototype.setRequestHeader=function(t,e){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");this.mF.push({key:t,value:e})},o.prototype.getResponseHeader=function(t){var e=this.getAllResponseHeaders();if(e){var r={};return e.split(/[\r\n]+/).forEach((function(t){var e=t.match(/^([^:]+): ?(.+)$/);e&&(r[e[1]]=e[2])})),r[t.toLowerCase()]}return null},o.prototype.getAllResponseHeaders=function(){return this.jS},o.prototype.onload=function(t){},o.prototype.onloadend=function(t){},o.prototype.onerror=function(t){},o.prototype.onprogress=function(t){},o.prototype.onreadystatechange=function(t){},o.prototype.onabort=function(t){},o.prototype.onloadstart=function(t){},o.prototype.ontimeout=function(t){},o.TF={},o.fv=0,o);function o(t){this.loggerId="[HiveXHR] ",this.DONE=4,this.LOADING=3,this.HEADERS_RECEIVED=2,this.OPENED=1,this.UNSENT=0,this.username=null,this.password=null,this.mF=[],this.responseType="",this.readyState=this.UNSENT,this.status=0,this.async=!0,this.timeout=0,this.events={},t&&(this.pluginId=t)}e.yF=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.gF=void 0;var n=r(3),i=r(18),s=r(4),o=r(0),a=(l.prototype.m5=function(t,e){if(!t.internal){var r=s.Ye(t.url);this.P5(r,e&&e.requestCache&&e.requestCache.queryParams||[]),this.L5(t.mF,e&&e.requestCache&&e.requestCache.headers||[])}},l.prototype.h5=function(t){t.internal&&(this.H5(t),t.mF=this.U5(t.mF))},l.prototype.F5=function(){this.x5=new n,this.G5=new n},l.prototype.H5=function(t){var e=this;if(0<this.P5.length){var r=new i(t.url),n="";this.x5.keys().forEach((function(t,i,s){r.jd(t)?e.V5.warn(e.loggerId+"url param ("+t+") already exists in the url, it will not be overridden"):(n+=t+"="+e.x5.get(t),i<s.length-1&&(n+="&"))})),0<n.length&&(t.url+=(0<r.query().length?"&":"?")+n)}},l.prototype.P5=function(t,e){var r=this;Object.keys(t).forEach((function(n){(e.includes(n)||e.includes("*"))&&r.x5.set(n,t[n])}))},l.prototype.U5=function(t){var e=this,r=[];return Object.keys(t).forEach((function(e){r[e]=t[e]})),this.G5.keys().forEach((function(t){r[t]=e.G5.get(t)})),r},l.prototype.L5=function(t,e){var r=this;Object.keys(t).forEach((function(n){(e.includes(n)||e.includes("*"))&&r.G5.set(n,t[n])}))},l.prototype.B5=function(){return this.x5},l.prototype.q5=function(){return this.G5},l);function l(){this.x5=new n,this.G5=new n,this.loggerId="[RequestContext] ",this.V5=o.Framework.resolve(o.Framework.v.p).log()}e.gF=a},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.j5=void 0;var s,o=r(112),a=(i(l,s=o.NQ),l);function l(){return null!==s&&s.apply(this,arguments)||this}e.j5=a},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.P1=void 0;var s,o=r(3),a=r(68),l=r(30),u=r(208),c=r(0),h=r(7),p=r(33),f=r(18),d=r(1),g=r(2),v=r(113),m=r(4),y=r(70),b=(i(E,s=a.AU),E.prototype.getContextId=function(){return this.ticket._M()},E.prototype.T5=function(t){try{var e=t.url=this.Q5(t.url),r=m.ze(e);return r===this.ticket.getManifestUrl()?(this.W5&&this.logger.debug("SAME MANIFEST "+e+","+this.ticket.getManifestUrl)(),!0):null!=this.metadata&&this.metadata.PZ(e)?(this.W5&&this.logger.debug("CORRECT PLAYLIST "+e+","+this.ticket.getManifestUrl),!0):null!=this.metadata&&null!=this.metadata.eF(e)?(this.W5&&this.logger.debug("CORRECT SEGMENT "+e+","+this.ticket.getManifestUrl),!0):(this.metadata.rc(e,this.logger)&&this.manifestUrl!==r&&this.W5&&this.logger.debug("FIRST REQUEST FOR MANIFEST "+e+","+this.ticket.getManifestUrl),!1)}catch(e){return d.ErrorMonitor.getInstance().logError("Error getting the current context of the HiveRequest",this.loggerId,g.Ft.ur,{detailedError:e,url:t.url}),!1}},E.prototype.Q5=function(t){return f(t).fE().toString()},E.prototype.gS=function(t){var e=0,r=null,n=0,i=!0,s=!1;try{var o=this.nS(t);if(o!=h.af.lf){var a=this.metadata.eF(t);null!=a&&(e=a.duration.ms(),r=a.qualityLevel,n=a.id,s=this.fS(t))}else i=!1,null!=this.metadata&&this.metadata.PZ(t)&&(r=this.metadata.HZ(t).qualityLevel,this.O5.set(r.id,c.Framework.time()));return new p.SA(t,o,i,n,e,r,s,this.getContextId())}catch(e){return d.ErrorMonitor.getInstance().logError("Error getting the entityCharacteristics from the url",this.loggerId,g.Ft.er,{detailedError:e,url:t}),new p.SA(t,h.af.vf,!1,0,0,null,!1,this.getContextId())}},E.prototype.fU=function(t){try{var e=t.ES(),r=t.bS(),n=this.metadata.parse(r,e);if(this.metadata.PZ(r)){var i=this.metadata.HZ(r);this.I5.zQ(),void 0===this.aF&&(this.aF=!i.endList),this.UU.bD(i.qualityLevel)}t.DS.response=n,t.DS.responseText=n}catch(e){d.ErrorMonitor.getInstance().logError("Error receiving the metadata",this.loggerId,g.Ft.jr,{detailedError:e,url:t.oS()}),t.ES()&&(t.DS.responseText=t.ES(),t.DS.response=t.ES())}},E.prototype.sF=function(t){s.prototype.sF.call(this,t),t.nS()!=h.af.lf&&t.nS()!=h.af.vf&&(this.cF.xQ(t),t.nS()==h.af.cf&&this.UU.vD(t.rS))},E.prototype.dU=function(t,e){var r=t;return r.kU=c.Framework.time(),s.prototype.dU.call(this,r,e)},E.prototype.jD=function(t){l.sc.dA&&null==this.A5.get(t.id)&&this.metadata.isLive()&&this.N5(t)},E.prototype.N5=function(t){var e=this;try{var r=this.metadata.FZ().get(t.id);if(null!=r){var n=this.O5.has(t.id),i=this.O5.get(t.id),s=(n?i:0)+(null!=r.segments?r.segments[r.segments.length-1].duration.ms():l.sc.lA),o=Math.max(1,s-c.Framework.time()+l.sc.vA);this.logger.debug("HLS PREFETCHING METADATA "+r.BZ+" QUALITY LEVEL "+t.id+" IN "+o+" MS");var a=c.Framework.setTimeout((function(){e.C5(t,r.BZ,c.Framework.time())}),o);this.A5.set(t.id,a)}else this.logger.warn("NO STREAM WITH QL "+t.id)}catch(t){d.ErrorMonitor.getInstance().logError("Error scheduling metadata prefetch",this.loggerId,g.Ft.Mr,t)}},E.prototype.C5=function(t,e,r){var n=this.O5.get(t.id);if(null==n&&(n=0),r<n)this.N5(t);else{var i=new y.AD(this.ticket.pluginId);i.open("GET",e),i.send(),this.A5.delete(t.id),this.O5.set(t.id,c.Framework.time())}},E.prototype._5=function(){var t=this;this.A5.keys().forEach((function(e){var r=t.A5.get(e);c.Framework.clearTimeout(r),t.A5.delete(e)}))},E.prototype.HD=function(){return s.prototype.NU.call(this,l.sc.aA,l.sc.fA)},E.prototype.BD=function(t,e,r,n){return r-t},E.prototype.VD=function(){return l.sc.cA},E.prototype.k5=function(){return l.sc.EA},E.prototype.GD=function(t,e){try{var r=this.rD(),n=this.nF(),i=r.jA(),s=0;if(i<t)for(var o=this.metadata.lF(i,e);o&&o.id<t;)s+=o.duration.ms(),o=o.next;var a=c.Framework.time()-n;return Math.max(0,s-a)}catch(t){return d.ErrorMonitor.getInstance().logError("Error getting the distance duration",this.loggerId,g.Ft.dr,t),0}},E.prototype.Mx=function(t,e){return 1},E);function E(t,e,r){var n=s.call(this,t,e)||this;return n.loggerId="[HLS Context] ",n.W5=!1,n.O5=new o,n.A5=new o,n.cF=new u.Y5(e.z_),n.metadata=l.sc.sR({px:!0},e.sessionId,r),n.I5=new v.QQ(n.metadata),n}e.P1=b},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.Y5=void 0;var s,o=r(112),a=(i(l,s=o.NQ),l);function l(){return null!==s&&s.apply(this,arguments)||this}e.Y5=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e._2=void 0;var n=r(3),i=r(5),s=r(0),o=r(210),a=r(114),l=r(211),u=r(1),c=r(2),h=(p.prototype.init=function(t,e){this.z5=t,this.K5=e},p.prototype.put=function(t){var e=i.defer();try{var r=t.sS(),n=t.jS,s=t.dS,h=t.ZR.VR-1,p=t.ZR.VR;-1==this.X5&&this.J5();var f=null,d=!1;if(this.Z5.has(r)){f=this.Z5.get(r);var g=new a.tW(0,h,p);d=!0,f.content.forEach((function(t,e){a.ZQ.eW(e).rW(g)&&(d=!1)}))}else{var v=new a.tW(0,h,p).toString();f=new l.t4(t.rS),t.partner&&(f.c5=t.partner.zD.peerInfo),f.content.set(v,new o.i4(p,s,t.ZR,t.iS())),this.Z5.set(r,f),d=!0,this.n4.unshift(r)}null==f.headers&&null!=n&&(f.headers=n),d?e.resolve(!0):e.reject(!1)}catch(t){u.ErrorMonitor.getInstance().logError("Error adding fragment in LiveCache",this.loggerId,c.Zt.Ui,t),e.reject("CACHE PUT ERROR "+t)}return e.promise},p.prototype.get=function(t){var e=i.defer();try{var r=this.Z5.get(t);if(null!=r){var n=null;r.content.forEach((function(t,e){if(a.ZQ.eW(e).iW())return(n=t).headers=r.headers,void(n.c5=r.c5)})),e.resolve(n)}else e.reject(!1)}catch(t){u.ErrorMonitor.getInstance().logError("Error getting fragment from LiveCache",this.loggerId,c.Zt.Fi,t),e.reject("CACHE GET ERROR "+t)}return e.promise},p.prototype.DD=function(){try{return this.Z5.keys()}catch(t){return u.ErrorMonitor.getInstance().logError("Error getting keys from LiveCache",this.loggerId,c.Zt.Gi,t),[]}},p.prototype.r4=function(){var t=i.defer();try{t.resolve(this.Z5.values())}catch(e){u.ErrorMonitor.getInstance().logError("Error getting elements from LiveCache",this.loggerId,c.Zt.Vi,e),t.reject("CACHE GET ELEMENTS ERROR "+e)}return t.promise},p.prototype.contains=function(t){var e=i.defer();try{this.Z5.has(t)?e.resolve(!0):e.resolve(!1)}catch(t){u.ErrorMonitor.getInstance().logError("Error checking if LiveCache contains the fragment",this.loggerId,c.Zt.xi,t),e.reject("CACHE CONTAINS ERROR "+t)}return e.promise},p.prototype.J5=function(){var t=this;this.s4(),this.logger.debug(this.loggerId+"Starting cache periodic purge"),this.X5=s.Framework.setInterval((function(){t.P()}),this.K5)},p.prototype.s4=function(){-1!=this.X5&&(this.logger.debug(this.loggerId+" Stopping cache periodic purge"),s.Framework.clearInterval(this.X5),this.X5=-1)},p.prototype.P=function(){var t=this;try{var e=0,r=0,n=0;this.logger.debug(this.loggerId+" RUNNING GC"),this.n4.every((function(n,i){var s=t.Z5.get(n).size();return e+s>t.z5?(r=i,!1):(e+=s,!0)}))||(n=this.n4.length-r,this.n4.splice(r,this.n4.length-1).forEach((function(e){t.Z5.delete(e)}))),this.logger.debug(this.loggerId+" GC DONE - REMOVED: "+n+" - CURRENT ITEMS: "+this.Z5.length+" SIZE: "+e+" "),0===this.Z5.length&&(this.logger.debug(this.loggerId+" Cache contains no items, stopping purge timer"),this.s4())}catch(n){u.ErrorMonitor.getInstance().logError("Error purging LiveCache",this.loggerId,c.Zt.Bi,n)}},p.prototype.a3=function(){this.Z5=new n,this.n4=[]},p.prototype.e4=function(){var t=this;this.Z5.forEach((function(e,r){t.logger.debug("EID="+r),e.content.forEach((function(e,r){t.logger.debug("\tRANGE ",r)}))}))},p.prototype.remove=function(t){var e=t.sS();try{this.Z5.has(e)&&this.Z5.delete(e)}catch(t){this.logger.warn("Failed to remove element "+e+" from Cache. "+t)}},p);function p(){this.loggerId="[LIVE CACHE] ",this.Z5=new n,this.X5=-1,this.n4=[],this.logger=s.Framework.resolve(s.Framework.v.p).log()}e._2=h},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.i4=void 0,e.i4=function(t,e,r,n){this.length=t,this.data=e,this.ZR=r,this.h4=n}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.t4=void 0;var n=r(114),i=r(3),s=(o.prototype.size=function(){var t=0;return this.content.forEach((function(e,r){t+=n.ZQ.eW(r).size()})),t},o);function o(t){this.headers=null,this.c5=null,this.totalSize=0,this.o4=!1,this.rS=t,this.content=new i}e.t4=s},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Cache=void 0;var n=r(0),i=r(5),s=r(2),o=r(1),a=(l.prototype.init=function(t,e){try{this.u4.init(t,e)}catch(t){o.ErrorMonitor.getInstance().logError("Error initializing cache",this.loggerId,s.ti.Hi,t)}},l.prototype.put=function(t){var e=this,r=i.defer();try{this.u4.put(t).then((function(){r.resolve(!0)})).catch((function(t){t&&o.ErrorMonitor.getInstance().logError("Error adding new fragment in cache",e.loggerId,s.ti.Ui,t),r.reject(!1)}))}catch(t){o.ErrorMonitor.getInstance().logError("Error adding new fragment in cache",this.loggerId,s.ti.Ui,t),r.reject(!1)}return r.promise},l.prototype.get=function(t){var e=this,r=i.defer();try{this.contains(t).then((function(n){n?e.u4.get(t).then((function(t){r.resolve(t)})).catch((function(t){t&&o.ErrorMonitor.getInstance().logError("Error getting the fragment from cache",e.loggerId,s.ti.Fi,t),r.reject(!1)})):r.reject(!1)})).catch((function(t){t&&o.ErrorMonitor.getInstance().logError("Error getting the fragment from cache",e.loggerId,s.ti.Fi,t),r.reject(!1)}))}catch(t){o.ErrorMonitor.getInstance().logError("Error getting the fragment from cache",this.loggerId,s.ti.Fi,t),r.reject(!1)}return r.promise},l.prototype.contains=function(t){var e=this,r=i.defer(),n=!1;try{this.u4.contains(t).then((function(t){n=t})).fail((function(t){e.logger.error(t)})).finally((function(){r.resolve(n)}))}catch(t){o.ErrorMonitor.getInstance().logError("Error checking if cache contains the fragment",this.loggerId,s.ti.xi,t),r.resolve(!1)}return r.promise},l.prototype.DD=function(){try{return this.u4.DD()}catch(t){return o.ErrorMonitor.getInstance().logError("Error getting the keys from cache",this.loggerId,s.ti.Gi,t),[]}},l.prototype.r4=function(){var t=this,e=i.defer(),r=[];try{this.u4.r4().then((function(t){r=t})).fail((function(e){t.logger.error(e)})).finally((function(){e.resolve(r)}))}catch(t){o.ErrorMonitor.getInstance().logError("Error getting the elements from cache ",this.loggerId,s.ti.Vi,t),e.resolve(r)}return e.promise},l.prototype.a3=function(){this.u4.a3()},l.prototype.remove=function(t){this.u4.remove(t)},l);function l(){this.loggerId="[CACHE] ",this.logger=n.Framework.resolve(n.Framework.v.p).log(),this.u4=n.Framework.resolve(n.Framework.v.eC)}e.Cache=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.R2=void 0;var n=r(3),i=r(27),s=r(4),o=r(4),a=r(6),l=r(0),u=r(7),c=r(1),h=r(2),p=r(4),f=(d.prototype.init=function(t){this.logger=l.Framework.resolve(l.Framework.v.p).log(t.sessionId),this.nw=t.YM,this.z_=t.z_,this.z_&&(this.bandwidth=this.z_.MB()),this.D_=t.reportingInstance.D_,this.D_.vV(this.aQ)},d.prototype.request=function(t){var e=this,r=l.Framework.resolve(l.Framework.v.iC),n=!1,i=t.eS(),s=t.DS,p=t.DS.url;t.xhr=r,t.ZR.$R=l.Framework.time(),this.logger.debug("REQ FOR FRAGMENT "+t.rS.toString()+"-"+t.ZR.BR+" ["+u.af[t.nS()]+"] TO CDN "),t.rS.PA()&&(r.responseType="arraybuffer"),this.a4(t.type)&&s.range&&t.nS()!=u.af.lf&&r.setRequestHeader("Range","bytes="+s.range),a.Ko.Xa.sa&&this.f4(t.type)&&0!=t.ZR.BR&&(this.logger.info("SET RANGE bytes="+t.ZR.BR+"-"),r.setRequestHeader("Range","bytes="+t.ZR.BR+"-")),s.pb(r),r.onloadstart=function(t){var e=o.createEvent(Event,"loadstart",t,s);s.dispatchEvent(e)},r.onabort=function(t){if(!n){var e=o.createEvent(Event,"abort",t,s);s.dispatchEvent(e)}},r.ontimeout=function(a){if(!n){s.status=r.status,e.error(t,i,10);var l=o.createEvent(ProgressEvent,"timeout",a,s);s.dispatchEvent(l),c.ErrorMonitor.getInstance().logError("Error on fallback request because of timeout",e.loggerId,h.It.te)}},r.onreadystatechange=function(t){if(s&&(r.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(s.jS=r.getAllResponseHeaders(),s.status=r.status,s.statusText=r.statusText),r.readyState<XMLHttpRequest.DONE||r.readyState===XMLHttpRequest.DONE&&0===r.status)){0===r.status&&(s.status=r.status,s.statusText=r.statusText),s.readyState=r.readyState;var e=o.createEvent(Event,"readystatechange",t,s);s.dispatchEvent(e)}},r.onprogress=function(n){if(!e.f4(t.type)){var i=o.createEvent(ProgressEvent,"progress",n,s);s.dispatchEvent(i),r.total=n.total}t.ZR.WR=n.total,t.size=n.total},r.onload=function(u){if(n=!0,s.status=r.status,s.responseURL=r.responseURL,u&&0!=u.total&&(t.ZR.WR=u.total),t.jS=r.getAllResponseHeaders(),r.status<200||299<r.status){e.logger.debug("SERVER RETURNED ERROR CODE "+r.status),e.error(t,i);var c={bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:r.loaded,total:r.total,currentTarget:s};return s.readyState=XMLHttpRequest.DONE,s.dispatchEvent(o.createEvent(Event,"readystatechange",c)),s.dispatchEvent(o.createEvent(ProgressEvent,"load",c)),void s.dispatchEvent(o.createEvent(ProgressEvent,"loadend",c))}t.rS.PA()?e.a4(t.type)?t.dS=r.response:e.f4(t.type)&&(a.Ko.Xa.sa?t.dS=l.Framework.T()?null:o.appendBuffer(t.dS,r.response):t.dS=r.response):t.responseText=r.responseText,e.c4.delete(i),t.ZR.XR=l.Framework.time(),e.l4(t),e.v4(t),e.nw.u5(t),r=null},r.onerror=function(a){if(!n){s.status=r.status,e.error(t,i);var l=o.createEvent(ProgressEvent,"error",a,s);s.dispatchEvent(l)}},this.c4.set(i,t),r.open("GET",p,s.async,s.username,s.password),r.send()},d.prototype.error=function(t,e,r){this.D_&&!this.d4(t.type)&&(r&&0<r?this.D_.KV(r):t.xhr.status&&0<t.xhr.status?this.D_.KV(t.xhr.status):this.D_.KV(404));var n="COULD NOT DOWNLOAD "+t.oS()+" status: "+t.xhr.status;t.type==i.RequestType.UR?this.logger.debug(n):this.logger.warn(n),this.E4(t),this.c4.delete(e),this.nw.o5(t)},d.prototype.vo=function(t){return this.c4.has(t)},d.prototype.d4=function(t){return t==i.RequestType.UR||t==i.RequestType.xR},d.prototype.a4=function(t){return t==i.RequestType.UR||t==i.RequestType.HR||t==i.RequestType.LR},d.prototype.f4=function(t){return t==i.RequestType.FR},d.prototype.W3=function(t){var e=this.c4.get(t);this.c4.delete(t),e&&e.xhr&&e.xhr.abort()},d.prototype.v4=function(t){t.rS.nS()==u.af.cf&&this.aQ.add(t.cS()),this.logger.info("SUCCESS FROM CDN REQUEST FOR "+t.oS()+" ["+i.RequestType[t.type]+"]["+t.ZR.WR+"] AFTER "+t.cS()+" [curr:"+t.vS().xh()+" avg:"+this.bandwidth.xh()+"]")},d.prototype.E4=function(t){},d.prototype.t5=function(){return this.bandwidth},d.prototype.l4=function(t){t.nS()===u.af.cf&&this.bandwidth.Ph(t.vS())},d);function d(){this.loggerId="[FallbackRequester] ",this.c4=new n,this.bandwidth=new s.hh,this.aQ=new p.uh}e.R2=f},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.A2=void 0;var n=r(5);r(28);var i=r(0),s=r(6),o=r(55),a=r(68),l=r(11),u=r(115),c=hive.services.protocol.tracker.CustomerKey,h=r(10),p=r(8),f=r(1),d=r(2),g=r(4),v=p.K.Cf,m=(y.prototype.init=function(t){this.logger=i.Framework.resolve(i.Framework.v.p).log(t.sessionId),this.sessionId=t.sessionId,this.g3=t.g3,this.z_=t.z_,this.pF=t.pF,this.N3=t.KM,this._3.w4(t.sessionId,this),this.g4=u.hW.oW,this.D_=t.reportingInstance.D_,this.D_.aV(this.b4)},y.prototype.start=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];this.context=t,this.streamId=t.M.getContextId(),this.ticket=t.M.eP(),this.listeners=e},y.prototype.v3=function(){var t=this;this.o3(),this.y4=i.Framework.setInterval((function(){t.T4()}),s.Ko.Wa.yu),this.T4()},y.prototype.o3=function(){this.y4&&i.Framework.clearInterval(this.y4)},y.prototype.m4=function(){var t=this,e=n.defer(),r=new hive.services.protocol.tracker.TrackerRequest,i=this.context.M,s=i.JH()?StreamType.LIVE:StreamType.VOD;r.sessionId=this.sessionId;var o=new c;return h.HiveConfig.ClientInfo.ec&&h.HiveConfig.ClientInfo.hc?(o.partnerId=h.HiveConfig.ClientInfo.ec,o.customerId=h.HiveConfig.ClientInfo.hc):(o.partnerId=this.ticket.LI(),o.customerId=this.ticket.HI()),r.customerKey=o,r.streamType=s,r.contentId=this.z_.getContextId(),this.WI.getConnectivityInfo().then((function(e){t.O4=e.getNetworkChanged().getPrivateIp(),t.z_.dq(t.O4)})).fail((function(e){f.ErrorMonitor.getInstance().logError("Error getting connectivity info",t.loggerId,d.Pt.qr,e)})).finally((function(){try{var n=new hive.snapshots.ConnectivityInfo;n.publicIp=t.UV,n.privateIp=t.O4,r.info=t.I4(n,i),r.query=t._4(i,r.info),e.resolve(r)}catch(n){f.ErrorMonitor.getInstance().logError("Error collecting the data for the tracker request",t.loggerId,d.Pt.Qr,n),e.reject("ERROR")}})).done(),e.promise},y.prototype.R4=function(){var t=new Array;return this.g4==u.hW.oW?t.push(hive.services.protocol.tracker.TrackerRankType.Global):this.g4==u.hW.AS?t.push(hive.services.protocol.tracker.TrackerRankType.GS):this.g4==u.hW.VM?t.push(hive.services.protocol.tracker.TrackerRankType.xS):this.logger.warn("Wrong locality mode"),t},y.prototype._4=function(t,e){var r=this,n=new hive.services.protocol.tracker.TrackerQuery;try{return n.random=s.Ko.if.ya,e.externalAs&&!this.HV&&(this.HV=e.externalAs),n.rankings=this.R4(),n.asns=[],0<this.HV&&this.S4(n.asns,hive.services.protocol.tracker.TrackerAsType.External,this.HV,s.Ko.if.Ta),0<this.z_.WD()&&(this.S4(n.asns,hive.services.protocol.tracker.TrackerAsType.BS,this.z_.WD(),s.Ko.if.ma),n.watchersForQualityLevel=[],t.mD().forEach((function(t){var e=r.A4(hive.services.protocol.tracker.TrackerAsType.BS,r.z_.WD(),t,-1);n.watchersForQualityLevel.push({key:e,value:1})})),n.streamersForQualityLevel=[],this.z_.sQ().forEach((function(t,e){var i=r.A4(hive.services.protocol.tracker.TrackerAsType.BS,r.z_.WD(),t.qualityLevel,t.type==o.xM.VM?hive.services.protocol.tracker.TrackerPeerStreamState.US:-1);n.streamersForQualityLevel.push({key:i,value:s.Ko.if.Oa})}))),n}catch(t){throw f.ErrorMonitor.getInstance().logError("Error preparing tracker query",this.loggerId,d.Pt.Wr,t),new Error(t)}},y.prototype.A4=function(t,e,r,n){var i=new hive.services.protocol.tracker.TrackerQualityLevelQuery,s=new hive.services.protocol.tracker.TrackerAsQuery;return s.asType=t,s.asn=e,i.qualityLevel=r.id,i.asn=s,i},y.prototype.S4=function(t,e,r,n){var i=new hive.services.protocol.tracker.TrackerAsQuery;i.asType=e,i.asn=r,t.push({key:i,value:n})},y.prototype.I4=function(t,e){var r=new hive.services.protocol.tracker.TrackerPeerInfo;try{if(i.Framework.T()?r.guid=this.pI:r.guid=btoa(this.pI),r.timestamp=i.Framework.time(),r.nat=void 0,r.internalAs=this.z_.WD(),this.z_.YD()&&(r.externalAs=this.z_.YD()),null!=t){r.publicIpString=t.publicIp;var n=new InetAddress;n.address=t.publicIp,r.publicIp=n,r.privateIpString=t.privateIp;var s=new InetAddress;s.address=t.privateIp,r.privateIp=s}var l=Math.round(this.z_.MB().Hh()/8);if(r.bandwidth=isNaN(l)?null:l,!this.z_.xD()&&this.z_.XD()&&v?r.rankValue=1:r.rankValue=this.z_.xq(),this.context.M instanceof a.AU){r.streams=new Array;var u=e.rD();null!=u&&(r.watchingQualityLevel=u.getQualityLevel().id);var c=e.uF();this.z_.sQ().forEach((function(t,e){if(t.kA){var n=new hive.services.protocol.tracker.TrackerPeerStreamInfo;switch(n.qualityLevel=t.qualityLevel.id,t.type){case o.xM.LS:n.state=hive.services.protocol.tracker.TrackerPeerStreamState.HS;break;case o.xM.GM:n.state=hive.services.protocol.tracker.TrackerPeerStreamState.FS;break;case o.xM.VM:n.state=hive.services.protocol.tracker.TrackerPeerStreamState.US}n.delta=c.yD(t.kA.jA(),t.qualityLevel),r.streams.push(n)}}))}return r}catch(t){throw f.ErrorMonitor.getInstance().logError("Error preparing tracker info",this.loggerId,d.Pt.zr,t),new Error(t)}},y.prototype.T4=function(){var t=this;this.N4=i.Framework.time(),this.m4().then((function(e){var r=t.loggerId+"SENDING TRACKER REQUEST [ privateIp:"+e.info.privateIpString+" rank:"+e.info.rankValue+"]";switch(t.C4){case 0:default:t.logger.debug(r);break;case 1:t.logger.debug(r+" "+JSON.stringify(e));break;case 2:t.logger.debug(r,e);break;case 3:t.logger.debug(r+" "+JSON.stringify(e),e)}t._3.j4(e)}),(function(e){f.ErrorMonitor.getInstance().logError("Error preparing the tracker request",t.loggerId,d.Pt.Br,e)})).catch((function(e){f.ErrorMonitor.getInstance().logError("Error sending tracker request",t.loggerId,d.Pt.Kr,e)}))},y.prototype.M4=function(t){this.g4=t},y.prototype.D4=function(){var t=Math.max(0,i.Framework.time()-this.N4);0<t&&t<s.Ko.if.TIMEOUT&&this.b4.add(t)},y.prototype.J3=function(t){var e=this;try{switch(this.D4(),this.C4){case 1:this.logger.debug(this.loggerId+this.context.M.eP()+" Tracker Response: "+JSON.stringify(t));break;case 2:this.logger.debug(this.loggerId+this.context.M.eP()+" Tracker Response: ",t);break;case 3:this.logger.debug(this.loggerId+this.context.M.eP()+" Tracker Response: "+JSON.stringify(t),t)}this.HV=t.peerInfo.externalAs,this.UV=t.peerInfo.publicIpString,this.O4=t.peerInfo.privateIpString,this.localityGroupId=t.peerInfo.localityGroupId,this.z_.Eq(this.UV),this.z_.kq(t.peerInfo.internalAs),this.z_.setIsVpn(t.peerInfo.isVpn),this.z_.Kq(this.HV),this.WI.wq(this.UV,this.O4,this.z_.WD()),this.logger.debug(this.loggerId+"Reporting from tracker public IP:"+this.UV+" private IP: "+this.O4+" ExtAs:"+this.HV+" inAs:"+this.z_.WD()+" localityGroupId:"+this.localityGroupId),!this.z_.xD()&&this.z_.XD()&&v?this.N3.QW(!1):this.N3.P4(t.rankings,t.infos);var r=this.L4(t);this.listeners.forEach((function(t){return t.mW(r,e.H4)})),this.H4=!1}catch(t){f.ErrorMonitor.getInstance().logError("Error handling the response",this.loggerId,d.Pt.$r,t)}},y.prototype.L4=function(t){for(var e=[],r=0,n=t.infos;r<n.length;r++){var i=n[r],s=new l.uc(l.ac.fc,i);e.push(s)}return e},y.prototype.tY=function(t){},y.prototype.$I=function(t){this.pI=t,this.logger.info(this.loggerId+"CONNECTED "+this.pI),s.Ko.qa.vu&&(this.N3.U4(),this.v3())},y.prototype.mY=function(){},y);function y(){this.C4=isNaN(h.HiveConfig.DebugLogs.TrackerLogs)?0:h.HiveConfig.DebugLogs.TrackerLogs,this.loggerId="[TRACKER] ",this.HV=0,this.localityGroupId=0,this.F4=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{0,4}){5})/,this.H4=!0,this.Pl=i.Framework.resolve(i.Framework.v.Ll),this.WI=i.Framework.resolve(i.Framework.v.XI),this._3=i.Framework.resolve(i.Framework.v.SC),this.b4=new g.uh}e.A2=m},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.M2=e.Element=void 0;var n=r(3),i=r(0),s=r(4),o=r(1),a=r(2),l=function(t,e){this.id=t,this.size=e};e.Element=l;var u=(c.prototype.put=function(t,e){try{var r=t.fragmentId,n=t.size;this.x4.has(r)||(this.x4.set(r,new l(r,n)),this.G4.set(r,new Array)),this.G4.get(r).push(e)}catch(t){throw o.ErrorMonitor.getInstance().logError("Error adding new have in object index",this.loggerId,a.Tt.re,t),new Error(t)}},c.prototype.contains=function(t){return this.G4.has(t)},c.prototype.QD=function(t){return this.G4.get(t)},c.prototype.qD=function(t){return this.x4.get(t)},c.prototype.az=function(t){var e=this;try{this.G4.forEach((function(r,n){s.nh(r,t,!1),0===r.length&&(e.G4.delete(n),e.x4.delete(n))}))}catch(t){o.ErrorMonitor.getInstance().logError("Error removing haves send from a specific peer",this.loggerId,a.Tt.se,t)}},c.prototype.e4=function(){var t=this;this.G4.forEach((function(e,r){t.logger.debug("OBJIDX FR "+r+" PS "+e.map((function(t){return t.YY.transport.otherGuid})).reduce((function(t,e){return t+","+e})))}))},c);function c(){this.loggerId="[ObjectIndex] ",this.x4=new n,this.G4=new n,this.logger=i.Framework.resolve(i.Framework.v.p).log()}e.M2=u},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Za=void 0;var n=r(3),i=r(6),s=r(0),o=r(4),a=r(11),l=r(217),u=r(54),c=r(116),h=r(8),p=r(1),f=r(2),d=r(119),g=h.K.Cf,v=(m.prototype.init=function(t){this.logger=s.Framework.resolve(s.Framework.v.p).log(t.sessionId),this.configStore=s.Framework.resolve(s.Framework.v.PC),this.partnership=t.partnership,this.z_=t.z_,this.y3=t.y3,this.V4=t.wF,(g||s.Framework.T()&&u.Wc.HM)&&(this.i3=t.i3),i.Ko.qa.vu&&this.start(),this.configStore.on("p2p.siteToSiteEnabled",this.B4.bind(this)),this.configStore.on("p2p.peeringPolicy",this.pY.bind(this))},m.prototype.start=function(){this.q4=!0},m.prototype.stop=function(){this.q4=!1},m.prototype.mW=function(t,e){var r=this;try{if(this.q4){var n=[];t.forEach((function(t){var e=null;r.Q4(t)&&(t.type==a.ac.fc?e=r.W4(t):g||s.Framework.T()&&u.Wc.HM?(e=r.Y4(t),r.i3.lW(t).then((function(){r.partnership.OY(r.sz.get(t.guid))})).fail((function(e){e&&e!=c.uW._W&&(r.sz.delete(t.guid),p.ErrorMonitor.getInstance().logError("Error electing lan leader",r.loggerId,f.Xt.Qi,e))}))):e=r.Y4(t)),e&&n.push(e.peerInfo.guid)})),this.z4(),this.handleStats(),e&&this.partnership.kY(e),0<n.length&&this.logger.debug(this.loggerId+" DISCOVERED/ADDED NEW PEERS"+t.length+"/"+n.length+": ["+n.map((function(t){return t.substring(0,8)}))+"]")}}catch(t){p.ErrorMonitor.getInstance().logError("Error discovering peers",this.loggerId,f.Xt.qi,t)}},m.prototype.Q4=function(t){var e=this.configStore.getConfig("p2p.peeringPolicy");return!(t.guid===this.pI||!this.configStore.getConfig("p2p.siteToSiteEnabled")&&t.internalAs!==this.z_.WD()||(e===d.Sz.Rz||e===d.Sz.Az)&&this.K4(t)||e===d.Sz.Az&&this.X4(t))},m.prototype.K4=function(t){return t.isVpn||this.z_.getIsVpn()},m.prototype.X4=function(t){return!t.internalAs||!this.z_.WD()},m.prototype.B4=function(t){var e=this;t||(this.J4.concat(this.sz).filter((function(t){return t.peerInfo.internalAs!==e.z_.WD()})).map((function(t){return e.J4.delete(t.peerInfo.guid)})),this.handleStats())},m.prototype.pY=function(t){(t===d.Sz.Rz||t===d.Sz.Az)&&this.z_.getIsVpn()||t===d.Sz.Az&&!this.z_.WD()?this.Z4():t===d.Sz.Rz?this.t6():t===d.Sz.Az&&(this.t6(),this.i6())},m.prototype.Z4=function(){var t=this;this.J4.concat(this.sz).map((function(e){return t.J4.delete(e.peerInfo.guid)})),this.handleStats()},m.prototype.t6=function(){var t=this;this.J4.concat(this.sz).filter((function(t){return t.peerInfo.isVpn})).map((function(e){return t.J4.delete(e.peerInfo.guid)})),this.handleStats()},m.prototype.i6=function(){var t=this;this.J4.concat(this.sz).filter((function(t){return!t.peerInfo.internalAs})).map((function(e){return t.J4.delete(e.peerInfo.guid)})),this.handleStats()},m.prototype.handleStats=function(){var t=this.J4.length+this.sz.length;this.V4.n6(t)},m.prototype.z4=function(){try{this.J4.length>i.Ko.Za.ga&&this.r6(this.J4,i.Ko.Za.ga),this.sz.length>=i.Ko.Za.ba&&this.s6(this.sz)}catch(t){p.ErrorMonitor.getInstance().logError("Error clearing membership views",this.loggerId,f.Xt.Wi,t)}},m.prototype.r6=function(t,e){for(var r=t.values().sort((function(t,e){return t.peerInfo.timestamp-e.peerInfo.timestamp}));t.length>e;){var n=r.splice(0,1)[0];this.partnership.IY(n)||t.delete(n.peerInfo.guid)}},m.prototype.s6=function(t){var e=t.keys()[s.Framework.random()*t.length];t.delete(e)},m.prototype.Y4=function(t){var e=null;try{if(this.J4.has(t.guid)?(e=this.J4.get(t.guid),this.J4.delete(t.guid),this.sz.set(t.guid,e)):this.sz.has(t.guid)&&(e=this.sz.get(t.guid)),!e)return e=new l.e6(t),this.sz.set(t.guid,e),e;e.h6(t)}catch(t){return p.ErrorMonitor.getInstance().logError("Error adding peer to lan view",this.loggerId,f.Xt.Yi,t),null}},m.prototype.W4=function(t){var e=null;try{if(this.sz.has(t.guid))this.Y4(t);else{if(!this.J4.has(t.guid))return e=new l.e6(t),this.J4.set(t.guid,e),this.y3.o6(e),e;(e=this.J4.get(t.guid)).h6(t),this.y3.o6(e)}}catch(t){return p.ErrorMonitor.getInstance().logError("Error adding peer to random view",this.loggerId,f.Xt.zi,t),null}},m.prototype.jY=function(t,e){var r=[];try{return this.q4&&(r=g||s.Framework.T()&&u.Wc.HM?o.Ze(this.J4.values()):(r=this.J4.values(),this.sz.forEach((function(t,e){r.push(t)})),o.Ze(r))),t?r:e?r.slice(0,e):r.slice(0,2*i.Ko.Ga.Xo)}catch(t){return p.ErrorMonitor.getInstance().logError("Error sampling membership",this.loggerId,f.Xt.Ki,t),[]}},m.prototype.ZY=function(t){return this.J4.has(t)?this.J4.get(t):this.sz.has(t)?this.sz.get(t):null},m.prototype.$I=function(t){this.logger.info(this.loggerId+"MEMBERSHIP SERVER CONNECTED"),this.pI=t,this.z_.setId(this.pI)},m.prototype.mY=function(){},m.prototype.tY=function(t){this.J4.delete(t),this.sz.delete(t),this.handleStats()},m.prototype.fz=function(t){this.J4.has(t)&&(this.logger.debug("REMOVING "+t+" FROM RANDOM MEMBER VIEW"),this.J4.delete(t)),this.sz.has(t)&&(this.logger.debug("REMOVING "+t+" FROM LAN MEMBER VIEW"),this.sz.delete(t))},m);function m(){this.loggerId="[Membership] ",this.pI=null,this.J4=new n,this.sz=new n}e.Za=v},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.e6=void 0;var n=r(11),i=r(218),s=r(4),o=(a.prototype.qY=function(){return this.peerInfo.type===n.ac.cc},a.prototype.u6=function(t){this.a6=new i.f6([t])},a.prototype.c6=function(){return this.a6},a.prototype.l6=function(){return this.y3},a.prototype.v6=function(t){isNaN(t)||(this.y3=t)},a.prototype.h6=function(t){this.peerInfo.type==n.ac.fc&&t.type==n.ac.cc?this.peerInfo.type=n.ac.cc:this.peerInfo.type==n.ac.fc&&t.type==n.ac.fc||this.peerInfo.type==n.ac.cc&&t.type==n.ac.cc?this.d6(this.peerInfo,t):this.peerInfo.type==n.ac.cc&&t.type==n.ac.fc&&(this.d6(this.peerInfo,t),this.peerInfo.type=n.ac.cc)},a.prototype.gz=function(t){this.peerInfo.watchingQualityLevel=t},a.prototype.d6=function(t,e){t.internalAs=this.E6(t.internalAs,e.internalAs),t.isVpn=this.E6(t.isVpn,e.isVpn),t.externalAs=this.E6(t.externalAs,e.externalAs),t.nat=this.E6(t.nat,e.nat),t.bandwidth=this.E6(t.bandwidth,e.bandwidth),t.watchingQualityLevel=this.E6(t.watchingQualityLevel,e.watchingQualityLevel),t.privateIpString=this.E6(t.privateIpString,e.privateIpString),t.publicIpString=this.E6(t.publicIpString,e.publicIpString),t.rankValue=this.E6(t.rankValue,e.rankValue),t.timestamp=this.E6(t.timestamp,e.timestamp),e.isLeader&&(t.isLeader=this.E6(t.isLeader,e.isLeader)),e.streams&&(t.streams=e.streams)},a.prototype.E6=function(t,e){return s.xe(t)?s.xe(e)&&t!=e&&(t=e):s.xe(e)&&(t=e),t},a);function a(t){this.y3=0,this.peerInfo=t}e.e6=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.f6=void 0;var n=(i.prototype.w6=function(){return this.p6||this.g6(),this.p6},i.prototype.g6=function(){for(var t=[],e=0;e<this.columns;e++){for(var r=[],n=0;n<this.rows;n++)r.push(this.matrix[n][e]);t.push(r)}this.p6=new i(t)},i.prototype.b6=function(t){for(var e=t.y6(),r=[],n=0;n<this.rows;n++){for(var s=[],o=0;o<this.columns;o++){var a=this.matrix[n][o]/e[n][o];s.push(a||0)}r.push(s)}return new i(r)},i.prototype.multiply=function(t){for(var e=t.y6(),r=t.T6(),n=t.m6(),s=[],o=0;o<this.rows;o++){for(var a=this.matrix[o],l=[],u=0;u<n;u++){for(var c=0,h=0;h<r;h++)c+=a[h]*e[h][u];l.push(c)}s.push(l)}return new i(s)},i.prototype.O6=function(t){for(var e=[],r=0;r<this.rows;r++){for(var n=[],s=0;s<this.columns;s++)n.push(this.matrix[r][s]*t);e.push(n)}return new i(e)},i.prototype.I6=function(t){for(var e=[],r=0;r<this.rows;r++){for(var n=[],s=0;s<this.columns;s++)n.push(this.matrix[r][s]+t);e.push(n)}return new i(e)},i.prototype._6=function(){for(var t=[],e=0;e<this.rows;e++){for(var r=[],n=0;n<this.columns;n++)r.push(Math.exp(this.matrix[e][n]));t.push(r)}return new i(t)},i.prototype.R6=function(t){for(var e=[],r=0;r<this.rows;r++){var n=this.matrix[r];e.push([t]);for(var s=0;s<n.length;s++)e[r].push(n[s])}return new i(e)},i.prototype.y6=function(){return this.matrix},i.prototype.T6=function(){return this.rows},i.prototype.m6=function(){return this.columns},i);function i(t){this.matrix=[],this.rows=0,this.columns=0,this.matrix=t,this.rows=this.matrix.length,this.columns=this.matrix[0].length}e.f6=n},function(t,e,r){(function(n){var i,s,o;s=[r(220)],void 0===(o="function"==typeof(i=function(t,e){"use strict";var i={};return i.S6=t,i.TP=t.TP||null,i.VERSION="4.1.3",i.A6={},i.A6.N6=0,i.A6.C6=1,i.A6.k6=2,i.A6.j6=3,i.A6.M6=4,i.A6.D6=5,i.P6=[i.A6.N6,i.A6.C6,i.A6.D6],i.L6={int32:{name:"int32",H6:i.A6.N6,defaultValue:0},uint32:{name:"uint32",H6:i.A6.N6,defaultValue:0},sint32:{name:"sint32",H6:i.A6.N6,defaultValue:0},int64:{name:"int64",H6:i.A6.N6,defaultValue:i.TP?i.TP.ZERO:void 0},uint64:{name:"uint64",H6:i.A6.N6,defaultValue:i.TP?i.TP.U6:void 0},sint64:{name:"sint64",H6:i.A6.N6,defaultValue:i.TP?i.TP.ZERO:void 0},bool:{name:"bool",H6:i.A6.N6,defaultValue:!1},double:{name:"double",H6:i.A6.C6,defaultValue:0},string:{name:"string",H6:i.A6.k6,defaultValue:""},bytes:{name:"bytes",H6:i.A6.k6,defaultValue:null},fixed32:{name:"fixed32",H6:i.A6.D6,defaultValue:0},sfixed32:{name:"sfixed32",H6:i.A6.D6,defaultValue:0},fixed64:{name:"fixed64",H6:i.A6.C6,defaultValue:i.TP?i.TP.U6:void 0},sfixed64:{name:"sfixed64",H6:i.A6.C6,defaultValue:i.TP?i.TP.ZERO:void 0},float:{name:"float",H6:i.A6.D6,defaultValue:0},enum:{name:"enum",H6:i.A6.N6,defaultValue:0},message:{name:"message",H6:i.A6.k6,defaultValue:null},group:{name:"group",H6:i.A6.j6,defaultValue:null}},i.F6=[i.L6.int32,i.L6.sint32,i.L6.sfixed32,i.L6.uint32,i.L6.fixed32,i.L6.int64,i.L6.sint64,i.L6.sfixed64,i.L6.uint64,i.L6.fixed64,i.L6.bool,i.L6.string,i.L6.bytes],i.x6=1,i.G6=536870911,i.V6=!1,i.B6=!0,i.q6=!0,i.cT=function(){var t={};return t.Q6=!("object"!=typeof n||n+""!="[object process]"||n.dN),t.W6=function(){for(var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],e=null,r=0;r<t.length;r++){try{e=t[r]()}catch(t){continue}break}if(!e)throw Error("XMLHttpRequest is not supported");return e},t.fetch=function(e,n){if(n&&"function"!=typeof n&&(n=null),t.Q6){var i=r(19);if(n)i.Y6(e,(function(t,e){n(t?null:""+e)}));else try{return i.z6(e)}catch(e){return null}}else{var s=t.W6();if(s.open("GET",e,!!n),s.setRequestHeader("Accept","text/plain"),"function"==typeof s.overrideMimeType&&s.overrideMimeType("text/plain"),!n)return s.send(null),200==s.status||0==s.status&&"string"==typeof s.responseText?s.responseText:null;if(s.onreadystatechange=function(){4==s.readyState&&(200==s.status||0==s.status&&"string"==typeof s.responseText?n(s.responseText):n(null))},4==s.readyState)return;s.send(null)}},t.K6=function(t){return t.replace(/_([a-zA-Z])/g,(function(t,e){return e.toUpperCase()}))},t}(),i.Lang={X6:/[\s\{\}=;:\[\],'"\(\)<>]/g,J6:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,$j:/^[a-zA-Z_][a-zA-Z_0-9]*$/,Z6:/^[a-zA-Z][a-zA-Z_0-9]*$/,t8:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,n8:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,r8:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,s8:/^(?:[1-9][0-9]*|0)$/,e8:/^0[xX][0-9a-fA-F]+$/,h8:/^0[0-7]+$/,o8:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ZC:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,u8:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,a8:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,f8:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,c8:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},i.l8=function(t,e){function r(t){this.source=t+"",this.index=0,this.line=1,this.stack=[],this.v8=null}var n={},i=r.prototype;function s(t){this.d8=new r(t),this.E8=!1}i.P$=function(){var t='"'===this.v8?e.f8:e.c8;t.lastIndex=this.index-1;var r=t.exec(this.source);if(!r)throw Error("unterminated string");return this.index=t.lastIndex,this.stack.push(this.v8),this.v8=null,r[1]},i.next=function(){if(0<this.stack.length)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this.v8)return this.P$();var t,r,n;do{for(t=!1;e.a8.test(n=this.source.charAt(this.index));)if("\n"===n&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,t=!0}else{if("*"!==(n=this.source.charAt(this.index)))return"/";do{if("\n"===n&&++this.line,++this.index===this.source.length)return null;r=n,n=this.source.charAt(this.index)}while("*"!==r||"/"!==n);++this.index,t=!0}}while(t);if(this.index===this.source.length)return null;var i=this.index;if(e.X6.lastIndex=0,!e.X6.test(this.source.charAt(i++)))for(;i<this.source.length&&!e.X6.test(this.source.charAt(i));)++i;var s=this.source.substring(this.index,this.index=i);return'"'!==s&&"'"!==s||(this.v8=s),s},i.RH=function(){if(0===this.stack.length){var t=this.next();if(null===t)return null;this.stack.push(t)}return this.stack[0]},i.PE=function(t){var e=this.next();if(e!==t)throw Error("illegal '"+e+"', '"+t+"' expected")},i.w8=function(t){return this.RH()===t&&(this.next(),!0)},i.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},n.p8=r;var o=s.prototype;function a(t,r){var n=-1,i=1;if("-"==t.charAt(0)&&(i=-1,t=t.substring(1)),e.s8.test(t))n=parseInt(t);else if(e.e8.test(t))n=parseInt(t.substring(2),16);else{if(!e.h8.test(t))throw Error("illegal id value: "+(i<0?"-":"")+t);n=parseInt(t.substring(1),8)}if(n=i*n|0,!r&&n<0)throw Error("illegal id value: "+(i<0?"-":"")+t);return n}function l(t){var r=1;if("-"==t.charAt(0)&&(r=-1,t=t.substring(1)),e.s8.test(t))return r*parseInt(t,10);if(e.e8.test(t))return r*parseInt(t.substring(2),16);if(e.h8.test(t))return r*parseInt(t.substring(1),8);if("inf"===t)return r*(1/0);if("nan"===t)return NaN;if(e.o8.test(t))return r*parseFloat(t);throw Error("illegal number value: "+(r<0?"-":"")+t)}function u(t,e,r){void 0===t[e]?t[e]=r:(Array.isArray(t[e])||(t[e]=[t[e]]),t[e].push(r))}return o.parse=function(){var t,r={name:"[ROOT]",package:null,messages:[],g8:[],imports:[],options:{},services:[]},n=!0;try{for(;t=this.d8.next();)switch(t){case"package":if(!n||null!==r.package)throw Error("unexpected 'package'");if(t=this.d8.next(),!e.t8.test(t))throw Error("illegal package name: "+t);this.d8.PE(";"),r.package=t;break;case"import":if(!n)throw Error("unexpected 'import'");"public"===(t=this.d8.RH())&&this.d8.next(),t=this.P$(),this.d8.PE(";"),r.imports.push(t);break;case"syntax":if(!n)throw Error("unexpected 'syntax'");this.d8.PE("="),"proto3"===(r.b8=this.P$())&&(this.E8=!0),this.d8.PE(";");break;case"message":this.y8(r,null),n=!1;break;case"enum":this.T8(r),n=!1;break;case"option":this.m8(r);break;case"service":this.O8(r);break;case"extend":this.I8(r);break;default:throw Error("unexpected '"+t+"'")}}catch(t){throw t.message="Parse error at line "+this.d8.line+": "+t.message,t}return delete r.name,r},s.parse=function(t){return new s(t).parse()},o.P$=function(){var t,e,r="";do{if("'"!==(e=this.d8.next())&&'"'!==e)throw Error("illegal string delimiter: "+e);r+=this.d8.next(),this.d8.PE(e),t=this.d8.RH()}while('"'===t||'"'===t);return r},o._8=function(t){var r=this.d8.RH();if('"'===r||"'"===r)return this.P$();if(this.d8.next(),e.r8.test(r))return l(r);if(e.BOOL.test(r))return"true"===r.toLowerCase();if(t&&e.t8.test(r))return r;throw Error("illegal value: "+r)},o.m8=function(t,r){var n=this.d8.next(),i=!1;if("("===n&&(i=!0,n=this.d8.next()),!e.t8.test(n))throw Error("illegal option name: "+n);var s=n;i&&(this.d8.PE(")"),s="("+s+")",n=this.d8.RH(),e.n8.test(n)&&(s+=n,this.d8.next())),this.d8.PE("="),this.R8(t,s),r||this.d8.PE(";")},o.R8=function(t,r){var n=this.d8.RH();if("{"!==n)u(t.options,r,this._8(!0));else for(this.d8.PE("{");"}"!==(n=this.d8.next());){if(!e.$j.test(n))throw Error("illegal option name: "+r+"."+n);this.d8.w8(":")?u(t.options,r+"."+n,this._8(!0)):this.R8(t,r+"."+n)}},o.O8=function(t){var r=this.d8.next();if(!e.$j.test(r))throw Error("illegal service name at line "+this.d8.line+": "+r);var n={name:r,S8:{},options:{}};for(this.d8.PE("{");"}"!==(r=this.d8.next());)if("option"===r)this.m8(n);else{if("rpc"!==r)throw Error("illegal service token: "+r);this.A8(n)}this.d8.w8(";"),t.services.push(n)},o.A8=function(t){var r=this.d8.next();if(!e.$j.test(r))throw Error("illegal rpc service method name: "+r);var n=r,i={request:null,response:null,N8:!1,C8:!1,options:{}};if(this.d8.PE("("),"stream"===(r=this.d8.next()).toLowerCase()&&(i.N8=!0,r=this.d8.next()),!e.t8.test(r))throw Error("illegal rpc service request type: "+r);if(i.request=r,this.d8.PE(")"),"returns"!==(r=this.d8.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+r);if(this.d8.PE("("),"stream"===(r=this.d8.next()).toLowerCase()&&(i.C8=!0,r=this.d8.next()),i.response=r,this.d8.PE(")"),"{"===(r=this.d8.RH())){for(this.d8.next();"}"!==(r=this.d8.next());){if("option"!==r)throw Error("illegal rpc service token: "+r);this.m8(i)}this.d8.w8(";")}else this.d8.PE(";");void 0===t.S8&&(t.S8={}),t.S8[n]=i},o.y8=function(t,r){var n=!!r,i=this.d8.next(),s={name:"",fields:[],g8:[],messages:[],options:{},k8:{}};if(!e.$j.test(i))throw Error("illegal "+(n?"group":"message")+" name: "+i);for(s.name=i,n&&(this.d8.PE("="),r.id=a(this.d8.next()),s.j8=!0),"["===(i=this.d8.RH())&&r&&this.M8(r),this.d8.PE("{");"}"!==(i=this.d8.next());)if(e.J6.test(i))this.D8(s,i);else if("oneof"===i)this.P8(s);else if("enum"===i)this.T8(s);else if("message"===i)this.y8(s);else if("option"===i)this.m8(s);else if("extensions"===i)this.L8(s);else if("extend"===i)this.I8(s);else{if(!e.t8.test(i))throw Error("illegal message token: "+i);if(!this.E8)throw Error("illegal field rule: "+i);this.D8(s,"optional",i)}return this.d8.w8(";"),t.messages.push(s),s},o.D8=function(t,r,n){if(!e.J6.test(r))throw Error("illegal message field rule: "+r);var i,s={rule:r,type:"",name:"",options:{},id:0};if("map"===r){if(n)throw Error("illegal type: "+n);if(this.d8.PE("<"),i=this.d8.next(),!e.TYPE.test(i)&&!e.t8.test(i))throw Error("illegal message field type: "+i);if(s.keytype=i,this.d8.PE(","),i=this.d8.next(),!e.TYPE.test(i)&&!e.t8.test(i))throw Error("illegal message field: "+i);if(s.type=i,this.d8.PE(">"),i=this.d8.next(),!e.$j.test(i))throw Error("illegal message field name: "+i);s.name=i,this.d8.PE("="),s.id=a(this.d8.next()),"["===(i=this.d8.RH())&&this.M8(s),this.d8.PE(";")}else if("group"===(n=void 0!==n?n:this.d8.next())){var o=this.y8(t,s);if(!/^[A-Z]/.test(o.name))throw Error("illegal group name: "+o.name);s.type=o.name,s.name=o.name.toLowerCase(),this.d8.w8(";")}else{if(!e.TYPE.test(n)&&!e.t8.test(n))throw Error("illegal message field type: "+n);if(s.type=n,i=this.d8.next(),!e.$j.test(i))throw Error("illegal message field name: "+i);s.name=i,this.d8.PE("="),s.id=a(this.d8.next()),"["===(i=this.d8.RH())&&this.M8(s),this.d8.PE(";")}return t.fields.push(s),s},o.P8=function(t){var r=this.d8.next();if(!e.$j.test(r))throw Error("illegal oneof name: "+r);var n,i=r,s=[];for(this.d8.PE("{");"}"!==(r=this.d8.next());)(n=this.D8(t,"optional",r)).H8=i,s.push(n.id);this.d8.w8(";"),t.k8[i]=s},o.M8=function(t){this.d8.PE("[");for(var e=!0;"]"!==this.d8.RH();)e||this.d8.PE(","),this.m8(t,!0),e=!1;this.d8.next()},o.T8=function(t){var r={name:"",values:[],options:{}},n=this.d8.next();if(!e.$j.test(n))throw Error("illegal name: "+n);for(r.name=n,this.d8.PE("{");"}"!==(n=this.d8.next());)if("option"===n)this.m8(r);else{if(!e.$j.test(n))throw Error("illegal name: "+n);this.d8.PE("=");var i={name:n,id:a(this.d8.next(),!0)};"["===(n=this.d8.RH())&&this.M8({options:{}}),this.d8.PE(";"),r.values.push(i)}this.d8.w8(";"),t.g8.push(r)},o.L8=function(e){var r=this.d8.next(),n=[];"min"===r?n.push(t.x6):"max"===r?n.push(t.G6):n.push(l(r)),this.d8.PE("to"),"min"===(r=this.d8.next())?n.push(t.x6):"max"===r?n.push(t.G6):n.push(l(r)),this.d8.PE(";"),e.extensions=n},o.I8=function(t){var r=this.d8.next();if(!e.t8.test(r))throw Error("illegal extend reference: "+r);var n={lK:r,fields:[]};for(this.d8.PE("{");"}"!==(r=this.d8.next());)if(e.J6.test(r))this.D8(n,r);else{if(!e.t8.test(r))throw Error("illegal extend token: "+r);if(!this.E8)throw Error("illegal field rule: "+r);this.D8(n,"optional",r)}return this.d8.w8(";"),t.messages.push(n),n},o.toString=function(){return"Parser at line "+this.d8.line},n.ZG=s,n}(i,i.Lang),i.Reflect=function(e){function r(t,e,r){this.U8=t,this.parent=e,this.name=r,this.className}var n={},i=r.prototype;function s(t,e,n,i,s){r.call(this,t,e,n),this.className="Namespace",this.children=[],this.options=i||{},this.b8=s||"proto2"}i.F8=function(){for(var t=this.name,e=this;null!=(e=e.parent);)t=e.name+"."+t;return t},i.toString=function(t){return(t?this.className+" ":"")+this.F8()},i.uv=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.x8=r;var o=s.prototype=Object.create(r.prototype);function a(t,r,n,i){if(this.type=t,this.G8=r,this.V8=n,this.b8=i,n&&e.F6.indexOf(t)<0)throw Error("Invalid map key type: "+t.name)}o.B8=function(t){if(null==(t=t||null))return this.children.slice();for(var e=[],r=0,n=this.children.length;r<n;++r)this.children[r]instanceof t&&e.push(this.children[r]);return e},o.q8=function(t){var e;if(e=this.Q8(t.name))if(e instanceof c.W8&&e.name!==e.Y8&&null===this.Q8(e.Y8))e.name=e.Y8;else{if(!(t instanceof c.W8&&t.name!==t.Y8&&null===this.Q8(t.Y8)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+t.name);t.name=t.Y8}this.children.push(t)},o.Q8=function(t){for(var e="number"==typeof t?"id":"name",r=0,n=this.children.length;r<n;++r)if(this.children[r][e]===t)return this.children[r];return null},o.resolve=function(t,e){var r,i="string"==typeof t?t.split("."):t,s=this,o=0;if(""===i[o]){for(;null!==s.parent;)s=s.parent;o++}do{do{if(!(s instanceof n.z8)){s=null;break}if(!(r=s.Q8(i[o]))||!(r instanceof n.x8)||e&&!(r instanceof n.z8)){s=null;break}s=r,o++}while(o<i.length);if(null!=s)break;if(null!==this.parent)return this.parent.resolve(t,e)}while(null!=s);return s},o.K8=function(t){for(var e=[],r=t;e.unshift(r.name),null!==(r=r.parent););for(var i=1;i<=e.length;i++){var s=e.slice(e.length-i);if(t===this.resolve(s,t instanceof n.z8))return s.join(".")}return t.F8()},o.uv=function(){for(var t,e={},r=this.children,n=0,i=r.length;n<i;++n)(t=r[n])instanceof s&&(e[t.name]=t.uv());return Object.defineProperty&&Object.defineProperty(e,"X8",{value:this.J8()}),e},o.J8=function(){for(var t={},e=Object.keys(this.options),r=0,n=e.length;r<n;++r){var i=e[r],s=this.options[e[r]];t[i]=s}return t},o.Z8=function(t){return void 0===t?this.options:void 0!==this.options[t]?this.options[t]:null},n.z8=s;var l=a.prototype;function u(t,r){if(t&&"number"==typeof t.low&&"number"==typeof t.high&&"boolean"==typeof t.NL&&t.low==t.low&&t.high==t.high)return new e.TP(t.low,t.high,void 0===r?t.NL:r);if("string"==typeof t)return e.TP.fromString(t,r||!1,10);if("number"==typeof t)return e.TP.Vg(t,r||!1);throw Error("not convertible to Long")}a.t9=function(r){if("string"==typeof r&&(r=e.L6[r]),void 0===r.defaultValue)throw Error("default value for type "+r.name+" is not supported");return r==e.L6.bytes?new t(0):r.defaultValue},l.i9=function(r){var n=function(t,e){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+t+" ("+e+")")}.bind(this);switch(this.type){case e.L6.int32:case e.L6.sint32:case e.L6.sfixed32:return("number"!=typeof r||r==r&&r%1!=0)&&n(typeof r,"not an integer"),4294967295<r?0|r:r;case e.L6.uint32:case e.L6.fixed32:return("number"!=typeof r||r==r&&r%1!=0)&&n(typeof r,"not an integer"),r<0?r>>>0:r;case e.L6.int64:case e.L6.sint64:case e.L6.sfixed64:if(e.TP)try{return u(r,!1)}catch(i){n(typeof r,i.message)}else n(typeof r,"requires Long.js");case e.L6.uint64:case e.L6.fixed64:if(e.TP)try{return u(r,!0)}catch(i){n(typeof r,i.message)}else n(typeof r,"requires Long.js");case e.L6.bool:return"boolean"!=typeof r&&n(typeof r,"not a boolean"),r;case e.L6.float:case e.L6.double:return"number"!=typeof r&&n(typeof r,"not a number"),r;case e.L6.string:return"string"==typeof r||r&&r instanceof String||n(typeof r,"not a string"),""+r;case e.L6.bytes:return t._P(r)?r:t.wrap(r,"base64");case e.L6.enum:var i=this.G8.B8(e.Reflect.r9.n9);for(o=0;o<i.length;o++){if(i[o].name==r)return i[o].id;if(i[o].id==r)return i[o].id}if("proto3"===this.b8)return("number"!=typeof r||r==r&&r%1!=0)&&n(typeof r,"not an integer"),(4294967295<r||r<0)&&n(typeof r,"not in range for uint32"),r;n(r,"not a valid enum value");case e.L6.group:case e.L6.message:if(r&&"object"==typeof r||n(typeof r,"object expected"),r instanceof this.G8.s9)return r;if(r instanceof e.e9.pl){var s={};for(var o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);r=s}return new this.G8.s9(r)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+r+" (undefined type "+this.type+")")},l.h9=function(r,n){if(null===n)return 0;var i;switch(this.type){case e.L6.int32:return n<0?t._L(n):t.gL(n);case e.L6.uint32:return t.gL(n);case e.L6.sint32:return t.gL(t.bL(n));case e.L6.fixed32:case e.L6.sfixed32:case e.L6.float:return 4;case e.L6.int64:case e.L6.uint64:return t._L(n);case e.L6.sint64:return t._L(t.AL(n));case e.L6.fixed64:case e.L6.sfixed64:return 8;case e.L6.bool:return 1;case e.L6.enum:return t.gL(n);case e.L6.double:return 8;case e.L6.string:return i=t.zL(n),t.gL(i)+i;case e.L6.bytes:if(n.aH()<0)throw Error("Illegal value for "+this.toString(!0)+": "+n.aH()+" bytes remaining");return t.gL(n.aH())+n.aH();case e.L6.message:return i=this.G8.o9(n),t.gL(i)+i;case e.L6.group:return(i=this.G8.o9(n))+t.gL(r<<3|e.A6.M6)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")},l.u9=function(r,n,i){if(null===n)return i;switch(this.type){case e.L6.int32:n<0?i.DL(n):i.jP(n);break;case e.L6.uint32:i.jP(n);break;case e.L6.sint32:i.TL(n);break;case e.L6.fixed32:i.ZP(n);break;case e.L6.sfixed32:i.XP(n);break;case e.L6.int64:case e.L6.uint64:i.DL(n);break;case e.L6.sint64:i.PL(n);break;case e.L6.fixed64:i.oL(n);break;case e.L6.sfixed64:i.rL(n);break;case e.L6.bool:"string"==typeof n?i.jP("false"===n.toLowerCase()?0:!!n):i.jP(n?1:0);break;case e.L6.enum:i.jP(n);break;case e.L6.float:i.cL(n);break;case e.L6.double:i.EL(n);break;case e.L6.string:i.JL(n);break;case e.L6.bytes:if(n.aH()<0)throw Error("Illegal value for "+this.toString(!0)+": "+n.aH()+" bytes remaining");var s=n.offset;i.jP(n.aH()),i.append(n),n.offset=s;break;case e.L6.message:var o=(new t).sH();this.G8.encode(n,o),i.jP(o.offset),i.append(o.zl());break;case e.L6.group:this.G8.encode(n,i),i.jP(r<<3|e.A6.M6);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")}return i},l.decode=function(t,r,n){if(r!=this.type.H6)throw Error("Unexpected wire type for element");var i,s;switch(this.type){case e.L6.int32:return 0|t.DP();case e.L6.uint32:return t.DP()>>>0;case e.L6.sint32:return 0|t.OL();case e.L6.fixed32:return t.iL()>>>0;case e.L6.sfixed32:return 0|t.JP();case e.L6.int64:return t.LL();case e.L6.uint64:return t.LL().kL();case e.L6.sint64:return t.HL();case e.L6.fixed64:return t.aL();case e.L6.sfixed64:return t.eL();case e.L6.bool:return!!t.DP();case e.L6.enum:return t.DP();case e.L6.float:return t.dL();case e.L6.double:return t.ap();case e.L6.string:return t.ZL();case e.L6.bytes:if(s=t.DP(),t.aH()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+t.aH());return(i=t.clone()).wP=i.offset+s,t.offset+=s,i;case e.L6.message:return s=t.DP(),this.G8.decode(t,s);case e.L6.group:return this.G8.decode(t,-1,n)}throw Error("[INTERNAL] Illegal decode type")},l.a9=function(r){if(!this.V8)throw Error("valueFromString() called on non-map-key element");switch(this.type){case e.L6.int32:case e.L6.sint32:case e.L6.sfixed32:case e.L6.uint32:case e.L6.fixed32:return this.i9(parseInt(r));case e.L6.int64:case e.L6.sint64:case e.L6.sfixed64:case e.L6.uint64:case e.L6.fixed64:return this.i9(r);case e.L6.bool:return"true"===r;case e.L6.string:return this.i9(r);case e.L6.bytes:return t.AP(r)}},l.f9=function(t){if(!this.V8)throw Error("valueToString() called on non-map-key element");return this.type===e.L6.bytes?t.toString("binary"):t.toString()},n.Element=a;var c=function(t,r,n,i,o,a){s.call(this,t,r,n,i,a),this.className="Message",this.extensions=[e.x6,e.G6],this.s9=null,this.j8=!!o,this.c9=null,this.l9=null,this.v9=null},h=c.prototype=Object.create(s.prototype);function p(t,r){var n=r.DP(),i=7&n,s=n>>>3;switch(i){case e.A6.N6:for(;128==(128&(n=r.GP())););break;case e.A6.C6:r.offset+=8;break;case e.A6.k6:n=r.DP(),r.offset+=n;break;case e.A6.j6:p(s,r);break;case e.A6.M6:if(s===t)return!1;throw Error("Illegal GROUPEND after unknown group: "+s+" ("+t+" expected)");case e.A6.D6:r.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+t+": "+i)}return!0}function f(t,n,i,s,o,a,l,u,h,p){r.call(this,t,n,a),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.d9=s||null,this.type=o,this.G8=null,this.id=l,this.options=u||{},this.defaultValue=null,this.H8=h||null,this.b8=p||"proto2",this.Y8=this.name,this.element=null,this.E9=null,!this.U8.options.V6||this instanceof c.w9||(this.name=e.cT.K6(this.name))}h.uv=function(r){if(this.s9&&!r)return this.s9;var n=function(e,r){var n=r.B8(e.Reflect.pl.W8),i=r.B8(e.Reflect.pl.p9),s=function(o,a){e.e9.pl.call(this);for(var l=0,u=i.length;l<u;++l)this[i[l].name]=null;for(l=0,u=n.length;l<u;++l){var c=n[l];this[c.name]=c.repeated?[]:c.map?new e.Map(c):null,!c.required&&"proto3"!==r.b8||null===c.defaultValue||(this[c.name]=c.defaultValue)}var h;if(0<arguments.length)if(1!==arguments.length||null===o||"object"!=typeof o||!("function"!=typeof o.encode||o instanceof s)||Array.isArray(o)||o instanceof e.Map||t._P(o)||o instanceof ArrayBuffer||e.TP&&o instanceof e.TP)for(l=0,u=arguments.length;l<u;++l)void 0!==(h=arguments[l])&&this.g9(n[l].name,h);else this.g9(o)},o=s.prototype=Object.create(e.e9.pl.prototype);o.add=function(t,n,i){var s=r.v9[t];if(!i){if(!s)throw Error(this+"#"+t+" is undefined");if(!(s instanceof e.Reflect.pl.W8))throw Error(this+"#"+t+" is not a field: "+s.toString(!0));if(!s.repeated)throw Error(this+"#"+t+" is not a repeated field");n=s.i9(n,!0)}return null===this[t]&&(this[t]=[]),this[t].push(n),this},o.b9=o.add,o.set=function(t,n,i){if(t&&"object"==typeof t){for(var s in i=n,t)t.hasOwnProperty(s)&&void 0!==(n=t[s])&&this.g9(s,n,i);return this}var o=r.v9[t];if(i)this[t]=n;else{if(!o)throw Error(this+"#"+t+" is not a field: undefined");if(!(o instanceof e.Reflect.pl.W8))throw Error(this+"#"+t+" is not a field: "+o.toString(!0));this[o.name]=n=o.i9(n)}if(o&&o.H8){var a=this[o.H8.name];null!==n?(null!==a&&a!==o.name&&(this[a]=null),this[o.H8.name]=o.name):a===t&&(this[o.H8.name]=null)}return this},o.g9=o.set,o.get=function(t,n){if(n)return this[t];var i=r.v9[t];if(!(i&&i instanceof e.Reflect.pl.W8))throw Error(this+"#"+t+" is not a field: undefined");if(!(i instanceof e.Reflect.pl.W8))throw Error(this+"#"+t+" is not a field: "+i.toString(!0));return this[i.name]},o.y9=o.get;for(var a=0;a<n.length;a++){var l=n[a];l instanceof e.Reflect.pl.w9||r.U8.options.B6&&function(t){var e=t.Y8.replace(/(_[a-zA-Z])/g,(function(t){return t.toUpperCase().replace("_","")}));function n(e,r){return this[t.name]=r?e:t.i9(e),this}function i(){return this[t.name]}e=e.substring(0,1).toUpperCase()+e.substring(1);var s=t.Y8.replace(/([A-Z])/g,(function(t){return"_"+t}));null===r.Q8("set"+e)&&(o["set"+e]=n),null===r.Q8("set_"+s)&&(o["set_"+s]=n),null===r.Q8("get"+e)&&(o["get"+e]=i),null===r.Q8("get_"+s)&&(o["get_"+s]=i)}(l)}function u(r,n,i,s){if(null===r||"object"!=typeof r){if(s&&s instanceof e.Reflect.r9){var o=e.Reflect.r9.getName(s.object,r);if(null!==o)return o}return r}if(t._P(r))return n?r.toBase64():r.toBuffer();if(e.TP.T9(r))return i?r.toString():e.TP.m9(r);var a;if(Array.isArray(r))return a=[],r.forEach((function(t,e){a[e]=u(t,n,i,s)})),a;if(a={},r instanceof e.Map){for(var l=r.entries(),c=l.next();!c.done;c=l.next())a[r.O9.f9(c.value[0])]=u(c.value[1],n,i,r.I9.G8);return a}var h=r._9,p=void 0;for(var f in r)r.hasOwnProperty(f)&&(h&&(p=h.Q8(f))?a[f]=u(r[f],n,i,p.G8):a[f]=u(r[f],n,i));return a}return o.encode=function(e,n){"boolean"==typeof e&&(n=e,e=void 0);var i=!1;e||(e=new t,i=!0);var s=e.pP;try{return r.encode(this,e.sH(),n),(i?e.zl():e).sH(s)}catch(n){throw e.sH(s),n}},s.encode=function(t,e,r){return new s(t).encode(e,r)},o.o9=function(){return r.o9(this)},o.R9=function(e){var n=!1;e||(e=new t,n=!0);var i=(new t).sH();return r.encode(this,i).zl(),e.jP(i.aH()),e.append(i),n?e.zl():e},o.S9=function(){try{return this.encode().toArrayBuffer()}catch(t){throw t.A9&&(t.A9=t.A9.toArrayBuffer()),t}},o.toArrayBuffer=o.S9,o.N9=function(){try{return this.encode().toBuffer()}catch(t){throw t.A9&&(t.A9=t.A9.toBuffer()),t}},o.toBuffer=o.N9,o.C9=function(){try{return this.encode().toBase64()}catch(t){throw t.A9&&(t.A9=t.A9.toBase64()),t}},o.toBase64=o.C9,o.k9=function(){try{return this.encode().cH()}catch(t){throw t.A9&&(t.A9=t.A9.cH()),t}},o.cH=o.k9,o.j9=function(t,e){return u(this,!!t,!!e,this._9)},o.M9=function(){return JSON.stringify(u(this,!0,!0,this._9))},s.decode=function(e,n){"string"==typeof e&&(e=t.wrap(e,n||"base64"));var i=(e=t._P(e)?e:t.wrap(e)).pP;try{var s=r.decode(e.sH());return e.sH(i),s}catch(n){throw e.sH(i),n}},s.D9=function(e,n){if("string"==typeof e&&(e=t.wrap(e,n||"base64")),(e=t._P(e)?e:t.wrap(e)).aH()<1)return null;var i=e.offset,s=e.DP();if(e.aH()<s)return e.offset=i,null;try{var o=r.decode(e.slice(e.offset,e.offset+s).sH());return e.offset+=s,o}catch(n){throw e.offset+=s,n}},s.decode64=function(t){return s.decode(t,"base64")},s.P9=function(t){return s.decode(t,"hex")},s.L9=function(t){return new s(JSON.parse(t))},o.toString=function(){return r.toString()},Object.defineProperty&&(Object.defineProperty(s,"X8",{value:r.J8()}),Object.defineProperty(o,"X8",{value:s.X8}),Object.defineProperty(s,"_9",{value:r}),Object.defineProperty(o,"_9",{value:r})),s}(e,this);this.c9=[],this.l9={},this.v9={};for(var i,s=0,o=this.children.length;s<o;s++)if((i=this.children[s])instanceof v||i instanceof c||i instanceof b){if(n.hasOwnProperty(i.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+i.toString(!0)+" cannot override static property '"+i.name+"'");n[i.name]=i.uv()}else if(i instanceof c.W8)i.uv(),this.c9.push(i),this.l9[i.id]=i,this.v9[i.name]=i;else if(!(i instanceof c.p9||i instanceof y))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[s].toString(!0));return this.s9=n},h.encode=function(t,e,r){for(var n,i,s=null,o=0,a=this.c9.length;o<a;++o)i=t[(n=this.c9[o]).name],n.required&&null===i?null===s&&(s=n):n.encode(r?i:n.i9(i),e,t);if(null===s)return e;var l=Error("Missing at least one required field for "+this.toString(!0)+": "+s);throw l.A9=e,l},h.o9=function(t){for(var e,r,n=0,i=0,s=this.c9.length;i<s;++i){if(r=t[(e=this.c9[i]).name],e.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+e);n+=e.o9(r,t)}return n},h.decode=function(t,r,n){r="number"==typeof r?r:-1;for(var i,s,o,a,l=t.offset,u=new this.s9;t.offset<l+r||-1===r&&0<t.aH();){if(o=(i=t.DP())>>>3,(s=7&i)===e.A6.M6){if(o!==n)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+o+" ("+(n?n+" expected":"not a group")+")");break}if(a=this.l9[o]){if(a.repeated&&!a.options.H9)u[a.name].push(a.decode(s,t));else if(a.map){var c=a.decode(s,t);u[a.name].set(c[0],c[1])}else if(u[a.name]=a.decode(s,t),a.H8){var h=u[a.H8.name];null!==h&&h!==a.name&&(u[h]=null),u[a.H8.name]=a.name}}else switch(s){case e.A6.N6:t.DP();break;case e.A6.D6:t.offset+=4;break;case e.A6.C6:t.offset+=8;break;case e.A6.k6:var f=t.DP();t.offset+=f;break;case e.A6.j6:for(;p(o,t););break;default:throw Error("Illegal wire type for unknown field "+o+" in "+this.toString(!0)+"#decode: "+s)}}for(var d=0,g=this.c9.length;d<g;++d)if(null===u[(a=this.c9[d]).name])if("proto3"===this.b8)u[a.name]=a.defaultValue;else{if(a.required){var v=Error("Missing at least one required field for "+this.toString(!0)+": "+a.name);throw v.U9=u,v}e.q6&&null!==a.defaultValue&&(u[a.name]=a.defaultValue)}return u},n.pl=c;var d=f.prototype=Object.create(r.prototype);function g(t,e,r,n,i,s,o){f.call(this,t,e,r,null,n,i,s,o),this.F9}d.uv=function(){this.element=new a(this.type,this.G8,!1,this.b8),this.map&&(this.E9=new a(this.d9,void 0,!0,this.b8)),"proto3"!==this.b8||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.i9(this.options.default)):this.defaultValue=a.t9(this.type)},d.i9=function(t,r){r=r||!1;var n,i=function(t,e){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+t+" ("+e+")")}.bind(this);if(null===t)return this.required&&i(typeof t,"required"),"proto3"===this.b8&&this.type!==e.L6.message&&i(typeof t,"proto3 field without field presence cannot be null"),null;if(!this.repeated||r)return this.map&&!r?t instanceof e.Map?t:(t instanceof Object||i(typeof t,"expected ProtoBuf.Map or raw object for map field"),new e.Map(this,t)):(!this.repeated&&Array.isArray(t)&&i(typeof t,"no array expected"),this.element.i9(t));Array.isArray(t)||(t=[t]);var s=[];for(n=0;n<t.length;n++)s.push(this.element.i9(t[n]));return s},d.x9=function(t,r){if("proto3"!==this.b8)return null!==t;if(this.H8&&r[this.H8.name]===this.name)return!0;switch(this.type){case e.L6.int32:case e.L6.sint32:case e.L6.sfixed32:case e.L6.uint32:case e.L6.fixed32:return 0!==t;case e.L6.int64:case e.L6.sint64:case e.L6.sfixed64:case e.L6.uint64:case e.L6.fixed64:return 0!==t.low||0!==t.high;case e.L6.bool:return t;case e.L6.float:case e.L6.double:return 0!==t;case e.L6.string:return 0<t.length;case e.L6.bytes:return 0<t.aH();case e.L6.enum:return 0!==t;case e.L6.message:return null!==t;default:return!0}},d.encode=function(r,n,i){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return n;try{var s;if(this.repeated)if(this.options.H9&&0<=e.P6.indexOf(this.type.H6)){n.jP(this.id<<3|e.A6.k6),n.rH(n.offset+=1);var o=n.offset;for(s=0;s<r.length;s++)this.element.u9(this.id,r[s],n);var a=n.offset-o,l=t.gL(a);if(1<l){var u=n.slice(o,n.offset);o+=l-1,n.offset=o,n.append(u)}n.jP(a,o-l)}else for(s=0;s<r.length;s++)n.jP(this.id<<3|this.type.H6),this.element.u9(this.id,r[s],n);else this.map?r.forEach((function(r,i,s){var o=t.gL(8|this.d9.H6)+this.E9.h9(1,i)+t.gL(16|this.type.H6)+this.element.h9(2,r);n.jP(this.id<<3|e.A6.k6),n.jP(o),n.jP(8|this.d9.H6),this.E9.u9(1,i,n),n.jP(16|this.type.H6),this.element.u9(2,r,n)}),this):this.x9(r,i)&&(n.jP(this.id<<3|this.type.H6),this.element.u9(this.id,r,n))}catch(i){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+i+")")}return n},d.o9=function(r,n){if(r=this.i9(r),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return 0;var i=0;try{var s,o;if(this.repeated)if(this.options.H9&&0<=e.P6.indexOf(this.type.H6)){for(i+=t.gL(this.id<<3|e.A6.k6),s=o=0;s<r.length;s++)o+=this.element.h9(this.id,r[s]);i+=t.gL(o),i+=o}else for(s=0;s<r.length;s++)i+=t.gL(this.id<<3|this.type.H6),i+=this.element.h9(this.id,r[s]);else this.map?r.forEach((function(r,n,s){var o=t.gL(8|this.d9.H6)+this.E9.h9(1,n)+t.gL(16|this.type.H6)+this.element.h9(2,r);i+=t.gL(this.id<<3|e.A6.k6),i+=t.gL(o),i+=o}),this):this.x9(r,n)&&(i+=t.gL(this.id<<3|this.type.H6),i+=this.element.h9(this.id,r))}catch(n){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+n+")")}return i},d.decode=function(t,r,n){var i,s;if(!(!this.map&&t==this.type.H6||!n&&this.repeated&&this.options.H9&&t==e.A6.k6||this.map&&t==e.A6.k6))throw Error("Illegal wire type for field "+this.toString(!0)+": "+t+" ("+this.type.H6+" expected)");if(t==e.A6.k6&&this.repeated&&this.options.H9&&0<=e.P6.indexOf(this.type.H6)&&!n){s=r.DP(),s=r.offset+s;for(var o=[];r.offset<s;)o.push(this.decode(this.type.H6,r,!0));return o}if(this.map){var l=a.t9(this.d9);if(i=a.t9(this.type),s=r.DP(),r.aH()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+r.aH());var u=r.clone();for(u.wP=u.offset+s,r.offset+=s;0<u.aH();){var c=u.DP();t=7&c;var h=c>>>3;if(1==h)l=this.E9.decode(u,t,h);else{if(2!=h)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(u,t,h)}}return[l,i]}return this.element.decode(r,t,this.id)},n.pl.W8=f,g.prototype=Object.create(f.prototype),n.pl.w9=g,n.pl.p9=function(t,e,n){r.call(this,t,e,n),this.fields=[]};var v=function(t,e,r,n,i){s.call(this,t,e,r,n,i),this.className="Enum",this.object=null};function m(t,e,n,i){r.call(this,t,e,n),this.className="Enum.Value",this.id=i}v.getName=function(t,e){for(var r,n=Object.keys(t),i=0;i<n.length;++i)if(t[r=n[i]]===e)return r;return null},(v.prototype=Object.create(s.prototype)).uv=function(t){if(this.object&&!t)return this.object;for(var r=new e.e9.r9,n=this.B8(v.n9),i=0,s=n.length;i<s;++i)r[n[i].name]=n[i].id;return Object.defineProperty&&Object.defineProperty(r,"X8",{value:this.J8(),enumerable:!1}),this.object=r},n.r9=v,m.prototype=Object.create(r.prototype),n.r9.n9=m;var y=function(t,e,n,i){r.call(this,t,e,n),this.field=i};y.prototype=Object.create(r.prototype),n.G9=y;var b=function(t,e,r,n){s.call(this,t,e,r,n),this.className="Service",this.s9=null};function E(t,e,n,i){r.call(this,t,e,n),this.className="Service.Method",this.options=i||{}}function w(t,e,r,n,i,s,o,a){E.call(this,t,e,r,a),this.className="Service.RPCMethod",this.V9=n,this.B9=i,this.q9=s,this.Q9=o,this.W9=null,this.Y9=null}return(b.prototype=Object.create(s.prototype)).uv=function(r){return this.s9&&!r?this.s9:this.s9=function(e,r){for(var n=function(t){e.e9.z9.call(this),this.K9=t||function(t,e,r){setTimeout(r.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},i=n.prototype=Object.create(e.e9.z9.prototype),s=r.B8(e.Reflect.z9.X9),o=0;o<s.length;o++)!function(e){i[e.name]=function(n,i){try{try{n=e.W9.s9.decode(t.wrap(n))}catch(n){if(!(n instanceof TypeError))throw n}if(null===n||"object"!=typeof n)throw Error("Illegal arguments");n instanceof e.W9.s9||(n=new e.W9.s9(n)),this.K9(e.F8(),n,(function(t,n){if(t)i(t);else{try{n=e.Y9.s9.decode(n)}catch(t){}n&&n instanceof e.Y9.s9?i(null,n):i(Error("Illegal response type received in service method "+r.name+"#"+e.name))}}))}catch(n){setTimeout(i.bind(this,n),0)}},n[e.name]=function(t,r,i){new n(t)[e.name](r,i)},Object.defineProperty&&(Object.defineProperty(n[e.name],"X8",{value:e.J8()}),Object.defineProperty(i[e.name],"X8",{value:n[e.name].X8}))}(s[o]);return Object.defineProperty&&(Object.defineProperty(n,"X8",{value:r.J8()}),Object.defineProperty(i,"X8",{value:n.X8}),Object.defineProperty(n,"_9",{value:r}),Object.defineProperty(i,"_9",{value:r})),n}(e,this)},n.z9=b,(E.prototype=Object.create(r.prototype)).J8=o.J8,n.z9.J9=E,w.prototype=Object.create(E.prototype),n.z9.X9=w,n}(i),i.e9=function(t,e,n){function i(t){this.Z9=new n.z8(this,null,""),this.t7=this.Z9,this.i7=!1,this.result=null,this.files={},this.n7=null,this.options=t||{}}var s=i.prototype;return i.r7=function(t){return"string"==typeof t.name&&void 0===t.values&&void 0===t.S8},i.s7=function(t){return"string"==typeof t.rule&&"string"==typeof t.name&&"string"==typeof t.type&&void 0!==t.id},i.e7=function(t){return"string"==typeof t.name&&!(void 0===t.values||!Array.isArray(t.values)||0===t.values.length)},i.h7=function(t){return!("string"!=typeof t.name||"object"!=typeof t.S8||!t.S8)},i.o7=function(t){return"string"==typeof t.lK},s.reset=function(){return this.t7=this.Z9,this},s.define=function(t){if("string"!=typeof t||!e.t8.test(t))throw Error("illegal namespace: "+t);return t.split(".").forEach((function(t){var e=this.t7.Q8(t);null===e&&this.t7.q8(e=new n.z8(this,this.t7,t)),this.t7=e}),this),this},s.create=function(e){if(!e)return this;if(Array.isArray(e)){if(0===e.length)return this;e=e.slice()}else e=[e];for(var r=[e];0<r.length;){if(e=r.pop(),!Array.isArray(e))throw Error("not a valid namespace: "+JSON.stringify(e));for(;0<e.length;){var s=e.shift();if(i.r7(s)){var o=new n.pl(this,this.t7,s.name,s.options,s.j8,s.b8),a={};s.k8&&Object.keys(s.k8).forEach((function(t){o.q8(a[t]=new n.pl.p9(this,o,t))}),this),s.fields&&s.fields.forEach((function(t){if(null!==o.Q8(0|t.id))throw Error("duplicate or invalid field id in "+o.name+": "+t.id);if(t.options&&"object"!=typeof t.options)throw Error("illegal field options in "+o.name+"#"+t.name);var e=null;if("string"==typeof t.H8&&!(e=a[t.H8]))throw Error("illegal oneof in "+o.name+"#"+t.name+": "+t.H8);t=new n.pl.W8(this,o,t.rule,t.keytype,t.type,t.name,t.id,t.options,e,s.b8),e&&e.fields.push(t),o.q8(t)}),this);var l=[];if(s.g8&&s.g8.forEach((function(t){l.push(t)})),s.messages&&s.messages.forEach((function(t){l.push(t)})),s.services&&s.services.forEach((function(t){l.push(t)})),s.extensions&&(o.extensions=s.extensions,o.extensions[0]<t.x6&&(o.extensions[0]=t.x6),o.extensions[1]>t.G6&&(o.extensions[1]=t.G6)),this.t7.q8(o),0<l.length){r.push(e),e=l,l=null,this.t7=o,o=null;continue}l=null}else if(i.e7(s))o=new n.r9(this,this.t7,s.name,s.options,s.b8),s.values.forEach((function(t){o.q8(new n.r9.n9(this,o,t.name,t.id))}),this),this.t7.q8(o);else if(i.h7(s))o=new n.z9(this,this.t7,s.name,s.options),Object.keys(s.S8).forEach((function(t){var e=s.S8[t];o.q8(new n.z9.X9(this,o,t,e.request,e.response,!!e.N8,!!e.C8,e.options))}),this),this.t7.q8(o);else{if(!i.o7(s))throw Error("not a valid definition: "+JSON.stringify(s));if(o=this.t7.resolve(s.lK,!0))s.fields.forEach((function(e){if(null!==o.Q8(0|e.id))throw Error("duplicate extended field id in "+o.name+": "+e.id);if(e.id<o.extensions[0]||e.id>o.extensions[1])throw Error("illegal extended field id in "+o.name+": "+e.id+" ("+o.extensions.join(" to ")+" expected)");var r=e.name;this.options.V6&&(r=t.cT.K6(r));var i=new n.pl.w9(this,o,e.rule,e.type,this.t7.F8()+"."+r,e.id,e.options),s=new n.G9(this,this.t7,e.name,i);i.F9=s,this.t7.q8(s),o.q8(i)}),this);else if(!/\.?google\.protobuf\./.test(s.lK))throw Error("extended message "+s.lK+" is not defined")}o=s=null}e=null,this.t7=this.t7.parent}return this.i7=!1,this.result=null,this},s.import=function(e,n){var i="/";if("string"==typeof n){if(t.cT.Q6&&(n=r(117).resolve(n)),!0===this.files[n])return this.reset();this.files[n]=!0}else if("object"==typeof n){var s=n.root;t.cT.Q6&&(s=r(117).resolve(s)),(0<=s.indexOf("\\")||0<=n.u7.indexOf("\\"))&&(i="\\");var o=s+i+n.u7;if(!0===this.files[o])return this.reset();this.files[o]=!0}if(e.imports&&0<e.imports.length){var a,l=!1;"object"==typeof n?(this.n7=n.root,l=!0,a=this.n7,n=n.u7,(0<=a.indexOf("\\")||0<=n.indexOf("\\"))&&(i="\\")):"string"==typeof n?this.n7?a=this.n7:0<=n.indexOf("/")?""===(a=n.replace(/\/[^\/]*$/,""))&&(a="/"):0<=n.indexOf("\\")?(a=n.replace(/\\[^\\]*$/,""),i="\\"):a=".":a=null;for(var u=0;u<e.imports.length;u++)if("string"==typeof e.imports[u]){if(!a)throw Error("cannot determine import root");var c=e.imports[u];if("google/protobuf/descriptor.proto"===c)continue;if(c=a+i+c,!0===this.files[c])continue;/\.proto$/i.test(c)&&!t.l8&&(c=c.replace(/\.proto$/,".json"));var h=t.cT.fetch(c);if(null===h)throw Error("failed to import '"+c+"' in '"+n+"': file not found");/\.json$/i.test(c)?this.import(JSON.parse(h+""),c):this.import(t.l8.ZG.parse(h),c)}else n?/\.(\w+)$/.test(n)?this.import(e.imports[u],n.replace(/^(.+)\.(\w+)$/,(function(t,e,r){return e+"_import"+u+"."+r}))):this.import(e.imports[u],n+"_import"+u):this.import(e.imports[u]);l&&(this.n7=null)}e.package&&this.define(e.package),e.b8&&function t(e){e.messages&&e.messages.forEach((function(r){r.b8=e.b8,t(r)})),e.g8&&e.g8.forEach((function(t){t.b8=e.b8}))}(e);var p=this.t7;return e.options&&Object.keys(e.options).forEach((function(t){p.options[t]=e.options[t]})),e.messages&&(this.create(e.messages),this.t7=p),e.g8&&(this.create(e.g8),this.t7=p),e.services&&(this.create(e.services),this.t7=p),e.a7&&this.create(e.a7),this.reset()},s.f7=function(){var r;if(null==this.t7||"object"==typeof this.t7.type)return this;if(this.t7 instanceof n.z8)this.t7.children.forEach((function(t){this.t7=t,this.f7()}),this);else if(this.t7 instanceof n.pl.W8){if(e.TYPE.test(this.t7.type))this.t7.type=t.L6[this.t7.type];else{if(!e.t8.test(this.t7.type))throw Error("illegal type reference in "+this.t7.toString(!0)+": "+this.t7.type);if(!(r=(this.t7 instanceof n.pl.w9?this.t7.F9.parent:this.t7.parent).resolve(this.t7.type,!0)))throw Error("unresolvable type reference in "+this.t7.toString(!0)+": "+this.t7.type);if((this.t7.G8=r)instanceof n.r9){if(this.t7.type=t.L6.enum,"proto3"===this.t7.b8&&"proto3"!==r.b8)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(r instanceof n.pl))throw Error("illegal type reference in "+this.t7.toString(!0)+": "+this.t7.type);this.t7.type=r.j8?t.L6.group:t.L6.message}}if(this.t7.map){if(!e.TYPE.test(this.t7.d9))throw Error("illegal key type for map field in "+this.t7.toString(!0)+": "+this.t7.d9);this.t7.d9=t.L6[this.t7.d9]}}else if(this.t7 instanceof t.Reflect.z9.J9){if(!(this.t7 instanceof t.Reflect.z9.X9))throw Error("illegal service type in "+this.t7.toString(!0));if(!((r=this.t7.parent.resolve(this.t7.V9,!0))&&r instanceof t.Reflect.pl))throw Error("Illegal type reference in "+this.t7.toString(!0)+": "+this.t7.V9);if(this.t7.W9=r,!((r=this.t7.parent.resolve(this.t7.B9,!0))&&r instanceof t.Reflect.pl))throw Error("Illegal type reference in "+this.t7.toString(!0)+": "+this.t7.B9);this.t7.Y9=r}else if(!(this.t7 instanceof t.Reflect.pl.p9||this.t7 instanceof t.Reflect.G9||this.t7 instanceof t.Reflect.r9.n9))throw Error("illegal object in namespace: "+typeof this.t7+": "+this.t7);return this.reset()},s.uv=function(t){if(this.reset(),this.i7||(this.f7(),this.i7=!0,this.result=null),null===this.result&&(this.result=this.Z9.uv()),!t)return this.result;for(var e="string"==typeof t?t.split("."):t,r=this.result,n=0;n<e.length;n++){if(!r[e[n]]){r=null;break}r=r[e[n]]}return r},s.lookup=function(t,e){return t?this.Z9.resolve(t,e):this.Z9},s.toString=function(){return"Builder"},i.pl=function(){},i.r9=function(){},i.z9=function(){},i}(i,i.Lang,i.Reflect),i.Map=function(t,e){function r(t,r){if(!t.map)throw Error("field is not a map");if(this.field=t,this.O9=new e.Element(t.d9,null,!0,t.b8),this.I9=new e.Element(t.type,t.G8,!1,t.b8),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),r)for(var n=Object.keys(r),i=0;i<n.length;i++){var s=this.O9.a9(n[i]),o=this.I9.i9(r[n[i]]);this.map[this.O9.f9(s)]={key:s,value:o}}}var n=r.prototype;function i(t){var e=0;return{next:function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}}return n.clear=function(){this.map={}},n.delete=function(t){var e=this.O9.f9(this.O9.i9(t)),r=e in this.map;return delete this.map[e],r},n.entries=function(){for(var t,e=[],r=Object.keys(this.map),n=0;n<r.length;n++)e.push([(t=this.map[r[n]]).key,t.value]);return i(e)},n.keys=function(){for(var t=[],e=Object.keys(this.map),r=0;r<e.length;r++)t.push(this.map[e[r]].key);return i(t)},n.values=function(){for(var t=[],e=Object.keys(this.map),r=0;r<e.length;r++)t.push(this.map[e[r]].value);return i(t)},n.forEach=function(t,e){for(var r,n=Object.keys(this.map),i=0;i<n.length;i++)t.call(e,(r=this.map[n[i]]).value,r.key,this)},n.set=function(t,e){var r=this.O9.i9(t),n=this.I9.i9(e);return this.map[this.O9.f9(r)]={key:r,value:n},this},n.get=function(t){var e=this.O9.f9(this.O9.i9(t));if(e in this.map)return this.map[e].value},n.has=function(t){return this.O9.f9(this.O9.i9(t))in this.map},r}(0,i.Reflect),i.c7=function(t,e,r){return("string"==typeof e||e&&"string"==typeof e.u7&&"string"==typeof e.root)&&(r=e,e=void 0),i.av(i.l8.ZG.parse(t),e,r)},i.l7=i.c7,i.v7=function(t,e,r){if(e&&"object"==typeof e?(r=e,e=null):e&&"function"==typeof e||(e=null),e)return i.cT.fetch("string"==typeof t?t:t.root+"/"+t.u7,(function(n){if(null!==n)try{e(null,i.c7(n,r,t))}catch(n){e(n)}else e(Error("Failed to fetch file"))}));var n=i.cT.fetch("object"==typeof t?t.root+"/"+t.u7:t);return null===n?null:i.c7(n,r,t)},i.d7=i.v7,i.E7=function(t){return void 0===(t=t||{}).V6&&(t.V6=i.V6),void 0===t.B6&&(t.B6=i.B6),new i.e9(t)},i.av=function(t,e,r){return("string"==typeof e||e&&"string"==typeof e.u7&&"string"==typeof e.root)&&(r=e,e=null),e&&"object"==typeof e||(e=i.E7()),"string"==typeof t&&(t=JSON.parse(t)),e.import(t,r),e.f7(),e},i.w7=function(t,e,r){if(e&&"object"==typeof e?(r=e,e=null):e&&"function"==typeof e||(e=null),e)return i.cT.fetch("string"==typeof t?t:t.root+"/"+t.u7,(function(n){if(null!==n)try{e(null,i.av(JSON.parse(n),r,t))}catch(n){e(n)}else e(Error("Failed to fetch file"))}));var n=i.cT.fetch("object"==typeof t?t.root+"/"+t.u7:t);return null===n?null:i.av(JSON.parse(n),r,t)},i})?i.apply(e,s):i)||(t.exports=o)}).call(this,r(36))},function(t,e,r){var n,i,s;i=[r(221)],void 0===(s="function"==typeof(n=function(t){"use strict";var e=function(t,r,i){if(void 0===t&&(t=e.lP),void 0===r&&(r=e.vP),void 0===i&&(i=e.dP),!i){if((t|=0)<0)throw RangeError("Illegal capacity");r=!!r,i=!!i}this.buffer=0===t?n:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.EP=-1,this.wP=t,this.pP=void 0!==r&&!!r,this.gP=!!i};e.VERSION="4.1.0",e.bP=!0,e.yP=!1,e.lP=16,e.vP=e.yP,e.dP=!1,e.TP=t||null;var r=e.prototype;r.mP,Object.defineProperty(r,"mP",{value:!0,enumerable:!1,configurable:!1});var n=new ArrayBuffer(0),i=String.fromCharCode;function s(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function o(){var t=[],e=[];return function(){if(0===arguments.length)return e.join("")+i.apply(String,t);1024<t.length+arguments.length&&(e.push(i.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}}function a(t,e,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-c)-1,f>>=-c,c+=a;0<c;s=256*s+t[e+h],h+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;0<c;o=256*o+t[e+h],h+=p,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)}function l(t,e,r,n,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),2<=(e+=1<=o+h?p/l:p*Math.pow(2,1-h))*l&&(o++,l/=2),c<=o+h?(a=0,o=c):1<=o+h?(a=(e*l-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[r+f]=255&a,f+=d,a/=256,i-=8);for(o=o<<i|a,u+=i;0<u;t[r+f]=255&o,f+=d,o/=256,u-=8);t[r+f-d]|=128*g}e.OP=function(){return Uint8Array},e.IP=function(t,r,n){return new e(t,r,n)},e.concat=function(t,r,n,i){"boolean"!=typeof r&&"string"==typeof r||(i=n,n=r,r=void 0);for(var s,o=0,a=0,l=t.length;a<l;++a)e._P(t[a])||(t[a]=e.wrap(t[a],r)),0<(s=t[a].wP-t[a].offset)&&(o+=s);if(0===o)return new e(0,n,i);var u,c=new e(o,n,i);for(a=0;a<l;)(s=(u=t[a++]).wP-u.offset)<=0||(c.view.set(u.view.subarray(u.offset,u.wP),c.offset),c.offset+=s);return c.wP=c.offset,c.offset=0,c},e._P=function(t){return!0===(t&&t.mP)},e.type=function(){return ArrayBuffer},e.wrap=function(t,n,i,s){if("string"!=typeof n&&(s=i,i=n,n=void 0),"string"==typeof t)switch(void 0===n&&(n="utf8"),n){case"base64":return e.RP(t,i);case"hex":return e.SP(t,i);case"binary":return e.AP(t,i);case"utf8":return e.NP(t,i);case"debug":return e.CP(t,i);default:throw Error("Unsupported encoding: "+n)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var o;if(e._P(t))return(o=r.clone.call(t)).EP=-1,o;if(t instanceof Uint8Array)o=new e(0,i,s),0<t.length&&(o.buffer=t.buffer,o.offset=t.byteOffset,o.wP=t.byteOffset+t.byteLength,o.view=new Uint8Array(t.buffer));else if(t instanceof ArrayBuffer)o=new e(0,i,s),0<t.byteLength&&(o.buffer=t,o.offset=0,o.wP=t.byteLength,o.view=0<t.byteLength?new Uint8Array(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");(o=new e(t.length,i,s)).wP=t.length;for(var a=0;a<t.length;++a)o.view[a]=t[a]}return o},r.PP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+"+t+") <= "+this.buffer.byteLength)}var n=this.slice(e,e+t);return r&&(this.offset+=t),n},r.LP=r.append,r.HP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},r.Uw=r.HP,r.UP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return 128==(128&r)&&(r=-(255-r+1)),e&&(this.offset+=1),r},r.hp=r.UP,r.FP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=1,this.view[e]=t,r&&(this.offset+=1),this},r.xP=r.FP,r.GP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view[t];return e&&(this.offset+=1),r},r.VP=r.GP,r.BP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=2,this.pP?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},r.qP=r.BP,r.QP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),32768==(32768&r)&&(r=-(65535-r+1)),e&&(this.offset+=2),r},r.WP=r.QP,r.YP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=2,this.pP?(this.view[e+1]=(65280&t)>>>8,this.view[e]=255&t):(this.view[e]=(65280&t)>>>8,this.view[e+1]=255&t),r&&(this.offset+=2),this},r.zP=r.YP,r.KP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t],r|=this.view[t+1]<<8):(r=this.view[t]<<8,r|=this.view[t+1]),e&&(this.offset+=2),r},r.$P=r.KP,r.XP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,this.pP?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},r.Wl=r.XP,r.JP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),r|=0,e&&(this.offset+=4),r},r.nv=r.JP,r.ZP=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,this.pP?(this.view[e+3]=t>>>24&255,this.view[e+2]=t>>>16&255,this.view[e+1]=t>>>8&255,this.view[e]=255&t):(this.view[e]=t>>>24&255,this.view[e+1]=t>>>16&255,this.view[e+2]=t>>>8&255,this.view[e+3]=255&t),r&&(this.offset+=4),this},r.tL=r.ZP,r.iL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.pP?(r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0),e&&(this.offset+=4),r},r.nL=r.iL,t&&(r.rL=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("number"==typeof e)e=t.Vg(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.Vg(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var i=this.buffer.byteLength;i<r&&this.resize((i*=2)>r?i:r),r-=8;var s=e.low,o=e.high;return this.pP?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),n&&(this.offset+=8),this},r.sL=r.rL,r.eL=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.pP?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0);var s=new t(n,i,!1);return r&&(this.offset+=8),s},r.hL=r.eL,r.oL=function(e,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("number"==typeof e)e=t.Vg(e);else if("string"==typeof e)e=t.fromString(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.Vg(e):"string"==typeof e&&(e=t.fromString(e)),r+=8;var i=this.buffer.byteLength;i<r&&this.resize((i*=2)>r?i:r),r-=8;var s=e.low,o=e.high;return this.pP?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=o>>>24&255,this.view[r+2]=o>>>16&255,this.view[r+1]=o>>>8&255,this.view[r]=255&o):(this.view[r]=o>>>24&255,this.view[r+1]=o>>>16&255,this.view[r+2]=o>>>8&255,this.view[r+3]=255&o,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),n&&(this.offset+=8),this},r.uL=r.oL,r.aL=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=0,i=0;this.pP?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0,e+=4,i=this.view[e+2]<<16,i|=this.view[e+1]<<8,i|=this.view[e],i+=this.view[e+3]<<24>>>0):(i=this.view[e+1]<<16,i|=this.view[e+2]<<8,i|=this.view[e+3],i+=this.view[e]<<24>>>0,e+=4,n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0);var s=new t(n,i,!0);return r&&(this.offset+=8),s},r.fL=r.aL),r.cL=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=4,l(this.view,t,e,this.pP,23,4),r&&(this.offset+=4),this},r.lL=r.cL,r.vL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=a(this.view,t,this.pP,23,4);return e&&(this.offset+=4),r},r.dL=r.vL,r.EL=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var n=this.buffer.byteLength;return n<e&&this.resize((n*=2)>e?n:e),e-=8,l(this.view,t,e,this.pP,52,8),r&&(this.offset+=8),this},r.Gw=r.EL,r.wL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=a(this.view,t,this.pP,52,8);return e&&(this.offset+=8),r},r.ap=r.wL,e.pL=5,e.gL=function(t){return(t>>>=0)<128?1:t<16384?2:t<1<<21?3:t<1<<28?4:5},e.bL=function(t){return((t|=0)<<1^t>>31)>>>0},e.yL=function(t){return t>>>1^-(1&t)|0},r.jP=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,s=e.gL(t);r+=s;var o=this.buffer.byteLength;for(o<r&&this.resize((o*=2)>r?o:r),r-=s,t>>>=0;128<=t;)i=127&t|128,this.view[r++]=i,t>>>=7;return this.view[r++]=t,n?(this.offset=r,this):s},r.TL=function(t,r){return this.jP(e.bL(t),r)},r.DP=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=0,i=0;do{if(!this.gP&&t>this.wP){var s=Error("Truncated");throw s.mL=!0,s}r=this.view[t++],n<5&&(i|=(127&r)<<7*n),++n}while(0!=(128&r));return i|=0,e?(this.offset=t,i):{value:i,length:n}},r.OL=function(t){var r=this.DP(t);return"object"==typeof r?r.value=e.yL(r.value):r=e.yL(r),r},t&&(e.IL=10,e._L=function(e){"number"==typeof e?e=t.Vg(e):"string"==typeof e&&(e=t.fromString(e));var r=e.RL()>>>0,n=e.SL(28).RL()>>>0,i=e.SL(56).RL()>>>0;return 0==i?0==n?r<16384?r<128?1:2:r<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:i<128?9:10},e.AL=function(e){return"number"==typeof e?e=t.Vg(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.NL&&(e=e.CL()),e.shiftLeft(1).xor(e.jL(63)).kL()},e.ML=function(e){return"number"==typeof e?e=t.Vg(e,!1):"string"==typeof e?e=t.fromString(e,!1):!1!==e.NL&&(e=e.CL()),e.SL(1).xor(e.and(t.ONE).CL().Ob()).CL()},r.DL=function(r,n){var i=void 0===n;if(i&&(n=this.offset),!this.gP){if("number"==typeof r)r=t.Vg(r);else if("string"==typeof r)r=t.fromString(r);else if(!(r&&r instanceof t))throw TypeError("Illegal value: "+r+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof r?r=t.Vg(r,!1):"string"==typeof r?r=t.fromString(r,!1):!1!==r.NL&&(r=r.CL());var s=e._L(r),o=r.RL()>>>0,a=r.SL(28).RL()>>>0,l=r.SL(56).RL()>>>0;n+=s;var u=this.buffer.byteLength;switch(u<n&&this.resize((u*=2)>n?u:n),n-=s,s){case 10:this.view[n+9]=l>>>7&1;case 9:this.view[n+8]=9!==s?128|l:127&l;case 8:this.view[n+7]=8!==s?a>>>21|128:a>>>21&127;case 7:this.view[n+6]=7!==s?a>>>14|128:a>>>14&127;case 6:this.view[n+5]=6!==s?a>>>7|128:a>>>7&127;case 5:this.view[n+4]=5!==s?128|a:127&a;case 4:this.view[n+3]=4!==s?o>>>21|128:o>>>21&127;case 3:this.view[n+2]=3!==s?o>>>14|128:o>>>14&127;case 2:this.view[n+1]=2!==s?o>>>7|128:o>>>7&127;case 1:this.view[n]=1!==s?128|o:127&o}return i?(this.offset+=s,this):s},r.PL=function(t,r){return this.DL(e.AL(t),r)},r.LL=function(e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,i=0,s=0,o=0,a=0;if(i=127&(a=this.view[e++]),128&a&&(i|=(127&(a=this.view[e++]))<<7,(128&a||this.gP&&void 0===a)&&(i|=(127&(a=this.view[e++]))<<14,(128&a||this.gP&&void 0===a)&&(i|=(127&(a=this.view[e++]))<<21,(128&a||this.gP&&void 0===a)&&(s=127&(a=this.view[e++]),(128&a||this.gP&&void 0===a)&&(s|=(127&(a=this.view[e++]))<<7,(128&a||this.gP&&void 0===a)&&(s|=(127&(a=this.view[e++]))<<14,(128&a||this.gP&&void 0===a)&&(s|=(127&(a=this.view[e++]))<<21,(128&a||this.gP&&void 0===a)&&(o=127&(a=this.view[e++]),(128&a||this.gP&&void 0===a)&&(o|=(127&(a=this.view[e++]))<<7,128&a||this.gP&&void 0===a))))))))))throw Error("Buffer overrun");var l=t.Tm(i|s<<28,s>>>4|o<<24,!1);return r?(this.offset=e,l):{value:l,length:e-n}},r.HL=function(r){var n=this.LL(r);return n&&n.value instanceof t?n.value=e.ML(n.value):n=e.ML(n),n}),r.Yl=function(t,e){var r=void 0===e;r&&(e=this.offset);var n,i=t.length;if(!this.gP){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;n<i;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}i=c.UL(s(t))[1],e+=i+1;var o=this.buffer.byteLength;return o<e&&this.resize((o*=2)>e?o:e),e-=i+1,c.FL(s(t),function(t){this.view[e++]=t}.bind(this)),this.view[e++]=0,r?(this.offset=e,this):i},r.ev=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=t,i=-1;return c.xL(function(){if(0===i)return null;if(t>=this.wP)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.wP);return 0===(i=this.view[t++])?null:i}.bind(this),r=o(),!0),e?(this.offset=t,r()):{string:r(),length:t-n}},r.GL=function(t,e){var r=void 0===e;if(r&&(e=this.offset),!this.gP){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var n,i=e;n=c.UL(s(t),this.gP)[1],e+=4+n;var o=this.buffer.byteLength;if(o<e&&this.resize((o*=2)>e?o:e),e-=4+n,this.pP?(this.view[e+3]=n>>>24&255,this.view[e+2]=n>>>16&255,this.view[e+1]=n>>>8&255,this.view[e]=255&n):(this.view[e]=n>>>24&255,this.view[e+1]=n>>>16&255,this.view[e+2]=n>>>8&255,this.view[e+3]=255&n),e+=4,c.FL(s(t),function(t){this.view[e++]=t}.bind(this)),e!==i+4+n)throw RangeError("Illegal range: Truncated data, "+e+" == "+(e+4+n));return r?(this.offset=e,this):e-i},r.VL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r,n=0,i=t;this.pP?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0);var s,a=(t+=4)+n;return c.xL(function(){return t<a?this.view[t++]:null}.bind(this),s=o(),this.gP),r=s(),e?(this.offset=t,r):{string:r,length:t-i}},e.QL="c",e.qL="b",r.WL=function(t,e){var r,n=void 0===e;if(n&&(e=this.offset),!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i=e;r=c.UL(s(t))[1],e+=r;var o=this.buffer.byteLength;return o<e&&this.resize((o*=2)>e?o:e),e-=r,c.FL(s(t),function(t){this.view[e++]=t}.bind(this)),n?(this.offset=e,this):e-i},r.GE=r.WL,e.YL=function(t){return c.UL(s(t))[0]},e.zL=function(t){return c.UL(s(t))[1]},e.KL=e.zL,r.BL=function(t,r,n){"number"==typeof r&&(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),void 0===r&&(r=e.QL),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var s,a=0,l=n;if(r===e.QL){if(s=o(),c.$L(function(){return a<t&&n<this.wP?this.view[n++]:null}.bind(this),(function(t){++a,c.XL(t,s)})),a!==t)throw RangeError("Illegal range: Truncated data, "+a+" == "+t);return i?(this.offset=n,s()):{string:s(),length:n-l}}if(r!==e.qL)throw TypeError("Unsupported metrics: "+r);if(!this.gP){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+"+t+") <= "+this.buffer.byteLength)}var u=n+t;if(c.xL(function(){return n<u?this.view[n++]:null}.bind(this),s=o(),this.gP),n!==u)throw RangeError("Illegal range: Truncated data, "+n+" == "+u);return i?(this.offset=n,s()):{string:s(),length:n-l}},r.DE=r.BL,r.JL=function(t,r){var n=void 0===r;if(n&&(r=this.offset),!this.gP){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var i,o,a=r;i=c.UL(s(t),this.gP)[1],o=e.gL(i),r+=o+i;var l=this.buffer.byteLength;if(l<r&&this.resize((l*=2)>r?l:r),r-=o+i,r+=this.jP(i,r),c.FL(s(t),function(t){this.view[r++]=t}.bind(this)),r!==a+i+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+i+o));return n?(this.offset=r,this):r-a},r.ZL=function(t){var e=void 0===t;if(e&&(t=this.offset),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,n=this.DP(t),i=t;t+=n.length,n=n.value;var s=t+n,a=o();return c.xL(function(){return t<s?this.view[t++]:null}.bind(this),a,this.gP),r=a(),e?(this.offset=t,r):{string:r,length:t-i}},r.append=function(t,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.gP){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,r));var s=t.wP-t.offset;if(s<=0)return this;n+=s;var o=this.buffer.byteLength;return o<n&&this.resize((o*=2)>n?o:n),n-=s,this.view.set(t.view.subarray(t.offset,t.wP),n),t.offset+=s,i&&(this.offset+=s),this},r.tH=function(t,e){return t.append(this,e),this},r.assert=function(t){return this.gP=!t,this},r.iH=function(){return this.buffer.byteLength},r.clear=function(){return this.offset=0,this.wP=this.buffer.byteLength,this.EP=-1,this},r.clone=function(t){var r=new e(0,this.pP,this.gP);return t?(r.buffer=new ArrayBuffer(this.buffer.byteLength),r.view=new Uint8Array(r.buffer)):(r.buffer=this.buffer,r.view=this.view),r.offset=this.offset,r.EP=this.EP,r.wP=this.wP,r},r.compact=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0==r)return this.buffer=n,this.view=null,0<=this.EP&&(this.EP-=t),this.offset=0,this.wP=0,this;var i=new ArrayBuffer(r),s=new Uint8Array(i);return s.set(this.view.subarray(t,e)),this.buffer=i,this.view=s,0<=this.EP&&(this.EP-=t),this.offset=0,this.wP=r,this},r.nH=function(t,r){if(void 0===t&&(t=this.offset),void 0===r&&(r=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||r<t||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t===r)return new e(0,this.pP,this.gP);var n=r-t,i=new e(n,this.pP,this.gP);return i.offset=0,i.wP=n,0<=i.EP&&(i.EP-=t),this.pb(i,0,t,r),i},r.pb=function(t,r,n,i){var s,o;if(!this.gP&&!e._P(t))throw TypeError("Illegal target: Not a ByteBuffer");if(r=(o=void 0===r)?t.offset:0|r,n=(s=void 0===n)?this.offset:0|n,i=void 0===i?this.wP:0|i,r<0||r>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+r+" <= "+t.buffer.byteLength);if(n<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var a=i-n;return 0==a?t:(t.rH(r+a),t.view.set(this.view.subarray(n,i),r),s&&(this.offset+=a),o&&(t.offset+=a),this)},r.rH=function(t){var e=this.buffer.byteLength;return e<t?this.resize((e*=2)>t?e:t):this},r.fill=function(t,e,r){var n=void 0===e;if(n&&(e=this.offset),"string"==typeof t&&0<t.length&&(t=t.charCodeAt(0)),void 0===e&&(e=this.offset),void 0===r&&(r=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(r<=e)return this;for(;e<r;)this.view[e++]=t;return n&&(this.offset=e),this},r.zl=function(){return this.wP=this.offset,this.offset=0,this},r.mark=function(t){if(t=void 0===t?this.offset:t,!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.EP=t,this},r.order=function(t){if(!this.gP&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.pP=!!t,this},r.sH=function(t){return this.pP=void 0===t||!!t,this},r.eH=function(t){return this.pP=void 0!==t&&!t,this},r.prepend=function(t,r,n){"number"!=typeof r&&"string"==typeof r||(n=r,r=void 0);var i=void 0===n;if(i&&(n=this.offset),!this.gP){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}t instanceof e||(t=e.wrap(t,r));var s=t.wP-t.offset;if(s<=0)return this;var o=s-n;if(0<o){var a=new ArrayBuffer(this.buffer.byteLength+o),l=new Uint8Array(a);l.set(this.view.subarray(n,this.buffer.byteLength),s),this.buffer=a,this.view=l,this.offset+=o,0<=this.EP&&(this.EP+=o),this.wP+=o,n+=o}else new Uint8Array(this.buffer);return this.view.set(t.view.subarray(t.offset,t.wP),n-s),t.offset=t.wP,i&&(this.offset-=s),this},r.hH=function(t,e){return t.prepend(this,e),this},r.oH=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.uH(!0))},r.aH=function(){return this.wP-this.offset},r.reset=function(){return 0<=this.EP?(this.offset=this.EP,this.EP=-1):this.offset=0,this},r.resize=function(t){if(!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if((t|=0)<0)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t),r=new Uint8Array(e);r.set(this.view),this.buffer=e,this.view=r}return this},r.reverse=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e||Array.prototype.reverse.call(this.view.subarray(t,e)),this},r.PE=function(t){if(!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.gP&&(e<0||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},r.slice=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.wP=e,r},r.toBuffer=function(t){var e=this.offset,r=this.wP;if(!this.gP){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,e<0||r<e||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return n;var i=new ArrayBuffer(r-e);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,r),0),i},r.toArrayBuffer=r.toBuffer,r.toString=function(t,e,r){if(void 0===t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.EP+",limit="+this.wP+",capacity="+this.iH()+")";switch("number"==typeof t&&(r=e=t="utf8"),t){case"utf8":return this.fH(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.cH(e,r);case"binary":return this.lH(e,r);case"debug":return this.uH();case"columns":return this.vH();default:throw Error("Unsupported encoding: "+t)}};var u=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],n=0,i=e.length;n<i;++n)r[e[n]]=n;return t.encode=function(t,r){for(var n,i;null!==(n=t());)r(e[n>>2&63]),i=(3&n)<<4,null!==(n=t())?(r(e[63&((i|=n>>4&15)|n>>4&15)]),i=(15&n)<<2,null!==(n=t())?(r(e[63&(i|n>>6&3)]),r(e[63&n])):(r(e[63&i]),r(61))):(r(e[63&i]),r(61),r(61))},t.decode=function(t,e){var n,i,s;function o(t){throw Error("Illegal character code: "+t)}for(;null!==(n=t());)if(void 0===(i=r[n])&&o(n),null!==(n=t())&&(void 0===(s=r[n])&&o(n),e(i<<2>>>0|(48&s)>>4),null!==(n=t()))){if(void 0===(i=r[n])){if(61===n)break;o(n)}if(e((15&s)<<4>>>0|(60&i)>>2),null!==(n=t())){if(void 0===(s=r[n])){if(61===n)break;o(n)}e((3&i)<<6>>>0|s)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();r.toBase64=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),e|=0,(t|=0)<0||e>this.iH||e<t)throw RangeError("begin, end");var r;return u.encode(function(){return t<e?this.view[t++]:null}.bind(this),r=o()),r()},e.RP=function(t,r){if("string"!=typeof t)throw TypeError("str");var n=new e(t.length/4*3,r),i=0;return u.decode(s(t),(function(t){n.view[i++]=t})),n.wP=i,n},e.btoa=function(t){return e.AP(t).toBase64()},e.atob=function(t){return e.RP(t).lH()},r.lH=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),e|=0,(t|=0)<0||e>this.iH()||e<t)throw RangeError("begin, end");if(t===e)return"";for(var r=[],n=[];t<e;)r.push(this.view[t++]),1024<=r.length&&(n.push(String.fromCharCode.apply(String,r)),r=[]);return n.join("")+String.fromCharCode.apply(String,r)},e.AP=function(t,r){if("string"!=typeof t)throw TypeError("str");for(var n,i=0,s=t.length,o=new e(s,r);i<s;){if(255<(n=t.charCodeAt(i)))throw RangeError("illegal char code: "+n);o.view[i++]=n}return o.wP=s,o},r.uH=function(t){for(var e,r=-1,n=this.buffer.byteLength,i="",s="",o="";r<n;){if(-1!==r&&(i+=(e=this.view[r])<16?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(s+=32<e&&e<127?String.fromCharCode(e):".")),++r,t&&0<r&&r%16==0&&r!==n){for(;i.length<51;)i+=" ";o+=i+s+"\n",i=s=""}r===this.offset&&r===this.wP?i+=r===this.EP?"!":"|":r===this.offset?i+=r===this.EP?"[":"<":r===this.wP?i+=r===this.EP?"]":">":i+=r===this.EP?"'":t||0!==r&&r!==n?" ":""}if(t&&" "!==i){for(;i.length<51;)i+=" ";o+=i+s+"\n"}return t?o:i},e.CP=function(t,r,n){for(var i,s,o=t.length,a=new e((o+1)/3|0,r,n),l=0,u=0,c=!1,h=!1,p=!1,f=!1,d=!1;l<o;){switch(i=t.charAt(l++)){case"!":if(!n){if(h||p||f){d=!0;break}h=p=f=!0}a.offset=a.EP=a.wP=u,c=!1;break;case"|":if(!n){if(h||f){d=!0;break}h=f=!0}a.offset=a.wP=u,c=!1;break;case"[":if(!n){if(h||p){d=!0;break}h=p=!0}a.offset=a.EP=u,c=!1;break;case"<":if(!n){if(h){d=!0;break}h=!0}a.offset=u,c=!1;break;case"]":if(!n){if(f||p){d=!0;break}f=p=!0}a.wP=a.EP=u,c=!1;break;case">":if(!n){if(f){d=!0;break}f=!0}a.wP=u,c=!1;break;case"'":if(!n){if(p){d=!0;break}p=!0}a.EP=u,c=!1;break;case" ":c=!1;break;default:if(!n&&c){d=!0;break}if(s=parseInt(i+t.charAt(l++),16),!n&&(isNaN(s)||s<0||255<s))throw TypeError("Illegal str: Not a debug encoded string");a.view[u++]=s,c=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+l)}if(!n){if(!h||!f)throw TypeError("Illegal str: Missing offset or limit");if(u<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+u+" < "+o)}return a},r.cH=function(t,e){if(t=void 0===t?this.offset:t,e=void 0===e?this.wP:e,!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,n=new Array(e-t);t<e;)(r=this.view[t++])<16?n.push("0",r.toString(16)):n.push(r.toString(16));return n.join("")},e.SP=function(t,r,n){if(!n){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=t.length,o=new e(s/2|0,r),a=0,l=0;a<s;a+=2){if(i=parseInt(t.substring(a,a+2),16),!n&&(!isFinite(i)||i<0||255<i))throw TypeError("Illegal str: Contains non-hex characters");o.view[l++]=i}return o.wP=l,o};var c=function(){var t={dH:1114111,EH:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<128?e(127&r):(r<2048?e(r>>6&31|192):(r<65536?e(r>>12&15|224):(e(r>>18&7|240),e(r>>12&63|128)),e(r>>6&63|128)),e(63&r|128)),r=null},$L:function(t,e){for(var r,n,i,s,o=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0==(128&r))e(r);else if(192==(224&r))null===(n=t())&&o([r,n]),e((31&r)<<6|63&n);else if(224==(240&r))null!==(n=t())&&null!==(i=t())||o([r,n,i]),e((15&r)<<12|(63&n)<<6|63&i);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);null!==(n=t())&&null!==(i=t())&&null!==(s=t())||o([r,n,i,s]),e((7&r)<<18|(63&n)<<12|(63&i)<<6|63&s)}},wH:function(t,e){for(var r,n=null;null!==(r=null!==n?n:t());)55296<=r&&r<=57343&&null!==(n=t())&&56320<=n&&n<=57343?(e(1024*(r-55296)+n-56320+65536),n=null):e(r);null!==n&&e(n)},XL:function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)r<=65535?e(r):(e(55296+((r-=65536)>>10)),e(r%1024+56320)),r=null},FL:function(e,r){t.wH(e,(function(e){t.EH(e,r)}))},xL:function(e,r){t.$L(e,(function(e){t.XL(e,r)}))},pH:function(t){return t<128?1:t<2048?2:t<65536?3:4},gH:function(t){for(var e,r=0;null!==(e=t());)r+=e<128?1:e<2048?2:e<65536?3:4;return r},UL:function(e){var r=0,n=0;return t.wH(e,(function(t){++r,n+=t<128?1:t<2048?2:t<65536?3:4})),[r,n]}};return t}();return r.fH=function(t,e){if(void 0===t&&(t=this.offset),void 0===e&&(e=this.wP),!this.gP){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!=0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,t<0||e<t||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r;try{c.xL(function(){return t<e?this.view[t++]:null}.bind(this),r=o())}catch(r){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return r()},e.NP=function(t,r,n){if(!n&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var i=new e(c.UL(s(t),!0)[1],r,n),o=0;return c.FL(s(t),(function(t){i.view[o++]=t})),i.wP=o,i},e})?n.apply(e,i):n)||(t.exports=s)},function(t,e,r){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function t(t,e,r){this.low=0|t,this.high=0|e,this.NL=!!r}Object.defineProperty(t.prototype,"p7",{value:!0,enumerable:!1,configurable:!1}),t.T9=function(t){return!0===(t&&t.p7)};var e={},r={};t.$g=function(n,i){var s,o;return i?0<=(n>>>=0)&&n<256&&(o=r[n])?o:(s=new t(n,(0|n)<0?-1:0,!0),0<=n&&n<256&&(r[n]=s),s):-128<=(n|=0)&&n<128&&(o=e[n])?o:(s=new t(n,n<0?-1:0,!1),-128<=n&&n<128&&(e[n]=s),s)},t.Vg=function(e,r){return r=!!r,isNaN(e)||!isFinite(e)?t.ZERO:!r&&e<=-s?t.MIN_VALUE:!r&&s<=e+1?t.MAX_VALUE:r&&i<=e?t.g7:e<0?t.Vg(-e,r).Ob():new t(e%n|0,e/n|0,r)},t.Tm=function(e,r,n){return new t(e,r,n)},t.fromString=function(e,r,n){if(0===e.length)throw Error("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t.ZERO;if("number"==typeof r&&(n=r,r=!1),(n=n||10)<2||36<n)throw Error("radix out of range: "+n);var i;if(0<(i=e.indexOf("-")))throw Error('number format error: interior "-" character: '+e);if(0===i)return t.fromString(e.substring(1),r,n).Ob();for(var s=t.Vg(Math.pow(n,8)),o=t.ZERO,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+l),n);if(l<8){var c=t.Vg(Math.pow(n,l));o=o.multiply(c).add(t.Vg(u))}else o=(o=o.multiply(s)).add(t.Vg(u))}return o.NL=r,o},t.m9=function(e){return e instanceof t?e:"number"==typeof e?t.Vg(e):"string"==typeof e?t.fromString(e):new t(e.low,e.high,e.NL)};var n=4294967296,i=n*n,s=i/2,o=t.$g(1<<24);return t.ZERO=t.$g(0),t.U6=t.$g(0,!0),t.ONE=t.$g(1),t.b7=t.$g(1,!0),t.y7=t.$g(-1),t.MAX_VALUE=t.Tm(-1,2147483647,!1),t.g7=t.Tm(-1,-1,!0),t.MIN_VALUE=t.Tm(0,-2147483648,!1),t.prototype.RL=function(){return this.NL?this.low>>>0:this.low},t.prototype.T7=function(){return this.NL?(this.high>>>0)*n+(this.low>>>0):this.high*n+(this.low>>>0)},t.prototype.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix out of range: "+e);if(this.m7())return"0";var r;if(this.fZ()){if(this.equals(t.MIN_VALUE)){var n=t.Vg(e),i=this.O7(n);return r=i.multiply(n).I7(this),i.toString(e)+r.RL().toString(e)}return"-"+this.Ob().toString(e)}var s=t.Vg(Math.pow(e,6),this.NL);r=this;for(var o="";;){var a=r.O7(s),l=(r.I7(a.multiply(s)).RL()>>>0).toString(e);if((r=a).m7())return l+o;for(;l.length<6;)l="0"+l;o=""+l+o}},t.prototype._7=function(){return this.high},t.prototype.R7=function(){return this.high>>>0},t.prototype.S7=function(){return this.low},t.prototype.A7=function(){return this.low>>>0},t.prototype.N7=function(){if(this.fZ())return this.equals(t.MIN_VALUE)?64:this.Ob().N7();for(var e=0!=this.high?this.high:this.low,r=31;0<r&&0==(e&1<<r);r--);return 0!=this.high?r+33:r+1},t.prototype.m7=function(){return 0===this.high&&0===this.low},t.prototype.fZ=function(){return!this.NL&&this.high<0},t.prototype.C7=function(){return this.NL||0<=this.high},t.prototype.k7=function(){return 1==(1&this.low)},t.prototype.mb=function(){return 0==(1&this.low)},t.j7=t.prototype.equals=function(e){return t.T9(e)||(e=t.m9(e)),(this.NL===e.NL||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},t.M7=t.prototype.D7=function(t){return!this.equals(t)},t.prototype.P7=t.prototype.L7=function(t){return this.compare(t)<0},t.prototype.H7=t.prototype.U7=function(t){return this.compare(t)<=0},t.prototype.F7=t.prototype.x7=function(t){return 0<this.compare(t)},t.prototype.G7=t.prototype.V7=function(t){return 0<=this.compare(t)},t.prototype.compare=function(e){if(t.T9(e)||(e=t.m9(e)),this.equals(e))return 0;var r=this.fZ(),n=e.fZ();return r&&!n?-1:!r&&n?1:this.NL?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.I7(e).fZ()?-1:1},t.prototype.B7=t.prototype.Ob=function(){return!this.NL&&this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){t.T9(e)||(e=t.m9(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,o=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,c=0,h=0,p=0;return h+=(p+=s+(65535&e.low))>>>16,c+=(h+=i+l)>>>16,u+=(c+=n+a)>>>16,u+=r+o,t.Tm((h&=65535)<<16|(p&=65535),(u&=65535)<<16|(c&=65535),this.NL)},t.prototype.sub=t.prototype.I7=function(e){return t.T9(e)||(e=t.m9(e)),this.add(e.Ob())},t.prototype.q7=t.prototype.multiply=function(e){if(this.m7())return t.ZERO;if(t.T9(e)||(e=t.m9(e)),e.m7())return t.ZERO;if(this.equals(t.MIN_VALUE))return e.k7()?t.MIN_VALUE:t.ZERO;if(e.equals(t.MIN_VALUE))return this.k7()?t.MIN_VALUE:t.ZERO;if(this.fZ())return e.fZ()?this.Ob().multiply(e.Ob()):this.Ob().multiply(e).Ob();if(e.fZ())return this.multiply(e.Ob()).Ob();if(this.L7(o)&&e.L7(o))return t.Vg(this.T7()*e.T7(),this.NL);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,a=e.high>>>16,l=65535&e.high,u=e.low>>>16,c=65535&e.low,h=0,p=0,f=0,d=0;return f+=(d+=s*c)>>>16,p+=(f+=i*c)>>>16,f&=65535,p+=(f+=s*u)>>>16,h+=(p+=n*c)>>>16,p&=65535,h+=(p+=i*u)>>>16,p&=65535,h+=(p+=s*l)>>>16,h+=r*c+n*u+i*l+s*a,t.Tm((f&=65535)<<16|(d&=65535),(h&=65535)<<16|(p&=65535),this.NL)},t.prototype.Q7=t.prototype.O7=function(e){if(t.T9(e)||(e=t.m9(e)),e.m7())throw new Error("division by zero");if(this.m7())return this.NL?t.U6:t.ZERO;var r,n,i;if(this.equals(t.MIN_VALUE))return e.equals(t.ONE)||e.equals(t.y7)?t.MIN_VALUE:e.equals(t.MIN_VALUE)?t.ONE:(r=this.jL(1).O7(e).shiftLeft(1)).equals(t.ZERO)?e.fZ()?t.ONE:t.y7:(n=this.I7(e.multiply(r)),i=r.add(n.O7(e)));if(e.equals(t.MIN_VALUE))return this.NL?t.U6:t.ZERO;if(this.fZ())return e.fZ()?this.Ob().O7(e.Ob()):this.Ob().O7(e).Ob();if(e.fZ())return this.O7(e.Ob()).Ob();for(i=t.ZERO,n=this;n.V7(e);){r=Math.max(1,Math.floor(n.T7()/e.T7()));for(var s=Math.ceil(Math.log(r)/Math.LN2),o=s<=48?1:Math.pow(2,s-48),a=t.Vg(r),l=a.multiply(e);l.fZ()||l.x7(n);)l=(a=t.Vg(r-=o,this.NL)).multiply(e);a.m7()&&(a=t.ONE),i=i.add(a),n=n.I7(l)}return i},t.prototype.ob=t.prototype.HJ=function(e){return t.T9(e)||(e=t.m9(e)),this.I7(this.O7(e).multiply(e))},t.prototype.not=function(){return t.Tm(~this.low,~this.high,this.NL)},t.prototype.and=function(e){return t.T9(e)||(e=t.m9(e)),t.Tm(this.low&e.low,this.high&e.high,this.NL)},t.prototype.or=function(e){return t.T9(e)||(e=t.m9(e)),t.Tm(this.low|e.low,this.high|e.high,this.NL)},t.prototype.xor=function(e){return t.T9(e)||(e=t.m9(e)),t.Tm(this.low^e.low,this.high^e.high,this.NL)},t.prototype.W7=t.prototype.shiftLeft=function(e){return t.T9(e)&&(e=e.RL()),0==(e&=63)?this:e<32?t.Tm(this.low<<e,this.high<<e|this.low>>>32-e,this.NL):t.Tm(0,this.low<<e-32,this.NL)},t.prototype.Y7=t.prototype.jL=function(e){return t.T9(e)&&(e=e.RL()),0==(e&=63)?this:e<32?t.Tm(this.low>>>e|this.high<<32-e,this.high>>e,this.NL):t.Tm(this.high>>e-32,0<=this.high?0:-1,this.NL)},t.prototype.z7=t.prototype.SL=function(e){if(t.T9(e)&&(e=e.RL()),0==(e&=63))return this;var r=this.high;if(e<32){var n=this.low;return t.Tm(n>>>e|r<<32-e,r>>>e,this.NL)}return t.Tm(32===e?r:r>>>e-32,0,this.NL)},t.prototype.CL=function(){return this.NL?new t(this.low,this.high,!1):this},t.prototype.kL=function(){return this.NL?this:new t(this.low,this.high,!0)},t})?n.apply(e,[]):n)||(t.exports=i)},function(t,e,r){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function t(t,e,r){this.low=0|t,this.high=0|e,this.NL=!!r}function e(t){return!0===(t&&t.p7)}Object.defineProperty(t.prototype,"p7",{value:!0,enumerable:!1,configurable:!1}),t.T9=e;var r={},n={};function i(t,e){var i,s,a;return e?(a=0<=(t>>>=0)&&t<256)&&(s=n[t])?s:(i=o(t,(0|t)<0?-1:0,!0),a&&(n[t]=i),i):(a=-128<=(t|=0)&&t<128)&&(s=r[t])?s:(i=o(t,t<0?-1:0,!1),a&&(r[t]=i),i)}function s(t,e){if(isNaN(t)||!isFinite(t))return e?g:d;if(e){if(t<0)return g;if(h<=t)return E}else{if(t<=-p)return w;if(p<=t+1)return b}return t<0?s(-t,e).B7():o(t%c|0,t/c|0,e)}function o(e,r,n){return new t(e,r,n)}t.$g=i,t.Vg=s,t.Tm=o;var a=Math.pow;function l(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return d;if(e="number"==typeof e?(r=e,!1):!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if(0<(n=t.indexOf("-")))throw Error("interior hyphen");if(0===n)return l(t.substring(1),e,r).B7();for(var i=s(a(r,8)),o=d,u=0;u<t.length;u+=8){var c=Math.min(8,t.length-u),h=parseInt(t.substring(u,u+c),r);if(c<8){var p=s(a(r,c));o=o.q7(p).add(s(h))}else o=(o=o.q7(i)).add(s(h))}return o.NL=e,o}function u(e){return e instanceof t?e:"number"==typeof e?s(e):"string"==typeof e?l(e):o(e.low,e.high,e.NL)}t.fromString=l,t.m9=u;var c=4294967296,h=c*c,p=h/2,f=i(1<<24),d=i(0);t.ZERO=d;var g=i(0,!0);t.U6=g;var v=i(1);t.ONE=v;var m=i(1,!0);t.b7=m;var y=i(-1);t.y7=y;var b=o(-1,2147483647,!1);t.MAX_VALUE=b;var E=o(-1,-1,!0);t.g7=E;var w=o(0,-2147483648,!1);t.MIN_VALUE=w;var A=t.prototype;return A.RL=function(){return this.NL?this.low>>>0:this.low},A.T7=function(){return this.NL?(this.high>>>0)*c+(this.low>>>0):this.high*c+(this.low>>>0)},A.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.m7())return"0";if(this.fZ()){if(this.j7(w)){var e=s(t),r=this.Q7(e),n=r.q7(e).sub(this);return r.toString(t)+n.RL().toString(t)}return"-"+this.B7().toString(t)}for(var i=s(a(t,6),this.NL),o=this,l="";;){var u=o.Q7(i),c=(o.sub(u.q7(i)).RL()>>>0).toString(t);if((o=u).m7())return c+l;for(;c.length<6;)c="0"+c;l=""+c+l}},A._7=function(){return this.high},A.R7=function(){return this.high>>>0},A.S7=function(){return this.low},A.A7=function(){return this.low>>>0},A.N7=function(){if(this.fZ())return this.j7(w)?64:this.B7().N7();for(var t=0!=this.high?this.high:this.low,e=31;0<e&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},A.m7=function(){return 0===this.high&&0===this.low},A.fZ=function(){return!this.NL&&this.high<0},A.C7=function(){return this.NL||0<=this.high},A.k7=function(){return 1==(1&this.low)},A.mb=function(){return 0==(1&this.low)},A.equals=function(t){return e(t)||(t=u(t)),(this.NL===t.NL||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},A.j7=A.equals,A.D7=function(t){return!this.j7(t)},A.M7=A.D7,A.L7=function(t){return this.K7(t)<0},A.P7=A.L7,A.U7=function(t){return this.K7(t)<=0},A.H7=A.U7,A.x7=function(t){return 0<this.K7(t)},A.F7=A.x7,A.V7=function(t){return 0<=this.K7(t)},A.G7=A.V7,A.compare=function(t){if(e(t)||(t=u(t)),this.j7(t))return 0;var r=this.fZ(),n=t.fZ();return r&&!n?-1:!r&&n?1:this.NL?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).fZ()?-1:1},A.K7=A.compare,A.Ob=function(){return!this.NL&&this.j7(w)?w:this.not().add(v)},A.B7=A.Ob,A.add=function(t){e(t)||(t=u(t));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,a=t.high>>>16,l=65535&t.high,c=t.low>>>16,h=0,p=0,f=0,d=0;return f+=(d+=s+(65535&t.low))>>>16,p+=(f+=i+c)>>>16,h+=(p+=n+l)>>>16,h+=r+a,o((f&=65535)<<16|(d&=65535),(h&=65535)<<16|(p&=65535),this.NL)},A.I7=function(t){return e(t)||(t=u(t)),this.add(t.B7())},A.sub=A.I7,A.multiply=function(t){if(this.m7())return d;if(e(t)||(t=u(t)),t.m7())return d;if(this.j7(w))return t.k7()?w:d;if(t.j7(w))return this.k7()?w:d;if(this.fZ())return t.fZ()?this.B7().q7(t.B7()):this.B7().q7(t).B7();if(t.fZ())return this.q7(t.B7()).B7();if(this.P7(f)&&t.P7(f))return s(this.T7()*t.T7(),this.NL);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,l=t.high>>>16,c=65535&t.high,h=t.low>>>16,p=65535&t.low,g=0,v=0,m=0,y=0;return m+=(y+=a*p)>>>16,v+=(m+=i*p)>>>16,m&=65535,v+=(m+=a*h)>>>16,g+=(v+=n*p)>>>16,v&=65535,g+=(v+=i*h)>>>16,v&=65535,g+=(v+=a*c)>>>16,g+=r*p+n*h+i*c+a*l,o((m&=65535)<<16|(y&=65535),(g&=65535)<<16|(v&=65535),this.NL)},A.q7=A.multiply,A.O7=function(t){if(e(t)||(t=u(t)),t.m7())throw Error("division by zero");if(this.m7())return this.NL?g:d;var r,n,i;if(this.NL){if(t.NL||(t=t.kL()),t.F7(this))return g;if(t.F7(this.z7(1)))return m;i=g}else{if(this.j7(w))return t.j7(v)||t.j7(y)?w:t.j7(w)?v:(r=this.Y7(1).Q7(t).W7(1)).j7(d)?t.fZ()?v:y:(n=this.sub(t.q7(r)),i=r.add(n.Q7(t)));if(t.j7(w))return this.NL?g:d;if(this.fZ())return t.fZ()?this.B7().Q7(t.B7()):this.B7().Q7(t).B7();if(t.fZ())return this.Q7(t.B7()).B7();i=d}for(n=this;n.G7(t);){r=Math.max(1,Math.floor(n.T7()/t.T7()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:a(2,o-48),c=s(r),h=c.q7(t);h.fZ()||h.F7(n);)h=(c=s(r-=l,this.NL)).q7(t);c.m7()&&(c=v),i=i.add(c),n=n.sub(h)}return i},A.Q7=A.O7,A.HJ=function(t){return e(t)||(t=u(t)),this.sub(this.Q7(t).q7(t))},A.ob=A.HJ,A.not=function(){return o(~this.low,~this.high,this.NL)},A.and=function(t){return e(t)||(t=u(t)),o(this.low&t.low,this.high&t.high,this.NL)},A.or=function(t){return e(t)||(t=u(t)),o(this.low|t.low,this.high|t.high,this.NL)},A.xor=function(t){return e(t)||(t=u(t)),o(this.low^t.low,this.high^t.high,this.NL)},A.shiftLeft=function(t){return e(t)&&(t=t.RL()),0==(t&=63)?this:t<32?o(this.low<<t,this.high<<t|this.low>>>32-t,this.NL):o(0,this.low<<t-32,this.NL)},A.W7=A.shiftLeft,A.jL=function(t){return e(t)&&(t=t.RL()),0==(t&=63)?this:t<32?o(this.low>>>t|this.high<<32-t,this.high>>t,this.NL):o(this.high>>t-32,0<=this.high?0:-1,this.NL)},A.Y7=A.jL,A.SL=function(t){if(e(t)&&(t=t.RL()),0==(t&=63))return this;var r=this.high;return t<32?o(this.low>>>t|r<<32-t,r>>>t,this.NL):o(32===t?r:r>>>t-32,0,this.NL)},A.z7=A.SL,A.CL=function(){return this.NL?o(this.low,this.high,!1):this},A.kL=function(){return this.NL?this:o(this.low,this.high,!0)},A.X7=function(t){return t?this.J7():this.Z7()},A.J7=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},A.Z7=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})?n.apply(e,[]):n)||(t.exports=i)},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.jl=void 0;var n=r(5),i=r(0),s=r(17),o=r(54),a=r(224),l=r(228),u=r(8),c=r(1),h=r(2),p=u.K.Mf,f=u.K.Cf,d=(g.prototype.Hl=function(){return this.sender.Hl()||this.receiver.Hl()},g.prototype.close=function(){var t=this,e=n.defer();return this.sender.ttt().then((function(r){return t.receiver.close(r).then((function(r){return t.WY(r).then((function(r){return t.transport.close(r).then((function(t){e.resolve(t)}))}))}))})).catch((function(r){c.ErrorMonitor.getInstance().logError("Error closing connection to peer",t.loggerId,h.ri.Ri,{detailedError:r,otherGuid:t.otherGuid}),e.reject("Close partnership failed")})),e.promise},g.prototype.WY=function(t){this.logger.debug(this.loggerId+"SEND CLOSE TO "+this.otherGuid);var e=new s.yl.ov.Close;return e.setType(t),this.xl(s.ml.Close,e),n(this.swarmId)},g.prototype.po=function(t){try{switch(p&&this.logger.debug(this.loggerId+"DISPATCH "+t.rv),t.rv){case s.ml.Chunk:var e=s.yl.ov.Chunk.decode(t.receivedData);this.receiver.itt(e);break;case s.ml.Ack:var r=s.yl.ov.Ack.decode(t.receivedData);this.sender.ntt(r.transferId);break;case s.ml.Cancel:var n=s.yl.ov.Cancel.decode(t.receivedData);this.sender.stt(n.transferId);break;case s.ml.Il:p&&this.logger.debug(this.loggerId+"RECEIVED OUT PART,DECODING ");var i=s.yl.ov.OutPartnershipRequest.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED OUT PART FROM "+i.guid),this.partnership.KY(i,this.transport);break;case s.ml._l:p&&this.logger.debug(this.loggerId+"RECEIVED OUT PART RESP ");var o=s.yl.ov.OutPartnershipResponse.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED OUT PART RESP FROM "+o.accept),this.partnership.dz(o,this.transport);break;case s.ml.Have:var a=s.yl.ov.Have.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED HAVE FOR "+a.fragmentId+" FROM "+this.otherGuid),this.partnership.ett(this.otherGuid,a);break;case s.ml.Close:var l=s.yl.ov.Close.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED CLOSE FROM "+this.otherGuid),this.partnership.lz(this.otherGuid,l);break;case s.ml.Request:var u=s.yl.ov.Request.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED REQUEST FOR "+u.fragmentId+" FROM "+this.otherGuid),this.b3.dU(this.otherGuid,u,this);break;case s.ml.DoNotHave:var f=s.yl.ov.DoNotHave.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"DoNotHave "+f.transferId),this.ott.htt(f);break;case s.ml.Rl:var d=s.yl.ov.UDPHandshakeMessage.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"UDP HANDSHAKE MESSAGE RECEIVED FROM "+d.uuid),this.i3.MW(d,this.transport);break;case s.ml.UDPHandshakeResponse:var g=s.yl.ov.UDPHandshakeResponse.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"UDP HANDSHAKE MESSAGE RESPONSE RECEIVED FROM "+this.otherGuid),this.i3.jW(g,this.transport);break;case s.ml.UDPSwitchLeadershipRequest:var v=s.yl.ov.UDPSwitchLeadershipRequest.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"SWITCH LEADERSHIP REQUEST RECEIVED FROM "+this.otherGuid),this.i3.WW(v);break;case s.ml.Sl:var m=s.yl.ov.UDPSwitchLeadershipAck.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"UDP SWITCH ACKNOWLEDGMENT RESPONSE FROM "+this.otherGuid),this.i3.JW(m,this.otherGuid);break;case s.ml.QualityLevelMessage:var y=s.yl.ov.QualityLevelMessage.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"QUALITY LEVEL INFO "+y.qualityLevel.id+" FROM "+y.guid),this.partnership.pz(y);break;case s.ml.Haves:var b=s.yl.ov.Haves.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED BATCH HAVES FOR FROM "+this.otherGuid),this.partnership.utt(this.otherGuid,b);break;case s.ml.Al:var E=s.yl.ov.PeerInfoMessage.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED PEER INFO FROM "+this.otherGuid),this.partnership.yz(E);break;case s.ml.Ping:var w=s.yl.ov.Ping.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED PING FROM "+this.otherGuid),this.partnership.att(w);break;case s.ml.Pong:var A=s.yl.ov.Pong.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED PONG FROM "+this.otherGuid),this.partnership.ftt(A);break;case s.ml.Nl:var S=s.yl.ov.NoPartners.decode(t.receivedData);p&&this.logger.debug(this.loggerId+"RECEIVED NON PARTNER MESSAGE FROM "+this.otherGuid),this.ott.ctt(this.otherGuid,S);break;default:this.logger.warn(this.loggerId+"UNKNOWN MESSAGE TYPE "+t.rv)}}catch(t){c.ErrorMonitor.getInstance().logError("Error dispatching message",this.loggerId,t,h.ri.ki,t)}},g.prototype.xl=function(t,e){return this.transport.xl(t,this.swarmId,e)},g.prototype.Xl=function(){this.sender.Xl()},g);function g(t,e,r,n){this.loggerId="[P2PDispatcher] ",this.logger=i.Framework.resolve(i.Framework.v.p).log(t.sessionId),this.Ml=e,this.otherGuid=r,this.swarmId=t.swarmId,this.transport=n,this.receiver=new a.ltt(e,r,t),this.sender=new l.vtt(e,r,t,this),this.ott=t.zM,this.partnership=t.partnership,this.b3=t.b3,(f||i.Framework.T()&&o.Wc.HM)&&(this.i3=t.i3)}e.jl=d},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.ltt=void 0;var n=r(5),i=r(25),s=r(17),o=r(0),a=r(4),l=r(6),u=r(118),c=r(1),h=r(2),p=(f.prototype.setReportingGuid=function(t){this.dtt=t},f.prototype.Hl=function(){return!(0===this.c4.keys().length&&null===this.Ett)},f.prototype.wtt=function(t){var e=new s.yl.ov.Request;try{e.fragmentId=t.sS(),e.transferId=t.cP,this.Ol&&this.logger.debug("INITIATING TR-"+t.cP+" TIMEOUT: "+t.ptt+" FRAGMENT: "+t.sS()+" FROM: "+this.otherGuid),this.c4.set(t.cP,t),this.gtt.set(t.cP,o.Framework.time())}catch(t){c.ErrorMonitor.getInstance().logError("Error constructing fragment request message",this.loggerId,h.kt.hs,{detailedError:t,otherGuid:this.otherGuid}),e=null}try{e&&t.partner.YY.xl(s.ml.Request,e)}catch(t){c.ErrorMonitor.getInstance().logError("Error sending fragment request",this.loggerId,h.kt.us,{detailedError:t,otherGuid:this.otherGuid})}},f.prototype.itt=function(t){try{var e=t.transferId,r=t.data.toBuffer(),n=t.chunkSize,i=t.totalSize,s=t.headers;if(this.Ol&&this.logger.debug("RCV Chunk "+r.byteLength),!this.c4.has(e))return;null==this.Ett?(this.Ol&&this.logger.debug("INITIATED TR-"+e+",SIZE="+i),this.Ett=this.c4.get(e),this.Ett.cP=e,l.Ko.Ja.fa&&this.btt(e,this.Ett.partner),null!=s?this.Ett.jS=s:this.logger.warn("HEADERS NULL IN FIRST CHUNK"),this.ott.H4(this.otherGuid,this.Ett,n,i),this.Ett.MS=n,o.Framework.T()||(this.Ett.dS=r)):(l.Ko.Ja.fa&&this.btt(e,this.Ett.partner),this.Ett.MS+=n,o.Framework.T()||(this.Ett.dS=a.appendBuffer(this.Ett.dS,r)));var u=o.Framework.T()?this.Ett.MS:this.Ett.dS.byteLength;if(this.Ol&&this.logger.debug("RECEIVED "+u+"/"+i+" TRID "+e),u==i){this.Ol&&this.logger.debug("RCV ALL DATA "+u+" TR-"+this.Ett.hS),this.Ett.ZR.BR=u,o.Framework.clearTimeout(this.Ett.kW),this.c4.delete(e);var p=o.Framework.time()-this.gtt.get(e);this.logger.debug("RCV ALL DATA FROM "+this.otherGuid+" AFTER "+p+" mseconds"),this.gtt.delete(e),this.ott.vD(e,this.Ett),this.Ett=null}}catch(t){c.ErrorMonitor.getInstance().logError("Error receiving chunk",this.loggerId,h.kt.fs,{detailedError:t,otherGuid:this.otherGuid})}},f.prototype.btt=function(t,e){try{this.Ol&&this.logger.debug("SEND ACK "+t+" TO "+this.otherGuid);var r=new s.yl.ov.Ack;r.transferId=t,e.YY.xl(s.ml.Ack,r)}catch(t){c.ErrorMonitor.getInstance().logError("Error sending ack",this.loggerId,h.kt.cs,{detailedError:t,otherGuid:this.otherGuid})}},f.prototype.close=function(t){var e=this,r=n.defer();return null!=this.Ett&&this.ytt(this.Ett.cP),this.c4.keys().slice().forEach((function(t){e.ytt(t)})),r.resolve(u.rY.oW),r.promise},f.prototype.ytt=function(t){try{if(this.c4.has(t)){var e=this.c4.get(t);e.ZR.BR=e.MS,this.logger.debug("SEND CANCEL FOR "+t+" TO "+this.otherGuid),this.gtt.delete(t);var r=new s.yl.ov.Cancel;r.transferId=t,e.partner.YY.xl(s.ml.Cancel,r),null!==this.Ett&&this.Ett.eS()===e.eS()&&(this.Ett=null),this.c4.delete(t)}else c.ErrorMonitor.getInstance().logError("Error cleaning up a not pending transfer",this.loggerId,h.kt.ls)}catch(t){c.ErrorMonitor.getInstance().logError("Error sending stop transfer",this.loggerId,h.kt.vs,{detailedError:t,otherGuid:this.otherGuid})}},f);function f(t,e,r){this.loggerId="[FragmentRequester] ",this.c4=new i,this.gtt=new i,this.Ett=null,this.Ol=s.Ol,this.Ml=t,this.otherGuid=e,this.ott=r.zM,this.z_=r.z_,this.Pl=o.Framework.resolve(o.Framework.v.Ll),this.logger=o.Framework.resolve(o.Framework.v.p).log(r.sessionId)}e.ltt=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Partner=void 0;var n=r(3),i=r(0),s=r(6),o=r(2),a=r(1),l=(u.prototype.rz=function(t){this.reportingGuid=t,this.YY&&(this.YY.receiver.setReportingGuid(this.reportingGuid),this.YY.sender.setReportingGuid(this.reportingGuid))},u.prototype.Ttt=function(t,e,r){var n=Math.max(1,e);for(r&&(this.mtt+=n,this.Ott+=t);this.Itt.length>s.Ko.$a.Xu;)this.Itt.pop();var i=t/n;this.Itt.unshift(i)},u.prototype._tt=function(t){this.c4.has(t)?this.logger.warn(this.guid+" DUPLICATE {} PENDING REQUESTS "+t):this.c4.set(t,i.Framework.time())},u.prototype.Rtt=function(t,e,r){try{var n=t.cP,i=t.size,s=t.type,l=t.ZR,u=l.p2pAgenTrafficSuccessQt,c=l.XR;if(this.c4.has(n)){var h=c-this.c4.get(n);this.c4.delete(n),e&&r&&this.Ttt(i,h,!0),this.SF.success(i),this.PU.Stt(this.reportingGuid,i,u,r,s)}else a.ErrorMonitor.getInstance().logError("Error completing a non-existing request",this.loggerId,o.Rt.Us,{otherGuid:this.guid,dtt:this.reportingGuid})}catch(t){a.ErrorMonitor.getInstance().logError("Error handling request completed",this.loggerId,o.Rt.Hs,{detailedError:t,otherGuid:this.guid,dtt:this.reportingGuid})}},u.prototype.Att=function(t,e,r,n,i,l){try{if(this.c4.has(t)){var u=this.c4.get(t);this.c4.delete(t),s.Ko.$a.Ju?this.Ttt(e,u,!0):this.Ttt(0,u,!0),this.SF.Ntt(e,n),this.PU.Ctt(this.reportingGuid,e,r,n,i,l)}else a.ErrorMonitor.getInstance().logError("Error partially failed a non-existing request",this.loggerId,o.Rt.xs,{otherGuid:this.guid,dtt:this.reportingGuid})}catch(t){a.ErrorMonitor.getInstance().logError("Error handling request partially failed",this.loggerId,o.Rt.Fs,{detailedError:t,otherGuid:this.guid})}},u.prototype.fP=function(t,e,r){try{if(this.c4.has(t)){var n=this.c4.get(t);this.c4.delete(t),this.Ttt(0,n,!0),this.SF.failed(),this.PU.ktt(this.reportingGuid,r,e)}else a.ErrorMonitor.getInstance().logError("Error failed a non-existing request",this.loggerId,o.Rt.Vs,{otherGuid:this.guid,dtt:this.reportingGuid})}catch(t){a.ErrorMonitor.getInstance().logError("Error handling request failed",this.loggerId,o.Rt.Gs,{detailedError:t,otherGuid:this.guid})}},u.prototype.jtt=function(t,e){this.PU.Mtt(t,e,!0)},u.prototype.Dtt=function(t,e){this.PU.Ptt(t,e,!0)},u.prototype.Ltt=function(t,e,r){this.PU.Htt(t,e,r,!0)},u.prototype.nP=function(){var t=this.Itt.reduce((function(t,e){return t+e}),0);return 0<this.Itt.length?t/this.Itt.length:0},u.prototype.Utt=function(t){this.Ftt=t},u.prototype.xtt=function(){return this.Ftt},u.prototype.qY=function(){return this.zD.qY()},u.prototype.Gtt=function(){return this.handshakeDelay},u.prototype.Vtt=function(t){var e=Math.max(0,this.xz-t);0<e&&e<s.Ko.Va.uu&&(this.handshakeDelay=e)},u);function u(t,e,r,s,o,a,l){this.loggerId="[Partner] ",this.Ott=0,this.mtt=0,this.Ftt=0,this.Itt=new Array,this.Btt=new Array,this.c4=new n,this.handshakeDelay=-1,this.logger=s,this.YY=r,this.guid=t,this.zD=a,this.qtt=o,this.PU=e,this.SF=i.Framework.resolve(i.Framework.v.mC),this.AF=i.Framework.resolve(i.Framework.v.mC),this.xz=i.Framework.time(),l&&this.Vtt(l)}e.Partner=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.aY=void 0;var n=r(56),i=r(3),s=r(0),o=r(11),a=r(17),l=r(6),u=r(1),c=r(227),h=r(2),p=(f.prototype.init=function(t){this.logger=s.Framework.resolve(s.Framework.v.p).log(t.sessionId),this.z_=t.z_,this.nw=t.nw,this.uploadScore=t.uploadScore,this.WM=t.WM,this.GY=t.wF},f.prototype.AY=function(t){return this.$Y(t.peerInfo.guid)},f.prototype.$Y=function(t){return this.AV.has(t)||this.SV.has(t)},f.prototype.mz=function(t){return this.SV.has(t)?this.SV.get(t):this.AV.get(t)},f.prototype.IY=function(t){return this.oz(t.peerInfo.guid)},f.prototype.oz=function(t){return this.NV.has(t)||this.CY.has(t)},f.prototype.uz=function(t){return this.NV.has(t)?this.NV.get(t):this.CY.get(t)},f.prototype.ez=function(t){var e=this;try{var r=this.z_.uQ();if(this.Qtt&&!r)if(this.$Y(t)){var n=this.mz(t),i=this.uploadScore.Wtt(!1),s=[];this.nw.r4().then((function(r){e.logger.debug(e.jU+"SEND ALL HAVES "+r.length+" TO "+t);for(var o=0;o<r.length;o++){var l;l=e.context.JH()?r[o].size():r[o].totalSize;var u=r[o].rS,c=new a.yl.ov.Have;c.setFragmentId(u.sS()),c.setSize(l),c.setUploadScore(i);var h=u;c.setId(h.jA());var p=new a.yl.ov.QualityLevel;p.id=h.getQualityLevel().id,p.bitrate=h.getQualityLevel().bitrate,c.setQualityLevel(p),c.setDuration(h.getDuration()),c.setType(h.nS()),s.push(c)}if(0<s.length){var f=new a.yl.ov.Haves;f.setHave(s),n.YY.xl(a.ml.Haves,f)}}))}else u.ErrorMonitor.getInstance().logError("Error sending all haves to peer who is not out partner",this.jU,h.$t.nn,{otherGuid:t})}catch(r){u.ErrorMonitor.getInstance().logError("Error sending all haves",this.jU,h.$t.$i,{detailedError:r,otherGuid:t})}},f.prototype.f5=function(t,e,r){var n=this,i=this.z_.uQ();if(this.Qtt&&!i){var s=this.SV.values();this.AV.forEach((function(t,e){s.push(t)}));var o=this.uploadScore.Wtt(!1);s.forEach((function(i){(!r||r&&i.guid!=r.guid)&&n.Ytt(i.YY,t,e,o)}))}},f.prototype.Ytt=function(t,e,r,n){this.ztt&&this.logger.debug(this.jU+"SEND HAVE TO "+t.otherGuid+" FOR "+e.sS());try{var i=new a.yl.ov.Have;i.setFragmentId(e.sS()),i.setSize(r),i.setUploadScore(n);var s=e;i.setId(s.jA());var o=new a.yl.ov.QualityLevel;o.id=s.getQualityLevel().id,o.bitrate=s.getQualityLevel().bitrate,i.setQualityLevel(o),i.setDuration(s.getDuration()),i.setType(s.nS()),t.xl(a.ml.Have,i)}catch(e){u.ErrorMonitor.getInstance().logError("Error sending have",this.jU,h.$t.Xi,{detailedError:e,otherGuid:t.otherGuid})}},f.prototype.ett=function(t,e){try{if(this.oz(t)){this.Ktt&&this.logger.debug(this.jU+"HAVE RECEIVED FROM "+t+": "+e.fragmentId);var r=this.uz(t);r.Utt(e.getUploadScore()),this.WM.put(e,r),this.context.rF(e)}else u.ErrorMonitor.getInstance().logError("Error receiving have from unknown peer",this.jU,h.$t.Ji,{otherGuid:t})}catch(e){u.ErrorMonitor.getInstance().logError("Error handling received have",this.jU,h.$t.tn,{detailedError:e,otherGuid:t})}},f.prototype.utt=function(t,e){var r=this;try{if(this.oz(t)){this.Ktt&&this.logger.debug(this.jU+"BATCH HAVES RECEIVED FROM "+t);var n=this.uz(t);e.getHave().forEach((function(t){n.Utt(t.getUploadScore()),r.WM.put(t,n)})),this.context.rF(e.getHave()[0])}else u.ErrorMonitor.getInstance().logError("Error receiving haves from unknown peer",this.jU,h.$t.Zi,{otherGuid:t})}catch(e){u.ErrorMonitor.getInstance().logError("Error handling received haves",this.jU,h.$t.in,{detailedError:e,otherGuid:t})}},f.prototype.BY=function(t){try{var e=new a.yl.ov.Ping;e.id=this.z_.getId(),e.startTs=s.Framework.time(),t.xl(a.ml.Ping,e)}catch(e){u.ErrorMonitor.getInstance().logError("Error requesting ping",this.jU,h.$t.sn,{detailedError:e,otherGuid:t.otherGuid})}},f.prototype.att=function(t){try{var e=t.id;if(!this.$Y(e))return void u.ErrorMonitor.getInstance().logError("Error receiving ping from an unknown peer",this.jU,h.$t.hn,{otherGuid:e});var r=-1;t.startTs&&(r=t.startTs),this.$tt(this.mz(e).YY,r)}catch(e){u.ErrorMonitor.getInstance().logError("Error handling received ping",this.jU,h.$t.en,{detailedError:e,otherGuid:t.id})}},f.prototype.Xtt=function(){try{for(var t="",e=0;e<l.Ko.Ja.ha;e++)t+=String.fromCharCode(33+93*Math.random());var r=new ArrayBuffer(t.length),i=new Uint8Array(r),s=t.length;for(e=0;e<s;e++)i[e]=t.charCodeAt(e);this.Jtt=n.wrap(i)}catch(t){u.ErrorMonitor.getInstance().logError("Error creating random buffer for ping pong",this.logger,h.$t.rn,t)}},f.prototype.$tt=function(t,e){try{var r=new a.yl.ov.Pong;r.id=this.z_.getId(),r.startTs=e,this.Jtt||this.Xtt(),r.data=this.Jtt,r.dataSize=l.Ko.Ja.ha,this.logger.debug(this.jU+"SEND PONG TO PEER GUID "+t.otherGuid),t.xl(a.ml.Pong,r)}catch(e){u.ErrorMonitor.getInstance().logError("Error sending pong",this.jU,h.$t.un,{detailedError:e,otherGuid:t.otherGuid})}},f.prototype.ftt=function(t){try{var e=t.id;if(!this.oz(e))return void u.ErrorMonitor.getInstance().logError("Error receiving a pong from an unknown peer",this.jU,h.$t.an,{otherGuid:e});var r=s.Framework.time();if(t.startTs&&0<t.startTs){var n=r-t.startTs,i=this.uz(e);t.dataSize==t.data.toArrayBuffer().byteLength?i.Ttt(t.dataSize,n,!0):u.ErrorMonitor.getInstance().logError("Error receing pong with wrong data size",this.jU,h.$t.fn,{otherGuid:e})}else u.ErrorMonitor.getInstance().logError("Error receiving pong with wrong timestamp",this.jU,h.$t.cn,{otherGuid:e})}catch(e){u.ErrorMonitor.getInstance().logError("Error receiving pong",this.jU,h.$t.vn,{detailedError:e,otherGuid:t.id})}},f.prototype.kV=function(){try{var t=new i;return this.Ztt(this.NV,t),this.Ztt(this.CY,t),t}catch(t){return u.ErrorMonitor.getInstance().logError("Error getting partner snapshots",this.jU,h.$t.dn,t),new i}},f.prototype.Ztt=function(t,e){var r=this;t.forEach((function(t,n){var i=new hive.snapshots.Partner;i.inPart=!0,i.outPart=r.$Y(n),i.connInfo=new hive.snapshots.ConnectivityInfo;var s=void 0;t.zD.peerInfo.publicIpString&&(s=t.zD.peerInfo.publicIpString);var a=void 0;t.zD.peerInfo.privateIpString&&(a=t.zD.peerInfo.privateIpString),i.connInfo.publicIp=s,i.connInfo.privateIp=a,i.connInfo.externalAs=t.zD.peerInfo.externalAs,i.connInfo.internalAs=t.zD.peerInfo.internalAs,i.connInfo.isVpn=t.zD.peerInfo.isVpn;var l=r.tit();l.rateReceived=t.nP(),i.metrics=l,-1!=t.Gtt()&&(i.metrics.handshakeDelay=t.Gtt()),i.udp=t.zD.peerInfo.type==o.ac.cc,e.set(t.reportingGuid,i)}))},f.prototype.RV=function(){return new c.iit(this.NV.length,this.CY.length,this.AV.length,this.SV.length)},f.prototype.tit=function(){var t=new hive.snapshots.PartnerMetrics;return t.rateReceived=0,t.rateSent=0,t.handshakeDelay=0,t},f.prototype.cz=function(t,e){this.nit.set(t,e)},f.prototype.MV=function(){try{var t=new i;return this.Ztt(this.nit,t),this.nit.clear(),t}catch(t){return u.ErrorMonitor.getInstance().logError("Error getting removed partner snapshots",this.jU,h.$t.dn,t),new i}},f);function f(){this.jU="[PARTNERSHIP] ",this.CY=new i,this.NV=new i,this.nit=new i,this.SV=new i,this.AV=new i,this.ztt=!1,this.Ktt=!1,this.Qtt=!0,this.active=!1,this.Xtt(),this.DY=[]}e.aY=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.iit=void 0,e.iit=function(t,e,r,n){this.NV=t,this.CV=e,this.AV=r,this.SV=n}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.vtt=void 0;var n=r(5),i=r(25),s=r(56),o=r(17),a=r(0),l=r(229),u=r(6),c=r(1),h=r(2),p=(f.prototype.setReportingGuid=function(t){this.dtt=t},f.prototype.rit=function(t,e,r,n,i){var s=this;this.Ol&&this.logger.info("SEND FRAGMENT "+t+" TO "+this.otherGuid);try{var o=new l.sit;o.transferId=e,o.fragmentId=t,o.eit=i,o.headers=n,o.hit=r,o.chunkCount=Math.ceil(o.hit/u.Ko.Ja.ha),o.oit=0,this.uit.push(o),this.Ol&&this.uit.forEach((function(t){s.logger.debug(s.otherGuid+" PENDING OUT "+t)}))}catch(t){c.ErrorMonitor.getInstance().logError("Error constructing chunk response",this.loggerId,h.Ct.Es,{detailedError:t,otherGuid:this.otherGuid})}null===this.response?this.ait():this.Ol&&this.logger.debug(this.otherGuid+" OUT MSG NOT NULL")},f.prototype.ntt=function(t){this.Ol&&this.logger.debug("ONGOING "+t+" GOT ACK"),null!==this.response&&this.response.transferId.toString()===t.toString()?this.fit(!1):c.ErrorMonitor.getInstance().logError("Error receiving ack for unknown transfer",this.loggerId,h.Ct.gs)},f.prototype.Xl=function(){null!=this.response&&this.fit(!1)},f.prototype.stt=function(t){null!=this.response&&this.response.transferId===t?(this.logger.debug("GOT CANCEL FOR ONGOING TRANSFER-"+t+","+this.Ml+","+this.otherGuid),this.cit.delete(t),0!=this.response.oit?this.b3.lit(this.otherGuid,this.dtt,this.response.oit,this.response.hit):this.b3.vit(this.otherGuid,this.dtt,this.response.hit),this.response=null,this.ait()):this.uit=this.uit.filter((function(e){return e.transferId!==t}))},f.prototype.ait=function(){try{if(null===this.response&&0!==this.uit.length){var t=this.uit.shift();this.response=t,this.Ol&&this.logger.debug("DATA TO SEND LENGTH "+this.response.hit+" IN "+this.response.chunkCount+" CHUNKS WITH TR-"+this.response.transferId),this.fit(!0)}}catch(t){c.ErrorMonitor.getInstance().logError("Error start sending chunks",this.loggerId,h.Ct.ws,t),this.Fl()}},f.prototype.fit=function(t){t&&(this.cit.set(this.response.transferId,a.Framework.time()),this.dit=this.response.chunkCount);try{if(null!=this.response)if(0===this.response.chunkCount)this.logger.debug("FINISHED SENDING TRANSFER "+this.response.transferId+" TO "+this.otherGuid+" WITH "+this.response.oit+" BYTES"),this.cit.delete(this.response.transferId),this.b3.Eit(this.otherGuid,this.dtt,this.response.hit),this.response=null,this.wit(),this.ait();else{this.Ol&&this.logger.debug("A CHUNK");var e=Math.min(this.response.oit+u.Ko.Ja.ha,this.response.hit),r=e-this.response.oit,n=new o.yl.ov.Chunk;if(n.transferId=this.response.transferId,n.totalSize=this.response.hit,n.chunkSize=r,t&&null!=this.response.headers&&(n.headers=this.response.headers),a.Framework.T()||null==this.response.eit)n.data=s.wrap(new ArrayBuffer(0));else if(n.data=this.$M.pit(this.response.fragmentId,this.dit-this.response.chunkCount),null==n.data){var i=this.response.eit.slice(this.response.oit,e);n.data=s.wrap(i)}this.response.oit=this.response.oit+r,this.YY.xl(o.ml.Chunk,n),this.Ol&&this.logger.debug("SND ["+this.response.oit+"-"+(this.response.oit+r)+"/"+this.response.hit+"] TO "+this.otherGuid+" OF TR-"+this.response.transferId),this.response.chunkCount--}else this.logger.debug("NO MESSAGE TO SEND")}catch(t){c.ErrorMonitor.getInstance().logError("Error sending chunk",this.loggerId,h.Ct.ps,{detailedError:t,otherGuid:this.otherGuid}),this.Fl()}},f.prototype.Hl=function(){return!(0===this.uit.length&&null===this.response)},f.prototype.ttt=function(){var t=n.defer();return this.uit.length=0,this.Hl()?this.close=t:t.resolve("CLOSE"),t.promise},f.prototype.wit=function(){this.close&&this.close.resolve("CLOSED")},f.prototype.Fl=function(){this.response=null},f);function f(t,e,r,n){this.loggerId="[FragmentSender] ",this.Ol=o.Ol,this.response=null,this.uit=new Array,this.cit=new i,this.dit=0,this.close=null,this.Ml=t,this.otherGuid=e,this.b3=r.b3,this.YY=n,this.$M=r.$M,this.logger=a.Framework.resolve(a.Framework.v.p).log(r.sessionId),this.Pl=a.Framework.resolve(a.Framework.v.Ll)}e.vtt=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.sit=void 0,e.sit=function(){this.headers=null}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.sv=void 0,e.sv=function(){}},function(t){t.exports=JSON.parse('{"package":"HiveMsgs","messages":[{"name":"Chunk","fields":[{"rule":"required","type":"int32","name":"transferId","id":1},{"rule":"required","type":"int32","name":"totalSize","id":2},{"rule":"required","type":"int32","name":"chunkSize","id":3},{"rule":"required","type":"bytes","name":"data","id":4},{"rule":"optional","type":"string","name":"headers","id":5}]},{"name":"Haves","fields":[{"rule":"repeated","type":"Have","name":"have","id":1}]},{"name":"Have","fields":[{"rule":"required","type":"string","name":"fragmentId","id":1},{"rule":"required","type":"int32","name":"size","id":2},{"rule":"required","type":"int32","name":"type","id":3},{"rule":"required","type":"int32","name":"id","id":4},{"rule":"required","type":"QualityLevel","name":"qualityLevel","id":5},{"rule":"required","type":"int32","name":"duration","id":6},{"rule":"required","type":"float","name":"uploadScore","id":7}]},{"name":"Ping","fields":[{"rule":"required","type":"string","name":"id","id":1},{"rule":"required","type":"uint64","name":"startTs","id":2}]},{"name":"Pong","fields":[{"rule":"required","type":"string","name":"id","id":1},{"rule":"required","type":"bytes","name":"data","id":2},{"rule":"required","type":"int32","name":"dataSize","id":3},{"rule":"required","type":"uint64","name":"startTs","id":4}]},{"name":"Request","fields":[{"rule":"required","type":"string","name":"fragmentId","id":1},{"rule":"required","type":"int32","name":"transferId","id":2}]},{"name":"DoNotHave","fields":[{"rule":"required","type":"int32","name":"transferId","id":1}]},{"name":"NoPartners","fields":[{"rule":"required","type":"int32","name":"transferId","id":1}]},{"name":"Cancel","fields":[{"rule":"required","type":"int32","name":"transferId","id":1}]},{"name":"Ack","fields":[{"rule":"optional","type":"int32","name":"transferId","id":1}]},{"name":"Close","fields":[{"rule":"required","type":"int32","name":"type","id":1}]},{"name":"StreamCharacteristics","fields":[{"rule":"required","type":"int32","name":"streamState","id":1},{"rule":"required","type":"QualityLevel","name":"qualityLevel","id":2},{"rule":"required","type":"int32","name":"delta","id":3}]},{"name":"OutPartnershipRequest","fields":[{"rule":"required","type":"string","name":"guid","id":1},{"rule":"required","type":"string","name":"contextId","id":2},{"rule":"required","type":"string","name":"p2pProtocolVersion","id":3},{"rule":"optional","type":"int32","name":"internalAs","id":4},{"rule":"optional","type":"int32","name":"externalAs","id":5},{"rule":"optional","type":"string","name":"publicIpString","id":6},{"rule":"optional","type":"string","name":"privateIpString","id":7},{"rule":"required","type":"string","name":"reportingGuid","id":8},{"rule":"repeated","type":"StreamCharacteristics","name":"streamCharacteristics","id":9},{"rule":"optional","type":"bool","name":"isVpn","id":10}]},{"name":"OutPartnershipResponse","fields":[{"rule":"required","type":"int32","name":"accept","id":1},{"rule":"optional","type":"int32","name":"internalAs","id":2},{"rule":"optional","type":"int32","name":"externalAs","id":3},{"rule":"optional","type":"string","name":"publicIpString","id":4},{"rule":"optional","type":"string","name":"privateIpString","id":5},{"rule":"optional","type":"string","name":"reportingGuid","id":6},{"rule":"repeated","type":"StreamCharacteristics","name":"streamCharacteristics","id":7},{"rule":"optional","type":"bool","name":"isVpn","id":8}]},{"name":"PeerInfoMessage","fields":[{"rule":"required","type":"string","name":"guid","id":1},{"rule":"optional","type":"string","name":"publicIpString","id":2},{"rule":"optional","type":"string","name":"privateIpString","id":3},{"rule":"optional","type":"int32","name":"internalAs","id":4},{"rule":"optional","type":"int32","name":"externalAs","id":5},{"rule":"repeated","type":"StreamCharacteristics","name":"streamCharacteristics","id":6}]},{"name":"UDPHandshakeMessage","fields":[{"rule":"required","type":"string","name":"uuid","id":1},{"rule":"required","type":"string","name":"streamId","id":2},{"rule":"required","type":"float","name":"udpScore","id":3},{"rule":"required","type":"bool","name":"isLeader","id":4}]},{"name":"UDPHandshakeResponse","fields":[{"rule":"required","type":"string","name":"accept","id":1}]},{"name":"UDPSwitchLeadershipRequest","fields":[{"rule":"required","type":"string","name":"uuid","id":1},{"rule":"required","type":"float","name":"udpScore","id":2}]},{"name":"UDPSwitchLeadershipAck","fields":[{"rule":"required","type":"bool","name":"ok","id":1}]},{"name":"QualityLevelMessage","fields":[{"rule":"required","type":"string","name":"guid","id":1},{"rule":"required","type":"QualityLevel","name":"qualityLevel","id":2}]},{"name":"QualityLevel","fields":[{"rule":"required","type":"string","name":"id","id":1},{"rule":"required","type":"int32","name":"bitrate","id":2}]}]}')},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.dW=void 0;var n=r(6),i=(s.hb=function(t,e){var r;return 0!=(r=t.udpScore>e.udpScore?1:t.udpScore<e.udpScore?-1:0)?-r:n.Ko.UDPBroadcast.Ea?e.uuid.localeCompare(t.uuid):t.uuid.localeCompare(e.uuid)},s);function s(t,e,r,n,i){this.udpScore=0,this.wW=!1,this.streamId="",this.uuid=t,this.udpScore=e,r&&(this.address=r),n&&(this.wW=n),i&&(this.streamId=i)}e.dW=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.U2=void 0;var n=r(3),i=r(4),s=r(0),o=r(7),a=r(11),l=r(1),u=r(2),c=(h.prototype.init=function(t){this.logger=s.Framework.resolve(s.Framework.v.p).log(t.sessionId),this.WM=t.WM,this.partnership=t.partnership,this.YM=t.YM,this.z_=t.z_,this.PU=t.wF,this.bit.git(t.z_)},h.prototype.request=function(t){this.logger.debug("REQ FOR FRAGMENT "+t.rS.toString()+"-"+t.ZR.BR+" ["+o.af[t.nS()]+"] TO P2P"),this.c4.set(t.eS(),t);var e=this.fv.next();t.cP=e,this.yit.set(e,t.eS()),this.m4(t)},h.prototype.m4=function(t){var e=t.sS(),r=t.eS(),n=this.Tit(e);t.size=this.WM.qD(e).size;var i=this.bit.mit(n,t.type);null!=i?(this.logger.debug("SELECT "+i.YY.otherGuid+" (LAN LEADER "+i.zD.peerInfo.isLeader+" iAS "+i.zD.peerInfo.internalAs+" eAS "+i.zD.peerInfo.externalAs+" privateIp "+i.zD.peerInfo.privateIpString+" ) out of "+n.length+" type "+a.ac[i.zD.peerInfo.type]+" size:"+t.size+" FOR TRANSFER"+t.cP+" REQUEST ID "+r),t.partner=i,t.c5=i.zD.peerInfo,t.partner._tt(t.cP),t.ZR.GR=!0,t.ZR.KR=s.Framework.time(),this.aP(t)?(t.IS(),this.PU.Oit(t),i.YY.receiver.wtt(t)):(t._S(),this.Iit(t))):(t._S(),l.ErrorMonitor.getInstance().logError("Error sending p2p request because we cannot find a partner",this.loggerId,u.Nt.bs),this.fP(t.cP,"NO PARTNERS FOUND FOR REQUEST"))},h.prototype.Tit=function(t){var e=this,r=[];try{this.WM.QD(t).forEach((function(t){e.partnership.oz(t.guid)?r.push(t):e.logger.warn("I HAVE A HAVE FROM A NON IN-PARTNER "+t.guid)}))}catch(t){l.ErrorMonitor.getInstance().logError("Error filtering in partners",this.loggerId,u.Nt.ys,t)}return r},h.prototype.Iit=function(t){var e=t.cP;if(this.logger.debug("REQUEST "+t.cP+" TO "+t.partner.guid+" ABORTED BECAUSE OF SLOW P2P CONNECTION"),this.yit.has(e)){var r=this.yit.get(e);this.yit.delete(e);var n=this.c4.get(r);this.c4.delete(r),this.YM.e5(n)}},h.prototype.aP=function(t){var e=this,r=!1;try{var n=0;null==t.size?(n=this.WM.qD(t.sS()).size,t.size=n,this.logger.warn("request size not set - this should not happen")):n=t.size;var i=n-t.MS,o=t.PS.fF().CQ(t,i);return 0<(t.ptt=o)&&(r=!0,null==t.kW&&(t.kW=s.Framework.setTimeout((function(){e._it(t)}),o))),r}catch(t){return l.ErrorMonitor.getInstance().logError("Error setting request timeout",this.loggerId,u.Nt.Ts,t),!1}},h.prototype._it=function(t){this.PU.Rit(t),this.fP(t.cP,"TIMED-OUT")},h.prototype.fP=function(t,e){var r=this.Sit(t,!0);this.logger.warn("REQUEST "+t+" FOR "+r.eS()+" FAILED BECAUSE "+e),r&&this.YM.Y3(r)},h.prototype.Sit=function(t,e){try{if(this.yit.has(t)){var r=this.yit.get(t);this.yit.delete(t);var n=this.c4.get(r);if(this.c4.delete(r),s.Framework.clearTimeout(n.kW),e&&this.partnership.oz(n.partner.YY.otherGuid)){n.partner.YY.receiver.ytt(t);var i=n.nS()==o.af.cf;0!=n.MS?n.partner.Att(n.cP,n.MS,n.ZR.p2pAgenTrafficSuccessQt,n.size,i,n.type):n.partner.fP(n.cP,i,n.size)}return n}return l.ErrorMonitor.getInstance().logError("Error cancelling request on non existing session",this.loggerId,u.Nt.Is),null}catch(t){return l.ErrorMonitor.getInstance().logError("Error removing request",this.loggerId,u.Nt.Os,t),null}},h.prototype.W3=function(t){if(this.c4.has(t)){var e=this.c4.get(t).cP;this.Sit(e,!0)}},h.prototype.H4=function(t,e,r,n){this.logger.debug("DOWNLOADING "+e.eS()+" FROM "+t+" P2P")},h.prototype.vD=function(t,e){var r=this;e.ZR.XR=s.Framework.time(),e.yS().then((function(n){if(!n)return r.logger.error("RECEIVED FRAGMENT IS NOT AUTHENTIC. REMOVING "+e.partner.guid+" FRAGMENT "+e.oS()),r.partnership._z(e.partner),r.YM.v5(e),void r.fP(t,"FAILED TO AUTHENTICATE FRAGMENT");r.logger.debug("PROMISED FRAGMENT "+e.eS()+" RETURNED FROM P2P SIZE "+e.ZR.BR);var i=r.Sit(t,!1);if(i){var s=i.nS()==o.af.cf;i.partner.Rtt(i,!0,s),r.YM.K3(i)}else r.logger.warn("TRIED TO REMOVE A NON EXISTING REQUEST "+t+" (THIS SHOULD NOT HAPPEN. AT LEAST NOT TOO OFTEN)")}))},h.prototype.htt=function(t){var e=t.getTransferId();if(this.yit.has(e)){l.ErrorMonitor.getInstance().logError("Error receiving a do not have for my request",this.loggerId,u.Nt._s),this.logger.debug("DO NOT HAVE RECEIVED FOR "+e);var r=this.Sit(e,!1);if(r){var n=r.nS()==o.af.cf;r.partner.fP(r.cP,n,r.size),this.YM.Y3(r)}}else this.logger.warn("UNKNOWN DO NOT HAVE "+e)},h.prototype.ctt=function(t,e){var r=e.transferId;if(this.yit.has(r)){l.ErrorMonitor.getInstance().logError("Error rejected request by a non partner",this.loggerId,u.Nt.Rs),this.partnership.QY(t);var n=this.Sit(r,!1);n&&this.YM.Y3(n)}},h.prototype.vo=function(t){return this.c4.has(t)},h);function h(){this.loggerId="[P2PRequester] ",this.fv=new i.Counter,this.c4=new n,this.yit=new n,this.bit=s.Framework.resolve(s.Framework.v.pC)}e.U2=c},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.F2=void 0;var n=r(0),i=r(17),s=r(1),o=r(2),a=(l.prototype.init=function(t){this.logger=n.Framework.resolve(n.Framework.v.p).log(t.sessionId),this.fW=t,this.WM=t.WM,this.nw=t.nw,this.partnership=t.partnership,this.uploadScore=t.uploadScore,this.z_=t.z_,this.PU=t.wF},l.prototype.dU=function(t,e,r){try{if(this.partnership.$Y(t)){var n=this.partnership.mz(t);this.Ait(t,e,n)}else this.Nit(t,e,r)}catch(t){s.ErrorMonitor.getInstance().logError("Error on responding to p2p request",this.loggerId,o.At.Ss,t)}},l.prototype.Eit=function(t,e,r){try{if(this.uploadScore.success(r),this.partnership.$Y(t)){var n=this.partnership.mz(t);n.AF.success(r),n.jtt(r,e)}}catch(t){s.ErrorMonitor.getInstance().logError("Error on request satisfied",this.loggerId,o.At.As,t)}},l.prototype.lit=function(t,e,r,n){try{if(this.uploadScore.Ntt(r,n),this.partnership.$Y(t)){var i=this.partnership.mz(t);i.AF.Ntt(r,n),i.Ltt(r,n,e)}}catch(t){s.ErrorMonitor.getInstance().logError("Error on request partially satisfied",this.loggerId,o.At.Ns,t)}},l.prototype.vit=function(t,e,r){try{if(this.uploadScore.failed(),this.partnership.$Y(t)){var n=this.partnership.mz(t);n.AF.failed(),n.Dtt(r,e)}}catch(t){s.ErrorMonitor.getInstance().logError("Error on request not satisfied",this.loggerId,o.At.Cs,t)}},l.prototype.Ait=function(t,e,r){var n=this;this.nw.get(e.fragmentId).then((function(i){i?(n.logger.debug("SENDING TRANSFER "+e.transferId+" TO "+t.substring(0,8)+" - FRAGMENT: "+e.fragmentId+" SIZE: "+i.length),r.YY.sender.rit(e.fragmentId,e.transferId,i.length,i.headers,i.data)):(n.logger.debug("RECEIVED REQUEST FOR "+e.fragmentId+" FROM "+t+" CAN'T BE SERVED"),n.Cit(e.transferId,r))}))},l.prototype.Cit=function(t,e){try{this.logger.info("SEND DO NOT HAVE "+t+" TO "+e.YY.Ml);var r=new i.yl.ov.DoNotHave;r.setTransferId(t),e.YY.xl(i.ml.DoNotHave,r)}catch(t){s.ErrorMonitor.getInstance().logError("Error on sending do not have",this.loggerId,o.At.ks,t)}},l.prototype.Nit=function(t,e,r){try{this.logger.warn("GOT REQUEST FROM NON-PARTNER "+t+" FOR "+e.fragmentId);var n=new i.yl.ov.NoPartners;n.setTransferId(e.transferId),r.xl(i.ml.Nl,n)}catch(t){s.ErrorMonitor.getInstance().logError("Error on send no partners",this.loggerId,o.At.js,t)}},l);function l(){this.loggerId="[P2PResponder] "}e.F2=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.G2=e.kit=e.jit=void 0;var n,i,s=r(25),o=r(0),a=r(6);(i=n=e.jit||(e.jit={}))[i.S=0]="S",i[i.Mit=1]="F",i[i.Dit=2]="PF";var l=function(t){this.ts=t},u=function(){this.Pit=0,this.Lit=0,this.Hit=0,this.Uit=0,this.Fit=0,this.xit=0};e.kit=u;var c=(h.prototype.success=function(t){this.event(n.S,t,t)},h.prototype.failed=function(){this.event(n.Mit,0,0)},h.prototype.Ntt=function(t,e){this.event(n.Dit,t,e)},h.prototype.event=function(t,e,r){var n=new l(o.Framework.time());n.t=t,n.Git=e,n.Vit=e/r,n.Bit=(r-e)/r,this.qit.set(n.ts,n),this.Qit()},h.prototype.Qit=function(){var t=this,e=o.Framework.time()-2*a.Ko.$a.Zu;if(0<e){var r=[];this.qit.forEach((function(t,n){n<e&&r.push(n)})),r.forEach((function(e){t.qit.delete(e)}))}},h.prototype.RF=function(t){var e=0,r=this.Wit(t,a.Ko.$a.Zu);return null!=r&&(e=0==r.Lit+r.Hit+r.Uit?0:(r.Lit-a.Ko.$a.ta*(r.Uit+r.Hit))/(r.Lit+a.Ko.$a.ta*(r.Uit+r.Hit))),e},h.prototype.Wtt=function(t){var e=0,r=this.Wit(t,a.Ko.$a.Zu);if(null!=r){var n=r.Lit+r.Hit+r.Uit;e=0==n?0:(r.Hit+r.Uit*a.Ko.$a.na)/n}return e},h.prototype.Yit=function(t){var e=this.Wit(!1,t);return null!=e?e.Pit:0},h.prototype.Wit=function(t,e){if(0==this.qit.keys().length)return null;var r=new u,i=o.Framework.time()-e;i<0&&(i=0);var a=new s;return this.qit.forEach((function(t,e){i<=e&&a.set(e,t)})),a.forEach((function(t,e){switch(r.Pit+=t.Git,t.t){case n.S:r.Lit++;break;case n.Mit:r.Hit++;break;default:r.Uit++,r.Fit+=t.Vit,r.xit+=t.Bit}})),r},h.na=.2,h.ia=.2,h);function h(){this.qit=new s}e.G2=c},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.N2=void 0;var s,o=r(3),a=r(5),l=r(0),u=r(237),c=r(239),h=r(120),p=r(2),f=r(1),d=r(15),g=(i(v,s=c.zit),v.prototype.start=function(t,e){void 0===e&&(e=[]),l.Framework.resolve(l.Framework.v.p).log(t);var r=null;return 0==this.listeners.keys().length?(r=this.Kit(),this.$it(t,e)):(r=this.S_.R_(),this.$it(t,e),this.Xit.isConnected()&&this.Jit(this.pI,t)),r},v.prototype.Kit=function(){var t=this,e=d.Wc.Yc;return"localhost"===e&&(e="127.0.0.1:"+location.port),this.S_.R_().then((function(r){var n=r.k_();return t.logger.debug(t.loggerId+"MY PEER ID ",n),t.pI=n,t.Xit.start(e,n),r}))},v.prototype.P_=function(){return a.resolve(new o)},v.prototype.connect=function(t){var e=this,r=a.defer();return this.Zit.has(t)?(this.logger.debug(this.loggerId+"Already connected to "+t+", ignoring"),r.resolve(this.Zit.get(t))):this.channelManager.tnt(this.pI,t).then((function(r){return e.connected(t,r)})).then((function(t){return r.resolve(t)})).fail((function(e){r.reject("CONN TO "+t+" CANNOT BE ESTABLISHED")})),r.promise},v.prototype.send=function(t,e,r){var n=this.channelManager.send(t,e);return n||(f.ErrorMonitor.getInstance().logError("Error sending message without channel established",this.loggerId,p.hi.li,{otherGuid:t}),this.nnt(t)),n},v.prototype.rnt=function(t,e,r){this.rP&&this.logger.debug(this.loggerId+"REC BUF "+r.byteLength+" "+r),this.Zit.has(t)?(this.rP&&this.logger.debug(this.loggerId+"PROC MSG FROM "+t),this.Zit.get(t).Jl(r)):f.ErrorMonitor.getInstance().logError("Error receiving msg without having a connection established",this.loggerId,p.hi.li,{otherGuid:t})},v.prototype.connected=function(t,e){if(this.Zit.has(t))this.logger.debug(this.loggerId+"RECONNECTED TO "+t+", RESETTING STATE"),this.Zit.get(t).reset();else{this.logger.debug(this.loggerId+"CONNECTED TO "+t);var r=e.bW;r.init(this.pI,t),this.Zit.set(t,r)}return a.resolve(this.Zit.get(t))},v.prototype.snt=function(t,e){this.logger.debug(this.loggerId+"FAILED CONN TO "+e),t.reject("CONN TO "+e+" CANNOT BE ESTABLISHED ")},v.prototype.ent=function(t,e){this.connected(t,e)},v.prototype.nnt=function(t){this.Zit.has(t)?(this.logger.debug(this.loggerId+"Connection closed to "+t),this.Zit.delete(t),this.hnt(t)):this.logger.warn(this.loggerId+"TRYING TO REMOVE A PEER THAT IS NOT THERE: "+t)},v.prototype.ont=function(){var t=this;h.Dz.Pz&&l.Framework.setInterval((function(){var e=l.Framework.time();t.Zit.forEach((function(r,n){var i=e-r.hv();i>h.Dz.Hz&&(t.logger.debug(t.loggerId+"closing stale connection to "+n+" [unused for: "+i+"ms]"),t.disconnect(n))}))}),h.Dz.Lz)},v.prototype.stop=function(t){l.Framework.resolve(l.Framework.v.p).log(t).debug(this.loggerId+"STOPPING CONNECTIONS AND REMOVING LISTENERS"),this.gQ(t)},v.prototype.unt=function(){},v.prototype.disconnect=function(t){this.Zit.has(t)&&this.channelManager.disconnect(t)},v.Ra="availableSendRate",v.Sa="remoteAddress",v.Aa="localAddress",v);function v(){var t=s.call(this)||this;return t.loggerId="[HiveNetworkManager] ",t.rP=!1,t.Zit=new o,t.fv=1,t.S_=l.Framework.resolve(l.Framework.v.H_),t.Xit=l.Framework.resolve(l.Framework.v.OC),t.channelManager=new u.ant(t.logger,t.Xit,t),t.Xit.init(t,t.logger,t.channelManager),t.ont(),t}e.N2=g},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.ant=void 0;var n=r(5),i=r(0),s=r(238),o=r(120),a=r(2),l=r(1),u=(c.prototype.tnt=function(t,e){var r=null;if(e in this.fnt){var i=n.defer();i.reject("OTHER ALREADY TRYING TO CONNECT"),r=i.promise}else{this.cnt.rP&&this.logger.info("Initiating connection to "+e);var s=this.lnt(t,e);r=this.vnt(s,e).connect(e)}return r},c.prototype.dnt=function(t){t.Ent in this.fnt&&(delete this.channels[t.label],delete this.fnt[t.Ent]),t.open&&(this.cnt.nnt(t.Ent),t.open=!1)},c.prototype.send=function(t,e){this.cnt.rP&&this.logger.debug("DATA "+e.byteLength+" "+e);var r=this.fnt[t];return r&&r.channel?(r.send(e),!0):(l.ErrorMonitor.getInstance().logError("Error sending message without channel established",this.loggerId,a.si.Ai,{otherGuid:t}),!1)},c.prototype.trigger=function(t,e){var r=e.channel;if(r&&r.label&&this.channels[r.label]){var n=this.channels[r.label];(i=n[t]).call(n,e)}else{var i,s="handle_"+t;(i=this[s])?i.call(this,e):l.ErrorMonitor.getInstance().logError("Error received a message for a non existing function",this.loggerId,a.si.Ni,{wnt:s})}},c.prototype.handle_offer=function(t){if(this.cnt.rP&&this.logger.info("received an offer from "+t.peer.guid+" on channel "+t.channel.label),this.fnt[t.peer.guid]&&t.peer<this.cnt.pI)this.Xit.pnt(this.cnt.pI,t.peer.guid,t.channel.label);else{var e=this.vnt(t.channel.label,t.peer.guid),r=this.gnt(e);e.offer(t,r)}},c.prototype.gnt=function(t){var e=this;return i.Framework.setTimeout((function(){l.ErrorMonitor.getInstance().logError("Error incoming connection timedout",e.loggerId,a.si.Ci,{otherGuid:t.Ent}),t.close()}),o.Dz.Uz)},c.prototype.vnt=function(t,e){var r=new s.bnt(this,this.cnt,t,this.ynt,this.Tnt,e);return this.channels[t]=r,this.fnt[e]=r},c.prototype.handle_offer_rejected=function(t){this.cnt.rP&&this.logger.debug("remote peer rejected ",t);var e=this.fnt[t.mnt];e&&e.close(),delete this.fnt[t.mnt],delete this.channels[t.channel]},c.prototype.lnt=function(t,e){return t.substring(0,Math.max(8,t.length))+":"+e.substring(0,Math.max(8,e.length))+":"+this.fv++},c.prototype.disconnect=function(t){var e=this.fnt[t];e&&e.close()},c);function c(t,e,r){this.loggerId="[ChannelManager] ",this.Tnt={iceServers:[{urls:"stun:stun.hivestreaming.com:3478"}]},this.fv=1,this.ynt=null,this.channels={},this.fnt={},this.logger=t,this.Xit=e,this.cnt=r}e.ant=u},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.bnt=void 0;var n=r(6),i=r(2),s=r(5),o=r(0),a=r(1),l=(u.prototype.Ont=function(){var t=this;if(this.channel&&"open"!=this.channel.readyState){if(this.rP&&this.logger.debug(this.loggerId+"Check connection "+this.Ent),this.Int<=0)return this.logger.debug(this.loggerId+"Closing channel since it couldnt be established to "+this.Ent),void this.close();this.Int-=1,this._nt=o.Framework.setTimeout((function(){return t.Ont()}),this.timeout)}},u.prototype.close=function(){try{this.rP&&this.logger.debug(this.loggerId+"Closing connection to "+this.Ent),this.Rnt(!0),this.channelManager.dnt(this),this.qB&&"closed"!==this.qB.signalingState&&(this.qB.close(),this.qB=null,this.channel&&(this.channel.close(),this.channel=null))}catch(t){a.ErrorMonitor.getInstance().logError("Error closing the connection",this.loggerId,i.ei.Ri,{detailedError:t,otherGuid:this.Ent})}},u.prototype.Snt=function(){return!!this.channel&&"connecting"===this.channel.readyState},u.prototype.connect=function(t){var e=this;this.rP&&this.logger.debug(this.loggerId+"Connecting to "+t),this.Ent=t,this.channel=this.qB.createDataChannel(this.label);var r=this.Ant(!0,-1);return this._nt=o.Framework.setTimeout((function(){return e.Ont()}),this.timeout),r},u.prototype.Nnt=function(t){var e=this,r=s.defer();return this.qB.setRemoteDescription(t).then((function(){r.resolve("OK")})).catch((function(t){a.ErrorMonitor.getInstance().logError("Error setting remote description",e.loggerId,i.ei.wi,{detailedError:t,otherGuid:e.Ent}),r.reject(t)})),r.promise},u.prototype.Cnt=function(t){var e=this,r=s.defer();return"closed"!==this.qB.signalingState?this.qB.setLocalDescription(t).then((function(){r.resolve(e.qB.localDescription)})).catch((function(t){a.ErrorMonitor.getInstance().logError("Error setting local description",e.loggerId,i.ei.pi,{detailedError:t,otherGuid:e.Ent}),r.reject(t)})):(a.ErrorMonitor.getInstance().logError("Signaling state is closed",this.loggerId,i.ei.wi),r.reject("Signaling state is closed")),r.promise},u.prototype.createOffer=function(){var t=this,e=s.defer();return this.qB.createOffer().then((function(t){e.resolve(new RTCSessionDescription(t))})).catch((function(e){a.ErrorMonitor.getInstance().logError("Error creating offer",t.loggerId,i.ei.di,{detailedError:e,otherGuid:t.Ent}),t.close()})),e.promise},u.prototype.createAnswer=function(){var t=this,e=s.defer();return this.qB.createAnswer().then((function(t){e.resolve(new RTCSessionDescription(t))})).catch((function(r){a.ErrorMonitor.getInstance().logError("Error creating answer",t.loggerId,i.ei.Ei,{detailedError:r,otherGuid:t.Ent}),e.reject(r)})),e.promise},u.prototype.offer=function(t,e){var r=this;this.rP&&(this.logger.debug(this.loggerId+"Received an offer from "+this.Ent),this.logger.debug(this.loggerId+"Offer:",t)),this.qB.ondatachannel=function(t){r.channel=t.channel,r.Ant(!1,e)};var n=new RTCSessionDescription(t.channel.offer);this.Ent=t.peer.guid,this.Nnt(n).then((function(){return"closed"!==r.qB.signalingState?(r.update_ice_candidates(t),r.createAnswer()):s.reject("Connection closed while creating answer")})).then((function(t){return r.Cnt(t)})).then((function(t){r.rP&&r.logger.debug(r.loggerId+"Sending back an answer [candidates: "+r.knt.length+"]");var e=r.knt;r.knt=new Array,r.channelManager.Xit.answer(r,t,e,r.Ent),r.jnt=!0})).catch((function(t){a.ErrorMonitor.getInstance().logError("Error responding to offer",r.loggerId,i.ei.Ii,{detailedError:t,otherGuid:r.Ent}),r.close()}))},u.prototype.answer=function(t){var e=this;this.rP&&this.logger.debug(this.loggerId+"Answer: ",t);var r=new RTCSessionDescription(t.answer);this.Nnt(r).then((function(){"closed"!==e.qB.signalingState&&e.update_ice_candidates(t)})).catch((function(t){a.ErrorMonitor.getInstance().logError("Error setting remote descriptor for the answer received",e.logger,i.ei.Oi,{detailedError:t,otherGuid:e.Ent}),e.close()}))},u.prototype.update_ice_candidates=function(t){var e=this;t.channel.ice_candidates.forEach((function(t){e.rP&&e.logger.debug(e.loggerId+"got ICE cand: ",t);var r=new RTCIceCandidate(t);e.qB.addIceCandidate(r).then((function(){})).catch((function(t){a.ErrorMonitor.getInstance().logError("Error updating ice candidates",e.loggerId,i.ei.mi,{detailedError:t,otherGuid:e.Ent})}))}))},u.prototype.Ant=function(t,e){var r=this,n=s.defer();return this.channel.onopen=function(i){return r.Mnt(n,t,e)},this.channel.onclose=function(t){r.close(),n.reject(r)},this.channel.onmessage=function(t){return r.bW.Jl(t.data)},this.channel.onerror=function(t){a.ErrorMonitor.getInstance().logError("Error setting up channel",r.loggerId,i.ei.bi,{otherGuid:r.Ent,detailedError:t}),r.close()},n.promise},u.prototype.Mnt=function(t,e,r){var i=this;this.open=!0,this.channel.bufferedAmountLowThreshold=Math.min(this.qB.sctp.maxMessageSize,n.Ko.Ja.ha),this.channel.addEventListener("bufferedamountlow",(function(){i.bW.Xl()})),t.resolve(this),e||(this.cnt.ent(this.Ent,this),r&&o.Framework.clearTimeout(r))},u.prototype.Dnt=function(){var t=this;this.jnt&&-1==this.Pnt&&(this.Pnt=o.Framework.setTimeout((function(){t.Lnt(),t.Rnt(!1)}),n.Ko.sf.ka))},u.prototype.Lnt=function(){var t=this,e=this.knt;if(this.knt=new Array,e&&0<e.length){var r=e.length;this.channelManager.Xit.Hnt(this.cnt.pI,this,e,this.Ent).then((function(e){t.rP&&t.logger.debug(t.loggerId+"sent "+r+" more candidates")})).catch((function(e){a.ErrorMonitor.getInstance().logError("Error sending candidates",t.loggerId,i.ei.bi,{detailedError:e,otherGuid:t.Ent})}))}},u.prototype.Rnt=function(t){t&&-1!=this.Pnt&&o.Framework.clearTimeout(this.Pnt),this.Pnt=-1},u.prototype.send=function(t){var e=this;null!==this.Unt&&(o.Framework.clearTimeout(this.Unt),this.Unt=null);try{this.channel.send(t),this.channel.bufferedAmount<=n.Ko.Ja.ha&&(this.Unt=o.Framework.setTimeout((function(){return e.bW.Xl()}),0))}catch(t){a.ErrorMonitor.getInstance().logError("Error setting sending",this.loggerId,i.ei.Si,{detailedError:t,otherGuid:this.Ent}),this.close()}},u);function u(t,e,r,n,s,l){var u=this;this.rP=!1,this.loggerId="[Channel] ",this.Pnt=-1,this.qB=null,this.channel=null,this.Unt=null,this._nt=null,this.Int=5,this.timeout=5e3,this.open=!1,this.jnt=!1,this.knt=new Array,this.channelManager=t,this.cnt=e,this.label=r,this.ynt=n,this.Tnt=s,this.Ent=l,this.logger=o.Framework.resolve(o.Framework.v.p).log(),this.bW=o.Framework.resolve(o.Framework.v.NC),this.bW.init(this.cnt.pI,l),this.qB=new RTCPeerConnection(this.Tnt),this.qB.onicecandidate=function(t){t&&t.candidate&&(u.knt.push(t.candidate),u.Dnt())},this.qB.onnegotiationneeded=function(){u.createOffer().then((function(t){return u.Cnt(t)})).then((function(t){u.rP&&u.logger.debug(u.loggerId+"Sending offer to "+u.Ent+" [candidates: "+u.knt.length+"]");var e=u.knt;u.knt=new Array;var r=u.channelManager.Xit.offer(u.cnt.pI,u.Ent,u,e,t);return u.jnt=!0,r})).catch((function(t){a.ErrorMonitor.getInstance().logError("Error negotiating with peer",u.loggerId,i.ei.gi,{detailedError:t,otherGuid:u.Ent}),u.close()}))},this.qB.oniceconnectionstatechange=function(t){u.qB&&"disconnected"===u.qB.iceConnectionState&&u.close(),u.qB&&"failed"===u.qB.iceConnectionState&&(a.ErrorMonitor.getInstance().logError("Error establishing ICE connection",u.loggerId,i.ei.gi,{otherGuid:u.Ent}),u.close())},this.qB.onsignalingstatechange=function(t){"closed"===t.signalingState&&u.close()}}e.bnt=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.zit=void 0;var n=r(3),i=r(0),s=r(2),o=r(1),a=(l.prototype.$it=function(t,e){void 0===e&&(e=[]),this.listeners.set(t,e)},l.prototype.gQ=function(t){this.listeners.delete(t)},l.prototype.Fnt=function(){0<this.listeners.length&&this.listeners.forEach((function(t,e){t.forEach((function(t){t.mY&&t.mY()}))}))},l.prototype.Jit=function(t,e){var r=this;0<this.listeners.length&&(e?this.listeners.get(e).forEach((function(e){try{e.$I&&e.$I(t)}catch(e){o.ErrorMonitor.getInstance().logError("Error firing server connect when we have swarm",r.jU,s.hi.ai,e)}})):this.listeners.forEach((function(e,n){e.forEach((function(e){try{e.$I&&e.$I(t)}catch(e){o.ErrorMonitor.getInstance().logError("Error firing server connect when we do not have swarm",r.jU,s.hi.fi,e)}}))})))},l.prototype.hnt=function(t){0<this.listeners.length&&this.listeners.forEach((function(e,r){e.forEach((function(e){e.tY&&e.tY(t)}))}))},l);function l(){this.jU="[Base Network Manager] ",this.listeners=new n,this.logger=i.Framework.resolve(i.Framework.v.p).log()}e.zit=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.C2=void 0;var n=r(5),i=r(0),s=r(16),o=(a.prototype.init=function(t,e,r){this.cnt=t,this.logger=e,this.channelManager=r},a.prototype.isConnected=function(){return this.client.h_().isConnected()},a.prototype.start=function(t,e){var r=this;this.pI=e,this.client&&this.client.h_()?this.client.h_().on(HiveStreamingServices.G0,1,(function(t){r.xnt(t.msg)})):this.logger.error("error getting active services connection"),this.cnt.Jit(this.pI)},a.prototype.xnt=function(t){var e=JSON.parse(t);this.cnt.rP&&this.logger.debug("RCV MSG FROM SRV ",e),this.channelManager.trigger(e.msgName,e.msg)},a.prototype.Gnt=function(t,e,r){var i=this.wrap(e,t,r);if(this.client&&this.client.h_()){var o=JSON.stringify(i);this.cnt.rP&&this.logger.debug(" FORWARDING REQUEST : "+o);var a=new s.pl(HiveStreamingServices.G0,0,o);return this.client.h_().send(a)}return n.reject()},a.prototype.wrap=function(t,e,r){return{msgId:this.fv++,destination:r,msg:t,msgName:e}},a.prototype.Hnt=function(t,e,r,n){var i={channel:{label:e.label,ice_candidates:r}};return this.Gnt("update_ice_candidates",i,n)},a.prototype.offer=function(t,e,r,n,s){var o={peer:{guid:t,first_seen:i.Framework.time()},channel:{label:r.label,ice_candidates:n,offer:s}};return this.Gnt("offer",o,r.Ent)},a.prototype.pnt=function(t,e,r){this.cnt.rP&&this.logger.debug("Discovery service rejects offer from peer "+e+" on channel "+r);var n={mnt:t,channel:r};return this.Gnt("answer",n,e)},a.prototype.answer=function(t,e,r,n){var i={answer:e,Vnt:this.cnt.pI,channel:{label:t.label,ice_candidates:r}};return this.Gnt("answer",i,n)},a);function a(){this.fv=1,this.client=i.Framework.resolve(i.Framework.v.c_)}e.C2=o},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Ka=void 0;var n=r(3),i=r(6),s=r(0),o=(a.prototype.init=function(t){this.logger=s.Framework.resolve(s.Framework.v.p).log(t.sessionId),this.YM=t.YM,this.Bnt()},a.prototype.Bnt=function(){var t=this;s.Framework.setInterval((function(){t.qnt()}),i.Ko.Ka.Wu)},a.prototype.qnt=function(){var t=this;this.c4.values().filter((function(t){return s.Framework.time()-t.ZR.zR>i.Ko.Ka.Yu})).forEach((function(e){t.YM.abort(e.DS),t.$U(e.sS(),e.eS())}))},a.prototype.KU=function(t){this.Qnt(t.sS(),t.eS()),this.c4.set(t.eS(),t)},a.prototype.$U=function(t,e){this.c4.delete(e),this.Wnt(t,e)},a.prototype.ZU=function(t){this.Ynt(t)},a.prototype.XU=function(t){this.GU.delete(t)},a.prototype.Ynt=function(t){if(this.GU.set(t.sS(),t.iS()),this.znt.push(t.sS()),this.GU.length>i.Ko.Ka.Qu){var e=this.znt[0];this.GU.delete(e),this.znt.splice(0,1)}},a.prototype.FU=function(t){return this.GU.has(t)},a.prototype.VU=function(t){return this.GU.get(t)},a.prototype.Qnt=function(t,e){if(this.Knt.has(t))this.Knt.get(t).push(e);else{var r=[];r.push(e),this.Knt.set(t,r)}},a.prototype.Wnt=function(t,e){if(this.Knt.has(t)){var r=this.Knt.get(t),n=r.indexOf(e);-1==n?this.logger.warn("I CANNOT FIND THE REQUEST ID "+e):r.splice(n,1),0==r.length&&this.Knt.delete(t)}else this.logger.warn("TRIED TO REMOVE AN OBJECT THAT DOES NOT EXIST")},a.prototype.QU=function(t){var e=[];if(this.$nt(t))for(var r=this.Knt.get(t),n=0;n<r.length;n++)this.c4.has(r[n])&&e.push(this.c4.get(r[n]));return e},a.prototype.$nt=function(t){return this.Knt.has(t)},a.prototype.iF=function(){return 0!=this.c4.length},a.prototype.qU=function(t){return this.Knt.has(t)},a);function a(){this.GU=new n,this.znt=[],this.c4=new n,this.Knt=new n}e.Ka=o},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.V2=void 0;var s,o=r(11),a=r(243),l=r(2),u=r(1),c=r(6),h=(i(p,s=a.Xnt),p.prototype.mit=function(t,e){var r=[],n=[],i=[],a=[];try{var h=this.z_.WD(),p=this.z_.YD();return t.forEach((function(t){t.zD.peerInfo.type==o.ac.cc&&r.push(t);var e=t.zD.peerInfo.internalAs;if(0!=h&&h===e&&n.push(t),c.Ko.Ja.ca){var s=t.zD.peerInfo.externalAs;0!=p&&p===s&&i.push(t)}t.zD.peerInfo.type==o.ac.fc&&a.push(t)})),0<r.length?s.prototype.mit.call(this,r,e):0<n.length?s.prototype.mit.call(this,n,e):0<i.length?s.prototype.mit.call(this,i,e):s.prototype.mit.call(this,a,e)}catch(t){return u.ErrorMonitor.getInstance().logError("Error choosing partner for p2p",this.loggerId,l.jt.es,t),null}},p);function p(){return null!==s&&s.apply(this,arguments)||this}e.V2=h},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Xnt=void 0;var n=r(0),i=r(6),s=r(1),o=r(2),a=(l.prototype.git=function(t){this.z_=t},l.prototype.mit=function(t,e){var r=this.Jnt(t);return r?r[0]:null},l.prototype.Znt=function(t,e){return i.Ko.Ja.ua*(t.nP()/e)+i.Ko.Ja.aa*(1-t.xtt())},l.prototype.Jnt=function(t){var e=this;try{var r=.1;r+=t.map((function(t){return t.nP()})).reduce((function(t,e){return t+e}));var n=t.sort((function(t,n){return e.Znt(n,r)-e.Znt(t,r)})),i=[];return n.forEach((function(t){i.push(t.guid.substring(0,8)+":"+e.Znt(t,r))})),this.logger.debug(this.loggerId+"["+i.join(", ")+"]"),n}catch(t){return s.ErrorMonitor.getInstance().logError("Error sorting the partners",this.loggerId,o.Mt.ss,t),null}},l);function l(){this.loggerId="[PickerTRSingle] ",this.logger=n.Framework.resolve(n.Framework.v.p).log()}e.Xnt=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.B2=void 0;var n=r(55),i=r(3),s=r(69),o=r(4),a=r(6),l=r(0),u=r(54),c=r(115),h=r(8).K.Cf,p=(f.prototype.init=function(t){this.logger=l.Framework.resolve(l.Framework.v.p).log(t.sessionId),this.z_=t.z_,this.X2=t.X2,this.cW=t.cW,this.pF=t.pF},f.prototype.XM=function(t){this.JM=t},f.prototype.U4=function(){this.d3()},f.prototype.qW=function(){a.Ko.za.ju?this.trt():this.z_.XD()&&!this.z_.xD()&&h?(this.logger.debug("REMOVE REQUEST REMOTE ELECTION"),this.irt()):(this.logger.debug("REQUEST REMOTE ELECTION"),this.trt())},f.prototype.trt=function(){var t=this.z_.WD(),e=t&&0!=t?c.hW.VM:c.hW.AS;this.X2.M4(e)},f.prototype.irt=function(){this.X2.M4(c.hW.oW)},f.prototype.d3=function(){var t=this;this.e3(),this.nrt=l.Framework.setInterval((function(){t.qW()}),a.Ko.za.Du),this.pF.eN(),this.qW()},f.prototype.e3=function(){this.nrt&&l.Framework.clearInterval(this.nrt)},f.prototype.h3=function(){this.pF.kD(),this.JM._5()},f.prototype.QW=function(t){var e=new i;if(t){this.rrt().forEach((function(t){e.set(t,n.xM.GM)}));var r=!1,s=n.xM.GM;this.z_.tP()&&(s=n.xM.VM,r=!0),this.pF.nD(e,s,r)}else this.pF.nD(e,n.xM.LS,!1)},f.prototype.P4=function(t,e){var r=this,l=this.srt(e),u=this.pF.iD().JH();if(t&&0<t.length){var c=new s;c.hiveAddEach(t);var h=a.Ko.za.Ru||c.some((function(t){var e=o.$e(hive.services.protocol.tracker.TrackerRankType,t.key.rankType);return r.logger.debug("LEADER ELECTION GOT RANKING "+e+",CRV "+t.cumulatedRankValue+",RV "+t.ranking+",GS "+t.groupSize),r.ert(t)}));a.Ko.za.Su&&(h=this.hrt(h));var p=null!=l&&0!=l.length;if(this.logger.debug("Tracker reports quality levels["+l.keys().join(", ")+"] ISLive "+u+" DoElect "+h),a.Ko.za._u&&u){var f=this.rrt();if(p&&h){this.z_.Zq(!0),this.logger.info("BECOMING SITE LEADER");var d=new i;f.forEach((function(t){d.set(t,n.xM.GM)})),l.forEach((function(t,e){r.cW.sz.has(t)||d.set(e,n.xM.VM)})),this.pF.nD(d,n.xM.VM,!1)}else{this.z_.Zq(!1);var g=n.xM.LS,v=new i;this.z_.XD()&&this.z_.xD()&&(g=n.xM.GM,f.forEach((function(t){v.set(t,n.xM.GM)}))),this.pF.nD(v,g,!1)}}}else if(u){a.Ko.za.Ru?this.z_.Zq(!0):this.z_.Zq(!1);var m=new i;g=n.xM.LS,this.z_.XD()&&this.z_.xD()&&(this.rrt().forEach((function(t){m.set(t,n.xM.GM)})),g=n.xM.GM),a.Ko.za.Ru&&(g=n.xM.VM),this.pF.nD(m,g,!1)}},f.prototype.hrt=function(t){return t?!(this.ort=!1):this.z_.tP()?this.ort?this.ort=!1:this.ort=!0:void 0},f.prototype.bz=function(){var t=this.rrt(),e=new i;t.forEach((function(t){e.set(t,n.xM.GM)}));var r=!1,s=n.xM.GM;this.z_.tP()&&(s=n.xM.VM,r=!0),this.pF.nD(e,s,r)},f.prototype.rrt=function(){var t=new s;return this.cW.sz.forEach((function(e,r){e.peerInfo.watchingQualityLevel&&!t.has(e.peerInfo.watchingQualityLevel.id)&&t.hiveAdd(e.peerInfo.watchingQualityLevel.id)})),t.toArray()},f.prototype.srt=function(t){var e=new i,r=this.z_.WD();return t.forEach((function(t){null!=t.watchingQualityLevel&&(0<r?r===t.internalAs&&e.set(t.watchingQualityLevel,t.guid):e.set(t.watchingQualityLevel,t.guid))})),e},f.prototype.ert=function(t){if(t.groupSize<2)return!1;var e=Math.max(a.Ko.za.Cu,Math.round(t.groupSize*a.Ko.za.Nu));return h||l.Framework.T()&&u.Wc.HM?t.ranking<e&&(this.z_.xD()||!this.z_.XD()):t.ranking<e},f.prototype.SD=function(t,e,r,i){var s=1,o=this.JM.GD(r,e),u=a.Ko.za.Lu*l.Framework.random();if(t==n.xM.GM){var c=this.JM.k5()-u;s=Math.max(1,o-c)}else if(t==n.xM.VM){var h=a.Ko.za.Hu-u;s=Math.max(1,o-h)+i}return Math.round(s)},f);function f(){this.ort=!1}e.B2=p},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.S2=void 0;var n=r(0),i=r(3),s=r(16),o=r(1),a=r(2);r(28);var l=r(4),u=(c.prototype.w4=function(t,e){try{return this.logger.debug("TRACKER CLIENT REGISTERED "+t),this.urt.has(t)||this.urt.set(t,e),this.urt.get(t)}catch(t){o.ErrorMonitor.getInstance().logError("Error adding new tracker client",this.loggerId,a.Dt.Xr,t)}},c.prototype.art=function(t){this.urt.delete(t)},c.prototype.frt=function(t){return this.urt.get(t)},c.prototype.j4=function(t){var e=this;if(this.client&&this.client.h_()){var r=void 0;try{r=this._q.Th(t,"TRACKER_REQ",0)}catch(t){o.ErrorMonitor.getInstance().logError("Error serializing the new request",this.loggerId,a.Dt.Jr,t)}if(r){var n=new s.pl(HiveStreamingServices.F0,1,r),i=this.client.h_().send(n);i.then((function(){return e.logger.info("TRACKER REQUEST SENT")})),i.fail((function(t){o.ErrorMonitor.getInstance().logError("Error sending tracker request",e.loggerId,a.Dt.Kr,t)}))}}else o.ErrorMonitor.getInstance().logError("Error sending tracker request because of connection",this.loggerId,a.Dt.ns)},c.prototype.crt=function(t){t.infos.map((function(t){t.guid=atob(t.guid),t.publicIp=new InetAddress,t.publicIp.address=t.publicIpString,t.privateIp=new InetAddress,t.privateIp.address=t.privateIpString})),t.peerInfo.guid=atob(t.peerInfo.guid),t.peerInfo.publicIp=new InetAddress,t.peerInfo.publicIp.address=t.peerInfo.publicIpString,t.peerInfo.privateIp=new InetAddress,t.peerInfo.privateIp.address=t.peerInfo.privateIpString},c.prototype.init=function(){var t=this;this.logger.debug("TRACKER MANAGER INIT"),this.client&&this.client.h_()?this.client.h_().on(HiveStreamingServices.F0,10,(function(e){try{var r=null;try{r=t._q.Sh(e.msg,"TRACKER_RESP",1,hive.services.protocol.tracker.TrackerResponse),t.crt(r)}catch(e){o.ErrorMonitor.getInstance().logError("Error deserializing the tracker response",t.loggerId,a.Dt.Zr,e)}t.lrt&&t.logger.debug("RESP "+JSON.stringify(r)),r&&t.urt.has(r.sessionId)?t.urt.get(r.sessionId).J3(r):t.logger.warn("SESSION ID NOT VALID OR NULL "+r.sessionId)}catch(e){o.ErrorMonitor.getInstance().logError("Error initializing the tracker manager",t.loggerId,a.Dt.rs,e)}})):n.Framework.T()||this.logger.warn(this.loggerId+" CANNOT GET ACTIVE CONNECTION")},c);function c(){this.lrt=!1,this.loggerId="[TRACKER] ",this.urt=new i,this._q=new l.oh,this.logger=n.Framework.resolve(n.Framework.v.p).log(),n.Framework.T()||(this.client=n.Framework.resolve(n.Framework.v.c_))}e.S2=u},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.j2=void 0;var n=r(56),i=r(3),s=r(0),o=r(6),a=r(1),l=r(2),u=(c.prototype.init=function(t){this.logger=s.Framework.resolve(s.Framework.v.p).log(t.sessionId)},c.prototype.Z3=function(t){try{var e=t.sS(),r=t.dS,i=t.ZR.VR,u=Math.ceil(i/o.Ko.Ja.ha),c=t.rS.getQualityLevel(),h=0,p=Math.min(o.Ko.Ja.ha,i);this.vrt(e,c);for(var f=p-h;0<u;){var d=null;try{s.Framework.T()||(d=n.wrap(r.slice(h,p))),h+=f}catch(t){a.ErrorMonitor.getInstance().logError("Error wrapping chunk",this.loggerId,l.Bt.$n,t)}this.drt.get(e).push(d),u--,f=(p=Math.min(h+o.Ko.Ja.ha,i))-h}}catch(t){a.ErrorMonitor.getInstance().logError("Error adding fragment to the fragmentMap",this.loggerId,l.Bt.Kn,t)}},c.prototype.vrt=function(t,e){try{if(this.Ert.has(e.id)&&this.Ert.get(e.id).length>o.Ko.Cache.$u){var r=this.Ert.get(e.id)[0];this.drt.delete(r),this.Ert.get(e.id).shift()}if(this.Ert.has(e.id))this.Ert.get(e.id).push(t),this.drt.set(t,[]);else{var n=[t];this.Ert.set(e.id,n),this.drt.set(t,[])}}catch(t){a.ErrorMonitor.getInstance().logError("Error generating the chunk handler hashmaps",this.loggerId,l.Bt.Xn,t)}},c.prototype.pit=function(t,e){return this.drt.has(t)?this.drt.get(t)[e]:null},c.prototype.f3=function(){this.drt=new i,this.Ert=new i},c);function c(){this.loggerId="[ChunkHandler] ",this.drt=new i,this.Ert=new i}e.j2=u},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Ba=void 0;var n=r(3),i=r(6),s=r(0),o=r(2),a=r(1),l=(u.prototype.init=function(t){this.logger=s.Framework.resolve(s.Framework.v.p).log(t.sessionId),this.partnership=t.partnership,this.wrt=new n,this.prt=new n,this.grt&&this.brt()},u.prototype.HY=function(t,e,r){try{if(!this.grt)return!1;if(this.wrt.has(t)||!e||!r)return!1;var n=this.yrt(e,r);return!!(n&&this.prt.has(n)&&this.prt.get(n).length>=i.Ko.Ba.cu)&&(a.ErrorMonitor.getInstance().logError("Error peer violates ip spoofing rules",this.loggerId,o.St.Ds,{privateIp:e,publicIp:r,otherGuid:t}),this.logger.debug(this.loggerId+"Spoofing rule violated for "+t+" with privateIp "+e+" publicIp "+r),!0)}catch(e){return a.ErrorMonitor.getInstance().logError("Error checking if peer violates ip spoofing rules",this.loggerId,o.St.Ms,{detailedError:e,otherGuid:t}),!1}},u.prototype.VY=function(t,e,r){try{if(this.grt&&r&&e){var n=this.yrt(e,r),i=this.wrt.get(t);i&&i!=n&&this.Trt(t,i),this.mrt(t,n)}}catch(e){a.ErrorMonitor.getInstance().logError("Error adding or updating ip spoofing maps",this.loggerId,o.St.Ps,{detailedError:e,otherGuid:t})}},u.prototype.Ort=function(t){this.grt&&this.az(t)},u.prototype.tY=function(t){this.grt&&this.az(t)},u.prototype.mrt=function(t,e){this.wrt.set(t,e);var r=[];this.prt.has(e)&&-1!=(r=this.prt.get(e)).indexOf(t)||(r.push(t),this.prt.set(e,r))},u.prototype.az=function(t){var e=this.wrt.get(t);e&&(this.Trt(t,e),this.wrt.delete(t))},u.prototype.Trt=function(t,e){var r=this.prt.get(e),n=r.indexOf(t);-1!=n?(r.splice(n,1),0==r.length?this.prt.delete(e):this.prt.set(t,r)):this.logger.warn(this.loggerId+"pair list "+e+" does not contain guid "+t)},u.prototype.yrt=function(t,e){return e+":"+t},u.prototype.brt=function(){var t=this;s.Framework.setInterval((function(){try{var e=[];t.prt.forEach((function(r,n){if(r.length>i.Ko.Ba.cu){for(var s=[],o=i.Ko.Ba.cu;o<r.length;o++)s.push(r[o]);t.logger.warn("IpSpoofing violation for "+n+" - closing: "+s),e.concat(s)}})),e.forEach((function(e){t.partnership.zY(e)}))}catch(e){a.ErrorMonitor.getInstance().logError("Error checking periodic ip spoofing tables",t.loggerId,o.St.Ls,e)}}),i.Ko.Ba.lu)},u);function u(){this.loggerId="[IPSpoofing] ",this.grt=i.Ko.Ba.au}e.Ba=l},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.P2=e.Irt=void 0;var s,o=r(121),a=r(6),l=r(72),u=r(0),c=r(2),h=r(1),p=(i(f,s=o.Fz),f.prototype.Gz=function(t,e){try{return e.sort(l.IF._F),e.slice(0,t)}catch(t){return h.ErrorMonitor.getInstance().logError("Error selecting partners to remove",this._rt,c.Wt.xn,t),[]}},f.prototype.Vz=function(t,e,r,n){try{return n.filter((function(t){return e.every((function(e){return e.guid!=t.peerInfo.guid}))&&-1==r.indexOf(t.peerInfo.guid)})).slice(0,t)}catch(t){return h.ErrorMonitor.getInstance().logError("Error selecting partners to add",this._rt,c.Wt.Gn,t),[]}},f);function f(){var t=s.call(this)||this;return t._rt="[Score Partner Selection] ",t.type="Score",t}e.Irt=p;var d=(g.prototype.tz=function(t){try{var e=t.filter((function(t){return!t.YY.transport.Hl()})),r=u.Framework.time(),n=e.filter((function(t){return r-t.xz>a.Ko.Va.ou}));return 0<n.length?(n.sort(l.OF._F),n.slice(0,1)[0]):null}catch(t){return h.ErrorMonitor.getInstance().logError("Error updating partners out",this._rt,c.Wt.Vn,t),null}},g);function g(){this._rt="[Score Partner Selection] "}e.P2=d},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.H2=e.L2=void 0,r(28);var n=r(3),i=r(122),s=r(6),o=r(0),a=r(4),l=r(72),u=r(2),c=r(1),h="NOT_USEFUL_PARTNER",p=(f.prototype.init=function(t){this.z_=t.z_},f.prototype.MY=function(t,e,r,n){try{var a=[],l=[],h=Math.round(t*(1-s.Ko.Ga.Zo)),p=Math.max(e.length-h,0),f=t-e.length+p;if(0<p){var d=e.filter((function(t){return!t.YY.transport.Hl()})),g=o.Framework.time(),v=d.filter((function(t){return g-t.xz>s.Ko.Va.ou})),m=Math.min(v.length,p);(l=this.Gz(m,v)).length>m&&(f+=l.length-m);var y=[],b=[];l.forEach((function(t){y.push(t.guid),b.push(t.SF.RF(!1))}))}return 0<f&&(a=this.Vz(f,e,r,n)),new i.Bz(a,l)}catch(t){return c.ErrorMonitor.getInstance().logError("Error updating in partners",this.Rrt,u.Qt.Fn,t),new i.Bz([],[])}},f.prototype.Gz=function(t,e){var r=this;try{e.sort(l.IF._F);var n=e.slice(0,t);return e.slice(t,e.length).forEach((function(t){r.Srt(t.zD)&&n.push(t)})),n}catch(t){return c.ErrorMonitor.getInstance().logError("Error selecting partners to remove",this.Rrt,u.Qt.xn,t),[]}},f.prototype.Vz=function(t,e,r,n){var i=this;try{var o=[],a=[],l=[],h=[],p=[],f=[];e.forEach((function(t){f.push(t.guid)}));var d=Math.floor(t*s.Ko.Va.su),g=this.z_.sQ();n.forEach((function(t){var e=t.peerInfo.streams;if(e){var r=i.isLeader(t,e,g);r.wW?r.Art?o.push(t):a.push(t):i.Nrt(t,s.Ko.Va.ru)?i.Srt(t)?p.push(t):h.push(t):l.push(t)}else p.push(t)}));var v=this.Crt(o,a,l,h,p,t,t,d);return v.slice(0,Math.min(v.length,t))}catch(t){return c.ErrorMonitor.getInstance().logError("Error selecting partners to add",this.Rrt,u.Qt.Gn,t),[]}},f.prototype.Crt=function(t,e,r,n,i,l,h,p){try{var f=[],d=[];0<t.length&&o.Framework.random()<s.Ko.Va.eu&&(d=(t=a.Ze(t)).slice(0,Math.min(t.length,p)),f.push.apply(f,d),h=l-d.length);var g=[];0<e.length&&(g=(e=a.Ze(e)).slice(0,Math.min(e.length,p)),f.push.apply(f,g),h=l-g.length);var v=[];0<r.length&&(v=(r=a.Ze(r)).slice(0,Math.min(r.length,p)),f.push.apply(f,v),h=l-v.length);var m=null;0<n.length&&(m=(n=a.Ze(n)).slice(0,Math.min(n.length,h)),h=l-((0<v.length?v.length:0)-m.length));var y=[];return 0<h&&0<i.length&&(y=(i=a.Ze(i)).slice(0,Math.min(i.length,h)),f.push.apply(f,y)),f}catch(t){return c.ErrorMonitor.getInstance().logError("Error grouping partners",this.Rrt,u.Qt.Bn,t),[]}},f.prototype.isLeader=function(t,e,r){try{var i=!1,s=this.z_.WD(),o=this.z_.YD(),a=new n;e.forEach((function(t){a.set(t.qualityLevel,t)}));var l=new n;return a.forEach((function(t,e){r.has(e)&&l.set(e,t)})),0<l.keys().length&&l.forEach((function(e,n){var a=r.get(n);if(a&&2<=e.state&&1<=a.type){var l=t.peerInfo.internalAs,u=t.peerInfo.externalAs;i=0<s?s===l:0<o&&o===u}})),{wW:!1,Art:i}}catch(e){return c.ErrorMonitor.getInstance().logError("Error identifying if member is leader or same site",this.Rrt,u.Qt.qn,{detailedError:e,otherGuid:t.peerInfo.guid}),{wW:!1,Art:!1}}},f.prototype.Nrt=function(t,e){try{var r=this.z_.getDelta(),n=this.z_.jB(),i=this.krt(t,n);return(0!=r||0!=i)&&r<i&&i+e<r}catch(e){return c.ErrorMonitor.getInstance().logError("Error identifying if member is ahead or behind delta",this.Rrt,u.Qt.Qn,{detailedError:e,otherGuid:t.peerInfo.guid}),!1}},f.prototype.Srt=function(t){try{var e=this.z_.getDelta(),r=this.z_.jB(),n=this.krt(t,r);return 0==e&&0==n||n<e}catch(e){return c.ErrorMonitor.getInstance().logError("Error identifying if member is behind or not retrieveing the same quality level",this.Rrt,u.Qt.Wn,{detailedError:e,otherGuid:t.peerInfo.guid}),!1}},f.prototype.krt=function(t,e){try{var r=t.peerInfo.streams,n=0;return r&&r.forEach((function(t){t.qualityLevel===e.id&&(n=t.delta)})),n}catch(r){return c.ErrorMonitor.getInstance().logError("Error retrieving delta for member's quality level",this.Rrt,u.Qt.Yn,{detailedError:r,otherGuid:t.peerInfo.guid}),0}},f);function f(){this.Rrt="[Delta Partner Selection] "}e.L2=p;var d=(g.prototype.tz=function(t,e,r){var i=this;try{this.z_=t;var a=this.z_.sQ(),l=e.streams;if(l){var h=r.filter((function(t){return!t.YY.transport.Hl()})),p=o.Framework.time(),f=h.filter((function(t){return p-t.xz>s.Ko.Va.ou}));if(0==l.filter((function(t){return a.has(t.qualityLevel)})).length)return null;var d=this.jrt(f),g=this.Mrt(a,d);if(g)return g;var v=a.keys().length,m=f.length,y=Math.round(m/v),b=d.keys().filter((function(t){return a.has(t)})),E=new n;b.forEach((function(t){E.set(t,d.get(t))}));var w=null;return null!=(w=this.Drt(E,y))?w:(l.forEach((function(t){var e=E.get(t.qualityLevel);if(null!=e){var r=i.Prt(e);0<r.length&&!s.Ko.Va.hu&&(w=r[0])}})),null!=w?w:null)}return null}catch(t){return c.ErrorMonitor.getInstance().logError("Error selecting partner to update out",this.loggerId,u.qt.zn,t),null}},g.prototype.jrt=function(t){var e=new n;return t.forEach((function(t){var r=t.zD.peerInfo.watchingQualityLevel,n=r?r.id:null;if(n=n||h,e.has(n)){var i=e.get(n);i.push(t),e.set(n,i)}else e.set(n,[t])})),e},g.prototype.Prt=function(t){return t.filter((function(t){if(0==t.AF.Yit(s.Ko.$a.ra))return t}))},g.prototype.Drt=function(t,e){var r=[];t.forEach((function(t,e){r.push({qualityLevel:e,count:t.length})})),r.sort((function(t,e){return t.count>e.count?1:t.count<e.count?0:-1}));var n=null;return r.forEach((function(r){var i=t.get(r.qualityLevel).length;if(e<i){var s=t.get(r.qualityLevel);0<s.length&&(s.sort(l.OF._F),n=s[0])}})),n},g.prototype.Mrt=function(t,e){var r=this,n=null;return e.has(h)?n=e.get(h)[0]:e.filter((function(e,r){return!t.has(r)})).forEach((function(t,e){var i=r.Prt(t);0<i.length&&(n=i[0])})),n},g);function g(){this.loggerId="[Throughput Partner Selection] ",this.logger=o.Framework.resolve(o.Framework.v.p).log()}e.H2=d},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.mU=void 0,r(63);var n=r(0),i=r(7),s=r(33),o=r(27),a=r(11),l=r(10),u=r(6),c=(h.prototype.init=function(t){this.logger=n.Framework.resolve(n.Framework.v.p).log(t.sessionId),this.loggerId="S["+t.sessionId+"]",this.D_=t.reportingInstance.D_,this.z_=t.z_,this.w3()},h.prototype.n6=function(t){this.D_.pV.metrics.memN=t,this.D_.x_.metrics.memN=t},h.prototype.xY=function(t,e){this.D_.pV.metrics.lookupTotal++,this.D_.x_.metrics.lookupTotal++,t?(this.D_.pV.metrics.lookupNotFound++,this.D_.x_.metrics.lookupNotFound++,this.D_.pV.metrics.lookupFailed++,this.D_.x_.metrics.lookupFailed++):e?(this.D_.pV.metrics.lookupFailed++,this.D_.x_.metrics.lookupFailed++):(this.D_.pV.metrics.lookupReqEstablished++,this.D_.x_.metrics.lookupReqEstablished++)},h.prototype.hz=function(){this.D_.pV.metrics.lookupReqAccept++,this.D_.x_.metrics.lookupReqAccept++},h.prototype.Stt=function(t,e,r,n,i){if(this.cQ||n){var s=i==o.RequestType.xR,a=this.D_.WV(t),l=this.D_.QV(t);a.p2pSuccReq++,a.p2pSuccReceived+=e,l.p2pSuccReq++,l.p2pSuccReceived+=e,s&&(a.p2pSuccReceivedLow+=e,l.p2pSuccReceivedLow+=e),0<r&&!s&&(a.p2pSuccReceivedLow+=e,l.p2pSuccReceivedLow+=e)}},h.prototype.Ctt=function(t,e,r,n,i,s){if(this.cQ||i){var a=s==o.RequestType.xR,l=this.D_.WV(t),u=this.D_.QV(t);l.p2pFailReq++,l.p2pSuccReceived+=e,l.p2pFailReceived+=n-e,u.p2pSuccReq++,u.p2pSuccReceived+=e,u.p2pFailReceived+=n-e,a&&(l.p2pSuccReceivedLow+=e,u.p2pSuccReceivedLow+=e),0<r&&!a&&(l.p2pSuccReceivedLow+=e,u.p2pSuccReceivedLow+=e)}},h.prototype.ktt=function(t,e,r){if(this.cQ||r){var n=this.D_.WV(t),i=this.D_.QV(t);n.p2pFailReq++,n.p2pFailReceived+=e,i.p2pFailReq++,i.p2pFailReceived+=e}},h.prototype.Mtt=function(t,e,r){if(this.cQ||r){var n=this.D_.WV(e),i=this.D_.QV(e);n.p2pSuccResp++,n.p2pSuccSent+=t,i.p2pSuccResp++,i.p2pSuccSent+=t}},h.prototype.Htt=function(t,e,r,n){if(this.cQ||n){var i=this.D_.WV(r),s=this.D_.QV(r);i.p2pPartResp++,i.p2pSuccSent+=t,i.p2pFailSent+=e-t,s.p2pPartResp++,s.p2pSuccSent+=t,s.p2pFailSent+=e-t}},h.prototype.Ptt=function(t,e,r){if(this.cQ||r){var n=this.D_.WV(e),i=this.D_.QV(e);n.p2pFailResp++,n.p2pFailSent+=t,i.p2pFailResp++,i.p2pFailSent+=t}},h.prototype.DU=function(t){t?this.D_.pV.metrics.bitrateUpN++:this.D_.pV.metrics.bitrateDwnN++},h.prototype.fQ=function(t){if(-1==[i.af.lf,i.af.vf].indexOf(t.nS())){var e=t.nS()!=i.af.ff;if((this.cQ||e)&&(this.D_.xV().reqN++,this.D_.FV().reqN++,t.nS()==i.af.cf)){var r=t;if(r.getQualityLevel()){var n=r.getQualityLevel();this.D_.GV(n).reqN++,this.D_.VV(n).reqN++}}}else this.D_.xV().reqOtherN++,this.D_.FV().reqOtherN++},h.prototype.EU=function(t){var e=t.nS()!=i.af.ff;if(this.cQ||e){var r,n=this.D_.xV(),s=this.D_.FV(),a=null,l=null;-1==[i.af.lf,i.af.vf].indexOf(t.nS())&&(n.srcReqN++,s.srcReqN++,!e||(r=this.Lrt(t))&&(a=this.D_.GV(r),l=this.D_.VV(r),a.srcReqN++,l.srcReqN++),t.iS()==o.RequestType.UR&&(n.srcOtherReqN++,s.srcOtherReqN++,!e||(r=this.Lrt(t))&&(a.srcOtherReqN++,l.srcOtherReqN++)))}},h.prototype.Oit=function(t){if(this.D_.xV().p2pSubReqN++,this.D_.FV().p2pSubReqN++,t.nS()==i.af.cf){var e=this.Lrt(t);e&&(this.D_.GV(e).p2pSubReqN++,this.D_.VV(e).p2pSubReqN++)}},h.prototype.Hrt=function(t,e){this.Urt(t,this.D_.FV()),this.Urt(t,this.D_.xV());var r=this.Lrt(t);r&&t.nS()===i.af.cf&&this.z_.jB().id===r.id&&(this.Urt(t,this.D_.GV(r)),this.Urt(t,this.D_.VV(r))),isNaN(e)||(this.D_.pV.metrics.srcThroughput=e)},h.prototype.vQ=function(t,e){var r=t.nS()!=i.af.ff;(this.cQ||r)&&(-1!=[i.af.lf,i.af.vf].indexOf(t.nS())?(this.D_.xV().respFallbackOtherN++,this.D_.FV().respFallbackOtherN++):this.Hrt(t,e))},h.prototype.dQ=function(t,e){if(-1!=[i.af.lf,i.af.vf].indexOf(t.nS()))this.D_.xV().respFallbackOthertErrN++,this.D_.FV().respFallbackOthertErrN++;else{var r=t.nS()!=i.af.ff;if(this.cQ||r)if(this.MU(t.type))this.D_.FV().respFallbackErrN++,this.D_.xV().respFallbackErrN++,!r||(n=this.Lrt(t))&&(this.D_.GV(n).respFallbackErrN++,this.D_.VV(n).respFallbackErrN++),0==t.ZR.WR&&(this.D_.FV().srcRespErrN++,this.D_.xV().srcRespErrN++,!r||(n=this.Lrt(t))&&t.nS()===i.af.cf&&(this.D_.GV(n).srcRespErrN++,this.D_.VV(n).srcRespErrN++)),this.Hrt(t,e);else if(t.type==o.RequestType.UR&&-1!=u.Ko.Ya.mu.indexOf(t.DS.status))this.D_.xV().fallAgentFailedRespN++,this.D_.FV().fallAgentFailedRespN++,this.D_.xV().reqN--,this.D_.FV().reqN--;else{var n;0==t.ZR.WR&&(this.D_.xV().srcOtherRespErrN++,this.D_.FV().srcOtherRespErrN++),r||(n=this.Lrt(t))&&t.nS()===i.af.cf&&(this.D_.GV(n).srcOtherRespErrN++,this.D_.VV(n).srcOtherRespErrN++),this.Hrt(t,e)}}},h.prototype.B3=function(t,e){var r=t.nS()==i.af.cf,s=this.Lrt(t);if(e.h4==o.RequestType.xR)this.D_.FV().respP2pN++,this.D_.xV().respP2pN++,r&&s&&(this.D_.GV(s).respP2pN++,this.D_.VV(s).respP2pN++);else if(e.h4==o.RequestType.UR)this.D_.FV().respFallbackN++,this.D_.xV().respFallbackN++,r&&s&&(this.D_.GV(s).respFallbackN++,this.D_.VV(s).respFallbackN++);else if(e.h4==o.RequestType.LR){this.D_.FV().lCacheRespN++,this.D_.xV().lCacheRespN++;var a=n.Framework.T()?e.length:t.dS.byteLength;this.D_.FV().lCacheRespQt+=a,this.D_.xV().lCacheRespQt+=a,r&&s&&(this.D_.GV(s).lCacheRespN++,this.D_.VV(s).lCacheRespN++,this.D_.GV(s).lCacheRespQt+=a,this.D_.VV(s).lCacheRespQt+=a)}},h.prototype.i5=function(t,e){var r=t.nS()!=i.af.ff;(this.cQ||r)&&this.Hrt(t,e);var n=new hive.snapshots.PartnerMetrics;n.rateReceived=t.partner.nP(),this.D_.x_.hV.set(t.partner.reportingGuid,n)},h.prototype.z3=function(t){if(0!=t.MS&&(this.D_.xV().p2pSubRespErrN++,this.D_.FV().p2pSubRespErrN++,t.nS()==i.af.cf)){var e=this.Lrt(t);e&&(this.D_.GV(e).p2pSubRespErrN++,this.D_.VV(e).p2pSubRespErrN++)}},h.prototype.Rit=function(t){if(this.D_.xV().p2pSubRespExpN++,this.D_.FV().p2pSubRespExpN++,t.nS()==i.af.cf){var e=this.Lrt(t);e&&(this.D_.GV(e).p2pSubRespExpN++,this.D_.VV(e).p2pSubRespExpN++)}},h.prototype.Urt=function(t,e){var r=t.ZR.VR,n=t.ZR.WR,s=t.ZR.BR,o=t.ZR.qR,l=t.ZR.QR;if(t.nS()!=i.af.lf){if(t.ZR.GR&&o&&o<r){var u=o/r;e.p2pSubRespPartN+=u,this.MU(t.type)||(e.p2pAgenTrafficFailureQt+=r-s)}if(0!=l&&(l==r&&e.lCacheRespN++,e.lCacheRespQt+=t.ZR.QR),0!=s)if(s==r&&(this.MU(t.type)&&e.respP2pN++,e.p2pSubRespN++),e.p2pSubReqQt+=r,e.p2pSubRespQt+=s,e.p2pAgenTrafficSuccessQt+=t.ZR.p2pAgenTrafficSuccessQt,e.p2pDirectQt+=s,t.partner.zD.peerInfo.type==a.ac.cc)e.p2pUdpbQt+=s,e.p2pNatQt+=s;else{var c=this.z_.WD();c&&0<c&&(null!=t.c5?c===t.c5.internalAs&&(e.p2pNatQt+=s):this.logger.warn("Missing partner info"))}}if(0!=n){if(this.Frt(t.type)&&(e.srcOtherReqQt+=t.ZR.WR),n==r)this.Frt(t.type)?(e.srcOtherRespN++,e.srcOtherRespQt+=t.ZR.WR,e.srcOtherOverQt+=t.ZR.WR,e.fallAgentRespN++):e.respFallbackN++,e.srcRespN++;else{e.srcRespErrN++;var h=n/(s+n);e.respFallbackN=h,e.respP2pN=1-h,this.Frt(t.type)&&(e.srcOtherRespErrN++,e.srcOtherRespQt+=t.ZR.WR,e.srcOtherOverQt+=t.ZR.WR,e.fallAgenTrafficFailureQt+=t.ZR.WR)}e.srcReqQt+=t.ZR.WR,e.srcRespQt+=t.ZR.WR,e.srcOverQt+=t.ZR.WR,this.Frt(t.type)&&(e.fallAgenTrafficSuccessQt+=t.ZR.YR)}},h.prototype.Lrt=function(t){var e=null;if(t.rS instanceof s.SA){var r=t.rS;r.getQualityLevel()&&(e=r.getQualityLevel())}return e},h.prototype.MU=function(t){return t!=o.RequestType.xR&&t!=o.RequestType.UR},h.prototype.Frt=function(t){return!this.MU(t)},h.prototype.w3=function(){this.xrt()},h.prototype.l3=function(){n.Framework.clearInterval(this.Grt),this.Grt=null},h.prototype.xrt=function(){var t=this;null==this.Grt&&(this.Grt=n.Framework.setInterval((function(){t.D_.HV=t.z_.YD(),t.D_.LV=t.z_.WD(),t.D_.UV=t.z_.getPublicIp(),t.D_.isVpn=t.z_.getIsVpn()}),u.Ko.nf.Na))},h);function h(){this.cQ=!0===l.HiveConfig.Stats.AudioAccounting,this.Grt=null}e.mU=c},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.D2=void 0;var s,o=r(121),a=r(6),l=r(72),u=r(0),c=r(2),h=r(1),p=r(53),f=(i(d,s=o.Fz),d.prototype.init=function(t){s.prototype.init.call(this,t),this.y3=t.y3},d.prototype.Gz=function(t,e){try{return e.sort(l.IF._F),e.slice(0,t)}catch(t){return h.ErrorMonitor.getInstance().logError("Error selecting partners to remove",this._rt,c.Wt.xn,t),[]}},d.prototype.Vz=function(t,e,r,n){try{var i=n.filter((function(t){return e.every((function(e){return e.guid!=t.peerInfo.guid}))&&-1==r.indexOf(t.peerInfo.guid)}));if(0<i.length){this.y3.Vrt(),this.y3.Brt(!0);var s=[],o=0;for(i.forEach((function(t){o+=t.l6(),t.l6()}));0<i.length&&s.length<t;)for(var l=u.Framework.random()*o,f=0,d=0;d<i.length;d++){var g=i[d];if(f<=l&&l<=f+g.l6()){s.push(g),o-=g.l6(),i.splice(d,1);break}f+=g.l6()}return a.Ko.ef.Ma&&(i.sort((function(t,e){return e.l6()-t.l6()})),p.CM.DM(null,null,"local_score",this.z_.getReportingGuid(),[[i.length],s.map((function(t){return t.l6()})),i.reduce((function(t,e){return 0<e.l6()&&t.push(e.l6()),t}),[])],6)),s}return[]}catch(t){return h.ErrorMonitor.getInstance().logError("Error selecting partners to add",this._rt,c.Wt.Gn,t),[]}},d);function d(){var t=s.call(this)||this;return t._rt="[Score Partner Selection] ",t.type="Locality",t}e.D2=f},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.q2=void 0,r(28);var n=r(6),i=(s.prototype.init=function(t){this.z_=t.z_},s.prototype.Vrt=function(){},s.prototype.qrt=function(t,e){var r=0,n=t.split("."),i=e.split(".");if(4==n.length&&4==i.length)for(var s=0;s<n.length&&r==s;)n[s]==i[s]&&r++,s++;return r},s.prototype.Qrt=function(t){var e=this.z_.jB();if(!e)return!1;var r=!1;return t.peerInfo.streams.forEach((function(t){t.qualityLevel===e.id&&(r=!0)})),r},s.prototype.o6=function(t){var e=this.z_.getPrivateIp()?this.z_.getPrivateIp().split(".").slice(0,2).join("."):null,r=this.z_.WD(),i=this.z_.getPublicIp(),s=this.z_.YD(),o=!1,a=0;if(0<s&&s===t.peerInfo.externalAs&&(a+=n.Ko.hf.Da,o=!0,0==r&&(a+=n.Ko.hf.Pa)),i&&t.peerInfo.publicIpString){var l=this.qrt(i,t.peerInfo.publicIpString);a+=l,4===l&&(o=!0)}o&&0<r&&r===t.peerInfo.internalAs&&(a+=n.Ko.hf.Pa),o&&t.peerInfo.privateIpString&&t.peerInfo.privateIpString.startsWith(e)&&(a+=n.Ko.hf.La),this.Qrt(t)&&(a+=n.Ko.hf.Ha),a/=n.Ko.hf.Ua,t.v6(a)},s.prototype.Brt=function(t){void 0===t&&(t=!1)},s);function s(){}e.q2=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.O2=void 0;var n=r(5);r(254);var i=r(0),s=r(1),o=r(2),a=r(16),l=r(4),u=(c.prototype.init=function(t){this.logger=i.Framework.resolve(i.Framework.v.p).log(t.sessionId),this.z_=t.z_},c.prototype.Wrt=function(){var t=this;this.client&&this.client.h_()?this.Yrt().then((function(e){t.logger.debug(t.loggerId+"Peer Locality Info constructed with privateip "+e.networkInfo.privateIp);var r=null;try{r=t._q.Th(e,"LOCALITY_INFO",0)}catch(e){s.ErrorMonitor.getInstance().logError("Error serializing locality info update",t.loggerId,o.Et.ue,e)}if(r){var n=new a.pl(HiveStreamingServices.B0,0,r),i=t.client.h_().send(n);i.then((function(){return t.logger.info("LOCALITY INFO UPDATE SENT")})),i.fail((function(e){s.ErrorMonitor.getInstance().logError("Error sending locality update",t.loggerId,o.Et.Kr,e)}))}})):s.ErrorMonitor.getInstance().logError("Error sending locality update because of missing connection",this.loggerId,o.Et.ns)},c.prototype.Yrt=function(){var t=this,e=n.defer(),r=new PeerLocalityInfo;r.agentId=this.z_.getReportingGuid();var i=new CustomerInfo;i.partnerId=this.z_.eP().LI(),i.customerId=this.z_.eP().HI(),r.customerInfo=i;var a=new NetworkInfo;return this.WI.getConnectivityInfo().then((function(e){var r=e.getNetworkChanged().getPrivateIp();t.z_.dq(r)})).fail((function(e){s.ErrorMonitor.getInstance().logError("Error getting connectivity info",t.loggerId,o.Et.qr,e)})).finally((function(){""!=t.z_.getPublicIp()&&(a.publicIp=t.z_.getPublicIp()),""!=t.z_.getPrivateIp()&&(a.privateIp=t.z_.getPrivateIp()),r.networkInfo=a,e.resolve(r)})),e.promise},c.prototype.$I=function(t){this.Wrt()},c);function c(){this.loggerId="[LocalityServiceClient] ",this.WI=i.Framework.resolve(i.Framework.v.XI),this._q=new l.oh,i.Framework.T()||(this.client=i.Framework.resolve(i.Framework.v.c_))}e.O2=u},function(t,e,r){var n=r(20),i=window.CustomerInfo=function(t){this.partnerId=null,this.customerId=null,t&&(void 0!==t.partnerId&&null!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&null!==t.customerId&&(this.customerId=t.customerId))};i.prototype={},i.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=e.ftype,i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.partnerId=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRING?this.customerId=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},i.prototype.write=function(t){t.FE("CustomerInfo"),null!==this.partnerId&&void 0!==this.partnerId&&(t.xE("partnerId",n.Type.STRING,1),t.GE(this.partnerId),t.VE()),null!==this.customerId&&void 0!==this.customerId&&(t.xE("customerId",n.Type.STRING,2),t.GE(this.customerId),t.VE()),t.qE(),t.QE()};var s=window.NetworkInfo=function(t){this.privateIp=null,this.publicIp=null,t&&(void 0!==t.privateIp&&null!==t.privateIp&&(this.privateIp=t.privateIp),void 0!==t.publicIp&&null!==t.publicIp&&(this.publicIp=t.publicIp))};s.prototype={},s.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=e.ftype,i=e.fid;if(r==n.Type.STOP)break;switch(i){case 1:r==n.Type.STRING?this.privateIp=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRING?this.publicIp=t.DE().value:t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},s.prototype.write=function(t){t.FE("NetworkInfo"),null!==this.privateIp&&void 0!==this.privateIp&&(t.xE("privateIp",n.Type.STRING,1),t.GE(this.privateIp),t.VE()),null!==this.publicIp&&void 0!==this.publicIp&&(t.xE("publicIp",n.Type.STRING,2),t.GE(this.publicIp),t.VE()),t.qE(),t.QE()};var o=window.PeerLocalityInfo=function(t){this.agentId=null,this.customerInfo=null,this.networkInfo=null,t&&(void 0!==t.agentId&&null!==t.agentId&&(this.agentId=t.agentId),void 0!==t.customerInfo&&null!==t.customerInfo&&(this.customerInfo=new i(t.customerInfo)),void 0!==t.networkInfo&&null!==t.networkInfo&&(this.networkInfo=new s(t.networkInfo)))};o.prototype={},o.prototype.read=function(t){for(t.zw();;){var e=t.ME(),r=e.ftype,o=e.fid;if(r==n.Type.STOP)break;switch(o){case 1:r==n.Type.STRING?this.agentId=t.DE().value:t.PE(r);break;case 2:r==n.Type.STRUCT?(this.customerInfo=new i,this.customerInfo.read(t)):t.PE(r);break;case 3:r==n.Type.STRUCT?(this.networkInfo=new s,this.networkInfo.read(t)):t.PE(r);break;default:t.PE(r)}t.HE()}t.UE()},o.prototype.write=function(t){t.FE("PeerLocalityInfo"),null!==this.agentId&&void 0!==this.agentId&&(t.xE("agentId",n.Type.STRING,1),t.GE(this.agentId),t.VE()),null!==this.customerInfo&&void 0!==this.customerInfo&&(t.xE("customerInfo",n.Type.STRUCT,2),this.customerInfo.write(t),t.VE()),null!==this.networkInfo&&void 0!==this.networkInfo&&(t.xE("networkInfo",n.Type.STRUCT,3),this.networkInfo.write(t),t.VE()),t.qE(),t.QE()}},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.W2=void 0;var n=r(0),i=(s.prototype.startServer=function(t,e){try{this.zrt&&this.zrt.startServer(t,e)}catch(t){this.logger.warn(this.loggerId+t)}},s.prototype.Krt=function(){try{this.zrt&&this.zrt.Krt()}catch(t){this.logger.warn(this.loggerId+t)}},s.prototype.broadcast=function(t,e,r){try{this.zrt&&this.zrt.broadcast(t,e,r)}catch(t){this.logger.warn(this.loggerId+t)}},s.prototype.u3=function(){try{this.zrt&&this.zrt.u3()}catch(t){this.logger.warn(this.loggerId+t)}},s.prototype.$rt=function(t,e){try{this.zrt&&this.zrt.$rt(t,e)}catch(t){this.logger.warn(this.loggerId+t)}},s);function s(){this.loggerId="[ProxyUDPB]",this.logger=n.Framework.resolve(n.Framework.v.p).log(),this.zrt=window.myUdpBroadcaster,this.zrt||this.logger.error(this.loggerId+" helper undefined")}e.W2=i},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Q2=void 0;var n=r(0),i=r(6),s=r(11),o=r(257),a=r(10),l=(u.prototype.init=function(t){this.logger=n.Framework.resolve(n.Framework.v.p).log(t.sessionId),this.zrt=t.T3,this.z_=t.z_},u.prototype.J2=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listeners=t,this.contextId=this.z_.getContextId()},u.prototype.startServer=function(){var t=this;this.logger.debug(this.loggerId+"START UDP BROADCAST SERVER"),this.zrt.startServer(i.Ko.UDPBroadcast.la,(function(e,r){if(-1<t.Xrt){var n=o.Jrt.gl(r);if(n.uuid!=t.guid&&n.streamId==t.contextId&&n.p2pProtocolVersion===i.Ko.Va.iu){t.logger.debug(t.loggerId+"I RECEIVED A MESSAGE FROM "+n.uuid);var a=new s.uc(s.ac.cc,null,n.isLeader);a.guid=n.uuid,a.privateIpString=e,a.rankValue=n.rankValue,t.listeners.forEach((function(t){return t.mW([a],!1)}))}}}))},u.prototype.E3=function(){var t=this;this.logger.info(this.loggerId+"START BROADCAST EVERY "+i.Ko.UDPBroadcast.va),-1!=this.Xrt&&n.Framework.clearInterval(this.Xrt),this.Xrt=n.Framework.setInterval((function(){t.Zrt()}),i.Ko.UDPBroadcast.va),this.Zrt()},u.prototype.u3=function(){-1!=this.Xrt&&n.Framework.clearInterval(this.Xrt)},u.prototype.Zrt=function(){var t=new o.Jrt(this.contextId,this.z_.getId(),this.z_.Hq(),this.z_.xD(),i.Ko.Va.iu);this.logger.info(this.loggerId+"BROADCAST MESSAGE contextId "+t.streamId+" id "+t.uuid+" udpscore "+t.rankValue+" lan leader "+t.isLeader+" protobufVersion "+t.p2pProtocolVersion),a.HiveConfig.UDPBroadcast.usiz&&(i.Ko.UDPBroadcast.da=a.HiveConfig.UDPBroadcast.usiz),this.zrt.broadcast(i.Ko.UDPBroadcast.la,i.Ko.UDPBroadcast.da,t.Th())},u.prototype.$I=function(t){this.logger.info("UDPDISCOVERY SERVER CONNECTED"),this.tst||(this.guid=t,this.startServer(),this.E3())},u);function u(){this.tst=!1,this.loggerId="[UDPBDiscovery] ",this.Xrt=-1}e.Q2=l},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.Jrt=void 0;var n=(i.prototype.Th=function(){var t={streamId:this.streamId,uuid:this.uuid,rankValue:this.rankValue,isLeader:this.isLeader,p2pProtocolVersion:this.p2pProtocolVersion};return JSON.stringify(t,this.ist)},i.prototype.ist=function(t,e){if(null!==e)return e},i.gl=function(t){var e=t,r=JSON.parse(e);return new i(r.streamId,r.uuid,r.rankValue,r.isLeader,r.p2pProtocolVersion)},i);function i(t,e,r,n,i){this.streamId=t,this.uuid=e,this.rankValue=r,this.isLeader=n,this.p2pProtocolVersion=i}e.Jrt=n},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.HiveJSOptions=void 0;var s,o=r(26),a=(i(l,s=o.HiveTechOptions),l);function l(){var t=null!==s&&s.apply(this,arguments)||this;return t.minVersion="3.0.0",t.renderStatsCallback=function(t){},t.requestCache={},t.maximumTrimming=void 0,t}e.HiveJSOptions=a},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.hU=void 0;var s,o=r(4),a=r(71),l=r(1),u=r(34),c=r(108),h=(i(p,s=a.vU),p.prototype.send=function(){var t=this;this.pluginId||(this.pluginId=u.UA.getInstance().xA()),c.mQ.getInstance().eN(this.pluginId,this.url,(function(e){e.tech.v2(t)}))||(l.ErrorMonitor.getInstance().logError("Failed to initialize session on player request",this.loggerId),this.resolve())},p.prototype.resolve=function(){var t=this,e=new XMLHttpRequest;e.open("GET",this.url),e.onreadystatechange=function(){4===e.readyState&&(t.response=e.responseText,t.responseText=e.responseText,t.readyState=4,t.status=e.status,t.dispatchEvent(o.createEvent(Event,"readystatechange",{currentTarget:t})),t.dispatchEvent(o.createEvent(ProgressEvent,"load",{currentTarget:t})),console.debug("Returned Manifest Request "+t.url))},e.send()},p);function p(){return null!==s&&s.apply(this,arguments)||this}e.hU=h},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.HiveJava=e.nst=void 0;var s=r(5),o=r(50),a=r(261),l=r(0),u=r(51),c=r(23),h=r(22),p=r(9),f=r(35),d=r(31),g=r(45),v=r(1),m=r(26),y=r(48),b=r(49),E=r(88),w=r(262),A=r(46),S=r(263);e.nst=navigator;var T,I=(i(P,T=b.HiveSessionInternal),P);function P(){return null!==T&&T.apply(this,arguments)||this}var k=(R.prototype.getName=function(){return R.XA},R.prototype.getVersion=function(){return this.version},R.prototype.needsReportingInstance=function(){return!1},R.prototype.isReady=function(){var t=this;if(this.plugin.getInitStepTimers().start([h.$O.uI,h.$O.aI]),null==this.rst||1e4<Date.now()-this.sst){var e=new o.UI;e.FI(navigator.userAgent);var r=e.Vj();if("IE"===r.name&&r.version&&parseInt(r.version)<10)return s.reject(new d.HiveTechError(d.bA.NOT_READY,"Internet Explorer < v.10 not supported"));this.est=Date.now(),this.hst=0;var n="//"+A.mR.Oj+":"+this.plugin.options().monitorPort+"/version.json";this.logger().debug(this.id()+"verifying Hive Client version"),this.rst=p.zf(n).then((function(e){var r=JSON.parse(e);return t.state=r.state,t.version=r.version,"ready"===t.state?"developer"===t.version||t.version>=t.options_.minVersion?(t.hst=Date.now(),t.logger().debug(t.id()+"Hive Client ready - version "+t.version+" ["+(t.hst-t.est)+"]"),"ready"):(v.ErrorMonitor.getInstance().logError("Client version requirement not satisfied",t.id(),{version:t.version,minVersion:t.options_.minVersion}),t.plugin.addTechEvent(new h.QO(null,2)),s.reject(new d.HiveTechError(d.bA.VERSION_ERROR,"version "+t.version))):(t.plugin.getInitStepTimers().stop(h.$O.uI,!0),v.ErrorMonitor.getInstance().logError("Cannot check version: client state not ready",t.id(),{state:t.state}),t.plugin.addTechEvent(new h.QO(null,1)),t.hst=Date.now(),t.logger().debug("[Timing] Hive Client not ready",t.hst-t.est),s.reject(new d.HiveTechError(d.bA.NOT_READY,"state "+t.state)))}),(function(e){var r="Client not reachable";return null!=e&&null!=e.status&&-1!=e.status&&(r="Client check returned error"),500===e.status?(t.plugin.getInitStepTimers().stop(h.$O.uI,!0),v.ErrorMonitor.getInstance().logError(r,t.id(),{error:e}),t.plugin.addTechEvent(new h.QO(null,1)),s.reject(new d.HiveTechError(d.bA.PLUGIN_ERROR,r))):(t.plugin.getInitStepTimers().stop(h.$O.aI,!0),v.ErrorMonitor.getInstance().logError(r,t.id(),null!=e&&null!=e.status&&-1!=e.status?{status:e.status}:void 0),t.plugin.addTechEvent(new h.QO(null,0)),s.reject(new d.HiveTechError(d.bA.NOT_READY,r)))})).catch((function(e){if(e instanceof d.HiveTechError)return s.reject(e);var r="Error fetching Hive Client version";return v.ErrorMonitor.getInstance().logError(r,t.id(),e),s.reject(new d.HiveTechError(d.bA.NOT_READY,r))})),this.sst=Date.now()}return this.rst},R.prototype.initSession=function(t,e){var r=this,n=this.plugin.options(),i=n.readyCheckTimeout,o=n.macReadyCheckTimeout,a=this.ost.getTimeout(i,o,this.logger());return(a&&0<a?this.isReady().timeout(a,"Client Ready check timed out after "+a+"ms"):this.isReady()).then((function(){return r.ust(t).then((function(t){return r.logger().debug(r.id()+" Session "+t.id+" registered"),f.UA.getInstance().register(r.plugin,t),t})).catch((function(t){return r.logger().warn(r.id()+" Session registered error",t),s.reject(t)}))})).catch((function(t){return t instanceof Error&&(t=new d.HiveTechError(d.bA.TIMEOUT_ERROR,t.message)),s.reject(t)}))},R.prototype.getInitSessionTimeout=function(){return this.options_.initTimeout},R.prototype.isActive=function(t,e){return-1<(null==t?void 0:t.indexOf(e.ast))},R.prototype.closeSession=function(t,r){var n=this;this.logger().debug(this.id()+"Stopping session "+t.id+" [complete close:"+r+"]");var i="//"+A.mR.Oj+":"+this.plugin.options().playerPort+"/session?action=stop";i+="&currentSession="+t.id,r&&(i+="&completeStop=true"),r&&e.nst.sendBeacon?(e.nst.sendBeacon(i),this.logger().debug(this.id()+"session stopped ["+t.id+"][beacon]")):p.zf(i,null,!r).then((function(){n.logger().debug(n.id()+"session stopped ["+t.id+"]"+(r?"[sync]":""))}),(function(e){n.logger().warn(n.id()+"session close error ["+t.id+"]"+(r?"[sync]":""),e)}))},R.prototype.onStateChange=function(t,e){this.fst=e?c.T_.IDLE:c.T_.m_,this.logger().notice("[HiveComm] client state: "+c.T_[this.fst])},R.prototype.handleStats=function(t,e){if(this.fst==c.T_.IDLE)return s.resolve(!0);var r="playing-point="+e.playingPoint;r+="&buffer-length="+e.bufferLength,r+="&total-buffering="+e.totalBuffering,r+="&width="+e.width,r+="&height="+e.height,r+="&fullscreen="+e.fullscreen;var n=t.ast+"stats?"+r;return this.logger().trace(n),p.zf(n)},R.prototype.handleEvent=function(t,e,r){var n=this;if(!(e!==h.PlayerEvents.VISIBLE&&e!==h.PlayerEvents.HIDDEN||this.version&&("developer"===this.version||"2017"<=this.version)))return s.resolve(!0);var i=t.ast+"player-event?type="+h.PlayerEvents[e];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(i+="&"+o+"="+r[o]);return this.logger().debug(this.id()+"event "+h.PlayerEvents[e],null!=r?r:""),p.zf(i).fail((function(t){return n.logger().warn(n.id()+"error sending feedback event to Hive Client",t),s.reject(t)}))},R.prototype.handleTechEvent=function(t,e){return s.resolve(!0)},R.prototype.updateIntegrationInfo=function(t){return this.cst()?(this.logger().warn("Player info not supported in this Java client version"),s.resolve(!0)):"developer"===this.getVersion()||"2020.1"<this.getVersion()?this.vst(t):this.dst(t)},R.prototype.vst=function(t){var e=this,r=t.ast+"player-info",n=this.plugin.getIntegrationInfo();return p.Wf(r,JSON.stringify(n)).fail((function(t){return e.logger().debug(e.id()+"error sending player Info to Hive Client",t),s.reject(t)}))},R.prototype.dst=function(t){var e=this,r="comm-version="+this.plugin.getCoreVersion();r+="&plugin-name="+this.plugin.getPluginName(),r+="&plugin-version="+this.plugin.getPluginVersion(),r+="&player-tech="+this.plugin.getPlayerTech(),r+="&player-version="+this.plugin.getPlayerVersion(),this.plugin.getTelemetryId()&&(r+="&telemetry-id="+this.plugin.getTelemetryId());var n=t.ast+"player-info?"+r;return p.zf(n).fail((function(t){return e.logger().debug(e.id()+"error sending player Info to Hive Client",t),s.reject(t)}))},R.prototype.onError=function(t){var e=!0;if(null!=this.options_.onError)try{!1===this.options_.onError(t)&&(e=!1)}catch(t){v.ErrorMonitor.getInstance().logError("Exception in user-defined onError callback",this.id(),t)}return e},R.prototype.onTechTimeout=function(t,e,r){var n={isReadyIn:this.est,isReadyOut:this.hst,leaseIn:this.Est,leaseOut:this.wst,resolveIn:this.pst,resolveOut:this.gst};void 0!==e&&null!=e&&(n.sessionId=e.id),void 0!==r&&(n.total=r);var i=JSON.parse(JSON.stringify(n));v.ErrorMonitor.getInstance().logError(t.message,this.id(),i),this.plugin.addTechEvent(new h.QO(null,5,n)),this.bst()},R.prototype.onActiveSession=function(t){if(this.updateIntegrationInfo(t),E.SessionStorageUtil.setItem("hiveActiveSessionId",t.id),null!=this.options_.onActiveSession)try{this.options_.onActiveSession(t.toHiveSession())}catch(t){v.ErrorMonitor.getInstance().logError("Exception in user-defined onActiveSession callback",this.id(),t)}},R.prototype.setPlugin=function(t){this.plugin=t},R.prototype.id=function(){return"["+R.XA+"] "},R.prototype.yst=function(t){null!=t[R.XA]&&p.updateOptions(t[R.XA],this.options_)},R.prototype.ust=function(t){var e=this,r=(new Date).getTime();return this.Tst(t).then((function(n){return n?e.mst(t,n,r):e.resolveTicketPromise(t).then((function(n){return e.mst(t,n,r)}))}))},R.prototype.Tst=function(t){var e=this;if(this.Est=Date.now(),this.plugin.options().useSessionCheck){var r="//"+A.mR.Oj+":"+this.plugin.options().playerPort+"/session?&action=check";r+="&hivePluginId="+this.plugin.getPluginId(),r+="&callback="+encodeURIComponent(t);var n=E.SessionStorageUtil.getItem("hiveActiveSessionId");return E.SessionStorageUtil.removeItem("hiveActiveSessionId"),n&&(r+="&currentSession="+n),this.Ost(),this.Ist(r).then((function(n){return e.wst=Date.now(),n?e._st(n,r,t,e.Est):(e.logger().debug(e.id()+"session allowed ["+(e.wst-e.Est)+"]"),!1)}),(function(t){if(400==t.status)return e.Rst("bad request","error resolving ticket",t);if(401==t.status)return e.Rst("unauthorized","error verifying the ticket",t);if(403!=t.status)return 404==t.status?(e.logger().debug(e.id()+"installed version does not support active session check"),e.wst=Date.now(),!1):(v.ErrorMonitor.getInstance().logError("unhandled error from Java",e.id(),{error:t.status}),e.plugin.addTechEvent(new h.QO(null,4)),s.reject(new d.HiveTechError(d.bA.PLUGIN_ERROR,t)));var r=R.Sst(t,void 0,"session"),n=r?{Ast:r}:void 0;return v.ErrorMonitor.getInstance().logError("reports another active session",e.id(),n),e.plugin.addTechEvent(new h.QO(null,3,n)),s.reject(new d.HiveTechError(d.bA.SESSION_ERROR,"another active session"+(n?" ["+n.Ast+"]":"")))})).catch((function(t){return t instanceof d.HiveTechError?s.reject(t):(v.ErrorMonitor.getInstance().logError("unhandled error on requestLeaseDirect",e.id(),{error:t}),e.plugin.addTechEvent(new h.QO(null,4)),e.wst=Date.now(),e.plugin.logger().warn("[Timing] unhandeled session request ",e.wst-e.Est),s.reject(new d.HiveTechError(d.bA.PLUGIN_ERROR,t)))})).finally((function(){clearTimeout(e.Nst)}))}return this.logger().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),s.resolve(!1)},R.prototype.Ist=function(t){var e;if(this.plugin.options().testId){if(!("developer"!==this.version||this.version<A.mR.Aj))return p.zf(t,void 0,!0,((e={})[g.Wc.mj]=this.plugin.options().testId,e));this.logger().warn(this.id()+"The Hive Client Version installed does not support the test id in its generated metrics")}return p.zf(t)},R.prototype.Rst=function(t,e,r){var n=R.Sst(r,t);return v.ErrorMonitor.getInstance().logError(e,this.id()),this.gst=Date.now(),s.reject(new d.HiveTechError(d.bA.TICKET_ERROR,n))},R.Sst=function(t,e,r){void 0===r&&(r="status");var n=e;if(t.body)try{n=JSON.parse(t.body)[r]}catch(t){}return n},R.prototype.resolveTicketPromise=function(t){var e=this;this.pst=Date.now(),this.logger().debug(this.id()+"resolving ticket: "+t);var r=this.Cst(t);return p.zf(r,"application/json").then((function(n){return e._st(n,r,t,e.pst)}),(function(r){return e.kst(r,t)})).catch((function(t){return v.ErrorMonitor.getInstance().logError("error parsing ticket response",e.id(),t),s.reject(new d.HiveTechError(d.bA.PLUGIN_ERROR,t))}))},R.prototype.kst=function(t,e){return v.ErrorMonitor.getInstance().logError("error resolving ticket",this.id(),{ticket:e,detailedError:t}),s.reject(new d.HiveTechError(d.bA.TICKET_ERROR,t))},R.prototype._st=function(t,e,r,n){var i=JSON.parse(t),s=a.jst((0===e.indexOf("//")?location.protocol:"")+e,i.location);return i.version&&!this.version&&(this.version=i.version),this.gst=Date.now(),this.logger().debug(this.id()+"resolved ticket "+r+" -> "+s+" ["+(this.gst-n)+"]"),s},R.prototype.mst=function(t,e,r){var n=this.VH(t,e);if(null==n)throw new d.HiveTechError(d.bA.TICKET_ERROR,"error generating session");var i=(new Date).getTime()-r;return i>=this.options_.warnSlowRespTimeout&&this.onTechTimeout(new d.HiveTechError(d.bA.TIMEOUT_ERROR,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),n,i),y.HiveRequestFactory.register(this),n},R.prototype.VH=function(t,e){var r=u.Ticket.nN(t),n=new I(t,r,e,null,this.plugin.options().onSessionStateChange);n.SDN=!0;var i=A.mR.Rj.exec(n.manifest);return null!=i?(n.ast=i[1],n.id=i[5],n):null},R.prototype.Cst=function(t){var e=-1==t.indexOf("?")?"?":"&";return this.cst()?p.$f(A.mR._j,A.mR.Oj,this.plugin.options().playerPort,t):p.$f(A.mR.Ij,A.mR.Oj,this.plugin.options().playerPort,t,e,this.plugin.getPluginId4Java())},R.prototype.Ost=function(){var t=this;this.Nst&&clearTimeout(this.Nst),this.Nst=setTimeout((function(){v.ErrorMonitor.getInstance().logError("The Lease Request is taking more than "+t.options_.warnSlowRespTimeout+" secs",t.id())}),this.options_.warnSlowRespTimeout)},R.prototype.bst=function(){this.Est=0,this.wst=0,this.pst=0,this.gst=0},R.prototype.logger=function(){return this.plugin.logger()},R.prototype.resetTech=function(){this.bst()},R.prototype.cst=function(){return this.options_.supportLegacyClient&&(!this.version||this.version.substr(0,4)<"2016")},R.prototype.getPluginId=function(){return this.plugin.getPluginId()},R.prototype.createManifestRequest=function(t){var e=this;this.logger().debug(this.id()+" Creating manifest URL");var r=l.Framework.resolve(l.Framework.v.iC);t=t||f.UA.getInstance().xA();var n=r.open;return r.open=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];i[0];for(var o=i[1],a=f.UA.getInstance().VA(t),l=f.UA.getInstance().GA(t),u=0,c=a;u<c.length;u++)c[u].manifest===o&&(e.logger().debug(e.id()+" Setting manifest URL: "+o),l.setManifestUrl(o));n.apply(r,i)},r},R.prototype.createRequest=function(t){return new XMLHttpRequest},R.prototype.supportsXhrInterception=function(){return!1},R.XA="HiveJava",R);function R(t,e){this.sst=0,this.plugin=t,this.options_=new S.HiveJavaOptions,this.ost=new w.TimeoutResolver,this.yst(e),p.parseParameterOptions(window.location.href,new m.UrlConfigurableOptions,this.options_)}e.HiveJava=k},function(t,e,r){var n,i,s,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={jst:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.Mst)return t;var n=a.Dst(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=a.Jd(n.path),a.Pst(n)}var s=a.Dst(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return r.Mst?(s.path=a.Jd(s.path),a.Pst(s)):e;var o=a.Dst(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.Lst&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.Lst=l[1],o.path=l[2]}o.Lst&&!o.path&&(o.path="/");var u={scheme:o.scheme,Lst:s.Lst,path:null,Hst:s.Hst,query:s.query,lv:s.lv};if(!s.Lst&&(u.Lst=o.Lst,"/"!==s.path[0]))if(s.path){var c=o.path,h=c.substring(0,c.lastIndexOf("/")+1)+s.path;u.path=a.Jd(h)}else u.path=o.path,s.Hst||(u.Hst=o.Hst,s.query||(u.query=o.query));return null===u.path&&(u.path=r.Mst?a.Jd(s.path):s.path),a.Pst(u)},Dst:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",Lst:e[2]||"",path:e[3]||"",Hst:e[4]||"",query:e[5]||"",lv:e[6]||""}:null},Jd:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},Pst:function(t){return t.scheme+t.Lst+t.path+t.Hst+t.query+t.lv}},t.exports=a},function(t,e,r){"use strict";Object.defineProperty(e,"s",{value:!0}),e.TimeoutResolver=void 0;var n=(i.prototype.getTimeout=function(t,e,r){return t=isNaN(t)?(r.debug("readyCheckTimeout is "+t+". Setting it to 0"),0):Number(t),e=isNaN(e)?(r.debug("macReadyCheckTimeout is "+e+". Setting it to 0"),0):Number(e),window.navigator.platform.match(/Mac/gi)&&-1<e?e:t},i);function i(){}e.TimeoutResolver=n},function(t,e,r){"use strict";var n,i=this&&this.Ue||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"s",{value:!0}),e.HiveJavaOptions=void 0;var s,o=r(26),a=r(46),l=(i(u,s=o.HiveTechOptions),u);function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.minVersion=a.mR.Sj,t.initTimeout=6e4,t.warnSlowRespTimeout=5e3,t.supportLegacyClient=!1,t}e.HiveJavaOptions=l}],g={},h.Xg=f,h.c=g,h.d=function(t,e,r){h.Ust(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},h.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"s",{value:!0})},h.t=function(t,e){if(1&e&&(t=h(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.s)return t;var r=Object.create(null);if(h.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)h.d(r,n,function(e){return t[e]}.bind(null,n));return r},h.n=function(t){var e=t&&t.s?function(){return t.default}:function(){return t};return h.d(e,"a",e),e},h.Ust=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},h.Sb="",h(h.eb=123);function h(t){if(g[t])return g[t].exports;var e=g[t]={Fst:t,xst:!1,exports:{}};return f[t].call(e.exports,e,e.exports,h),e.xst=!0,e.exports}var f,g},module.exports=i()},5158:function(module,exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),"GlobalCTX"in this||(module.exports?(this.GlobalCTX=__webpack_require__.g,this.ExportCTX=module.exports,this.GlobalCTX.Bundle=this.Bundle,delete this.Bundle):this.GlobalCTX=this.ExportCTX=window);{let t=this.GlobalCTX.Util||(this.GlobalCTX.Util={});t.pageProtocol=this.GlobalCTX.location&&"http:"===this.GlobalCTX.location.protocol?"http:":"https:",t.currentScriptF=function(){let e={el:null,path:"",name:"",params:""};if(document.currentScript&&document.currentScript.src)e.el=document.currentScript;else try{throw new SyntaxError("capture")}catch(t){var r=/[^\s]+:[0-9]+\)?(?:\n|$)/g,n=r.exec(t.stack);if(n&&(n=r.exec(t.stack)),r=(n=n?n[0].replace(/^[^A-Za-z]/,"").replace(/\\/g,"/"):"").match(/\/([^/?\n]+)(?:\?([^\n]*))?\n?$/)){let t,i=r[2]?r[1]:r[1].replace(/(:[0-9]+:[0-9]+\)?)$/,"");for(t=document.scripts.length-1;0<=t;t--)if((n=(r=document.scripts[t]).getAttribute("extern")||r.src)&&0<=n.indexOf(i)){e.el=r;break}}}return e.el&&(e.path=e.el.src,(n=e.path&&e.path.match(/([^?#]*)\/([^/?#]+)(?:\?([^#]*))?/))&&(e.name=n[2],e.path=n[1]+"/")||(e.name=e.path,e.path=""),e.params=n&&n[3]?n[3]:0==e.path.indexOf("blob:")?"blob":"",e.params&&t.queryToObject&&(e.params=t.queryToObject(e.params))),e},t.currentScript=t.currentScriptF()}var k,a,f,m,c,e;(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["rampapi.min.js"]="$Id$ $Change$ $Revision: v3.2.4 (g5feeb5a6) $ $DateTime: 20220921184051 $",this.GlobalCTX.APIBundle="rampapi.min.js v3.2.4 (g5feeb5a6) 20220921184051",function(k){var m={1:[function(t,e,r){e.exports=function(t,e){for(var r=Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(t){if(s)if(s=!1,t)o(t);else{for(var e=Array(arguments.length-1),r=0;r<e.length;)e[r++]=arguments[r];i.apply(null,e)}};try{t.apply(e||null,r)}catch(t){s&&(s=!1,o(t))}}))}},{}],2:[function(t,e,r){r.length=function(t){var e=t.length;if(!e)return 0;for(var r=0;1<--e%4&&"="==(t[0|e]||"");)++r;return Math.ceil(3*t.length)/4-r};var n=Array(64),i=Array(123);for(t=0;64>t;)i[n[t]=26>t?t+65:52>t?t+71:62>t?t-4:t-59|43]=t++;r.encode=function(t,e,r){for(var i,s=null,o=[],a=0,l=0;e<r;){var u=t[e++];switch(l){case 0:o[a++]=n[u>>2],i=(3&u)<<4,l=1;break;case 1:o[a++]=n[i|u>>4],i=(15&u)<<2,l=2;break;case 2:o[a++]=n[i|u>>6],o[a++]=n[63&u],l=0}8191<a&&((s=s||[]).push(String.fromCharCode.apply(String,o)),a=0)}return l&&(o[a++]=n[i],o[a++]=61,1===l&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.decode=function(t,e,r){for(var n,s=r,o=0,a=0;a<t.length;){var l=t.charCodeAt(a++);if(61==l&&1<o)break;if((l=i[l])===k)throw Error("invalid encoding");switch(o){case 0:n=l,o=1;break;case 1:e[r++]=n<<2|(48&l)>>4,n=l,o=2;break;case 2:e[r++]=(15&n)<<4|(60&l)>>2,n=l,o=3;break;case 3:e[r++]=(3&n)<<6|l,o=0}}if(1===o)throw Error("invalid encoding");return r-s},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},{}],3:[function(t,e,r){function n(){this.t={}}(e.exports=n).prototype.on=function(t,e,r){return(this.t[t]||(this.t[t]=[])).push({fn:e,ctx:r||this}),this},n.prototype.off=function(t,e){if(t===k)this.t={};else if(e===k)this.t[t]=[];else{t=this.t[t];for(var r=0;r<t.length;)t[r].fn===e?t.splice(r,1):++r}return this},n.prototype.emit=function(t){var e=this.t[t];if(e){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<e.length;)e[n].fn.apply(e[n++].ctx,r)}return this}},{}],4:[function(t,e,r){function n(t){function e(t,e,r,n){var i=0>e?1:0;t(0===(e=i?-e:e)?0<1/e?0:2147483648:isNaN(e)?2143289344:34028234663852886e22<e?(i<<31|2139095040)>>>0:11754943508222875e-54>e?(i<<31|Math.round(e/1401298464324817e-60))>>>0:(i<<31|127+(i=Math.floor(Math.log(e)/Math.LN2))<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,r,n)}function r(t,e,r){return e=2*((t=t(e,r))>>31)+1,r=t>>>23&255,t&=8388607,255==r?t?NaN:1/0*e:0==r?1401298464324817e-60*e*t:e*Math.pow(2,r-150)*(8388608+t)}function n(t,e,r){m[0]=t,e[r]=y[0],e[r+1]=y[1],e[r+2]=y[2],e[r+3]=y[3]}function l(t,e,r){m[0]=t,e[r]=y[3],e[r+1]=y[2],e[r+2]=y[1],e[r+3]=y[0]}function u(t,e){return y[0]=t[e],y[1]=t[e+1],y[2]=t[e+2],y[3]=t[e+3],m[0]}function c(t,e){return y[3]=t[e],y[2]=t[e+1],y[1]=t[e+2],y[0]=t[e+3],m[0]}function h(t,e,r,n,i,s){var o,a=0>n?1:0;0===(n=a?-n:n)?(t(0,i,s+e),t(0<1/n?0:2147483648,i,s+r)):isNaN(n)?(t(0,i,s+e),t(2146959360,i,s+r)):17976931348623157e292<n?(t(0,i,s+e),t((a<<31|2146435072)>>>0,i,s+r)):22250738585072014e-324>n?(t((o=n/5e-324)>>>0,i,s+e),t((a<<31|o/4294967296)>>>0,i,s+r)):(t(4503599627370496*(o=n*Math.pow(2,-(n=1024===(n=Math.floor(Math.log(n)/Math.LN2))?1023:n)))>>>0,i,s+e),t((a<<31|n+1023<<20|1048576*o&1048575)>>>0,i,s+r))}function p(t,e,r,n,i){return e=t(n,i+e),i=2*((n=t(n,i+r))>>31)+1,e=4294967296*(1048575&n)+e,2047==(r=n>>>20&2047)?e?NaN:1/0*i:0==r?5e-324*i*e:i*Math.pow(2,r-1075)*(e+4503599627370496)}function f(t,e,r){b[0]=t,e[r]=E[0],e[r+1]=E[1],e[r+2]=E[2],e[r+3]=E[3],e[r+4]=E[4],e[r+5]=E[5],e[r+6]=E[6],e[r+7]=E[7]}function d(t,e,r){b[0]=t,e[r]=E[7],e[r+1]=E[6],e[r+2]=E[5],e[r+3]=E[4],e[r+4]=E[3],e[r+5]=E[2],e[r+6]=E[1],e[r+7]=E[0]}function g(t,e){return E[0]=t[e],E[1]=t[e+1],E[2]=t[e+2],E[3]=t[e+3],E[4]=t[e+4],E[5]=t[e+5],E[6]=t[e+6],E[7]=t[e+7],b[0]}function v(t,e){return E[7]=t[e],E[6]=t[e+1],E[5]=t[e+2],E[4]=t[e+3],E[3]=t[e+4],E[2]=t[e+5],E[1]=t[e+6],E[0]=t[e+7],b[0]}var m,y,b,E,w;return"undefined"!=typeof Float32Array?(m=new Float32Array([-0]),w=128===(y=new Uint8Array(m.buffer))[3],t.writeFloatLE=w?n:l,t.writeFloatBE=w?l:n,t.readFloatLE=w?u:c,t.readFloatBE=w?c:u):(t.writeFloatLE=e.bind(null,i),t.writeFloatBE=e.bind(null,s),t.readFloatLE=r.bind(null,o),t.readFloatBE=r.bind(null,a)),"undefined"!=typeof Float64Array?(b=new Float64Array([-0]),w=128===(E=new Uint8Array(b.buffer))[7],t.writeDoubleLE=w?f:d,t.writeDoubleBE=w?d:f,t.readDoubleLE=w?g:v,t.readDoubleBE=w?v:g):(t.writeDoubleLE=h.bind(null,i,0,4),t.writeDoubleBE=h.bind(null,s,4,0),t.readDoubleLE=p.bind(null,o,0,4),t.readDoubleBE=p.bind(null,a,4,0)),t}function i(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function s(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function a(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}e.exports=n(n)},{}],5:[function(c,a,d){a.exports=function(a){try{var d=eval("require")(a);if(d&&(d.length||Object.keys(d).length))return d}catch(t){}return null}},{}],6:[function(t,e,r){e.exports=function(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(r){return 1>r||i<r?t(r):(n<o+r&&(s=t(n),o=0),r=e.call(s,o,o+=r),7&o&&(o=1+(7|o)),r)}}},{}],7:[function(t,e,r){r.length=function(t){for(var e,r=0,n=0;n<t.length;++n)128>(e=t.charCodeAt(n))?r+=1:2048>e?r+=2:55296==(64512&e)&&56320==(64512&t.charCodeAt(n+1))?(++n,r+=4):r+=3;return r},r.read=function(t,e,r){if(1>r-e)return"";for(var n,i=null,s=[],o=0;e<r;)128>(n=t[e++])?s[o++]=n:191<n&&224>n?s[o++]=(31&n)<<6|63&t[e++]:239<n&&365>n?(n=((7&n)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&t[e++])<<6|63&t[e++],8191<o&&((i=i||[]).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(t,e,r){for(var n,i,s=r,o=0;o<t.length;++o)128>(n=t.charCodeAt(o))?e[r++]=n:(2048>n?e[r++]=n>>6|192:(55296==(64512&n)&&56320==(64512&(i=t.charCodeAt(o+1)))?(++o,e[r++]=(n=65536+((1023&n)<<10)+(1023&i))>>18|240,e[r++]=n>>12&63|128):e[r++]=n>>12|224,e[r++]=n>>6&63|128),e[r++]=63&n|128);return r-s}},{}],8:[function(t,e,r){function n(){i.util.n(),i.Writer.n(i.BufferWriter),i.Reader.n(i.BufferReader)}var i=r;i.build="minimal",i.Writer=t(16),i.BufferWriter=t(17),i.Reader=t(9),i.BufferReader=t(10),i.util=t(15),i.rpc=t(12),i.roots=t(11),i.configure=n,n()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(t,e,r){function n(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function i(t){this.buf=t,this.pos=0,this.len=t.length}function s(){return h.Buffer?function(t){return(i.create=function(t){return h.Buffer.isBuffer(t)?new u(t):d(t)})(t)}:d}function o(){var t=new p(0,0),e=0;if(!(4<this.len-this.pos)){for(;3>e;++e){if(this.pos>=this.len)throw n(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,128>this.buf[this.pos++])return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;4>e;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,128>this.buf[this.pos++])return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return t;if(e=0,4<this.len-this.pos){for(;5>e;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,128>this.buf[this.pos++])return t}else for(;5>e;++e){if(this.pos>=this.len)throw n(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,128>this.buf[this.pos++])return t}throw Error("invalid varint encoding")}function a(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function l(){if(this.pos+8>this.len)throw n(this,8);return new p(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}e.exports=i;var u,c,h=t(15),p=h.LongBits,f=h.utf8,d="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new i(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new i(t);throw Error("illegal buffer")};i.create=s(),i.prototype.i=h.Array.prototype.subarray||h.Array.prototype.slice,i.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++]||(c=(c|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])||(c=(c|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])||(c=(c|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])||(c=(c|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++]))return c;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return c}),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return a(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|a(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var t=h.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},i.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var t=h.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},i.prototype.bytes=function(){var t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw n(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,r):e===r?new this.buf.constructor(0):this.i.call(this.buf,e,r)},i.prototype.string=function(){var t=this.bytes();return f.read(t,0,t.length)},i.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw n(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw n(this)}while(128&this.buf[this.pos++]);return this},i.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},i.n=function(t){u=t,i.create=s(),u.n();var e=h.Long?"toLong":"toNumber";h.merge(i.prototype,{int64:function(){return o.call(this)[e](!1)},uint64:function(){return o.call(this)[e](!0)},sint64:function(){return o.call(this).zzDecode()[e](!1)},fixed64:function(){return l.call(this)[e](!0)},sfixed64:function(){return l.call(this)[e](!1)}})}},{15:15}],10:[function(t,e,r){function n(t){i.call(this,t)}e.exports=n;var i=t(9);(n.prototype=Object.create(i.prototype)).constructor=n;var s=t(15);n.n=function(){s.Buffer&&(n.prototype.i=s.Buffer.prototype.slice)},n.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},n.n()},{15:15,9:9}],11:[function(t,e,r){e.exports={}},{}],12:[function(t,e,r){r.Service=t(13)},{13:13}],13:[function(t,e,r){function n(t,e,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}e.exports=n;var i=t(15);((n.prototype=Object.create(i.EventEmitter.prototype)).constructor=n).prototype.rpcCall=function t(e,r,n,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return i.asPromise(t,a,e,r,n,s);if(!a.rpcImpl)return setTimeout((function(){o(Error("already ended"))}),0),k;try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(t,r){if(t)return a.emit("error",t,e),o(t);if(null===r)return a.end(!0),k;if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return a.emit("error",t,e),o(t)}return a.emit("data",r,e),o(null,r)}))}catch(t){return a.emit("error",t,e),setTimeout((function(){o(t)}),0),k}},n.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(t,e,r){function n(t,e){this.lo=t>>>0,this.hi=e>>>0}e.exports=n;var i=t(15),s=n.zero=new n(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1},n.zeroHash="\0\0\0\0\0\0\0\0",n.fromNumber=function(t){if(0===t)return s;var e=0>t,r=(t=e?-t:t)>>>0;return t=(t-r)/4294967296>>>0,e&&(t=~t>>>0,r=~r>>>0,4294967295<++r&&(r=0,4294967295<++t&&(t=0))),new n(r,t)},n.from=function(t){if("number"==typeof t)return n.fromNumber(t);if(i.isString(t)){if(!i.Long)return n.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new n(t.low>>>0,t.high>>>0):s},n.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0;return t=~this.hi>>>0,-(e+4294967296*(e?t:t+1>>>0))}return this.lo+4294967296*this.hi},n.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,!!t):{low:0|this.lo,high:0|this.hi,unsigned:!!t}};var o=String.prototype.charCodeAt;n.fromHash=function(t){return"\0\0\0\0\0\0\0\0"===t?s:new n((o.call(t,0)|o.call(t,1)<<8|o.call(t,2)<<16|o.call(t,3)<<24)>>>0,(o.call(t,4)|o.call(t,5)<<8|o.call(t,6)<<16|o.call(t,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},n.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},n.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0==r?0==e?16384>t?128>t?1:2:2097152>t?3:4:16384>e?128>e?5:6:2097152>e?7:8:128>r?9:10}},{15:15}],15:[function(t,e,r){function n(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)t[n[i]]!==k&&r||(t[n[i]]=e[n[i]]);return t}function i(t){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&n(this,r)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=t(1),r.base64=t(2),r.EventEmitter=t(3),r.float=t(4),r.inquire=t(5),r.utf8=t(7),r.pool=t(6),r.LongBits=t(14),r.isNode=!!(void 0!==__webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.process&&__webpack_require__.g.process.versions&&__webpack_require__.g.process.versions.node),r.global=r.isNode&&__webpack_require__.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var r=t[e];return null!=r&&t.hasOwnProperty(e)&&("object"!=typeof r||0<(Array.isArray(r)?r:Object.keys(r)).length)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r.r=null,r.u=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r.u(t):new r.Array(t):r.Buffer?r.r(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){return t=r.LongBits.fromHash(t),r.Long?r.Long.fromBits(t.lo,t.hi,e):t.toNumber(!!e)},r.merge=n,r.lcFirst=function(t){return(t[0]||"").toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;-1<r;--r)if(1===e[t[r]]&&this[t[r]]!==k&&null!==this[t[r]])return t[r]}},r.oneOfSetter=function(t){return function(e){for(var r=0;r<t.length;++r)t[r]!==e&&delete this[t[r]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r.n=function(){var t=r.Buffer;t?(r.r=t.from!==Uint8Array.from&&t.from||function(e,r){return new t(e,r)},r.u=t.allocUnsafe||function(e){return new t(e)}):r.r=r.u=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(t,e,r){function n(t,e,r){this.fn=t,this.len=e,this.next=k,this.val=r}function i(){}function s(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function o(){this.len=0,this.tail=this.head=new n(i,0,0),this.states=null}function a(){return f.Buffer?function(){return(o.create=function(){return new p})()}:function(){return new o}}function l(t,e,r){e[r]=255&t}function u(t,e){this.len=t,this.next=k,this.val=e}function c(t,e,r){for(;t.hi;)e[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)e[r++]=127&t.lo|128,t.lo>>>=7;e[r++]=t.lo}function h(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}e.exports=o;var p,f=t(15),d=f.LongBits,g=f.base64,v=f.utf8;o.create=a(),o.alloc=function(t){return new f.Array(t)},f.Array!==Array&&(o.alloc=f.pool(o.alloc,f.Array.prototype.subarray)),o.prototype.s=function(t,e,r){return this.tail=this.tail.next=new n(t,e,r),this.len+=e,this},(u.prototype=Object.create(n.prototype)).fn=function(t,e,r){for(;127<t;)e[r++]=127&t|128,t>>>=7;e[r]=t},o.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new u(128>(t>>>=0)?1:16384>t?2:2097152>t?3:268435456>t?4:5,t)).len,this},o.prototype.int32=function(t){return 0>t?this.s(c,10,d.fromNumber(t)):this.uint32(t)},o.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},o.prototype.int64=o.prototype.uint64=function(t){return t=d.from(t),this.s(c,t.length(),t)},o.prototype.sint64=function(t){return t=d.from(t).zzEncode(),this.s(c,t.length(),t)},o.prototype.bool=function(t){return this.s(l,1,t?1:0)},o.prototype.sfixed32=o.prototype.fixed32=function(t){return this.s(h,4,t>>>0)},o.prototype.sfixed64=o.prototype.fixed64=function(t){return t=d.from(t),this.s(h,4,t.lo).s(h,4,t.hi)},o.prototype.float=function(t){return this.s(f.float.writeFloatLE,4,t)},o.prototype.double=function(t){return this.s(f.float.writeDoubleLE,8,t)};var m=f.Array.prototype.set?function(t,e,r){e.set(t,r)}:function(t,e,r){for(var n=0;n<t.length;++n)e[r+n]=t[n]};o.prototype.bytes=function(t){var e,r=t.length>>>0;return r?(f.isString(t)&&(e=o.alloc(r=g.length(t)),g.decode(t,e,0),t=e),this.uint32(r).s(m,r,t)):this.s(l,1,0)},o.prototype.string=function(t){var e=v.length(t);return e?this.uint32(e).s(v.write,e,t):this.s(l,1,0)},o.prototype.fork=function(){return this.states=new s(this),this.head=this.tail=new n(i,0,0),this.len=0,this},o.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(i,0,0),this.len=0),this},o.prototype.ldelim=function(){var t=this.head,e=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=e,this.len+=r),this},o.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,e,r),r+=t.len,t=t.next;return e},o.n=function(t){p=t,o.create=a(),p.n()}},{15:15}],17:[function(t,e,r){function n(){s.call(this)}function i(t,e,r){40>t.length?o.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}e.exports=n;var s=t(16);(n.prototype=Object.create(s.prototype)).constructor=n;var o=t(15);n.n=function(){n.alloc=o.u,n.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,r){e.set(t,r)}:function(t,e,r){if(t.copy)t.copy(e,r,0,t.length);else for(var n=0;n<t.length;)e[r++]=t[n++]}},n.prototype.bytes=function(t){var e=(t=o.isString(t)?o.r(t,"base64"):t).length>>>0;return this.uint32(e),e&&this.s(n.writeBytesBuffer,e,t),this},n.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this.s(i,e,t),this},n.n()},{15:15,16:16}]},c={},e=function t(e){var r=c[e];return r||m[e][0].call(r=c[e]={exports:{}},t,r,r.exports),r.exports}(8);e.util.global.protobuf=e}(),k=protobuf,m=k.Writer,c=k.util,e=k.roots.default||(k.roots.default={}),e.com=((f={}).ramp=((a={}).analytics=function(){var t={};return t.proto=function(){var t={};return t.PacketWrapper=function(){function t(t){if(this.packets=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.packets=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,r){if(r||(r=m.create()),null!=t.packets&&t.packets.length)for(var n=0;n<t.packets.length;++n)e.com.ramp.analytics.proto.Packet.encode(t.packets[n],r.uint32(10).fork()).ldelim();return r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.packets&&t.hasOwnProperty("packets")){if(!Array.isArray(t.packets))return"packets: array expected";for(var r=0;r<t.packets.length;++r){var n=e.com.ramp.analytics.proto.Packet.verify(t.packets[r]);if(n)return"packets."+n}}return null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.PacketWrapper)return t;var r=new e.com.ramp.analytics.proto.PacketWrapper;if(t.packets){if(!Array.isArray(t.packets))throw TypeError(".com.ramp.analytics.proto.PacketWrapper.packets: array expected");r.packets=[];for(var n=0;n<t.packets.length;++n){if("object"!=typeof t.packets[n])throw TypeError(".com.ramp.analytics.proto.PacketWrapper.packets: object expected");r.packets[n]=e.com.ramp.analytics.proto.Packet.fromObject(t.packets[n])}}return r},t.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.packets=[]),t.packets&&t.packets.length){n.packets=[];for(var i=0;i<t.packets.length;++i)n.packets[i]=e.com.ramp.analytics.proto.Packet.toObject(t.packets[i],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.PacketWrapper"},t}(),t.Packet=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}var r;return t.prototype.header=null,t.prototype.unifiedClient=null,t.prototype.multicast=null,t.prototype.omnicache=null,t.prototype.plugin=null,Object.defineProperty(t.prototype,"packet",{get:c.oneOfGetter(r=["unifiedClient","multicast","omnicache","plugin"]),set:c.oneOfSetter(r)}),t.create=function(e){return new t(e)},t.encode=function(t,r){return r||(r=m.create()),null!=t.header&&Object.hasOwnProperty.call(t,"header")&&e.com.ramp.analytics.proto.PacketHeader.encode(t.header,r.uint32(10).fork()).ldelim(),null!=t.unifiedClient&&Object.hasOwnProperty.call(t,"unifiedClient")&&e.com.ramp.analytics.proto.UnifiedClientPacket.encode(t.unifiedClient,r.uint32(18).fork()).ldelim(),null!=t.multicast&&Object.hasOwnProperty.call(t,"multicast")&&e.com.ramp.analytics.proto.MulticastPacket.encode(t.multicast,r.uint32(26).fork()).ldelim(),null!=t.omnicache&&Object.hasOwnProperty.call(t,"omnicache")&&e.com.ramp.analytics.proto.OmnicachePacket.encode(t.omnicache,r.uint32(34).fork()).ldelim(),null!=t.plugin&&Object.hasOwnProperty.call(t,"plugin")&&e.com.ramp.analytics.proto.PluginPacket.encode(t.plugin,r.uint32(42).fork()).ldelim(),r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.header&&t.hasOwnProperty("header")){var r=e.com.ramp.analytics.proto.PacketHeader.verify(t.header);if(r)return"header."+r}if(null!=t.unifiedClient&&t.hasOwnProperty("unifiedClient")){var n=1;if(r=e.com.ramp.analytics.proto.UnifiedClientPacket.verify(t.unifiedClient))return"unifiedClient."+r}if(null!=t.multicast&&t.hasOwnProperty("multicast")){if(1===n)return"packet: multiple values";if(n=1,r=e.com.ramp.analytics.proto.MulticastPacket.verify(t.multicast))return"multicast."+r}if(null!=t.omnicache&&t.hasOwnProperty("omnicache")){if(1===n)return"packet: multiple values";if(n=1,r=e.com.ramp.analytics.proto.OmnicachePacket.verify(t.omnicache))return"omnicache."+r}if(null!=t.plugin&&t.hasOwnProperty("plugin")){if(1===n)return"packet: multiple values";if(r=e.com.ramp.analytics.proto.PluginPacket.verify(t.plugin))return"plugin."+r}return null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.Packet)return t;var r=new e.com.ramp.analytics.proto.Packet;if(null!=t.header){if("object"!=typeof t.header)throw TypeError(".com.ramp.analytics.proto.Packet.header: object expected");r.header=e.com.ramp.analytics.proto.PacketHeader.fromObject(t.header)}if(null!=t.unifiedClient){if("object"!=typeof t.unifiedClient)throw TypeError(".com.ramp.analytics.proto.Packet.unifiedClient: object expected");r.unifiedClient=e.com.ramp.analytics.proto.UnifiedClientPacket.fromObject(t.unifiedClient)}if(null!=t.multicast){if("object"!=typeof t.multicast)throw TypeError(".com.ramp.analytics.proto.Packet.multicast: object expected");r.multicast=e.com.ramp.analytics.proto.MulticastPacket.fromObject(t.multicast)}if(null!=t.omnicache){if("object"!=typeof t.omnicache)throw TypeError(".com.ramp.analytics.proto.Packet.omnicache: object expected");r.omnicache=e.com.ramp.analytics.proto.OmnicachePacket.fromObject(t.omnicache)}if(null!=t.plugin){if("object"!=typeof t.plugin)throw TypeError(".com.ramp.analytics.proto.Packet.plugin: object expected");r.plugin=e.com.ramp.analytics.proto.PluginPacket.fromObject(t.plugin)}return r},t.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(n.header=null),null!=t.header&&t.hasOwnProperty("header")&&(n.header=e.com.ramp.analytics.proto.PacketHeader.toObject(t.header,r)),null!=t.unifiedClient&&t.hasOwnProperty("unifiedClient")&&(n.unifiedClient=e.com.ramp.analytics.proto.UnifiedClientPacket.toObject(t.unifiedClient,r),r.oneofs&&(n.packet="unifiedClient")),null!=t.multicast&&t.hasOwnProperty("multicast")&&(n.multicast=e.com.ramp.analytics.proto.MulticastPacket.toObject(t.multicast,r),r.oneofs&&(n.packet="multicast")),null!=t.omnicache&&t.hasOwnProperty("omnicache")&&(n.omnicache=e.com.ramp.analytics.proto.OmnicachePacket.toObject(t.omnicache,r),r.oneofs&&(n.packet="omnicache")),null!=t.plugin&&t.hasOwnProperty("plugin")&&(n.plugin=e.com.ramp.analytics.proto.PluginPacket.toObject(t.plugin,r),r.oneofs&&(n.packet="plugin")),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.Packet"},t}(),t.PacketHeader=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.guid=null,t.prototype.intervalStart=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.intervalEnd=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.componentVersion="",t.create=function(e){return new t(e)},t.encode=function(t,r){return r||(r=m.create()),null!=t.guid&&Object.hasOwnProperty.call(t,"guid")&&e.com.ramp.analytics.proto.UUID.encode(t.guid,r.uint32(10).fork()).ldelim(),null!=t.intervalStart&&Object.hasOwnProperty.call(t,"intervalStart")&&r.uint32(16).int64(t.intervalStart),null!=t.intervalEnd&&Object.hasOwnProperty.call(t,"intervalEnd")&&r.uint32(24).int64(t.intervalEnd),null!=t.componentVersion&&Object.hasOwnProperty.call(t,"componentVersion")&&r.uint32(34).string(t.componentVersion),r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.guid&&t.hasOwnProperty("guid")){var r=e.com.ramp.analytics.proto.UUID.verify(t.guid);if(r)return"guid."+r}return null==t.intervalStart||!t.hasOwnProperty("intervalStart")||c.isInteger(t.intervalStart)||t.intervalStart&&c.isInteger(t.intervalStart.low)&&c.isInteger(t.intervalStart.high)?null==t.intervalEnd||!t.hasOwnProperty("intervalEnd")||c.isInteger(t.intervalEnd)||t.intervalEnd&&c.isInteger(t.intervalEnd.low)&&c.isInteger(t.intervalEnd.high)?null!=t.componentVersion&&t.hasOwnProperty("componentVersion")&&!c.isString(t.componentVersion)?"componentVersion: string expected":null:"intervalEnd: integer|Long expected":"intervalStart: integer|Long expected"},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.PacketHeader)return t;var r=new e.com.ramp.analytics.proto.PacketHeader;if(null!=t.guid){if("object"!=typeof t.guid)throw TypeError(".com.ramp.analytics.proto.PacketHeader.guid: object expected");r.guid=e.com.ramp.analytics.proto.UUID.fromObject(t.guid)}return null!=t.intervalStart&&(c.Long?(r.intervalStart=c.Long.fromValue(t.intervalStart)).unsigned=!1:"string"==typeof t.intervalStart?r.intervalStart=parseInt(t.intervalStart,10):"number"==typeof t.intervalStart?r.intervalStart=t.intervalStart:"object"==typeof t.intervalStart&&(r.intervalStart=new c.LongBits(t.intervalStart.low>>>0,t.intervalStart.high>>>0).toNumber())),null!=t.intervalEnd&&(c.Long?(r.intervalEnd=c.Long.fromValue(t.intervalEnd)).unsigned=!1:"string"==typeof t.intervalEnd?r.intervalEnd=parseInt(t.intervalEnd,10):"number"==typeof t.intervalEnd?r.intervalEnd=t.intervalEnd:"object"==typeof t.intervalEnd&&(r.intervalEnd=new c.LongBits(t.intervalEnd.low>>>0,t.intervalEnd.high>>>0).toNumber())),null!=t.componentVersion&&(r.componentVersion=String(t.componentVersion)),r},t.toObject=function(t,r){r||(r={});var n={};if(r.defaults){if(n.guid=null,c.Long){var i=new c.Long(0,0,!1);n.intervalStart=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.intervalStart=r.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!1),n.intervalEnd=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.intervalEnd=r.longs===String?"0":0,n.componentVersion=""}return null!=t.guid&&t.hasOwnProperty("guid")&&(n.guid=e.com.ramp.analytics.proto.UUID.toObject(t.guid,r)),null!=t.intervalStart&&t.hasOwnProperty("intervalStart")&&(n.intervalStart="number"==typeof t.intervalStart?r.longs===String?String(t.intervalStart):t.intervalStart:r.longs===String?c.Long.prototype.toString.call(t.intervalStart):r.longs===Number?new c.LongBits(t.intervalStart.low>>>0,t.intervalStart.high>>>0).toNumber():t.intervalStart),null!=t.intervalEnd&&t.hasOwnProperty("intervalEnd")&&(n.intervalEnd="number"==typeof t.intervalEnd?r.longs===String?String(t.intervalEnd):t.intervalEnd:r.longs===String?c.Long.prototype.toString.call(t.intervalEnd):r.longs===Number?new c.LongBits(t.intervalEnd.low>>>0,t.intervalEnd.high>>>0).toNumber():t.intervalEnd),null!=t.componentVersion&&t.hasOwnProperty("componentVersion")&&(n.componentVersion=t.componentVersion),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.PacketHeader"},t}(),t.PlatformInformation=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.platformOS="",t.prototype.platformCpuPercent=0,t.prototype.platformMemPhysical=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.platformMemCommitted=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.platformMemFree=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.platformDiskSize=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.platformDiskFree=c.Long?c.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=m.create()),null!=t.platformOS&&Object.hasOwnProperty.call(t,"platformOS")&&e.uint32(10).string(t.platformOS),null!=t.platformCpuPercent&&Object.hasOwnProperty.call(t,"platformCpuPercent")&&e.uint32(16).int32(t.platformCpuPercent),null!=t.platformMemPhysical&&Object.hasOwnProperty.call(t,"platformMemPhysical")&&e.uint32(24).int64(t.platformMemPhysical),null!=t.platformMemCommitted&&Object.hasOwnProperty.call(t,"platformMemCommitted")&&e.uint32(32).int64(t.platformMemCommitted),null!=t.platformMemFree&&Object.hasOwnProperty.call(t,"platformMemFree")&&e.uint32(40).int64(t.platformMemFree),null!=t.platformDiskSize&&Object.hasOwnProperty.call(t,"platformDiskSize")&&e.uint32(48).int64(t.platformDiskSize),null!=t.platformDiskFree&&Object.hasOwnProperty.call(t,"platformDiskFree")&&e.uint32(56).int64(t.platformDiskFree),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.platformOS&&t.hasOwnProperty("platformOS")&&!c.isString(t.platformOS)?"platformOS: string expected":null!=t.platformCpuPercent&&t.hasOwnProperty("platformCpuPercent")&&!c.isInteger(t.platformCpuPercent)?"platformCpuPercent: integer expected":null==t.platformMemPhysical||!t.hasOwnProperty("platformMemPhysical")||c.isInteger(t.platformMemPhysical)||t.platformMemPhysical&&c.isInteger(t.platformMemPhysical.low)&&c.isInteger(t.platformMemPhysical.high)?null==t.platformMemCommitted||!t.hasOwnProperty("platformMemCommitted")||c.isInteger(t.platformMemCommitted)||t.platformMemCommitted&&c.isInteger(t.platformMemCommitted.low)&&c.isInteger(t.platformMemCommitted.high)?null==t.platformMemFree||!t.hasOwnProperty("platformMemFree")||c.isInteger(t.platformMemFree)||t.platformMemFree&&c.isInteger(t.platformMemFree.low)&&c.isInteger(t.platformMemFree.high)?null==t.platformDiskSize||!t.hasOwnProperty("platformDiskSize")||c.isInteger(t.platformDiskSize)||t.platformDiskSize&&c.isInteger(t.platformDiskSize.low)&&c.isInteger(t.platformDiskSize.high)?null==t.platformDiskFree||!t.hasOwnProperty("platformDiskFree")||c.isInteger(t.platformDiskFree)||t.platformDiskFree&&c.isInteger(t.platformDiskFree.low)&&c.isInteger(t.platformDiskFree.high)?null:"platformDiskFree: integer|Long expected":"platformDiskSize: integer|Long expected":"platformMemFree: integer|Long expected":"platformMemCommitted: integer|Long expected":"platformMemPhysical: integer|Long expected"},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.PlatformInformation)return t;var r=new e.com.ramp.analytics.proto.PlatformInformation;return null!=t.platformOS&&(r.platformOS=String(t.platformOS)),null!=t.platformCpuPercent&&(r.platformCpuPercent=0|t.platformCpuPercent),null!=t.platformMemPhysical&&(c.Long?(r.platformMemPhysical=c.Long.fromValue(t.platformMemPhysical)).unsigned=!1:"string"==typeof t.platformMemPhysical?r.platformMemPhysical=parseInt(t.platformMemPhysical,10):"number"==typeof t.platformMemPhysical?r.platformMemPhysical=t.platformMemPhysical:"object"==typeof t.platformMemPhysical&&(r.platformMemPhysical=new c.LongBits(t.platformMemPhysical.low>>>0,t.platformMemPhysical.high>>>0).toNumber())),null!=t.platformMemCommitted&&(c.Long?(r.platformMemCommitted=c.Long.fromValue(t.platformMemCommitted)).unsigned=!1:"string"==typeof t.platformMemCommitted?r.platformMemCommitted=parseInt(t.platformMemCommitted,10):"number"==typeof t.platformMemCommitted?r.platformMemCommitted=t.platformMemCommitted:"object"==typeof t.platformMemCommitted&&(r.platformMemCommitted=new c.LongBits(t.platformMemCommitted.low>>>0,t.platformMemCommitted.high>>>0).toNumber())),null!=t.platformMemFree&&(c.Long?(r.platformMemFree=c.Long.fromValue(t.platformMemFree)).unsigned=!1:"string"==typeof t.platformMemFree?r.platformMemFree=parseInt(t.platformMemFree,10):"number"==typeof t.platformMemFree?r.platformMemFree=t.platformMemFree:"object"==typeof t.platformMemFree&&(r.platformMemFree=new c.LongBits(t.platformMemFree.low>>>0,t.platformMemFree.high>>>0).toNumber())),null!=t.platformDiskSize&&(c.Long?(r.platformDiskSize=c.Long.fromValue(t.platformDiskSize)).unsigned=!1:"string"==typeof t.platformDiskSize?r.platformDiskSize=parseInt(t.platformDiskSize,10):"number"==typeof t.platformDiskSize?r.platformDiskSize=t.platformDiskSize:"object"==typeof t.platformDiskSize&&(r.platformDiskSize=new c.LongBits(t.platformDiskSize.low>>>0,t.platformDiskSize.high>>>0).toNumber())),null!=t.platformDiskFree&&(c.Long?(r.platformDiskFree=c.Long.fromValue(t.platformDiskFree)).unsigned=!1:"string"==typeof t.platformDiskFree?r.platformDiskFree=parseInt(t.platformDiskFree,10):"number"==typeof t.platformDiskFree?r.platformDiskFree=t.platformDiskFree:"object"==typeof t.platformDiskFree&&(r.platformDiskFree=new c.LongBits(t.platformDiskFree.low>>>0,t.platformDiskFree.high>>>0).toNumber())),r},t.toObject=function(t,e){e||(e={});var r={};if(e.defaults){if(r.platformOS="",r.platformCpuPercent=0,c.Long){var n=new c.Long(0,0,!1);r.platformMemPhysical=e.longs===String?n.toString():e.longs===Number?n.toNumber():n}else r.platformMemPhysical=e.longs===String?"0":0;c.Long?(n=new c.Long(0,0,!1),r.platformMemCommitted=e.longs===String?n.toString():e.longs===Number?n.toNumber():n):r.platformMemCommitted=e.longs===String?"0":0,c.Long?(n=new c.Long(0,0,!1),r.platformMemFree=e.longs===String?n.toString():e.longs===Number?n.toNumber():n):r.platformMemFree=e.longs===String?"0":0,c.Long?(n=new c.Long(0,0,!1),r.platformDiskSize=e.longs===String?n.toString():e.longs===Number?n.toNumber():n):r.platformDiskSize=e.longs===String?"0":0,c.Long?(n=new c.Long(0,0,!1),r.platformDiskFree=e.longs===String?n.toString():e.longs===Number?n.toNumber():n):r.platformDiskFree=e.longs===String?"0":0}return null!=t.platformOS&&t.hasOwnProperty("platformOS")&&(r.platformOS=t.platformOS),null!=t.platformCpuPercent&&t.hasOwnProperty("platformCpuPercent")&&(r.platformCpuPercent=t.platformCpuPercent),null!=t.platformMemPhysical&&t.hasOwnProperty("platformMemPhysical")&&(r.platformMemPhysical="number"==typeof t.platformMemPhysical?e.longs===String?String(t.platformMemPhysical):t.platformMemPhysical:e.longs===String?c.Long.prototype.toString.call(t.platformMemPhysical):e.longs===Number?new c.LongBits(t.platformMemPhysical.low>>>0,t.platformMemPhysical.high>>>0).toNumber():t.platformMemPhysical),null!=t.platformMemCommitted&&t.hasOwnProperty("platformMemCommitted")&&(r.platformMemCommitted="number"==typeof t.platformMemCommitted?e.longs===String?String(t.platformMemCommitted):t.platformMemCommitted:e.longs===String?c.Long.prototype.toString.call(t.platformMemCommitted):e.longs===Number?new c.LongBits(t.platformMemCommitted.low>>>0,t.platformMemCommitted.high>>>0).toNumber():t.platformMemCommitted),null!=t.platformMemFree&&t.hasOwnProperty("platformMemFree")&&(r.platformMemFree="number"==typeof t.platformMemFree?e.longs===String?String(t.platformMemFree):t.platformMemFree:e.longs===String?c.Long.prototype.toString.call(t.platformMemFree):e.longs===Number?new c.LongBits(t.platformMemFree.low>>>0,t.platformMemFree.high>>>0).toNumber():t.platformMemFree),null!=t.platformDiskSize&&t.hasOwnProperty("platformDiskSize")&&(r.platformDiskSize="number"==typeof t.platformDiskSize?e.longs===String?String(t.platformDiskSize):t.platformDiskSize:e.longs===String?c.Long.prototype.toString.call(t.platformDiskSize):e.longs===Number?new c.LongBits(t.platformDiskSize.low>>>0,t.platformDiskSize.high>>>0).toNumber():t.platformDiskSize),null!=t.platformDiskFree&&t.hasOwnProperty("platformDiskFree")&&(r.platformDiskFree="number"==typeof t.platformDiskFree?e.longs===String?String(t.platformDiskFree):t.platformDiskFree:e.longs===String?c.Long.prototype.toString.call(t.platformDiskFree):e.longs===Number?new c.LongBits(t.platformDiskFree.low>>>0,t.platformDiskFree.high>>>0).toNumber():t.platformDiskFree),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.PlatformInformation"},t}(),t.ProcessInformation=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.processCpuPercent=0,t.prototype.processMemResident=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.processMemCommitted=c.Long?c.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=m.create()),null!=t.processCpuPercent&&Object.hasOwnProperty.call(t,"processCpuPercent")&&e.uint32(8).int32(t.processCpuPercent),null!=t.processMemResident&&Object.hasOwnProperty.call(t,"processMemResident")&&e.uint32(16).int64(t.processMemResident),null!=t.processMemCommitted&&Object.hasOwnProperty.call(t,"processMemCommitted")&&e.uint32(24).int64(t.processMemCommitted),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.processCpuPercent&&t.hasOwnProperty("processCpuPercent")&&!c.isInteger(t.processCpuPercent)?"processCpuPercent: integer expected":null==t.processMemResident||!t.hasOwnProperty("processMemResident")||c.isInteger(t.processMemResident)||t.processMemResident&&c.isInteger(t.processMemResident.low)&&c.isInteger(t.processMemResident.high)?null==t.processMemCommitted||!t.hasOwnProperty("processMemCommitted")||c.isInteger(t.processMemCommitted)||t.processMemCommitted&&c.isInteger(t.processMemCommitted.low)&&c.isInteger(t.processMemCommitted.high)?null:"processMemCommitted: integer|Long expected":"processMemResident: integer|Long expected"},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.ProcessInformation)return t;var r=new e.com.ramp.analytics.proto.ProcessInformation;return null!=t.processCpuPercent&&(r.processCpuPercent=0|t.processCpuPercent),null!=t.processMemResident&&(c.Long?(r.processMemResident=c.Long.fromValue(t.processMemResident)).unsigned=!1:"string"==typeof t.processMemResident?r.processMemResident=parseInt(t.processMemResident,10):"number"==typeof t.processMemResident?r.processMemResident=t.processMemResident:"object"==typeof t.processMemResident&&(r.processMemResident=new c.LongBits(t.processMemResident.low>>>0,t.processMemResident.high>>>0).toNumber())),null!=t.processMemCommitted&&(c.Long?(r.processMemCommitted=c.Long.fromValue(t.processMemCommitted)).unsigned=!1:"string"==typeof t.processMemCommitted?r.processMemCommitted=parseInt(t.processMemCommitted,10):"number"==typeof t.processMemCommitted?r.processMemCommitted=t.processMemCommitted:"object"==typeof t.processMemCommitted&&(r.processMemCommitted=new c.LongBits(t.processMemCommitted.low>>>0,t.processMemCommitted.high>>>0).toNumber())),r},t.toObject=function(t,e){e||(e={});var r={};if(e.defaults){if(r.processCpuPercent=0,c.Long){var n=new c.Long(0,0,!1);r.processMemResident=e.longs===String?n.toString():e.longs===Number?n.toNumber():n}else r.processMemResident=e.longs===String?"0":0;c.Long?(n=new c.Long(0,0,!1),r.processMemCommitted=e.longs===String?n.toString():e.longs===Number?n.toNumber():n):r.processMemCommitted=e.longs===String?"0":0}return null!=t.processCpuPercent&&t.hasOwnProperty("processCpuPercent")&&(r.processCpuPercent=t.processCpuPercent),null!=t.processMemResident&&t.hasOwnProperty("processMemResident")&&(r.processMemResident="number"==typeof t.processMemResident?e.longs===String?String(t.processMemResident):t.processMemResident:e.longs===String?c.Long.prototype.toString.call(t.processMemResident):e.longs===Number?new c.LongBits(t.processMemResident.low>>>0,t.processMemResident.high>>>0).toNumber():t.processMemResident),null!=t.processMemCommitted&&t.hasOwnProperty("processMemCommitted")&&(r.processMemCommitted="number"==typeof t.processMemCommitted?e.longs===String?String(t.processMemCommitted):t.processMemCommitted:e.longs===String?c.Long.prototype.toString.call(t.processMemCommitted):e.longs===Number?new c.LongBits(t.processMemCommitted.low>>>0,t.processMemCommitted.high>>>0).toNumber():t.processMemCommitted),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.ProcessInformation"},t}(),t.UUID=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.uuid="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=m.create()),null!=t.uuid&&Object.hasOwnProperty.call(t,"uuid")&&e.uint32(10).string(t.uuid),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){return"object"!=typeof t||null===t?"object expected":null!=t.uuid&&t.hasOwnProperty("uuid")&&!c.isString(t.uuid)?"uuid: string expected":null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.UUID)return t;var r=new e.com.ramp.analytics.proto.UUID;return null!=t.uuid&&(r.uuid=String(t.uuid)),r},t.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.uuid=""),null!=t.uuid&&t.hasOwnProperty("uuid")&&(r.uuid=t.uuid),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.UUID"},t}(),t.UnifiedClientPacket=function(){function t(t){if(this.events=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.platformInformation=null,t.prototype.processInformation=null,t.prototype.events=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,r){if(r||(r=m.create()),null!=t.platformInformation&&Object.hasOwnProperty.call(t,"platformInformation")&&e.com.ramp.analytics.proto.PlatformInformation.encode(t.platformInformation,r.uint32(10).fork()).ldelim(),null!=t.processInformation&&Object.hasOwnProperty.call(t,"processInformation")&&e.com.ramp.analytics.proto.ProcessInformation.encode(t.processInformation,r.uint32(18).fork()).ldelim(),null!=t.events&&t.events.length)for(var n=0;n<t.events.length;++n)e.com.ramp.analytics.proto.UnifiedClientEvent.encode(t.events[n],r.uint32(26).fork()).ldelim();return r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.platformInformation&&t.hasOwnProperty("platformInformation")){var r=e.com.ramp.analytics.proto.PlatformInformation.verify(t.platformInformation);if(r)return"platformInformation."+r}if(null!=t.processInformation&&t.hasOwnProperty("processInformation")&&(r=e.com.ramp.analytics.proto.ProcessInformation.verify(t.processInformation)))return"processInformation."+r;if(null!=t.events&&t.hasOwnProperty("events")){if(!Array.isArray(t.events))return"events: array expected";for(var n=0;n<t.events.length;++n)if(r=e.com.ramp.analytics.proto.UnifiedClientEvent.verify(t.events[n]))return"events."+r}return null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.UnifiedClientPacket)return t;var r=new e.com.ramp.analytics.proto.UnifiedClientPacket;if(null!=t.platformInformation){if("object"!=typeof t.platformInformation)throw TypeError(".com.ramp.analytics.proto.UnifiedClientPacket.platformInformation: object expected");r.platformInformation=e.com.ramp.analytics.proto.PlatformInformation.fromObject(t.platformInformation)}if(null!=t.processInformation){if("object"!=typeof t.processInformation)throw TypeError(".com.ramp.analytics.proto.UnifiedClientPacket.processInformation: object expected");r.processInformation=e.com.ramp.analytics.proto.ProcessInformation.fromObject(t.processInformation)}if(t.events){if(!Array.isArray(t.events))throw TypeError(".com.ramp.analytics.proto.UnifiedClientPacket.events: array expected");r.events=[];for(var n=0;n<t.events.length;++n){if("object"!=typeof t.events[n])throw TypeError(".com.ramp.analytics.proto.UnifiedClientPacket.events: object expected");r.events[n]=e.com.ramp.analytics.proto.UnifiedClientEvent.fromObject(t.events[n])}}return r},t.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.events=[]),r.defaults&&(n.platformInformation=null,n.processInformation=null),null!=t.platformInformation&&t.hasOwnProperty("platformInformation")&&(n.platformInformation=e.com.ramp.analytics.proto.PlatformInformation.toObject(t.platformInformation,r)),null!=t.processInformation&&t.hasOwnProperty("processInformation")&&(n.processInformation=e.com.ramp.analytics.proto.ProcessInformation.toObject(t.processInformation,r)),t.events&&t.events.length){n.events=[];for(var i=0;i<t.events.length;++i)n.events[i]=e.com.ramp.analytics.proto.UnifiedClientEvent.toObject(t.events[i],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.UnifiedClientPacket"},t}(),t.UnifiedClientEvent=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.eventId="",t.prototype.eventType=0,t.prototype.receiverIP="",t.prototype.receiverInterfaceType=0,t.prototype.senderIP="",t.prototype.address="",t.prototype.bytesReceived=0,t.prototype.packetsReceived=0,t.prototype.packetsFailed=0,t.prototype.packetsLost=0,t.prototype.fragmentsReceived=0,t.prototype.fragmentsFailed=0,t.prototype.lastPlaylistLoadMs=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.lastFragmentLoadMs=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.platformBrowser="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=m.create()),null!=t.eventId&&Object.hasOwnProperty.call(t,"eventId")&&e.uint32(10).string(t.eventId),null!=t.eventType&&Object.hasOwnProperty.call(t,"eventType")&&e.uint32(16).int32(t.eventType),null!=t.receiverIP&&Object.hasOwnProperty.call(t,"receiverIP")&&e.uint32(26).string(t.receiverIP),null!=t.receiverInterfaceType&&Object.hasOwnProperty.call(t,"receiverInterfaceType")&&e.uint32(32).int32(t.receiverInterfaceType),null!=t.senderIP&&Object.hasOwnProperty.call(t,"senderIP")&&e.uint32(42).string(t.senderIP),null!=t.address&&Object.hasOwnProperty.call(t,"address")&&e.uint32(50).string(t.address),null!=t.bytesReceived&&Object.hasOwnProperty.call(t,"bytesReceived")&&e.uint32(56).int32(t.bytesReceived),null!=t.packetsReceived&&Object.hasOwnProperty.call(t,"packetsReceived")&&e.uint32(64).int32(t.packetsReceived),null!=t.packetsFailed&&Object.hasOwnProperty.call(t,"packetsFailed")&&e.uint32(72).int32(t.packetsFailed),null!=t.packetsLost&&Object.hasOwnProperty.call(t,"packetsLost")&&e.uint32(80).int32(t.packetsLost),null!=t.fragmentsReceived&&Object.hasOwnProperty.call(t,"fragmentsReceived")&&e.uint32(88).int32(t.fragmentsReceived),null!=t.fragmentsFailed&&Object.hasOwnProperty.call(t,"fragmentsFailed")&&e.uint32(96).int32(t.fragmentsFailed),null!=t.lastPlaylistLoadMs&&Object.hasOwnProperty.call(t,"lastPlaylistLoadMs")&&e.uint32(104).int64(t.lastPlaylistLoadMs),null!=t.lastFragmentLoadMs&&Object.hasOwnProperty.call(t,"lastFragmentLoadMs")&&e.uint32(112).int64(t.lastFragmentLoadMs),null!=t.platformBrowser&&Object.hasOwnProperty.call(t,"platformBrowser")&&e.uint32(122).string(t.platformBrowser),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.eventId&&t.hasOwnProperty("eventId")&&!c.isString(t.eventId))return"eventId: string expected";if(null!=t.eventType&&t.hasOwnProperty("eventType"))switch(t.eventType){default:return"eventType: enum value expected";case 0:case 1:case 2:}if(null!=t.receiverIP&&t.hasOwnProperty("receiverIP")&&!c.isString(t.receiverIP))return"receiverIP: string expected";if(null!=t.receiverInterfaceType&&t.hasOwnProperty("receiverInterfaceType"))switch(t.receiverInterfaceType){default:return"receiverInterfaceType: enum value expected";case 0:case 1:case 2:}return null!=t.senderIP&&t.hasOwnProperty("senderIP")&&!c.isString(t.senderIP)?"senderIP: string expected":null!=t.address&&t.hasOwnProperty("address")&&!c.isString(t.address)?"address: string expected":null!=t.bytesReceived&&t.hasOwnProperty("bytesReceived")&&!c.isInteger(t.bytesReceived)?"bytesReceived: integer expected":null!=t.packetsReceived&&t.hasOwnProperty("packetsReceived")&&!c.isInteger(t.packetsReceived)?"packetsReceived: integer expected":null!=t.packetsFailed&&t.hasOwnProperty("packetsFailed")&&!c.isInteger(t.packetsFailed)?"packetsFailed: integer expected":null!=t.packetsLost&&t.hasOwnProperty("packetsLost")&&!c.isInteger(t.packetsLost)?"packetsLost: integer expected":null!=t.fragmentsReceived&&t.hasOwnProperty("fragmentsReceived")&&!c.isInteger(t.fragmentsReceived)?"fragmentsReceived: integer expected":null!=t.fragmentsFailed&&t.hasOwnProperty("fragmentsFailed")&&!c.isInteger(t.fragmentsFailed)?"fragmentsFailed: integer expected":null==t.lastPlaylistLoadMs||!t.hasOwnProperty("lastPlaylistLoadMs")||c.isInteger(t.lastPlaylistLoadMs)||t.lastPlaylistLoadMs&&c.isInteger(t.lastPlaylistLoadMs.low)&&c.isInteger(t.lastPlaylistLoadMs.high)?null==t.lastFragmentLoadMs||!t.hasOwnProperty("lastFragmentLoadMs")||c.isInteger(t.lastFragmentLoadMs)||t.lastFragmentLoadMs&&c.isInteger(t.lastFragmentLoadMs.low)&&c.isInteger(t.lastFragmentLoadMs.high)?null!=t.platformBrowser&&t.hasOwnProperty("platformBrowser")&&!c.isString(t.platformBrowser)?"platformBrowser: string expected":null:"lastFragmentLoadMs: integer|Long expected":"lastPlaylistLoadMs: integer|Long expected"},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.UnifiedClientEvent)return t;var r=new e.com.ramp.analytics.proto.UnifiedClientEvent;switch(null!=t.eventId&&(r.eventId=String(t.eventId)),t.eventType){default:"number"==typeof t.eventType&&(r.eventType=t.eventType);break;case"unknown_event_type":case 0:r.eventType=0;break;case"live":case 1:r.eventType=1;break;case"nrt":case 2:r.eventType=2}switch(null!=t.receiverIP&&(r.receiverIP=String(t.receiverIP)),t.receiverInterfaceType){default:"number"==typeof t.receiverInterfaceType&&(r.receiverInterfaceType=t.receiverInterfaceType);break;case"unknown_interface_type":case 0:r.receiverInterfaceType=0;break;case"wired":case 1:r.receiverInterfaceType=1;break;case"wireless":case 2:r.receiverInterfaceType=2}return null!=t.senderIP&&(r.senderIP=String(t.senderIP)),null!=t.address&&(r.address=String(t.address)),null!=t.bytesReceived&&(r.bytesReceived=0|t.bytesReceived),null!=t.packetsReceived&&(r.packetsReceived=0|t.packetsReceived),null!=t.packetsFailed&&(r.packetsFailed=0|t.packetsFailed),null!=t.packetsLost&&(r.packetsLost=0|t.packetsLost),null!=t.fragmentsReceived&&(r.fragmentsReceived=0|t.fragmentsReceived),null!=t.fragmentsFailed&&(r.fragmentsFailed=0|t.fragmentsFailed),null!=t.lastPlaylistLoadMs&&(c.Long?(r.lastPlaylistLoadMs=c.Long.fromValue(t.lastPlaylistLoadMs)).unsigned=!1:"string"==typeof t.lastPlaylistLoadMs?r.lastPlaylistLoadMs=parseInt(t.lastPlaylistLoadMs,10):"number"==typeof t.lastPlaylistLoadMs?r.lastPlaylistLoadMs=t.lastPlaylistLoadMs:"object"==typeof t.lastPlaylistLoadMs&&(r.lastPlaylistLoadMs=new c.LongBits(t.lastPlaylistLoadMs.low>>>0,t.lastPlaylistLoadMs.high>>>0).toNumber())),null!=t.lastFragmentLoadMs&&(c.Long?(r.lastFragmentLoadMs=c.Long.fromValue(t.lastFragmentLoadMs)).unsigned=!1:"string"==typeof t.lastFragmentLoadMs?r.lastFragmentLoadMs=parseInt(t.lastFragmentLoadMs,10):"number"==typeof t.lastFragmentLoadMs?r.lastFragmentLoadMs=t.lastFragmentLoadMs:"object"==typeof t.lastFragmentLoadMs&&(r.lastFragmentLoadMs=new c.LongBits(t.lastFragmentLoadMs.low>>>0,t.lastFragmentLoadMs.high>>>0).toNumber())),null!=t.platformBrowser&&(r.platformBrowser=String(t.platformBrowser)),r},t.toObject=function(t,r){r||(r={});var n={};if(r.defaults){if(n.eventId="",n.eventType=r.enums===String?"unknown_event_type":0,n.receiverIP="",n.receiverInterfaceType=r.enums===String?"unknown_interface_type":0,n.senderIP="",n.address="",n.bytesReceived=0,n.packetsReceived=0,n.packetsFailed=0,n.packetsLost=0,n.fragmentsReceived=0,n.fragmentsFailed=0,c.Long){var i=new c.Long(0,0,!1);n.lastPlaylistLoadMs=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.lastPlaylistLoadMs=r.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!1),n.lastFragmentLoadMs=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.lastFragmentLoadMs=r.longs===String?"0":0,n.platformBrowser=""}return null!=t.eventId&&t.hasOwnProperty("eventId")&&(n.eventId=t.eventId),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=r.enums===String?void 0===e.com.ramp.analytics.proto.UnifiedClientEvent.EventType[t.eventType]?t.eventType:e.com.ramp.analytics.proto.UnifiedClientEvent.EventType[t.eventType]:t.eventType),null!=t.receiverIP&&t.hasOwnProperty("receiverIP")&&(n.receiverIP=t.receiverIP),null!=t.receiverInterfaceType&&t.hasOwnProperty("receiverInterfaceType")&&(n.receiverInterfaceType=r.enums===String?void 0===e.com.ramp.analytics.proto.UnifiedClientEvent.InterfaceType[t.receiverInterfaceType]?t.receiverInterfaceType:e.com.ramp.analytics.proto.UnifiedClientEvent.InterfaceType[t.receiverInterfaceType]:t.receiverInterfaceType),null!=t.senderIP&&t.hasOwnProperty("senderIP")&&(n.senderIP=t.senderIP),null!=t.address&&t.hasOwnProperty("address")&&(n.address=t.address),null!=t.bytesReceived&&t.hasOwnProperty("bytesReceived")&&(n.bytesReceived=t.bytesReceived),null!=t.packetsReceived&&t.hasOwnProperty("packetsReceived")&&(n.packetsReceived=t.packetsReceived),null!=t.packetsFailed&&t.hasOwnProperty("packetsFailed")&&(n.packetsFailed=t.packetsFailed),null!=t.packetsLost&&t.hasOwnProperty("packetsLost")&&(n.packetsLost=t.packetsLost),null!=t.fragmentsReceived&&t.hasOwnProperty("fragmentsReceived")&&(n.fragmentsReceived=t.fragmentsReceived),null!=t.fragmentsFailed&&t.hasOwnProperty("fragmentsFailed")&&(n.fragmentsFailed=t.fragmentsFailed),null!=t.lastPlaylistLoadMs&&t.hasOwnProperty("lastPlaylistLoadMs")&&(n.lastPlaylistLoadMs="number"==typeof t.lastPlaylistLoadMs?r.longs===String?String(t.lastPlaylistLoadMs):t.lastPlaylistLoadMs:r.longs===String?c.Long.prototype.toString.call(t.lastPlaylistLoadMs):r.longs===Number?new c.LongBits(t.lastPlaylistLoadMs.low>>>0,t.lastPlaylistLoadMs.high>>>0).toNumber():t.lastPlaylistLoadMs),null!=t.lastFragmentLoadMs&&t.hasOwnProperty("lastFragmentLoadMs")&&(n.lastFragmentLoadMs="number"==typeof t.lastFragmentLoadMs?r.longs===String?String(t.lastFragmentLoadMs):t.lastFragmentLoadMs:r.longs===String?c.Long.prototype.toString.call(t.lastFragmentLoadMs):r.longs===Number?new c.LongBits(t.lastFragmentLoadMs.low>>>0,t.lastFragmentLoadMs.high>>>0).toNumber():t.lastFragmentLoadMs),null!=t.platformBrowser&&t.hasOwnProperty("platformBrowser")&&(n.platformBrowser=t.platformBrowser),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.UnifiedClientEvent"},t.InterfaceType=function(){var t={},e=Object.create(t);return e[t[0]="unknown_interface_type"]=0,e[t[1]="wired"]=1,e[t[2]="wireless"]=2,e}(),t.EventType=function(){var t={},e=Object.create(t);return e[t[0]="unknown_event_type"]=0,e[t[1]="live"]=1,e[t[2]="nrt"]=2,e}(),t}(),t.MulticastPacket=function(){function t(t){if(this.events=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.platformInformation=null,t.prototype.processInformation=null,t.prototype.events=c.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,r){if(r||(r=m.create()),null!=t.platformInformation&&Object.hasOwnProperty.call(t,"platformInformation")&&e.com.ramp.analytics.proto.PlatformInformation.encode(t.platformInformation,r.uint32(10).fork()).ldelim(),null!=t.processInformation&&Object.hasOwnProperty.call(t,"processInformation")&&e.com.ramp.analytics.proto.ProcessInformation.encode(t.processInformation,r.uint32(18).fork()).ldelim(),null!=t.events&&t.events.length)for(var n=0;n<t.events.length;++n)e.com.ramp.analytics.proto.MulticastEvent.encode(t.events[n],r.uint32(26).fork()).ldelim();return r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.platformInformation&&t.hasOwnProperty("platformInformation")){var r=e.com.ramp.analytics.proto.PlatformInformation.verify(t.platformInformation);if(r)return"platformInformation."+r}if(null!=t.processInformation&&t.hasOwnProperty("processInformation")&&(r=e.com.ramp.analytics.proto.ProcessInformation.verify(t.processInformation)))return"processInformation."+r;if(null!=t.events&&t.hasOwnProperty("events")){if(!Array.isArray(t.events))return"events: array expected";for(var n=0;n<t.events.length;++n)if(r=e.com.ramp.analytics.proto.MulticastEvent.verify(t.events[n]))return"events."+r}return null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.MulticastPacket)return t;var r=new e.com.ramp.analytics.proto.MulticastPacket;if(null!=t.platformInformation){if("object"!=typeof t.platformInformation)throw TypeError(".com.ramp.analytics.proto.MulticastPacket.platformInformation: object expected");r.platformInformation=e.com.ramp.analytics.proto.PlatformInformation.fromObject(t.platformInformation)}if(null!=t.processInformation){if("object"!=typeof t.processInformation)throw TypeError(".com.ramp.analytics.proto.MulticastPacket.processInformation: object expected");r.processInformation=e.com.ramp.analytics.proto.ProcessInformation.fromObject(t.processInformation)}if(t.events){if(!Array.isArray(t.events))throw TypeError(".com.ramp.analytics.proto.MulticastPacket.events: array expected");r.events=[];for(var n=0;n<t.events.length;++n){if("object"!=typeof t.events[n])throw TypeError(".com.ramp.analytics.proto.MulticastPacket.events: object expected");r.events[n]=e.com.ramp.analytics.proto.MulticastEvent.fromObject(t.events[n])}}return r},t.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.events=[]),r.defaults&&(n.platformInformation=null,n.processInformation=null),null!=t.platformInformation&&t.hasOwnProperty("platformInformation")&&(n.platformInformation=e.com.ramp.analytics.proto.PlatformInformation.toObject(t.platformInformation,r)),null!=t.processInformation&&t.hasOwnProperty("processInformation")&&(n.processInformation=e.com.ramp.analytics.proto.ProcessInformation.toObject(t.processInformation,r)),t.events&&t.events.length){n.events=[];for(var i=0;i<t.events.length;++i)n.events[i]=e.com.ramp.analytics.proto.MulticastEvent.toObject(t.events[i],r)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.MulticastPacket"},t}(),t.MulticastEvent=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.eventId="",t.prototype.eventType=0,t.prototype.eventState=0,t.prototype.eventManifestURL="",t.prototype.upstreamBytesReceived=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.lastManifestLoadMs=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.lastFragmentLoadMs=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.httpDelayedContentCount=0,t.prototype.httpErrorCount=0,t.prototype.multicastAddress="",t.prototype.bytesTransmitted=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.packetsTransmitted=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.fragmentsTransmitted=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.startTime=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.endTime=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.eventName="",t.prototype.rawEventId=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.senderIP="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=m.create()),null!=t.eventId&&Object.hasOwnProperty.call(t,"eventId")&&e.uint32(10).string(t.eventId),null!=t.eventType&&Object.hasOwnProperty.call(t,"eventType")&&e.uint32(16).int32(t.eventType),null!=t.eventState&&Object.hasOwnProperty.call(t,"eventState")&&e.uint32(24).int32(t.eventState),null!=t.eventManifestURL&&Object.hasOwnProperty.call(t,"eventManifestURL")&&e.uint32(34).string(t.eventManifestURL),null!=t.upstreamBytesReceived&&Object.hasOwnProperty.call(t,"upstreamBytesReceived")&&e.uint32(40).int64(t.upstreamBytesReceived),null!=t.lastManifestLoadMs&&Object.hasOwnProperty.call(t,"lastManifestLoadMs")&&e.uint32(48).int64(t.lastManifestLoadMs),null!=t.lastFragmentLoadMs&&Object.hasOwnProperty.call(t,"lastFragmentLoadMs")&&e.uint32(56).int64(t.lastFragmentLoadMs),null!=t.httpDelayedContentCount&&Object.hasOwnProperty.call(t,"httpDelayedContentCount")&&e.uint32(64).int32(t.httpDelayedContentCount),null!=t.httpErrorCount&&Object.hasOwnProperty.call(t,"httpErrorCount")&&e.uint32(72).int32(t.httpErrorCount),null!=t.multicastAddress&&Object.hasOwnProperty.call(t,"multicastAddress")&&e.uint32(82).string(t.multicastAddress),null!=t.bytesTransmitted&&Object.hasOwnProperty.call(t,"bytesTransmitted")&&e.uint32(88).int64(t.bytesTransmitted),null!=t.packetsTransmitted&&Object.hasOwnProperty.call(t,"packetsTransmitted")&&e.uint32(96).int64(t.packetsTransmitted),null!=t.fragmentsTransmitted&&Object.hasOwnProperty.call(t,"fragmentsTransmitted")&&e.uint32(104).int64(t.fragmentsTransmitted),null!=t.startTime&&Object.hasOwnProperty.call(t,"startTime")&&e.uint32(112).int64(t.startTime),null!=t.endTime&&Object.hasOwnProperty.call(t,"endTime")&&e.uint32(120).int64(t.endTime),null!=t.eventName&&Object.hasOwnProperty.call(t,"eventName")&&e.uint32(130).string(t.eventName),null!=t.rawEventId&&Object.hasOwnProperty.call(t,"rawEventId")&&e.uint32(136).int64(t.rawEventId),null!=t.senderIP&&Object.hasOwnProperty.call(t,"senderIP")&&e.uint32(146).string(t.senderIP),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.eventId&&t.hasOwnProperty("eventId")&&!c.isString(t.eventId))return"eventId: string expected";if(null!=t.eventType&&t.hasOwnProperty("eventType"))switch(t.eventType){default:return"eventType: enum value expected";case 0:case 1:case 2:}if(null!=t.eventState&&t.hasOwnProperty("eventState"))switch(t.eventState){default:return"eventState: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}return null!=t.eventManifestURL&&t.hasOwnProperty("eventManifestURL")&&!c.isString(t.eventManifestURL)?"eventManifestURL: string expected":null==t.upstreamBytesReceived||!t.hasOwnProperty("upstreamBytesReceived")||c.isInteger(t.upstreamBytesReceived)||t.upstreamBytesReceived&&c.isInteger(t.upstreamBytesReceived.low)&&c.isInteger(t.upstreamBytesReceived.high)?null==t.lastManifestLoadMs||!t.hasOwnProperty("lastManifestLoadMs")||c.isInteger(t.lastManifestLoadMs)||t.lastManifestLoadMs&&c.isInteger(t.lastManifestLoadMs.low)&&c.isInteger(t.lastManifestLoadMs.high)?null==t.lastFragmentLoadMs||!t.hasOwnProperty("lastFragmentLoadMs")||c.isInteger(t.lastFragmentLoadMs)||t.lastFragmentLoadMs&&c.isInteger(t.lastFragmentLoadMs.low)&&c.isInteger(t.lastFragmentLoadMs.high)?null!=t.httpDelayedContentCount&&t.hasOwnProperty("httpDelayedContentCount")&&!c.isInteger(t.httpDelayedContentCount)?"httpDelayedContentCount: integer expected":null!=t.httpErrorCount&&t.hasOwnProperty("httpErrorCount")&&!c.isInteger(t.httpErrorCount)?"httpErrorCount: integer expected":null!=t.multicastAddress&&t.hasOwnProperty("multicastAddress")&&!c.isString(t.multicastAddress)?"multicastAddress: string expected":null==t.bytesTransmitted||!t.hasOwnProperty("bytesTransmitted")||c.isInteger(t.bytesTransmitted)||t.bytesTransmitted&&c.isInteger(t.bytesTransmitted.low)&&c.isInteger(t.bytesTransmitted.high)?null==t.packetsTransmitted||!t.hasOwnProperty("packetsTransmitted")||c.isInteger(t.packetsTransmitted)||t.packetsTransmitted&&c.isInteger(t.packetsTransmitted.low)&&c.isInteger(t.packetsTransmitted.high)?null==t.fragmentsTransmitted||!t.hasOwnProperty("fragmentsTransmitted")||c.isInteger(t.fragmentsTransmitted)||t.fragmentsTransmitted&&c.isInteger(t.fragmentsTransmitted.low)&&c.isInteger(t.fragmentsTransmitted.high)?null==t.startTime||!t.hasOwnProperty("startTime")||c.isInteger(t.startTime)||t.startTime&&c.isInteger(t.startTime.low)&&c.isInteger(t.startTime.high)?null==t.endTime||!t.hasOwnProperty("endTime")||c.isInteger(t.endTime)||t.endTime&&c.isInteger(t.endTime.low)&&c.isInteger(t.endTime.high)?null!=t.eventName&&t.hasOwnProperty("eventName")&&!c.isString(t.eventName)?"eventName: string expected":null==t.rawEventId||!t.hasOwnProperty("rawEventId")||c.isInteger(t.rawEventId)||t.rawEventId&&c.isInteger(t.rawEventId.low)&&c.isInteger(t.rawEventId.high)?null!=t.senderIP&&t.hasOwnProperty("senderIP")&&!c.isString(t.senderIP)?"senderIP: string expected":null:"rawEventId: integer|Long expected":"endTime: integer|Long expected":"startTime: integer|Long expected":"fragmentsTransmitted: integer|Long expected":"packetsTransmitted: integer|Long expected":"bytesTransmitted: integer|Long expected":"lastFragmentLoadMs: integer|Long expected":"lastManifestLoadMs: integer|Long expected":"upstreamBytesReceived: integer|Long expected"},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.MulticastEvent)return t;var r=new e.com.ramp.analytics.proto.MulticastEvent;switch(null!=t.eventId&&(r.eventId=String(t.eventId)),t.eventType){default:"number"==typeof t.eventType&&(r.eventType=t.eventType);break;case"unknown_event_type":case 0:r.eventType=0;break;case"Live":case 1:r.eventType=1;break;case"NRT":case 2:r.eventType=2}switch(t.eventState){default:"number"==typeof t.eventState&&(r.eventState=t.eventState);break;case"unknown_event_state":case 0:r.eventState=0;break;case"Active":case 1:r.eventState=1;break;case"Standby":case 2:r.eventState=2;break;case"Error":case 3:r.eventState=3;break;case"Pending":case 4:r.eventState=4;break;case"Scheduled":case 5:r.eventState=5;break;case"Expired":case 6:r.eventState=6}return null!=t.eventManifestURL&&(r.eventManifestURL=String(t.eventManifestURL)),null!=t.upstreamBytesReceived&&(c.Long?(r.upstreamBytesReceived=c.Long.fromValue(t.upstreamBytesReceived)).unsigned=!1:"string"==typeof t.upstreamBytesReceived?r.upstreamBytesReceived=parseInt(t.upstreamBytesReceived,10):"number"==typeof t.upstreamBytesReceived?r.upstreamBytesReceived=t.upstreamBytesReceived:"object"==typeof t.upstreamBytesReceived&&(r.upstreamBytesReceived=new c.LongBits(t.upstreamBytesReceived.low>>>0,t.upstreamBytesReceived.high>>>0).toNumber())),null!=t.lastManifestLoadMs&&(c.Long?(r.lastManifestLoadMs=c.Long.fromValue(t.lastManifestLoadMs)).unsigned=!1:"string"==typeof t.lastManifestLoadMs?r.lastManifestLoadMs=parseInt(t.lastManifestLoadMs,10):"number"==typeof t.lastManifestLoadMs?r.lastManifestLoadMs=t.lastManifestLoadMs:"object"==typeof t.lastManifestLoadMs&&(r.lastManifestLoadMs=new c.LongBits(t.lastManifestLoadMs.low>>>0,t.lastManifestLoadMs.high>>>0).toNumber())),null!=t.lastFragmentLoadMs&&(c.Long?(r.lastFragmentLoadMs=c.Long.fromValue(t.lastFragmentLoadMs)).unsigned=!1:"string"==typeof t.lastFragmentLoadMs?r.lastFragmentLoadMs=parseInt(t.lastFragmentLoadMs,10):"number"==typeof t.lastFragmentLoadMs?r.lastFragmentLoadMs=t.lastFragmentLoadMs:"object"==typeof t.lastFragmentLoadMs&&(r.lastFragmentLoadMs=new c.LongBits(t.lastFragmentLoadMs.low>>>0,t.lastFragmentLoadMs.high>>>0).toNumber())),null!=t.httpDelayedContentCount&&(r.httpDelayedContentCount=0|t.httpDelayedContentCount),null!=t.httpErrorCount&&(r.httpErrorCount=0|t.httpErrorCount),null!=t.multicastAddress&&(r.multicastAddress=String(t.multicastAddress)),null!=t.bytesTransmitted&&(c.Long?(r.bytesTransmitted=c.Long.fromValue(t.bytesTransmitted)).unsigned=!1:"string"==typeof t.bytesTransmitted?r.bytesTransmitted=parseInt(t.bytesTransmitted,10):"number"==typeof t.bytesTransmitted?r.bytesTransmitted=t.bytesTransmitted:"object"==typeof t.bytesTransmitted&&(r.bytesTransmitted=new c.LongBits(t.bytesTransmitted.low>>>0,t.bytesTransmitted.high>>>0).toNumber())),null!=t.packetsTransmitted&&(c.Long?(r.packetsTransmitted=c.Long.fromValue(t.packetsTransmitted)).unsigned=!1:"string"==typeof t.packetsTransmitted?r.packetsTransmitted=parseInt(t.packetsTransmitted,10):"number"==typeof t.packetsTransmitted?r.packetsTransmitted=t.packetsTransmitted:"object"==typeof t.packetsTransmitted&&(r.packetsTransmitted=new c.LongBits(t.packetsTransmitted.low>>>0,t.packetsTransmitted.high>>>0).toNumber())),null!=t.fragmentsTransmitted&&(c.Long?(r.fragmentsTransmitted=c.Long.fromValue(t.fragmentsTransmitted)).unsigned=!1:"string"==typeof t.fragmentsTransmitted?r.fragmentsTransmitted=parseInt(t.fragmentsTransmitted,10):"number"==typeof t.fragmentsTransmitted?r.fragmentsTransmitted=t.fragmentsTransmitted:"object"==typeof t.fragmentsTransmitted&&(r.fragmentsTransmitted=new c.LongBits(t.fragmentsTransmitted.low>>>0,t.fragmentsTransmitted.high>>>0).toNumber())),null!=t.startTime&&(c.Long?(r.startTime=c.Long.fromValue(t.startTime)).unsigned=!1:"string"==typeof t.startTime?r.startTime=parseInt(t.startTime,10):"number"==typeof t.startTime?r.startTime=t.startTime:"object"==typeof t.startTime&&(r.startTime=new c.LongBits(t.startTime.low>>>0,t.startTime.high>>>0).toNumber())),null!=t.endTime&&(c.Long?(r.endTime=c.Long.fromValue(t.endTime)).unsigned=!1:"string"==typeof t.endTime?r.endTime=parseInt(t.endTime,10):"number"==typeof t.endTime?r.endTime=t.endTime:"object"==typeof t.endTime&&(r.endTime=new c.LongBits(t.endTime.low>>>0,t.endTime.high>>>0).toNumber())),null!=t.eventName&&(r.eventName=String(t.eventName)),null!=t.rawEventId&&(c.Long?(r.rawEventId=c.Long.fromValue(t.rawEventId)).unsigned=!1:"string"==typeof t.rawEventId?r.rawEventId=parseInt(t.rawEventId,10):"number"==typeof t.rawEventId?r.rawEventId=t.rawEventId:"object"==typeof t.rawEventId&&(r.rawEventId=new c.LongBits(t.rawEventId.low>>>0,t.rawEventId.high>>>0).toNumber())),null!=t.senderIP&&(r.senderIP=String(t.senderIP)),r},t.toObject=function(t,r){r||(r={});var n={};if(r.defaults){if(n.eventId="",n.eventType=r.enums===String?"unknown_event_type":0,n.eventState=r.enums===String?"unknown_event_state":0,n.eventManifestURL="",c.Long){var i=new c.Long(0,0,!1);n.upstreamBytesReceived=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.upstreamBytesReceived=r.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!1),n.lastManifestLoadMs=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.lastManifestLoadMs=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.lastFragmentLoadMs=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.lastFragmentLoadMs=r.longs===String?"0":0,n.httpDelayedContentCount=0,n.httpErrorCount=0,n.multicastAddress="",c.Long?(i=new c.Long(0,0,!1),n.bytesTransmitted=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.bytesTransmitted=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.packetsTransmitted=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.packetsTransmitted=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.fragmentsTransmitted=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.fragmentsTransmitted=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.startTime=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.startTime=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.endTime=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.endTime=r.longs===String?"0":0,n.eventName="",c.Long?(i=new c.Long(0,0,!1),n.rawEventId=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.rawEventId=r.longs===String?"0":0,n.senderIP=""}return null!=t.eventId&&t.hasOwnProperty("eventId")&&(n.eventId=t.eventId),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=r.enums===String?void 0===e.com.ramp.analytics.proto.MulticastEvent.MulticastEventType[t.eventType]?t.eventType:e.com.ramp.analytics.proto.MulticastEvent.MulticastEventType[t.eventType]:t.eventType),null!=t.eventState&&t.hasOwnProperty("eventState")&&(n.eventState=r.enums===String?void 0===e.com.ramp.analytics.proto.MulticastEvent.MulticastEventStateType[t.eventState]?t.eventState:e.com.ramp.analytics.proto.MulticastEvent.MulticastEventStateType[t.eventState]:t.eventState),null!=t.eventManifestURL&&t.hasOwnProperty("eventManifestURL")&&(n.eventManifestURL=t.eventManifestURL),null!=t.upstreamBytesReceived&&t.hasOwnProperty("upstreamBytesReceived")&&(n.upstreamBytesReceived="number"==typeof t.upstreamBytesReceived?r.longs===String?String(t.upstreamBytesReceived):t.upstreamBytesReceived:r.longs===String?c.Long.prototype.toString.call(t.upstreamBytesReceived):r.longs===Number?new c.LongBits(t.upstreamBytesReceived.low>>>0,t.upstreamBytesReceived.high>>>0).toNumber():t.upstreamBytesReceived),null!=t.lastManifestLoadMs&&t.hasOwnProperty("lastManifestLoadMs")&&(n.lastManifestLoadMs="number"==typeof t.lastManifestLoadMs?r.longs===String?String(t.lastManifestLoadMs):t.lastManifestLoadMs:r.longs===String?c.Long.prototype.toString.call(t.lastManifestLoadMs):r.longs===Number?new c.LongBits(t.lastManifestLoadMs.low>>>0,t.lastManifestLoadMs.high>>>0).toNumber():t.lastManifestLoadMs),null!=t.lastFragmentLoadMs&&t.hasOwnProperty("lastFragmentLoadMs")&&(n.lastFragmentLoadMs="number"==typeof t.lastFragmentLoadMs?r.longs===String?String(t.lastFragmentLoadMs):t.lastFragmentLoadMs:r.longs===String?c.Long.prototype.toString.call(t.lastFragmentLoadMs):r.longs===Number?new c.LongBits(t.lastFragmentLoadMs.low>>>0,t.lastFragmentLoadMs.high>>>0).toNumber():t.lastFragmentLoadMs),null!=t.httpDelayedContentCount&&t.hasOwnProperty("httpDelayedContentCount")&&(n.httpDelayedContentCount=t.httpDelayedContentCount),null!=t.httpErrorCount&&t.hasOwnProperty("httpErrorCount")&&(n.httpErrorCount=t.httpErrorCount),null!=t.multicastAddress&&t.hasOwnProperty("multicastAddress")&&(n.multicastAddress=t.multicastAddress),null!=t.bytesTransmitted&&t.hasOwnProperty("bytesTransmitted")&&(n.bytesTransmitted="number"==typeof t.bytesTransmitted?r.longs===String?String(t.bytesTransmitted):t.bytesTransmitted:r.longs===String?c.Long.prototype.toString.call(t.bytesTransmitted):r.longs===Number?new c.LongBits(t.bytesTransmitted.low>>>0,t.bytesTransmitted.high>>>0).toNumber():t.bytesTransmitted),null!=t.packetsTransmitted&&t.hasOwnProperty("packetsTransmitted")&&(n.packetsTransmitted="number"==typeof t.packetsTransmitted?r.longs===String?String(t.packetsTransmitted):t.packetsTransmitted:r.longs===String?c.Long.prototype.toString.call(t.packetsTransmitted):r.longs===Number?new c.LongBits(t.packetsTransmitted.low>>>0,t.packetsTransmitted.high>>>0).toNumber():t.packetsTransmitted),null!=t.fragmentsTransmitted&&t.hasOwnProperty("fragmentsTransmitted")&&(n.fragmentsTransmitted="number"==typeof t.fragmentsTransmitted?r.longs===String?String(t.fragmentsTransmitted):t.fragmentsTransmitted:r.longs===String?c.Long.prototype.toString.call(t.fragmentsTransmitted):r.longs===Number?new c.LongBits(t.fragmentsTransmitted.low>>>0,t.fragmentsTransmitted.high>>>0).toNumber():t.fragmentsTransmitted),null!=t.startTime&&t.hasOwnProperty("startTime")&&(n.startTime="number"==typeof t.startTime?r.longs===String?String(t.startTime):t.startTime:r.longs===String?c.Long.prototype.toString.call(t.startTime):r.longs===Number?new c.LongBits(t.startTime.low>>>0,t.startTime.high>>>0).toNumber():t.startTime),null!=t.endTime&&t.hasOwnProperty("endTime")&&(n.endTime="number"==typeof t.endTime?r.longs===String?String(t.endTime):t.endTime:r.longs===String?c.Long.prototype.toString.call(t.endTime):r.longs===Number?new c.LongBits(t.endTime.low>>>0,t.endTime.high>>>0).toNumber():t.endTime),null!=t.eventName&&t.hasOwnProperty("eventName")&&(n.eventName=t.eventName),null!=t.rawEventId&&t.hasOwnProperty("rawEventId")&&(n.rawEventId="number"==typeof t.rawEventId?r.longs===String?String(t.rawEventId):t.rawEventId:r.longs===String?c.Long.prototype.toString.call(t.rawEventId):r.longs===Number?new c.LongBits(t.rawEventId.low>>>0,t.rawEventId.high>>>0).toNumber():t.rawEventId),null!=t.senderIP&&t.hasOwnProperty("senderIP")&&(n.senderIP=t.senderIP),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.MulticastEvent"},t.MulticastEventType=function(){var t={},e=Object.create(t);return e[t[0]="unknown_event_type"]=0,e[t[1]="Live"]=1,e[t[2]="NRT"]=2,e}(),t.MulticastEventStateType=function(){var t={},e=Object.create(t);return e[t[0]="unknown_event_state"]=0,e[t[1]="Active"]=1,e[t[2]="Standby"]=2,e[t[3]="Error"]=3,e[t[4]="Pending"]=4,e[t[5]="Scheduled"]=5,e[t[6]="Expired"]=6,e}(),t}(),t.OmnicachePacket=function(){function t(t){if(this.requests=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.omnicacheIP="",t.prototype.cacheHitsBytes=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.cacheHitsBytesStreamSplit=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.cacheMissBytes=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.cacheMissBytesNotCacheable=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.requests=c.emptyArray,t.prototype.platformInformation=null,t.prototype.processInformation=null,t.create=function(e){return new t(e)},t.encode=function(t,r){if(r||(r=m.create()),null!=t.omnicacheIP&&Object.hasOwnProperty.call(t,"omnicacheIP")&&r.uint32(10).string(t.omnicacheIP),null!=t.cacheHitsBytes&&Object.hasOwnProperty.call(t,"cacheHitsBytes")&&r.uint32(16).int64(t.cacheHitsBytes),null!=t.cacheHitsBytesStreamSplit&&Object.hasOwnProperty.call(t,"cacheHitsBytesStreamSplit")&&r.uint32(24).int64(t.cacheHitsBytesStreamSplit),null!=t.cacheMissBytes&&Object.hasOwnProperty.call(t,"cacheMissBytes")&&r.uint32(32).int64(t.cacheMissBytes),null!=t.cacheMissBytesNotCacheable&&Object.hasOwnProperty.call(t,"cacheMissBytesNotCacheable")&&r.uint32(40).int64(t.cacheMissBytesNotCacheable),null!=t.requests&&t.requests.length)for(var n=0;n<t.requests.length;++n)e.com.ramp.analytics.proto.Request.encode(t.requests[n],r.uint32(50).fork()).ldelim();return null!=t.platformInformation&&Object.hasOwnProperty.call(t,"platformInformation")&&e.com.ramp.analytics.proto.PlatformInformation.encode(t.platformInformation,r.uint32(58).fork()).ldelim(),null!=t.processInformation&&Object.hasOwnProperty.call(t,"processInformation")&&e.com.ramp.analytics.proto.ProcessInformation.encode(t.processInformation,r.uint32(66).fork()).ldelim(),r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.omnicacheIP&&t.hasOwnProperty("omnicacheIP")&&!c.isString(t.omnicacheIP))return"omnicacheIP: string expected";if(null!=t.cacheHitsBytes&&t.hasOwnProperty("cacheHitsBytes")&&!(c.isInteger(t.cacheHitsBytes)||t.cacheHitsBytes&&c.isInteger(t.cacheHitsBytes.low)&&c.isInteger(t.cacheHitsBytes.high)))return"cacheHitsBytes: integer|Long expected";if(null!=t.cacheHitsBytesStreamSplit&&t.hasOwnProperty("cacheHitsBytesStreamSplit")&&!(c.isInteger(t.cacheHitsBytesStreamSplit)||t.cacheHitsBytesStreamSplit&&c.isInteger(t.cacheHitsBytesStreamSplit.low)&&c.isInteger(t.cacheHitsBytesStreamSplit.high)))return"cacheHitsBytesStreamSplit: integer|Long expected";if(null!=t.cacheMissBytes&&t.hasOwnProperty("cacheMissBytes")&&!(c.isInteger(t.cacheMissBytes)||t.cacheMissBytes&&c.isInteger(t.cacheMissBytes.low)&&c.isInteger(t.cacheMissBytes.high)))return"cacheMissBytes: integer|Long expected";if(null!=t.cacheMissBytesNotCacheable&&t.hasOwnProperty("cacheMissBytesNotCacheable")&&!(c.isInteger(t.cacheMissBytesNotCacheable)||t.cacheMissBytesNotCacheable&&c.isInteger(t.cacheMissBytesNotCacheable.low)&&c.isInteger(t.cacheMissBytesNotCacheable.high)))return"cacheMissBytesNotCacheable: integer|Long expected";if(null!=t.requests&&t.hasOwnProperty("requests")){if(!Array.isArray(t.requests))return"requests: array expected";for(var r=0;r<t.requests.length;++r){var n=e.com.ramp.analytics.proto.Request.verify(t.requests[r]);if(n)return"requests."+n}}return null!=t.platformInformation&&t.hasOwnProperty("platformInformation")&&(n=e.com.ramp.analytics.proto.PlatformInformation.verify(t.platformInformation))?"platformInformation."+n:null!=t.processInformation&&t.hasOwnProperty("processInformation")&&(n=e.com.ramp.analytics.proto.ProcessInformation.verify(t.processInformation))?"processInformation."+n:null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.OmnicachePacket)return t;var r=new e.com.ramp.analytics.proto.OmnicachePacket;if(null!=t.omnicacheIP&&(r.omnicacheIP=String(t.omnicacheIP)),null!=t.cacheHitsBytes&&(c.Long?(r.cacheHitsBytes=c.Long.fromValue(t.cacheHitsBytes)).unsigned=!1:"string"==typeof t.cacheHitsBytes?r.cacheHitsBytes=parseInt(t.cacheHitsBytes,10):"number"==typeof t.cacheHitsBytes?r.cacheHitsBytes=t.cacheHitsBytes:"object"==typeof t.cacheHitsBytes&&(r.cacheHitsBytes=new c.LongBits(t.cacheHitsBytes.low>>>0,t.cacheHitsBytes.high>>>0).toNumber())),null!=t.cacheHitsBytesStreamSplit&&(c.Long?(r.cacheHitsBytesStreamSplit=c.Long.fromValue(t.cacheHitsBytesStreamSplit)).unsigned=!1:"string"==typeof t.cacheHitsBytesStreamSplit?r.cacheHitsBytesStreamSplit=parseInt(t.cacheHitsBytesStreamSplit,10):"number"==typeof t.cacheHitsBytesStreamSplit?r.cacheHitsBytesStreamSplit=t.cacheHitsBytesStreamSplit:"object"==typeof t.cacheHitsBytesStreamSplit&&(r.cacheHitsBytesStreamSplit=new c.LongBits(t.cacheHitsBytesStreamSplit.low>>>0,t.cacheHitsBytesStreamSplit.high>>>0).toNumber())),null!=t.cacheMissBytes&&(c.Long?(r.cacheMissBytes=c.Long.fromValue(t.cacheMissBytes)).unsigned=!1:"string"==typeof t.cacheMissBytes?r.cacheMissBytes=parseInt(t.cacheMissBytes,10):"number"==typeof t.cacheMissBytes?r.cacheMissBytes=t.cacheMissBytes:"object"==typeof t.cacheMissBytes&&(r.cacheMissBytes=new c.LongBits(t.cacheMissBytes.low>>>0,t.cacheMissBytes.high>>>0).toNumber())),null!=t.cacheMissBytesNotCacheable&&(c.Long?(r.cacheMissBytesNotCacheable=c.Long.fromValue(t.cacheMissBytesNotCacheable)).unsigned=!1:"string"==typeof t.cacheMissBytesNotCacheable?r.cacheMissBytesNotCacheable=parseInt(t.cacheMissBytesNotCacheable,10):"number"==typeof t.cacheMissBytesNotCacheable?r.cacheMissBytesNotCacheable=t.cacheMissBytesNotCacheable:"object"==typeof t.cacheMissBytesNotCacheable&&(r.cacheMissBytesNotCacheable=new c.LongBits(t.cacheMissBytesNotCacheable.low>>>0,t.cacheMissBytesNotCacheable.high>>>0).toNumber())),t.requests){if(!Array.isArray(t.requests))throw TypeError(".com.ramp.analytics.proto.OmnicachePacket.requests: array expected");r.requests=[];for(var n=0;n<t.requests.length;++n){if("object"!=typeof t.requests[n])throw TypeError(".com.ramp.analytics.proto.OmnicachePacket.requests: object expected");r.requests[n]=e.com.ramp.analytics.proto.Request.fromObject(t.requests[n])}}if(null!=t.platformInformation){if("object"!=typeof t.platformInformation)throw TypeError(".com.ramp.analytics.proto.OmnicachePacket.platformInformation: object expected");r.platformInformation=e.com.ramp.analytics.proto.PlatformInformation.fromObject(t.platformInformation)}if(null!=t.processInformation){if("object"!=typeof t.processInformation)throw TypeError(".com.ramp.analytics.proto.OmnicachePacket.processInformation: object expected");r.processInformation=e.com.ramp.analytics.proto.ProcessInformation.fromObject(t.processInformation)}return r},t.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.requests=[]),r.defaults){if(n.omnicacheIP="",c.Long){var i=new c.Long(0,0,!1);n.cacheHitsBytes=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.cacheHitsBytes=r.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!1),n.cacheHitsBytesStreamSplit=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.cacheHitsBytesStreamSplit=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.cacheMissBytes=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.cacheMissBytes=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.cacheMissBytesNotCacheable=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.cacheMissBytesNotCacheable=r.longs===String?"0":0,n.platformInformation=null,n.processInformation=null}if(null!=t.omnicacheIP&&t.hasOwnProperty("omnicacheIP")&&(n.omnicacheIP=t.omnicacheIP),null!=t.cacheHitsBytes&&t.hasOwnProperty("cacheHitsBytes")&&(n.cacheHitsBytes="number"==typeof t.cacheHitsBytes?r.longs===String?String(t.cacheHitsBytes):t.cacheHitsBytes:r.longs===String?c.Long.prototype.toString.call(t.cacheHitsBytes):r.longs===Number?new c.LongBits(t.cacheHitsBytes.low>>>0,t.cacheHitsBytes.high>>>0).toNumber():t.cacheHitsBytes),null!=t.cacheHitsBytesStreamSplit&&t.hasOwnProperty("cacheHitsBytesStreamSplit")&&(n.cacheHitsBytesStreamSplit="number"==typeof t.cacheHitsBytesStreamSplit?r.longs===String?String(t.cacheHitsBytesStreamSplit):t.cacheHitsBytesStreamSplit:r.longs===String?c.Long.prototype.toString.call(t.cacheHitsBytesStreamSplit):r.longs===Number?new c.LongBits(t.cacheHitsBytesStreamSplit.low>>>0,t.cacheHitsBytesStreamSplit.high>>>0).toNumber():t.cacheHitsBytesStreamSplit),null!=t.cacheMissBytes&&t.hasOwnProperty("cacheMissBytes")&&(n.cacheMissBytes="number"==typeof t.cacheMissBytes?r.longs===String?String(t.cacheMissBytes):t.cacheMissBytes:r.longs===String?c.Long.prototype.toString.call(t.cacheMissBytes):r.longs===Number?new c.LongBits(t.cacheMissBytes.low>>>0,t.cacheMissBytes.high>>>0).toNumber():t.cacheMissBytes),null!=t.cacheMissBytesNotCacheable&&t.hasOwnProperty("cacheMissBytesNotCacheable")&&(n.cacheMissBytesNotCacheable="number"==typeof t.cacheMissBytesNotCacheable?r.longs===String?String(t.cacheMissBytesNotCacheable):t.cacheMissBytesNotCacheable:r.longs===String?c.Long.prototype.toString.call(t.cacheMissBytesNotCacheable):r.longs===Number?new c.LongBits(t.cacheMissBytesNotCacheable.low>>>0,t.cacheMissBytesNotCacheable.high>>>0).toNumber():t.cacheMissBytesNotCacheable),t.requests&&t.requests.length)for(n.requests=[],i=0;i<t.requests.length;++i)n.requests[i]=e.com.ramp.analytics.proto.Request.toObject(t.requests[i],r);return null!=t.platformInformation&&t.hasOwnProperty("platformInformation")&&(n.platformInformation=e.com.ramp.analytics.proto.PlatformInformation.toObject(t.platformInformation,r)),null!=t.processInformation&&t.hasOwnProperty("processInformation")&&(n.processInformation=e.com.ramp.analytics.proto.ProcessInformation.toObject(t.processInformation,r)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.OmnicachePacket"},t}(),t.Request=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.requestURL="",t.prototype.requestStart=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.requestEnd=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.responseHTTPStatus=0,t.prototype.responseCacheStatus="",t.prototype.responseBytes=0,t.prototype.requestorIP="",t.prototype.pluginUuid=null,t.prototype.requestorOs="",t.prototype.requestorBrowser="",t.create=function(e){return new t(e)},t.encode=function(t,r){return r||(r=m.create()),null!=t.requestURL&&Object.hasOwnProperty.call(t,"requestURL")&&r.uint32(10).string(t.requestURL),null!=t.requestStart&&Object.hasOwnProperty.call(t,"requestStart")&&r.uint32(16).int64(t.requestStart),null!=t.requestEnd&&Object.hasOwnProperty.call(t,"requestEnd")&&r.uint32(24).int64(t.requestEnd),null!=t.responseHTTPStatus&&Object.hasOwnProperty.call(t,"responseHTTPStatus")&&r.uint32(32).int32(t.responseHTTPStatus),null!=t.responseCacheStatus&&Object.hasOwnProperty.call(t,"responseCacheStatus")&&r.uint32(42).string(t.responseCacheStatus),null!=t.responseBytes&&Object.hasOwnProperty.call(t,"responseBytes")&&r.uint32(48).int32(t.responseBytes),null!=t.requestorIP&&Object.hasOwnProperty.call(t,"requestorIP")&&r.uint32(58).string(t.requestorIP),null!=t.pluginUuid&&Object.hasOwnProperty.call(t,"pluginUuid")&&e.com.ramp.analytics.proto.UUID.encode(t.pluginUuid,r.uint32(66).fork()).ldelim(),null!=t.requestorOs&&Object.hasOwnProperty.call(t,"requestorOs")&&r.uint32(74).string(t.requestorOs),null!=t.requestorBrowser&&Object.hasOwnProperty.call(t,"requestorBrowser")&&r.uint32(82).string(t.requestorBrowser),r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.requestURL&&t.hasOwnProperty("requestURL")&&!c.isString(t.requestURL))return"requestURL: string expected";if(null!=t.requestStart&&t.hasOwnProperty("requestStart")&&!(c.isInteger(t.requestStart)||t.requestStart&&c.isInteger(t.requestStart.low)&&c.isInteger(t.requestStart.high)))return"requestStart: integer|Long expected";if(null!=t.requestEnd&&t.hasOwnProperty("requestEnd")&&!(c.isInteger(t.requestEnd)||t.requestEnd&&c.isInteger(t.requestEnd.low)&&c.isInteger(t.requestEnd.high)))return"requestEnd: integer|Long expected";if(null!=t.responseHTTPStatus&&t.hasOwnProperty("responseHTTPStatus")&&!c.isInteger(t.responseHTTPStatus))return"responseHTTPStatus: integer expected";if(null!=t.responseCacheStatus&&t.hasOwnProperty("responseCacheStatus")&&!c.isString(t.responseCacheStatus))return"responseCacheStatus: string expected";if(null!=t.responseBytes&&t.hasOwnProperty("responseBytes")&&!c.isInteger(t.responseBytes))return"responseBytes: integer expected";if(null!=t.requestorIP&&t.hasOwnProperty("requestorIP")&&!c.isString(t.requestorIP))return"requestorIP: string expected";if(null!=t.pluginUuid&&t.hasOwnProperty("pluginUuid")){var r=e.com.ramp.analytics.proto.UUID.verify(t.pluginUuid);if(r)return"pluginUuid."+r}return null!=t.requestorOs&&t.hasOwnProperty("requestorOs")&&!c.isString(t.requestorOs)?"requestorOs: string expected":null!=t.requestorBrowser&&t.hasOwnProperty("requestorBrowser")&&!c.isString(t.requestorBrowser)?"requestorBrowser: string expected":null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.Request)return t;var r=new e.com.ramp.analytics.proto.Request;if(null!=t.requestURL&&(r.requestURL=String(t.requestURL)),null!=t.requestStart&&(c.Long?(r.requestStart=c.Long.fromValue(t.requestStart)).unsigned=!1:"string"==typeof t.requestStart?r.requestStart=parseInt(t.requestStart,10):"number"==typeof t.requestStart?r.requestStart=t.requestStart:"object"==typeof t.requestStart&&(r.requestStart=new c.LongBits(t.requestStart.low>>>0,t.requestStart.high>>>0).toNumber())),null!=t.requestEnd&&(c.Long?(r.requestEnd=c.Long.fromValue(t.requestEnd)).unsigned=!1:"string"==typeof t.requestEnd?r.requestEnd=parseInt(t.requestEnd,10):"number"==typeof t.requestEnd?r.requestEnd=t.requestEnd:"object"==typeof t.requestEnd&&(r.requestEnd=new c.LongBits(t.requestEnd.low>>>0,t.requestEnd.high>>>0).toNumber())),null!=t.responseHTTPStatus&&(r.responseHTTPStatus=0|t.responseHTTPStatus),null!=t.responseCacheStatus&&(r.responseCacheStatus=String(t.responseCacheStatus)),null!=t.responseBytes&&(r.responseBytes=0|t.responseBytes),null!=t.requestorIP&&(r.requestorIP=String(t.requestorIP)),null!=t.pluginUuid){if("object"!=typeof t.pluginUuid)throw TypeError(".com.ramp.analytics.proto.Request.pluginUuid: object expected");r.pluginUuid=e.com.ramp.analytics.proto.UUID.fromObject(t.pluginUuid)}return null!=t.requestorOs&&(r.requestorOs=String(t.requestorOs)),null!=t.requestorBrowser&&(r.requestorBrowser=String(t.requestorBrowser)),r},t.toObject=function(t,r){r||(r={});var n={};if(r.defaults){if(n.requestURL="",c.Long){var i=new c.Long(0,0,!1);n.requestStart=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.requestStart=r.longs===String?"0":0;c.Long?(i=new c.Long(0,0,!1),n.requestEnd=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.requestEnd=r.longs===String?"0":0,n.responseHTTPStatus=0,n.responseCacheStatus="",n.responseBytes=0,n.requestorIP="",n.pluginUuid=null,n.requestorOs="",n.requestorBrowser=""}return null!=t.requestURL&&t.hasOwnProperty("requestURL")&&(n.requestURL=t.requestURL),null!=t.requestStart&&t.hasOwnProperty("requestStart")&&(n.requestStart="number"==typeof t.requestStart?r.longs===String?String(t.requestStart):t.requestStart:r.longs===String?c.Long.prototype.toString.call(t.requestStart):r.longs===Number?new c.LongBits(t.requestStart.low>>>0,t.requestStart.high>>>0).toNumber():t.requestStart),null!=t.requestEnd&&t.hasOwnProperty("requestEnd")&&(n.requestEnd="number"==typeof t.requestEnd?r.longs===String?String(t.requestEnd):t.requestEnd:r.longs===String?c.Long.prototype.toString.call(t.requestEnd):r.longs===Number?new c.LongBits(t.requestEnd.low>>>0,t.requestEnd.high>>>0).toNumber():t.requestEnd),null!=t.responseHTTPStatus&&t.hasOwnProperty("responseHTTPStatus")&&(n.responseHTTPStatus=t.responseHTTPStatus),null!=t.responseCacheStatus&&t.hasOwnProperty("responseCacheStatus")&&(n.responseCacheStatus=t.responseCacheStatus),null!=t.responseBytes&&t.hasOwnProperty("responseBytes")&&(n.responseBytes=t.responseBytes),null!=t.requestorIP&&t.hasOwnProperty("requestorIP")&&(n.requestorIP=t.requestorIP),null!=t.pluginUuid&&t.hasOwnProperty("pluginUuid")&&(n.pluginUuid=e.com.ramp.analytics.proto.UUID.toObject(t.pluginUuid,r)),null!=t.requestorOs&&t.hasOwnProperty("requestorOs")&&(n.requestorOs=t.requestorOs),null!=t.requestorBrowser&&t.hasOwnProperty("requestorBrowser")&&(n.requestorBrowser=t.requestorBrowser),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.Request"},t}(),t.PluginPacket=function(){function t(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)null!=t[e[r]]&&(this[e[r]]=t[e[r]])}return t.prototype.eventId="",t.prototype.receiverGuid=null,t.prototype.source=0,t.prototype.bytesReceived=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.bufferingEvents=0,t.prototype.bitrate=0,t.prototype.platformBrowser="",t.prototype.pluginOS="",t.prototype.domain="",t.prototype.pluginLoadGuid=null,t.prototype.pluginLocalIp="",t.prototype.pluginExternalIp="",t.prototype.manifestUrl="",t.prototype.effectiveManifestUrl="",t.prototype.eventName="",t.prototype.eventStartTime=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.eventEndTime=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.eventType=0,t.prototype.eventState=0,t.create=function(e){return new t(e)},t.encode=function(t,r){return r||(r=m.create()),null!=t.eventId&&Object.hasOwnProperty.call(t,"eventId")&&r.uint32(10).string(t.eventId),null!=t.receiverGuid&&Object.hasOwnProperty.call(t,"receiverGuid")&&e.com.ramp.analytics.proto.UUID.encode(t.receiverGuid,r.uint32(18).fork()).ldelim(),null!=t.source&&Object.hasOwnProperty.call(t,"source")&&r.uint32(24).int32(t.source),null!=t.bytesReceived&&Object.hasOwnProperty.call(t,"bytesReceived")&&r.uint32(32).int64(t.bytesReceived),null!=t.bufferingEvents&&Object.hasOwnProperty.call(t,"bufferingEvents")&&r.uint32(40).int32(t.bufferingEvents),null!=t.bitrate&&Object.hasOwnProperty.call(t,"bitrate")&&r.uint32(48).int32(t.bitrate),null!=t.platformBrowser&&Object.hasOwnProperty.call(t,"platformBrowser")&&r.uint32(58).string(t.platformBrowser),null!=t.pluginOS&&Object.hasOwnProperty.call(t,"pluginOS")&&r.uint32(66).string(t.pluginOS),null!=t.domain&&Object.hasOwnProperty.call(t,"domain")&&r.uint32(74).string(t.domain),null!=t.pluginLoadGuid&&Object.hasOwnProperty.call(t,"pluginLoadGuid")&&e.com.ramp.analytics.proto.UUID.encode(t.pluginLoadGuid,r.uint32(82).fork()).ldelim(),null!=t.pluginLocalIp&&Object.hasOwnProperty.call(t,"pluginLocalIp")&&r.uint32(90).string(t.pluginLocalIp),null!=t.pluginExternalIp&&Object.hasOwnProperty.call(t,"pluginExternalIp")&&r.uint32(98).string(t.pluginExternalIp),null!=t.manifestUrl&&Object.hasOwnProperty.call(t,"manifestUrl")&&r.uint32(106).string(t.manifestUrl),null!=t.effectiveManifestUrl&&Object.hasOwnProperty.call(t,"effectiveManifestUrl")&&r.uint32(114).string(t.effectiveManifestUrl),null!=t.eventName&&Object.hasOwnProperty.call(t,"eventName")&&r.uint32(122).string(t.eventName),null!=t.eventStartTime&&Object.hasOwnProperty.call(t,"eventStartTime")&&r.uint32(128).int64(t.eventStartTime),null!=t.eventEndTime&&Object.hasOwnProperty.call(t,"eventEndTime")&&r.uint32(136).int64(t.eventEndTime),null!=t.eventType&&Object.hasOwnProperty.call(t,"eventType")&&r.uint32(144).int32(t.eventType),null!=t.eventState&&Object.hasOwnProperty.call(t,"eventState")&&r.uint32(152).int32(t.eventState),r},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.verify=function(t){if("object"!=typeof t||null===t)return"object expected";if(null!=t.eventId&&t.hasOwnProperty("eventId")&&!c.isString(t.eventId))return"eventId: string expected";if(null!=t.receiverGuid&&t.hasOwnProperty("receiverGuid")){var r=e.com.ramp.analytics.proto.UUID.verify(t.receiverGuid);if(r)return"receiverGuid."+r}if(null!=t.source&&t.hasOwnProperty("source"))switch(t.source){default:return"source: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=t.bytesReceived&&t.hasOwnProperty("bytesReceived")&&!(c.isInteger(t.bytesReceived)||t.bytesReceived&&c.isInteger(t.bytesReceived.low)&&c.isInteger(t.bytesReceived.high)))return"bytesReceived: integer|Long expected";if(null!=t.bufferingEvents&&t.hasOwnProperty("bufferingEvents")&&!c.isInteger(t.bufferingEvents))return"bufferingEvents: integer expected";if(null!=t.bitrate&&t.hasOwnProperty("bitrate")&&!c.isInteger(t.bitrate))return"bitrate: integer expected";if(null!=t.platformBrowser&&t.hasOwnProperty("platformBrowser")&&!c.isString(t.platformBrowser))return"platformBrowser: string expected";if(null!=t.pluginOS&&t.hasOwnProperty("pluginOS")&&!c.isString(t.pluginOS))return"pluginOS: string expected";if(null!=t.domain&&t.hasOwnProperty("domain")&&!c.isString(t.domain))return"domain: string expected";if(null!=t.pluginLoadGuid&&t.hasOwnProperty("pluginLoadGuid")&&(r=e.com.ramp.analytics.proto.UUID.verify(t.pluginLoadGuid)))return"pluginLoadGuid."+r;if(null!=t.pluginLocalIp&&t.hasOwnProperty("pluginLocalIp")&&!c.isString(t.pluginLocalIp))return"pluginLocalIp: string expected";if(null!=t.pluginExternalIp&&t.hasOwnProperty("pluginExternalIp")&&!c.isString(t.pluginExternalIp))return"pluginExternalIp: string expected";if(null!=t.manifestUrl&&t.hasOwnProperty("manifestUrl")&&!c.isString(t.manifestUrl))return"manifestUrl: string expected";if(null!=t.effectiveManifestUrl&&t.hasOwnProperty("effectiveManifestUrl")&&!c.isString(t.effectiveManifestUrl))return"effectiveManifestUrl: string expected";if(null!=t.eventName&&t.hasOwnProperty("eventName")&&!c.isString(t.eventName))return"eventName: string expected";if(null!=t.eventStartTime&&t.hasOwnProperty("eventStartTime")&&!(c.isInteger(t.eventStartTime)||t.eventStartTime&&c.isInteger(t.eventStartTime.low)&&c.isInteger(t.eventStartTime.high)))return"eventStartTime: integer|Long expected";if(null!=t.eventEndTime&&t.hasOwnProperty("eventEndTime")&&!(c.isInteger(t.eventEndTime)||t.eventEndTime&&c.isInteger(t.eventEndTime.low)&&c.isInteger(t.eventEndTime.high)))return"eventEndTime: integer|Long expected";if(null!=t.eventType&&t.hasOwnProperty("eventType"))switch(t.eventType){default:return"eventType: enum value expected";case 0:case 1:case 2:case 3:}if(null!=t.eventState&&t.hasOwnProperty("eventState"))switch(t.eventState){default:return"eventState: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}return null},t.fromObject=function(t){if(t instanceof e.com.ramp.analytics.proto.PluginPacket)return t;var r=new e.com.ramp.analytics.proto.PluginPacket;if(null!=t.eventId&&(r.eventId=String(t.eventId)),null!=t.receiverGuid){if("object"!=typeof t.receiverGuid)throw TypeError(".com.ramp.analytics.proto.PluginPacket.receiverGuid: object expected");r.receiverGuid=e.com.ramp.analytics.proto.UUID.fromObject(t.receiverGuid)}switch(t.source){default:"number"==typeof t.source&&(r.source=t.source);break;case"unknown_stream_type":case 0:r.source=0;break;case"receiver":case 1:r.source=1;break;case"omnicache":case 2:r.source=2;break;case"p2p":case 3:r.source=3;break;case"direct":case 4:r.source=4;break;case"omnicache_p2p":case 5:r.source=5}if(null!=t.bytesReceived&&(c.Long?(r.bytesReceived=c.Long.fromValue(t.bytesReceived)).unsigned=!1:"string"==typeof t.bytesReceived?r.bytesReceived=parseInt(t.bytesReceived,10):"number"==typeof t.bytesReceived?r.bytesReceived=t.bytesReceived:"object"==typeof t.bytesReceived&&(r.bytesReceived=new c.LongBits(t.bytesReceived.low>>>0,t.bytesReceived.high>>>0).toNumber())),null!=t.bufferingEvents&&(r.bufferingEvents=0|t.bufferingEvents),null!=t.bitrate&&(r.bitrate=0|t.bitrate),null!=t.platformBrowser&&(r.platformBrowser=String(t.platformBrowser)),null!=t.pluginOS&&(r.pluginOS=String(t.pluginOS)),null!=t.domain&&(r.domain=String(t.domain)),null!=t.pluginLoadGuid){if("object"!=typeof t.pluginLoadGuid)throw TypeError(".com.ramp.analytics.proto.PluginPacket.pluginLoadGuid: object expected");r.pluginLoadGuid=e.com.ramp.analytics.proto.UUID.fromObject(t.pluginLoadGuid)}switch(null!=t.pluginLocalIp&&(r.pluginLocalIp=String(t.pluginLocalIp)),null!=t.pluginExternalIp&&(r.pluginExternalIp=String(t.pluginExternalIp)),null!=t.manifestUrl&&(r.manifestUrl=String(t.manifestUrl)),null!=t.effectiveManifestUrl&&(r.effectiveManifestUrl=String(t.effectiveManifestUrl)),null!=t.eventName&&(r.eventName=String(t.eventName)),null!=t.eventStartTime&&(c.Long?(r.eventStartTime=c.Long.fromValue(t.eventStartTime)).unsigned=!1:"string"==typeof t.eventStartTime?r.eventStartTime=parseInt(t.eventStartTime,10):"number"==typeof t.eventStartTime?r.eventStartTime=t.eventStartTime:"object"==typeof t.eventStartTime&&(r.eventStartTime=new c.LongBits(t.eventStartTime.low>>>0,t.eventStartTime.high>>>0).toNumber())),null!=t.eventEndTime&&(c.Long?(r.eventEndTime=c.Long.fromValue(t.eventEndTime)).unsigned=!1:"string"==typeof t.eventEndTime?r.eventEndTime=parseInt(t.eventEndTime,10):"number"==typeof t.eventEndTime?r.eventEndTime=t.eventEndTime:"object"==typeof t.eventEndTime&&(r.eventEndTime=new c.LongBits(t.eventEndTime.low>>>0,t.eventEndTime.high>>>0).toNumber())),t.eventType){default:"number"==typeof t.eventType&&(r.eventType=t.eventType);break;case"unknown_event_type":case 0:r.eventType=0;break;case"multicast":case 1:r.eventType=1;break;case"microsoft_stream":case 2:r.eventType=2;break;case"microsoft_teams":case 3:r.eventType=3}switch(t.eventState){default:"number"==typeof t.eventState&&(r.eventState=t.eventState);break;case"unknown_event_state":case 0:r.eventState=0;break;case"Active":case 1:r.eventState=1;break;case"Standby":case 2:r.eventState=2;break;case"Error":case 3:r.eventState=3;break;case"Pending":case 4:r.eventState=4;break;case"Scheduled":case 5:r.eventState=5;break;case"Expired":case 6:r.eventState=6}return r},t.toObject=function(t,r){r||(r={});var n={};if(r.defaults){if(n.eventId="",n.receiverGuid=null,n.source=r.enums===String?"unknown_stream_type":0,c.Long){var i=new c.Long(0,0,!1);n.bytesReceived=r.longs===String?i.toString():r.longs===Number?i.toNumber():i}else n.bytesReceived=r.longs===String?"0":0;n.bufferingEvents=0,n.bitrate=0,n.platformBrowser="",n.pluginOS="",n.domain="",n.pluginLoadGuid=null,n.pluginLocalIp="",n.pluginExternalIp="",n.manifestUrl="",n.effectiveManifestUrl="",n.eventName="",c.Long?(i=new c.Long(0,0,!1),n.eventStartTime=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.eventStartTime=r.longs===String?"0":0,c.Long?(i=new c.Long(0,0,!1),n.eventEndTime=r.longs===String?i.toString():r.longs===Number?i.toNumber():i):n.eventEndTime=r.longs===String?"0":0,n.eventType=r.enums===String?"unknown_event_type":0,n.eventState=r.enums===String?"unknown_event_state":0}return null!=t.eventId&&t.hasOwnProperty("eventId")&&(n.eventId=t.eventId),null!=t.receiverGuid&&t.hasOwnProperty("receiverGuid")&&(n.receiverGuid=e.com.ramp.analytics.proto.UUID.toObject(t.receiverGuid,r)),null!=t.source&&t.hasOwnProperty("source")&&(n.source=r.enums===String?void 0===e.com.ramp.analytics.proto.PluginPacket.PluginEventStreamType[t.source]?t.source:e.com.ramp.analytics.proto.PluginPacket.PluginEventStreamType[t.source]:t.source),null!=t.bytesReceived&&t.hasOwnProperty("bytesReceived")&&(n.bytesReceived="number"==typeof t.bytesReceived?r.longs===String?String(t.bytesReceived):t.bytesReceived:r.longs===String?c.Long.prototype.toString.call(t.bytesReceived):r.longs===Number?new c.LongBits(t.bytesReceived.low>>>0,t.bytesReceived.high>>>0).toNumber():t.bytesReceived),null!=t.bufferingEvents&&t.hasOwnProperty("bufferingEvents")&&(n.bufferingEvents=t.bufferingEvents),null!=t.bitrate&&t.hasOwnProperty("bitrate")&&(n.bitrate=t.bitrate),null!=t.platformBrowser&&t.hasOwnProperty("platformBrowser")&&(n.platformBrowser=t.platformBrowser),null!=t.pluginOS&&t.hasOwnProperty("pluginOS")&&(n.pluginOS=t.pluginOS),null!=t.domain&&t.hasOwnProperty("domain")&&(n.domain=t.domain),null!=t.pluginLoadGuid&&t.hasOwnProperty("pluginLoadGuid")&&(n.pluginLoadGuid=e.com.ramp.analytics.proto.UUID.toObject(t.pluginLoadGuid,r)),null!=t.pluginLocalIp&&t.hasOwnProperty("pluginLocalIp")&&(n.pluginLocalIp=t.pluginLocalIp),null!=t.pluginExternalIp&&t.hasOwnProperty("pluginExternalIp")&&(n.pluginExternalIp=t.pluginExternalIp),null!=t.manifestUrl&&t.hasOwnProperty("manifestUrl")&&(n.manifestUrl=t.manifestUrl),null!=t.effectiveManifestUrl&&t.hasOwnProperty("effectiveManifestUrl")&&(n.effectiveManifestUrl=t.effectiveManifestUrl),null!=t.eventName&&t.hasOwnProperty("eventName")&&(n.eventName=t.eventName),null!=t.eventStartTime&&t.hasOwnProperty("eventStartTime")&&(n.eventStartTime="number"==typeof t.eventStartTime?r.longs===String?String(t.eventStartTime):t.eventStartTime:r.longs===String?c.Long.prototype.toString.call(t.eventStartTime):r.longs===Number?new c.LongBits(t.eventStartTime.low>>>0,t.eventStartTime.high>>>0).toNumber():t.eventStartTime),null!=t.eventEndTime&&t.hasOwnProperty("eventEndTime")&&(n.eventEndTime="number"==typeof t.eventEndTime?r.longs===String?String(t.eventEndTime):t.eventEndTime:r.longs===String?c.Long.prototype.toString.call(t.eventEndTime):r.longs===Number?new c.LongBits(t.eventEndTime.low>>>0,t.eventEndTime.high>>>0).toNumber():t.eventEndTime),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=r.enums===String?void 0===e.com.ramp.analytics.proto.PluginPacket.PluginEventType[t.eventType]?t.eventType:e.com.ramp.analytics.proto.PluginPacket.PluginEventType[t.eventType]:t.eventType),null!=t.eventState&&t.hasOwnProperty("eventState")&&(n.eventState=r.enums===String?void 0===e.com.ramp.analytics.proto.PluginPacket.PluginEventStateType[t.eventState]?t.eventState:e.com.ramp.analytics.proto.PluginPacket.PluginEventStateType[t.eventState]:t.eventState),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,k.util.toJSONOptions)},t.getTypeUrl=function(t){return void 0===t&&(t="type.googleapis.com"),t+"/com.ramp.analytics.proto.PluginPacket"},t.PluginEventStreamType=function(){var t={},e=Object.create(t);return e[t[0]="unknown_stream_type"]=0,e[t[1]="receiver"]=1,e[t[2]="omnicache"]=2,e[t[3]="p2p"]=3,e[t[4]="direct"]=4,e[t[5]="omnicache_p2p"]=5,e}(),t.PluginEventType=function(){var t={},e=Object.create(t);return e[t[0]="unknown_event_type"]=0,e[t[1]="multicast"]=1,e[t[2]="microsoft_stream"]=2,e[t[3]="microsoft_teams"]=3,e}(),t.PluginEventStateType=function(){var t={},e=Object.create(t);return e[t[0]="unknown_event_state"]=0,e[t[1]="Active"]=1,e[t[2]="Standby"]=2,e[t[3]="Error"]=3,e[t[4]="Pending"]=4,e[t[5]="Scheduled"]=5,e[t[6]="Expired"]=6,e}(),t}(),t}(),t}(),a),f),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["buffering.js"]="$Change$ $Revision$ $DateTime$",function(t){let e=t.Util||(t.Util={}),r=e.RangeLog=function(t,e){this.index=r.unique++,this.label=t||"RL"+this.index,this.reset(),this.buildDisplay(e)};r.unique=0,r.blocks=[],r.putBlock=function(t){r.blocks.push(t.parentElement.removeChild(t))},r.getBlock=function(t,e,n){let i=r.blocks.length&&r.blocks.shift();return i||(i=document.createElement("div"),i.className="range_block_segment"),i.style.width=t,i.style.left=e,i.style.backgroundColor=n||"",i},r.styleId="range_style";var n=document.head.querySelector("#"+r.styleId);n||((n=document.createElement("style")).id=r.styleId,document.head.appendChild(n),(n=n.sheet).insertRule(".range_top_fixed {position:fixed;}"),n.insertRule(".range_top_rel {position:relative;}"),n.insertRule(".range_top {top:0px;left:0px;width:100%;background-color:#ffafaf;z-index:10000;}"),n.insertRule(".range_block {position:relative;width:100%;height:20px;}"),n.insertRule(".range_block_inner {position:relative;width:100%;height:100%;background-color:#ff0000}"),n.insertRule(".range_block_segment {position:absolute;top:0px;left:0px;width:0;height:100%;background-color:#00ff00}"),n.insertRule(".range_block_label {position:absolute;top:0px;right:0px;color:#000000;font-family:sans-serif;font-size:12px;}")),r.createDefaultBlock=function(t){var e=t||document.body;t=document.createElement("div"),e.appendChild(t),t.className="range_top "+(e===document.body?"range_top_fixed":"range_top_rel"),(e=document.createElement("div")).className="range_block",t.appendChild(e);let r=document.createElement("div");return r.className="range_block",t.appendChild(r),{outer:t,inner1:e,inner2:r}},r.prototype={reset:function(){this.last=[],this.calcMin=this.calcMax=this.min=this.max=-1,this.length=this.calcLength=0},buildDisplay:function(t){let e;t&&(e=document.createElement("div"),e.className="range_block_inner",t.appendChild(e)),this.el=e},update:function(t){let e,r;for(this.reset(),e=0;e<t.length;e++)this.last.push({start:t.start(e),end:t.end(e)}),r=this.last[e],(0>this.min||r.start<this.min)&&(this.min=r.start),(0>this.max||r.end>this.max)&&(this.max=r.end),(0>this.calcMin||r.start<this.calcMin)&&(this.calcMin=r.start),(0>this.calcMax||r.end>this.calcMax)&&(this.calcMax=r.end);this.length=this.max-this.min,this.calcLength=this.calcMax-this.calcMin},show:function(t,e){if(this.el){let i=this.el,s=e||this,o=this.last,a=s.length||1,l=this.calcMax,u=this.calcLength;var n=i.querySelectorAll(".range_block_segment");for(e=0;e<n.length;e++)r.putBlock(n[e]);for(e=0;e<o.length;e++)n=o[e],i.appendChild(r.getBlock(100*(n.end-n.start)/a+"%",100*(n.start-s.min)/a+"%")),t&&t>=n.start&&t<=n.end&&(i.appendChild(r.getBlock("1px",100*(t-s.min)/a+"%","#000000")),l=n.end,u=n.end-n.start);(n=i.querySelector(".range_block_label"))||((n=document.createElement("div")).className="range_block_label"),n.innerHTML=(this.label||"")+" "+u.toFixed(3)+" ["+(l-t).toFixed(3),i.appendChild(n)}}};let i=e.BufferTracker=function(t,e){this.index=i.unique++,this.callbacks=[],this.timerInterval=2e3,this.events=[],i.instances.push(this),this.debug=!!e,this.hud=e?i.createHUD(!0===e?null:e,this):null,this.init(t)};i.prototype={reset:function(){this.playerType=e.BufferTracker.playerType,this.stats={start:{},end:{}},this.queue=[],this.eventQ=[],this.seek=-1,this.warn=0,this.wait="",this.buffering={count:0,time:{start:0,end:0,duration:0,total:0},play:{start:0,end:0,duration:0,total:0}},this.last={readyState:0,networkState:0,event:"",currentTime:0,timeStamp:0,goodTime:0},this.bufferLog&&this.bufferLog.reset(),this.playLog&&this.playLog.reset()},init:function(t){if(this.reset(),t?t instanceof HTMLElement?t instanceof HTMLVideoElement?(this.searchParent&&(this.searchParent=this.verifyParent(t)),this.searchParent||(this.searchParent=document.documentElement)):(this.searchParent=t,t=null):t=null:this.searchParent||(this.searchParent=document.documentElement),t||(t=(t=this.searchParent.querySelectorAll("video")).length?t[0]:null),t&&t instanceof HTMLVideoElement){let e=this,n=this.listen.bind(this);this.el=t,this.parent=t.parentElement,this.bufferLog||(this.bufferLog=new r("buff",this.hud&&this.hud.block.inner1)),this.playLog||(this.playLog=new r("play",this.hud&&this.hud.block.inner2)),this.sample(),"abort canplay canplaythrough durationchange emptied ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting bufferingstart bufferingend".split(" ").forEach((function(t){e.events.push({object:e.el,type:t,handler:n}),e.el.addEventListener(t,n,!1)})),this.player&&!this.player._detected||(this.player=this.isAMP()),this.player||(this.player=this.isVideoJS())}else this.el=this.parent=this.playerType=this.player=null;this.startPolling(2e3)},deinit:function(t){if(t=t||0,this.stopPolling(),this.reset(),0<t&&(delete this.bufferLog,delete this.playLog,this.bufferLog=this.playLog=null,this.hud&&(this.hud.container.parentElement.removeChild(this.hud.container),delete this.hud.container,this.hud=null),1<t)){let e;for(;this.events.length;)e=this.events.pop(),e.object.removeEventListener(e.type,e.handler,!1);if(this.el=this.player=this.parent=this.searchParent=null,2<t)for(e=0;e<i.instances.length;e++)if(i.instances[e]===this){setTimeout((function(){delete i.instances[e],i.instances.splice(e,1)}),100);break}}},verifyParent:function(t){for(t=t.parentElement;t&&t!==this.searchParent;)t=t.parentElement;return t},isAMP:function(){let e;var r="amp"in t&&t.amp;if(r){var n=r.players,i=Object.keys(n);for(r=0;r<i.length;r++)if(e=n[i[r]],0===this.el.id.indexOf(e.id_)){let t=this.el,s=3;for(;0<s&&t&&e.el_!==t;)t=t.parentElement,s--;if(0<s){let t=this;i=this.ampListen.bind(this),r=this.events.length,this.events.push({object:e,type:"waiting",handler:i}),n=this.events[r],e.addEventListener(n.type,n.handler,!1),r++,this.events.push({object:e,type:"resume",handler:i}),n=this.events[r],e.addEventListener(n.type,n.handler,!1),r++,this.lastBitrate=e.currentPlaybackBitrate(),this.events.push({object:e,type:"playbackbitratechanged",handler:function(r){t.lastBitrate=e.currentPlaybackBitrate(),t.applyCallbacks({type:"bitratechanged",bitrate:t.lastBitrate})}}),n=this.events[r],e.addEventListener(n.type,n.handler,!1),this.lastBitrate&&this.applyCallbacks({type:"bitratechanged",bitrate:t.lastBitrate}),e._detected=!0;break}e=void 0}else e=void 0}return e},ampListen:function(t){return this.el&&this.el.dispatchEvent(new Event("buffering"+("waiting"==t.type?"start":"end"))),!1},isVideoJS:function(){let e;var r="videojs"in t&&t.videojs;if(r){let t=r.players,n=Object.keys(t);for(r=0;r<n.length;r++)if(e=t[n[r]],0===this.el.id.indexOf(e.id_)){let t=this.el,r=10;for(;0<r&&t&&e.el_!==t;)t=t.parentElement,r--;if(0<r){let t,r,n,i=this;try{n=e.tech_.vhs||e.tech_.hls||e.tech_.dash,t=this.events.length,this.lastBitrate=n&&n.masterPlaylistController_.mainSegmentLoader_.bandwidth,this.events.push({object:this.el,type:"progress",handler:function(t){(t=n&&n.masterPlaylistController_.mainSegmentLoader_.bandwidth)&&"number"==typeof t&&t!=i.lastBitrate&&(i.lastBitrate=t,i.applyCallbacks({type:"bitratechanged",bitrate:i.lastBitrate}))}}),r=this.events[t],r.object.addEventListener(r.type,r.handler,!1),this.lastBitrate&&this.applyCallbacks({type:"bitratechanged",bitrate:i.lastBitrate})}catch(t){}e._detected=!0;break}e=void 0}else e=void 0}return e},addPlayer:function(t){this.player=t,this.player._detected=!1},addPlayerEvent:function(t,e){this.player&&this.player.addEventListener&&(this.events.push({object:this.player,type:t,handler:e?this.redispatchEvent.bind(this):this.forwardEvent.bind(this)}),this.player.addEventListener(t,this.events[this.events.length-1].handler,!1))},forwardEvent:function(t){return this.listen(t)},transformEvent:function(t,e){return this.listen({type:e,target:this.el,timeStamp:t.timeStamp||performance.now()})},redispatchEvent:function(t){return this.el&&this.el.dispatchEvent(new Event(t.type)),!1},addCallback:function(t){let e=-1;if("function"==typeof t){let r=this.callbacks;for(e=r.length-1;0<=e&&r[e]!==t;e--);0>e&&(e=r.length,r.push(t))}return e},removeCallback:function(t){let e=-1,r=this.callbacks;if("function"==typeof t)for(e=r.length-1;0<=e&&r[e]!==t;e--);else"number"==typeof t&&0<=t&&t<this.callbacks.length&&(e=Math.floor(t));return 0<=e&&r.splice(e,1),e},startPolling:function(t){this.stopPolling(),t&&(this.timerInterval=t),this.timer=setTimeout(this.listen.bind(this,{type:"timer"}),this.timerInterval)},stopPolling:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},show:function(t){let e={length:0,min:this.bufferLog.min<this.playLog.min?this.bufferLog.min:this.playLog.min,max:this.bufferLog.max>this.playLog.max?this.bufferLog.max:this.playLog.max};e.length=e.max-e.min,this.bufferLog.show(t,e),this.playLog.show(t,e)},sample:function(){if(this.el&&this.el.buffered&&!this.el.ended&&this.bufferLog){let e=this.bufferLog;var t=this.playLog;let r=this.el.currentTime,n=this.stats,i={};for(n.start=n.end,i.clock=performance.now(),i.play=r,i.gap=i.buff=-1,e.update(this.el.buffered),t&&t.update(this.el.played),this.debug&&this.show(this.el.currentTime),t=e.last.length-1;0<=t&&r<e.last[t].start;t--);0<=t&&(i.buff=e.last[t].end,i.gap=e.last[t].end-r,this.calcStats(n.start,i),9<this.queue.length&&this.queue.shift(),this.queue.push(i)),n.end=i}},calcStats:function(t,e){if(t&&0<t.clock&&0<=t.buff){let r=-1,n=(e.clock-t.clock)/1e3,i=e.buff-t.buff,s=(t=e.play-t.play)-i;0<s&&(r=e.gap*n/s),this.hud&&this.hud.logTop("***",n.toFixed(3),"ACQ: "+i.toFixed(3)+" ("+(i/n).toFixed(3)+")","CON: "+t.toFixed(3)+" ("+(t/n).toFixed(3)+")","DEP: "+s.toFixed(3)+" ("+(s/n).toFixed(3)+")","EX: "+r.toFixed(3))}},emptyListener:function(t){console.log(),this.reset()},applyCallbacks:function(t){if(this.callbacks.length){let e;for(e=0;e<this.callbacks.length;e++)this.callbacks[e](t)}},listen:function(t){"timer"==t.type||this.playerType||(this.playerType=e.BufferTracker.playerType||"unknown");let r,n=t.target||this.el||{readyState:0,networkState:0,currentTime:0,playbackRate:0},s=this.calcGap(n.currentTime),o=t.type.replace(/ .*/,"");if("timer"!=o){if(this.eventQ.push({type:t.type,timeStamp:t.timeStamp,currentTime:n.currentTime,gap:s}),this.hud&&this.hud.logBottom(t.type,t.timeStamp.toFixed(1),n.currentTime.toFixed(6),s.toFixed(6),"timeupdate"==t.type?(n.currentTime-this.last.timeupdate).toFixed(6):""),20<this.eventQ.length&&this.eventQ.shift(),"bufferingend"==o){let e,r="Event Queue before "+t.type+"\n";for(;this.eventQ.length;)e=this.eventQ.shift(),r+="\t"+e.type+"@"+e.timeStamp+": "+e.currentTime+" ["+e.gap+"]\n";this.debug&&console.log(r)}}else t.timeStamp=performance.now();switch(this.el&&(r={readyState:n.readyState,readyStateChange:n.readyState-this.last.readyState,networkState:n.networkState,networkStateChange:n.networkState-this.last.networkState,playbackRate:n.playbackRate,event:t.type,timeStamp:t.timeStamp,currentTime:n.currentTime,currentTimeChange:n.currentTime-this.last.currentTime,goodTime:this.last.goodTime,goodTimeChange:n.currentTime-this.last.goodTime,gap:s,paused:n.paused||this.last.paused&&"play"!=t.type,timeupdate:"timeupdate"==t.type?n.currentTime:this.last.timeupdate}),o){case"emptied":case"loadstart":this.debug&&console.log("BT RESET: "+t.type,i.ReadyStateStr[n.readyState],i.NetworkStateStr[n.networkState]),this.reset();break;case"timeupdate":case"seeked":this.endSeek(n.currentTime);break;case"ended":this.ended=!0,this.wait&&setTimeout(this.listen.bind(this,{type:"bufferingend",target:this.el,timeStamp:t.timeStamp||performance.now()}),10),this.wait="",this.endSeek(n.currentTime),this.sample();break;case"seeking":0>this.seek&&(this.seek=n.currentTime);break;case"playing":case"resume":0===this.wait.indexOf("waiting")&&(this.wait="",this.el.dispatchEvent(new Event("bufferingend"))),this.ended=!1,this.endSeek(n.currentTime);break;case"waiting":case"stalled":this.wait||(this.wait=t.type,this.el.dispatchEvent(new Event("bufferingstart")));break;case"ratechange":"shaka"==this.playerType&&(0===t.target.playbackRate?this.wait||(this.wait=t.type,this.el.dispatchEvent(new Event("bufferingstart"))):0===this.wait.indexOf(t.type)&&(this.wait="",this.el.dispatchEvent(new Event("bufferingend"))));break;case"timer":this.el&&this.el.parentElement&&this.verifyParent(this.el)?(this.startPolling(),this.sample()):this.init();break;case"bufferingstart":0>this.wait.indexOf("bufferingstart")&&(this.wait+=t.type,this.buffering.count++,this.buffering.time.start=t.timeStamp,this.buffering.play.start=this.el.currentTime,this.buffering.time.end=this.buffering.play.end=0,this.buffering.time.duration=this.buffering.play.duration=0,this.debug&&console.log("BUFFERINGSTART: ["+this.wait+"] "+this.buffering.count,this.buffering.time.start,this.buffering.play.start),this.applyCallbacks({type:t.type,data:this.buffering}));break;case"bufferingend":this.wait&&(this.wait=""),this.buffering.time.end=t.timeStamp,this.buffering.time.duration=this.buffering.time.end-this.buffering.time.start,this.buffering.time.total+=this.buffering.time.duration,this.buffering.play.end=this.el.currentTime,this.buffering.play.duration=this.buffering.play.end-this.buffering.play.start,this.buffering.play.total+=this.buffering.play.duration,this.debug&&console.log("BUFFERINGEND: "+this.buffering.count,this.buffering.time.end,this.buffering.time.duration+" ("+this.buffering.time.total+")",this.buffering.play.end,this.buffering.play.duration+" ("+this.buffering.play.total+")"),this.applyCallbacks({type:t.type,data:this.buffering})}r&&(this.last=r)},endSeek:function(t){if(0<=this.seek){let e,r=this.el?this.el.buffered:[],n=-1,i=-1;for(e=r.length-1;(0>n||0>i)&&0<=e;e--)0>n&&this.seek<=r.end(e)&&this.seek>=r.start(e)&&(n=e),0>i&&t<=r.end(e)&&t>=r.start(e)&&(i=e);(0>n||0>i||n!=i)&&(this.stats.end.clock=-1),this.seek=-1}},calcGap:function(t){let e,r=this.el?this.el.buffered:[],n=-1;for(e=r.length-1;0>n&&0<=e;e--)t<=r.end(e)&&t>=r.start(e)&&(n=r.end(e)-t);return n}},i.ReadyStateStr="HAVE_NOTHING HAVE_METADATA HAVE_CURRENT_DATA HAVE_FUTURE_DATA HAVE_ENOUGH_DATA   ".split(" "),i.NetworkStateStr="NETWORK_EMPTY NETWORK_IDLE NETWORK_LOADING NETWORK_NO_SOURCE    ".split(" "),i.instances=[],i.unique=0,Object.defineProperty(e.BufferTracker,"playerType",{get:function(){let e,r,n=["amp.VERSION","videojs.VERSION","Hls.version","dashjs.Version","shaka.Player"],i="";for(e=0;!i&&e<n.length;e++)r=n[e].split("."),r[0]in t&&r[0]&&void 0!==n[e]&&(i=r[0]);return i}}),i.hudId="buffer-tracker-hud",i.createHUD=function(t,e){function n(t){this.topText.style.width=this.bottomText.style.width=t.clientWidth+(t.offsetWidth-t.clientWidth)+"px",this.topText.style.margin=this.bottomText.style.margin="0"}function s(t){this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(n.bind(this,t.target),250)}let o=i.hudId+"-"+e.index;if((e={}).container=document.body.querySelector("#"+o),e.container)t=e.container.querySelectorAll("textarea"),e.topText=t[0],e.bottomText=t[1],t=e.container.querySelectorAll(".range_block"),e.block={outer:e.container.querySelector(".range_top"),inner1:t[0],inner2:t[1]};else{var a=i.hudId+"-style";let n=document.head.querySelector(a);n||(n=document.createElement("style"),n.id=a,document.head.appendChild(n),(a=n.sheet).insertRule("."+i.hudId+" {position:fixed;top:0;left:0;border:1px solid black;padding:10px;z-index:999999;background-color:#ffffff;box-sizing:border-box;font-family:sans-serif;font-size:12px}",a.cssRules.length),a.insertRule("."+i.hudId+"-text {position:relative;display:block;overflow:auto;box-sizing:border-box;min-width:300px;min-height:30px;}",a.cssRules.length)),e.container=document.createElement("div"),e.container.id=o,e.container.className=i.hudId,(t||document.body).appendChild(e.container),e.block=r.createDefaultBlock(e.container),e.topText=document.createElement("textarea"),e.topText.id=o+"-top-text",e.topText.className=i.hudId+"-text",e.topText.setAttribute("readonly",""),e.topText.rows=4,e.topText.maxScrollHeight=-1,e.container.appendChild(e.topText),e.bottomText=document.createElement("textarea"),e.bottomText.id=o+"-bottom-text",e.bottomText.className=i.hudId+"-text",e.bottomText.setAttribute("readonly",""),e.bottomText.rows=4,e.bottomText.maxScrollHeight=-1,e.container.appendChild(e.bottomText)}return e.topText.addEventListener("mouseup",s.bind(e),!1),e.bottomText.addEventListener("mouseup",s.bind(e),!1),e.container.addEventListener("mousedown",function t(e){"mousedown"==e.type?this.mouseIsDown||e.target!=this.container||(document.body.style.userSelect="none",this.mouseIsDown=!0,this.ox=this.container.offsetLeft,this.oy=this.container.offsetTop,this.ax=this.bx=e.clientX,this.ay=this.by=e.clientY,this.bound=t.bind(this),window.addEventListener("mouseup",this.bound,!1),window.addEventListener("mousemove",this.bound,!1)):this.mouseIsDown&&("mouseup"==e.type?(document.body.style.userSelect="",window.removeEventListener("mouseup",this.bound,!1),window.removeEventListener("mousemove",this.bound,!1),this.mouseIsDown=!1):(this.bx=e.clientX,this.by=e.clientY,this.container.style.left=this.ox+this.bx-this.ax+"px",this.container.style.top=this.oy+this.by-this.ay+"px"))}.bind(e),!1),e.container.addEventListener("dblclick",function(t){return t.target===this.container&&(this.topText.style.display=""===this.topText.style.display?this.bottomText.style.display=this.block.outer.style.display="none":this.bottomText.style.display=this.block.outer.style.display=""),!1}.bind(e),!1),e.log=function(){let t;var e="";for(t=0;t<arguments.length;t++)this.value+=e+arguments[t],e=" ";for(this.value+="\n",t=0,e=this.value.length-1;20>t&&0<=(e=this.value.lastIndexOf("\n",e));)t++,e--;0<=e&&(this.value=this.value.substring(e+2)),this.scrollHeight>this.maxScrollHeight&&(this.maxScrollHeight=this.scrollHeight,this.scrollTop=this.scrollHeight-this.clientHeight)},e.logTop=function(){return this.log.apply(this.topText,arguments)},e.logBottom=function(){return this.log.apply(this.bottomText,arguments)},e}}(this.GlobalCTX||this),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["keystore.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){var e=t.Util||(t.Util={}),r=e.CryptoJS=e.CryptoJS||function(t,e){var r={},n=r.lib={},i=function(){},s=n.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var i=0;i<t;i++)e[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<t;i+=4)e[n+i>>>2]=r[i>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],n=0;n<e;n+=4)r.push(4294967296*t.random()|0);return new o.init(r,e)}}),a=r.enc={},l=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],n=0;n<t;n++){var i=e[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new o.init(r,e/2)}},u=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],n=0;n<t;n++)r.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new o.init(r,e)}},c=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=n.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s);if(e=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,i=t.min(4*e,i),e){for(var l=0;l<e;l+=s)this._doProcessBlock(n,l);l=n.splice(0,e),r.sigBytes-=i}return new o.init(l,i)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=h.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new p.HMAC.init(t,r).finalize(e)}}});var p=r.algo={};return r}(Math);!function(){var t=r.lib.WordArray;r.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp(),t=[];for(var i=0;i<r;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<r;o++)t.push(n.charAt(s>>>6*(3-o)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(e){var r=e.length,n=this._map,i=n.charAt(64);i&&-1!=(i=e.indexOf(i))&&(r=i),i=[];for(var s=0,o=0;o<r;o++)if(o%4){var a=n.indexOf(e.charAt(o-1))<<o%4*2,l=n.indexOf(e.charAt(o))>>>6-o%4*2;i[s>>>2]|=(a|l)<<24-s%4*8,s++}return t.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,n,i,s,o){return((t=t+(e&r|~e&n)+i+o)<<s|t>>>32-s)+e}function n(t,e,r,n,i,s,o){return((t=t+(e&n|r&~n)+i+o)<<s|t>>>32-s)+e}function i(t,e,r,n,i,s,o){return((t=t+(e^r^n)+i+o)<<s|t>>>32-s)+e}function s(t,e,r,n,i,s,o){return((t=t+(r^(e|~n))+i+o)<<s|t>>>32-s)+e}var o=r.lib,a=o.WordArray,l=o.Hasher;o=r.algo;for(var u=[],c=0;64>c;c++)u[c]=4294967296*t.abs(t.sin(c+1))|0;o=o.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,r){for(var o=0;16>o;o++){var a=r+o,l=t[a];t[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}o=this._hash.words,a=t[r+0],l=t[r+1];var c=t[r+2],h=t[r+3],p=t[r+4],f=t[r+5],d=t[r+6],g=t[r+7],v=t[r+8],m=t[r+9],y=t[r+10],b=t[r+11],E=t[r+12],w=t[r+13],A=t[r+14];t=t[r+15],r=o[0];var S=o[1],T=o[2],I=o[3];r=e(r,S,T,I,a,7,u[0]),I=e(I,r,S,T,l,12,u[1]),T=e(T,I,r,S,c,17,u[2]),S=e(S,T,I,r,h,22,u[3]),r=e(r,S,T,I,p,7,u[4]),I=e(I,r,S,T,f,12,u[5]),T=e(T,I,r,S,d,17,u[6]),S=e(S,T,I,r,g,22,u[7]),r=e(r,S,T,I,v,7,u[8]),I=e(I,r,S,T,m,12,u[9]),T=e(T,I,r,S,y,17,u[10]),S=e(S,T,I,r,b,22,u[11]),r=e(r,S,T,I,E,7,u[12]),I=e(I,r,S,T,w,12,u[13]),T=e(T,I,r,S,A,17,u[14]),r=n(r,S=e(S,T,I,r,t,22,u[15]),T,I,l,5,u[16]),I=n(I,r,S,T,d,9,u[17]),T=n(T,I,r,S,b,14,u[18]),S=n(S,T,I,r,a,20,u[19]),r=n(r,S,T,I,f,5,u[20]),I=n(I,r,S,T,y,9,u[21]),T=n(T,I,r,S,t,14,u[22]),S=n(S,T,I,r,p,20,u[23]),r=n(r,S,T,I,m,5,u[24]),I=n(I,r,S,T,A,9,u[25]),T=n(T,I,r,S,h,14,u[26]),S=n(S,T,I,r,v,20,u[27]),r=n(r,S,T,I,w,5,u[28]),I=n(I,r,S,T,c,9,u[29]),T=n(T,I,r,S,g,14,u[30]),r=i(r,S=n(S,T,I,r,E,20,u[31]),T,I,f,4,u[32]),I=i(I,r,S,T,v,11,u[33]),T=i(T,I,r,S,b,16,u[34]),S=i(S,T,I,r,A,23,u[35]),r=i(r,S,T,I,l,4,u[36]),I=i(I,r,S,T,p,11,u[37]),T=i(T,I,r,S,g,16,u[38]),S=i(S,T,I,r,y,23,u[39]),r=i(r,S,T,I,w,4,u[40]),I=i(I,r,S,T,a,11,u[41]),T=i(T,I,r,S,h,16,u[42]),S=i(S,T,I,r,d,23,u[43]),r=i(r,S,T,I,m,4,u[44]),I=i(I,r,S,T,E,11,u[45]),T=i(T,I,r,S,t,16,u[46]),r=s(r,S=i(S,T,I,r,c,23,u[47]),T,I,a,6,u[48]),I=s(I,r,S,T,g,10,u[49]),T=s(T,I,r,S,A,15,u[50]),S=s(S,T,I,r,f,21,u[51]),r=s(r,S,T,I,E,6,u[52]),I=s(I,r,S,T,h,10,u[53]),T=s(T,I,r,S,y,15,u[54]),S=s(S,T,I,r,l,21,u[55]),r=s(r,S,T,I,v,6,u[56]),I=s(I,r,S,T,t,10,u[57]),T=s(T,I,r,S,d,15,u[58]),S=s(S,T,I,r,w,21,u[59]),r=s(r,S,T,I,p,6,u[60]),I=s(I,r,S,T,b,10,u[61]),T=s(T,I,r,S,c,15,u[62]),S=s(S,T,I,r,m,21,u[63]),o[0]=o[0]+r|0,o[1]=o[1]+S|0,o[2]=o[2]+T|0,o[3]=o[3]+I|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var s=t.floor(n/4294967296);for(r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(r.length+1),this._process(),r=(e=this._hash).words,n=0;4>n;n++)i=r[n],r[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t}}),r.MD5=l._createHelper(o),r.HmacMD5=l._createHmacHelper(o)}(Math),function(){var t=r.lib,e=t.Base,n=t.WordArray,i=(t=r.algo).EvpKDF=e.extend({cfg:e.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var r=this.cfg,i=r.hasher.create(),s=n.create(),o=s.words,a=r.keySize;for(r=r.iterations;o.length<a;){l&&i.update(l);var l=i.update(t).finalize(e);i.reset();for(var u=1;u<r;u++)l=i.finalize(l),i.reset();s.concat(l)}return s.sigBytes=4*a,s}});r.EvpKDF=function(t,e,r){return i.create(r).compute(t,e)}}(),r.lib.Cipher||function(t){var e=r,n=e.lib,i=n.Base,s=n.WordArray,o=n.BufferedBlockAlgorithm,a=e.enc.Base64,l=e.algo.EvpKDF,u=n.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,n){return("string"==typeof r?g:d).encrypt(t,e,r,n)},decrypt:function(e,r,n){return("string"==typeof r?g:d).decrypt(t,e,r,n)}}}});n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=e.mode={},h=function(t,e,r){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var i=0;i<r;i++)t[e+i]^=n[i]},p=(n.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();p.Encryptor=p.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;h.call(this,t,e,n),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),p.Decryptor=p.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=t.slice(e,e+n);r.decryptBlock(t,e),h.call(this,t,e,n),this._prevBlock=i}}),c=c.CBC=p,p=(e.pad={}).Pkcs7={pad:function(t,e){e*=4;for(var r=(e-=t.sigBytes%e)<<24|e<<16|e<<8|e,n=[],i=0;i<e;i+=4)n.push(r);e=s.create(n,e),t.concat(e)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:c,padding:p}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv;if(t=t.mode,this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var f=n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}});c=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?s.create([1398893684,1701076831]).concat(t).concat(e):e).toString(a)},parse:function(t){var e=(t=a.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var r=s.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return f.create({ciphertext:t,salt:r})}};var d=n.SerializableCipher=i.extend({cfg:i.extend({format:c}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n);return e=i.finalize(e),i=i.cfg,f.create({ciphertext:e,key:r,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}});e=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){return n||(n=s.random(8)),t=l.create({keySize:e+r}).compute(t,n),r=s.create(t.words.slice(e),4*r),t.sigBytes=4*e,f.create({key:t,iv:r,salt:n})}};var g=n.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:e}),encrypt:function(t,e,r,n){return r=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize),n.iv=r.iv,(t=d.encrypt.call(this,t,e,r.key,n)).mixIn(r),t},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),r=n.kdf.execute(r,t.keySize,t.ivSize,e.salt),n.iv=r.iv,d.decrypt.call(this,t,e,r.key,n)}})}(),function(){for(var t=r.lib.BlockCipher,e=r.algo,n=[],i=[],s=[],o=[],a=[],l=[],u=[],c=[],h=[],p=[],f=[],d=0;256>d;d++)f[d]=128>d?d<<1:d<<1^283;var g=0,v=0;for(d=0;256>d;d++){var m=v^v<<1^v<<2^v<<3^v<<4;m=m>>>8^255&m^99,n[g]=m,i[m]=g;var y=f[g],b=f[y],E=f[b],w=257*f[m]^16843008*m;s[g]=w<<24|w>>>8,o[g]=w<<16|w>>>16,a[g]=w<<8|w>>>24,l[g]=w,w=16843009*E^65537*b^257*y^16843008*g,u[m]=w<<24|w>>>8,c[m]=w<<16|w>>>16,h[m]=w<<8|w>>>24,p[m]=w,g?(g=y^f[f[f[E^y]]],v^=f[f[v]]):g=v=1}var A=[0,1,2,4,8,16,32,64,128,27,54];e=e.AES=t.extend({_doReset:function(){var t=this._key,e=t.words,r=t.sigBytes/4;t=4*((this._nRounds=r+6)+1);for(var i=this._keySchedule=[],s=0;s<t;s++)if(s<r)i[s]=e[s];else{var o=i[s-1];s%r?6<r&&4==s%r&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=n[(o=o<<8|o>>>24)>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=A[s/r|0]<<24),i[s]=i[s-r]^o}for(e=this._invKeySchedule=[],r=0;r<t;r++)s=t-r,o=r%4?i[s]:i[s-4],e[r]=4>r||4>=s?o:u[n[o>>>24]]^c[n[o>>>16&255]]^h[n[o>>>8&255]]^p[n[255&o]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,o,a,l,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,c,h,p,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,s,o,a){for(var l=this._nRounds,u=t[e]^r[0],c=t[e+1]^r[1],h=t[e+2]^r[2],p=t[e+3]^r[3],f=4,d=1;d<l;d++){var g=n[u>>>24]^i[c>>>16&255]^s[h>>>8&255]^o[255&p]^r[f++],v=n[c>>>24]^i[h>>>16&255]^s[p>>>8&255]^o[255&u]^r[f++],m=n[h>>>24]^i[p>>>16&255]^s[u>>>8&255]^o[255&c]^r[f++];p=n[p>>>24]^i[u>>>16&255]^s[c>>>8&255]^o[255&h]^r[f++],u=g,c=v,h=m}g=(a[u>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&p])^r[f++],v=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[p>>>8&255]<<8|a[255&u])^r[f++],m=(a[h>>>24]<<24|a[p>>>16&255]<<16|a[u>>>8&255]<<8|a[255&c])^r[f++],p=(a[p>>>24]<<24|a[u>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^r[f++],t[e]=g,t[e+1]=v,t[e+2]=m,t[e+3]=p},keySize:8}),r.AES=t._createHelper(e)}(),(e=t.KeyStoreObj)||(e=t.KeyStoreObj=function(t,e){this.setUriKey(t,e),this.inlineKeyStore='\x3c!-- Remember to update keystore.aes.b64!! --\x3e\r\n<param name="receiverKeyStore1" value="MIIKbgIBAzCCCigGCSqGSIb3DQEHAaCCChkEggoVMIIKETCCBXYGCSqGSIb3DQEHAaCCBWcEggVjMIIFXzCCBVsGCyqGSIb3DQEMCgECoIIE+jCCBPYwKAYKKoZIhvcNAQwBAzAaBBQDOpLRdrTX171DUrMFAAl" />\r\n<param name="receiverKeyStore2" value="XwcEk0AICBAAEggTI34wIxzZZA9JtzNdAoB69VbEfrSzLtYsmwMY5LX7HIW1JbrD6KbZT7tXZBwm6ngmkzaxCx8rRFv9308I5TLxRq5IXQiFV4zI1AXhAjDuVhauXV9M1vnytAgxgG/QKNMkCX4Bn3ZwkACzSjp" />\r\n<param name="receiverKeyStore3" value="auWrepxtfTfMrkhplHoSDEW92Eu/WGlQh1Rrfs+i7q8JcP/vNCRX2VL62Cf2arOvs0f3pD/AefMF94lKKvvQhEwaTRKKNJUlAjTqgidr7vr2eX36VvLljQf/3by81akD9T+NUkLYomuBhz40p+UgZV0mGZS5WkC" />\r\n<param name="receiverKeyStore4" value="uYwuidmxmldisddt5y4VM9zcQHkRQ4hC8BzIl2ZWpOs9GNk5xBbN18M1XtviFqQJgS11Qbq/tCWyRlzuEu/SdDk4Z4tU6RLfw2uq78SR3Ym44Gc/8yQHbymR+ZV8Qut19KuuVzy90Xy8tFV9LBPgwthz5ArnQMs" />\r\n<param name="receiverKeyStore5" value="cEGcLrgvcxamv9g7RfwPbqACIYxmkJmNXMZcLExvr7c5XCGeDHXTS47m3OgDNcRg3Y22AfqfVhJ/Dp+4MU2W3JV3YYAWggVkM0vqSP1mkU7eEdH6/W47Mspe4ygQxcfFcGmYuHpTvtDjQC7tvzl5C6yS2mENx6O" />\r\n<param name="receiverKeyStore6" value="xjbfqDSPO5RIJa+5jnr+rQu/ehTMM03X6dcWOKHyMhC3MpJhvjT9fiPMv1cpWDjf6z2HrhCP5K88Z6ZnDgGpx9JC91vYksC0Tx6a7CvyWkEv30hebRonGiZ0uVBDt7sRSEmjGdtYTDK1G9Cvf/mJXe5hja2qSHV" />\r\n<param name="receiverKeyStore7" value="J+5BrYTJ+kL1NQf2bKajN15Pxzy7GB9sHxSGrMVVqD8AHfOKl+WKyudi88I4uyxcEG9S5GIc+quopogOMIDM6VoZ71oRzyv8JMaAnufiD0tS1oDIjJ5zBW2JwRpG5YABPgDalVxQxywnHkp+VrviS3rfWlPUtF6" />\r\n<param name="receiverKeyStore8" value="c2lCrrNY6MdqQxH7LfDPZulljW4I85XsIV3b6eMvBDOMnadAeteNiRmMZFHeSM2fLXVwdlNBw57jQpb9ELKIm4TaM1J5jiUSql8qIbl2WbWp+m7RnMmPYXMrQ23eszw14pz6HIDQb4VWmrfzNA6jEW+F1NHgE2U" />\r\n<param name="receiverKeyStore9" value="47AYaG3XQPD3vzxzNhepMvR+ScqduU/aDnd1MPlLz8nXx8oinLnZlnTqNrrlOr/zu5KAmSsepAPIpCzZcY/ou8j3DvKDx11GaSH84E5BzLsoXoyAIgDtOrEc9cDY9SVqPP5ByDVWJZ6ZP+GuRZGFJAmdWegb/ww" />\r\n<param name="receiverKeyStore10" value="CTn6a4y5IIUehfppg0+/9rKf8Bc+WGPMTrxlEeM+Lr/KXkPWKrFrQLOIeqNsKeY+hoG568knDpDW0jAxSJ5kE/xPYTe7O3JRWnjvdW22vj6iVaLASv7SHFOwcfsyX9hMr7GftpLoaU8Jbf2YrFXljInGGgUsd+h" />\r\n<param name="receiverKeyStore11" value="bXMB6nc2HrXbm3wumsbNhhvl3xCevf9tvsp/Ri1FtRf442PJmtP3hKRzgYfScjxGoK37mdIiMvJwrCfJtUEi7s31yzSkfWNia/hN0Gb9wlHD0lSd8exoWJBIa8au05ZMIE2gRrJo2I66nFdkbzcNWSEphxx4hNL" />\r\n<param name="receiverKeyStore12" value="u3GCUcH6dqRxYxEFg9RZaJejuJaJsqTzOkIrUvd+fC7l9uo+bjqms4FafIoMU4wKQYJKoZIhvcNAQkUMRweGgBrAGUAeQAtAHIAZQBjAGUAaQB2AGUAcgAxMCEGCSqGSIb3DQEJFTEUBBJUaW1lIDE0NTYyNTUx" />\r\n<param name="receiverKeyStore13" value="NDk1NTYwggSTBgkqhkiG9w0BBwagggSEMIIEgAIBADCCBHkGCSqGSIb3DQEHATAoBgoqhkiG9w0BDAEGMBoEFPOEz7CC8XxoEj1rbZ2srMshjoj8AgIEAICCBEAsRu4btn+yT985zQ3zeJmOYJUePjMHYo/UgdU" />\r\n<param name="receiverKeyStore14" value="kvbJ5zDOP6yJW+lGolpW2zFIAG7keVodJ7R+oh7GFAcZmzz4ioiD8wDxB1rr2aGfszgfY2EwAdRdqJXp1Ew8u8Wi33vPNyPNv1H+0GPER5jZU0vKS0cL317oFS2G6PNdqfnkdvanJP1UmKCMOkO3jf44OHu0dgA" />\r\n<param name="receiverKeyStore15" value="OVLSMW2NhcVi/3Yi9QHE8oytc6k2ZYPbCKzIZ2NUranGnH47DzNQwH/7aRbMx8fXpZW6/KYO9iVeTyGPnTzZhT/mtVgKYtOcdDAqTeMmL1+DWor7ON4WneGqzFQ3N7LL0ZtuMEgQdHoGvSZAYm6Z9deWRj7+fH8" />\r\n<param name="receiverKeyStore16" value="ln/Grd6DTHj2x8TggS2vtyTSD46xu/rE8avzUUG9EFC1kKQZMgi30sEW93G5bOVxZRLuivs/FSfVCfvCJe20UayECpU2OqZ2mIZcJM7ai7O4o23/FltjeK4hZpjQPrzQpDlPymFtCdFNvBDXgHFF/nMcB4j63Fx" />\r\n<param name="receiverKeyStore17" value="L2dC+F5KC8GizSPF8otdLM9fl1ifA2JEiA+uxxCZTKib27VmuvOEs68CKkNRIIovR8C9mNFKy5ezhutGl8iXngkpRO7oD9d7Xc0IF9T4YvAd4RkYPawGRMZ8HIEVH61pXw0G6Xqn2smVZxM3k0gsD1ssqOqCDUx" />\r\n<param name="receiverKeyStore18" value="rSB94GMnE2EieE6cVyFFz4swt6FFBeGgyFaIiWkLkcFJCmFQZoRzkCO+bPaAxall4uuJGgRsh+rNq1d3e7MVTuT1xSFTq4N837v1jeMLGWA7N75/Lnl7CosyuMZF3i+yN4aPMEOCeS83Ki561oG7yVvbxEYgK7C" />\r\n<param name="receiverKeyStore19" value="Kl0HOsr44DYNZ3hvzlwh8WUb+u7xA7TQ/yAQ5UGjKChNiyyo/OBHpxN91RlVDYrUj+5Kq7KNnKzmLkwlh7F46NVDWbHDqHlBfJKUILbthd3O/LpmazRQVbX4/Y5o9KY28azVG2OZeqr5swTn5nWMbFQlUMuS3vS" />\r\n<param name="receiverKeyStore20" value="MCOANPqAK4cglnIHiX6SpEcRqMR8+RKvkgK3TEoN45KOh98+eK/2rSRTH5GWz9F0/C3VbPBXf/Db5uHxBAfOihnodp78DXFahIvYUf1pYaUuUaw5g0KE3RUBqVSU4fkG6KWcO8+bmBZkRc29AhmAj3iIL7I0l98" />\r\n<param name="receiverKeyStore21" value="XmHcskpPCE32nQ7A0kpNZ1G+ogaxbLheQFF5FSMrGkyCiWJta+xcrhRQMJWndhesrH0XA5HVSXa80vEU4ZKaTUt2njINsvx7xXotBq/Z3JkPpP0c0oM0x2vHkSXGKFcMWI/CIt28jZZI7Gum0g2pRGHJK2qsNCi" />\r\n<param name="receiverKeyStore22" value="k66nq/Mj6ThwLRJwIYfSAfnM9En57FRTXGm9xna2mczjrSiZn18DAJ6tgLVf5Cap0LOM9V1z+5tjE0AM+Eb01ZHemqpgBowWU0pP23kjDjQJuoEyHQHwrBkEjYCgDpd4XkeXcQ6ZbFF6ULDA9MCEwCQYFKw4DAh" />\r\n<param name="receiverKeyStore23" value="oFAAQU5e0Kc96L5kZW9UPpRMKhJtuX0RYEFIzuNUevzDRHBl9LRnGaBbQUhKNRAgIEAA__" />\r\n',this.inlineResponse="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",this.onFailure=this.onSuccess=this.keyStore=null,this.reason=0,this.log=null},e.prototype={setUriKey:function(e,r){this.URI="string"==typeof e?e:"//"+t.location.host+t.location.pathname.replace(/\/[^/]*$/,"/")+"keystore.aes.b64.txt",this.key="string"==typeof r&&r&&"default"!=r?r:"DEADBEEFCAFEBABEDEADBEEFCAFEBABE"},load:function(e,r,n){this.log=n,this.onSuccess=e,this.onFailure=r,this.URI&&"default"!=this.URI&&"inline"!=this.URI?((e=new t.XMLHttpRequest).addEventListener("readystatechange",this.listener.bind(this),!1),e.open("GET",this.URI,!0),e.url=this.URI,e.send(null)):setTimeout(this.handler.bind(this,this.inlineResponse),10)},listener:function(t){var e=t.target;return 4==e.readyState&&(200==e.status?this.handler(e.response):this.errorListener(e,t)),!1},handler:function(t){try{var e=r.enc.Hex.parse(this.key),n=r.enc.Hex.parse("00000000000000000000000000000000"),i=r.enc.Base64.parse(t.replace(/[\r\n]/g,"")),s=r.AES.decrypt({ciphertext:i,salt:""},e,{iv:n});this.keyStore=String(s.toString(r.enc.Utf8))}catch(t){this.keyStore=""}return 0<=this.keyStore.indexOf("receiverKeyStore1")?(this.reason=0,this.log&&this.log("keyStore loaded and valid"),this.onSuccess&&this.onSuccess(this)):(this.reason=2,this.log&&this.log("keyStore loaded but was invalid"),this.onFailure&&this.onFailure(this)),!this.reason},errorListener:function(t,e){this.reason=1,this.status=t.status,this.log&&this.log("keyStore: "+t.url+" "+(0==t.status?"connection refused":t.statusText),e),this.onFailure&&this.onFailure(this)}})}(this.GlobalCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["xpromise.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){let e=t.Util||(t.Util={});"XPromise"in e&&delete e.XPromise;let r=e.XPromise=function(t){this.id=r.unique++,this.resolve=function(t){this.done||(this.done=!0,this.stateObj=t,this.stateCall="resolve",this.state="fulfilled"),"resolve"==this.stateCall&&this.emptyList()},this.reject=function(t){this.done||(this.done=!0,this.stateObj=t,this.stateCall="reject",this.state="rejected"),"reject"==this.stateCall&&this.emptyList()},this.emptyList=function(){let t,e=this[this.stateCall+"List"];if(e)for(t=e.length-1;0<=t;t--)setTimeout(this.asynccall.bind(this,e.shift()),10)},this.asynccall=function(t){let n,i=t[this.stateCall];if("function"==typeof i)try{n=i(this.stateObj),n instanceof e.XPromise?n.finally(n.waitForNext.bind(n,t)):t.p.resolve(n)}catch(e){t.p.reject(e,this.stateObj)}else i instanceof e.XPromise?i.finally(i.waitForNext.bind(i,t)):null==i?t.p[this.stateCall](this.stateObj):"object"==typeof i&&"then"in i&&"function"==typeof i.then?(n=new r((function(t,e){try{i.then(t,e)}catch(t){e(t)}})),n.finally(this.waitForNext.bind(n,t))):t.p.resolve(i)},this.waitForNext=function(t,e){t.p[this.stateCall](e)},this.then=function(t,r){return t={resolve:t,reject:r,p:new e.XPromise},this.resolveList.push(t),this.rejectList.push(t),"pending"!=this.state&&this[this.stateCall](this.stateObj),t.p},this.catch=function(t){return this.then(null,t)},this.finally=function(t){return this.then(t,t)},this.state="pending",this.stateCall=this.stateObj=null,this.done=!1,this.resolveList=[],this.rejectList=[],t&&"function"==typeof t&&t(this.resolve.bind(this),this.reject.bind(this))};r.unique=0,r.resolve=function(t){return new r((function(e,r){if("object"==typeof t&&"then"in t&&"function"==typeof t.then)try{t.then(e,r)}catch(t){r(t)}else e(t)}))},r.reject=function(t){return new r((function(e,r){r(t)}))}}(this.GlobalCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["xhrintercept.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t,e){let r=t.Util||(t.Util={XHRdepth:0,pageProtocol:"http:"===location.protocol?"http:":"https:"});if("XHRdepth"in r||(r.XHRdepth=0),r.XHRIntercept){console.log("XHRINTERCEPT ALREADY DEFINED",r.XHRdepth,r.XHRIntercept.source,"string"==typeof t.Bundle?t.Bundle:"string"==typeof t.APIBundle?t.APIBundle:"no bundle");var n=r.XHRIntercept,i=r.XHRdepth+1;r.Save={origXMLHttpRequest:n.__XHR||n.savedOrigXMLHttpRequest||n.origXMLHttpRequest,origFetch:n.__fetch||n.savedOrigFetch||n.origFetch,ampXMLHttpRequest:n.ampXMLHttpRequest,videojsXMLHttpRequest:n.videojsXMLHttpRequest,shakaXMLHttpRequest:n.shakaXMLHttpRequest,shakaFetch:n.shakaFetch,debug:n.debug,verbose:n.verbose},r.XHRdepth=i}let s=r.URIMatch=function(t){function e(t){let e={part:t,re:null,relen:0};if(t&&"*"!=t&&"**"!=t){let r="*"==t.substring(0,1),n="*"==t.substring(t.length-1);n&&r?(e.re=t.substring(1,t.length-1),e.relen=t.length-2):n?(e.re="^"+t.substring(0,t.length-1),e.relen=t.length-1):r&&(e.re=t.substring(1)+"$",e.relen=t.length-1),e.re&&(e.re=new RegExp(e.re))}else e.part="*";return e}this.uri=t,this.path=this.pathRe=this.query=this.fragment=this.protocol=this.userinfo=this.host=this.hostRe=null,this.valid=!1,(t=t.match(s.URIre))&&(this.valid=!0,this.protocol=t[1],this.userinfo=t[2],this.host=t[3],this.path=t[4],!this.host&&this.path&&"/"!=this.path[0]&&"*"!=this.path[0]&&(this.path="/*"+this.path),this.query=t[5],this.fragment=t[6],t=e(this.host),this.hostRe=t.re,this.hostReLen=t.relen,this.host=t.part,t=e(this.path.replace(/^\/\*/,"*")),this.pathRe=t.re,this.pathReLen=t.relen,this.path=t.part)};s.prototype={match:function(t){let e=!1;return this.valid&&(t=t.match(s.URIre))&&(e="*"==this.host||this.hostRe&&this.hostRe.test(t[3])||!this.hostRe&&this.host==t[3])&&(e="*"==this.path||this.pathRe&&this.pathRe.test(t[4])||!this.pathRe&&this.path==t[4]),e}},s.URIre=/^(?:([^:]+:)?\/\/([^@]+@)?([^/?#]+))?(\/?[^?#]*)(\?[^#]*)?(#.*)?/,s.PROTOCOL=1,s.USERINFO=2,s.HOST=3,s.PATH=4,s.QUERY=5,s.FRAGMENT=6,s.escape=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};let o=function(t){this.added=!0,this.u=t,this.observer=[],this.handler=[],this.nListeners=0};o.prototype={addEntry:function(t,e){let r=e.callback,n=this[t];if(r)for(t=n.length-1;0<=t&&n[t].callback!==r;t--);else t=-1;return 0>t&&(n.push(e),this.nListeners++),0>t?e.id:null},setHeaders:function(t){let e,r,n,i=this.observer;for(e=0;e<i.length;e++)if(r=i[e].headers)for(n in r)t(n,r[n]);for(i=this.handler,e=0;e<i.length;e++)if(r=i[e].headers)for(n in r)t(n,r[n])},callListeners:function(t,e,r){let n,i=!1,s=this.observer;for(n=0;n<s.length;n++)"function"==typeof s[n].callback&&s[n].callback(t,e,r);for(s=this.handler,n=0;n<s.length;n++)"function"==typeof s[n].callback&&(i=s[n].callback(t,e,r)||i);return i}},(r.HostPath=function(){this.hosts={},this.hostsId=1,this.addHostObserver=this.addHost.bind(this,"observer"),this.addHostHandler=this.addHost.bind(this,"handler"),this.removeHostById=this.removeByField.bind(this,"id"),this.removeHostsByTag=this.removeByField.bind(this,"tag"),this.removeAll=this.removeByField.bind(this,""),this.findPathById=this.findByField.bind(this,"id"),this.findPathsByTag=this.findByField.bind(this,"tag")}).prototype={addHost:function(t,e,r){r=r||{};let n=null;e=e instanceof s?e:new s(e&&"string"==typeof e?e:"//*");let i,a,l=new o(e);return e.valid&&l[t]&&(n=this.hostsId++,i=this.hosts[e.host]||(this.hosts[e.host]={re:e.hostRe,relen:e.hostReLen,paths:{},nPaths:0}),a=i.paths[e.path],a||(a=i.paths[e.path]=l,i.nPaths++),n=a.addEntry(t,{callback:r.callback||null,headers:r.headers,tag:r.tag,id:n})),n},removeEntry:function(t,e,r,n){let i=this.hosts[t],s=i.paths[e];s[r].splice(n,1),s.nListeners--,s.nListeners||(s.added=!1,delete i.paths[e],i.nPaths--,i.nPaths||delete this.hosts[t])},removeEntries:function(t,e,r,n){let i,s,o=this.hosts[t].paths[e],a=!r,l=0;for(i in{observer:1,handler:1})for(s=o[i].length-1;0<=s;s--)if((a||o[i][s][r]===n)&&(this.removeEntry(t,e,i,s),l++,"id"==r))return l;return l},removeByField:function(t,e){let r,n,i,s=0;for(r in this.hosts)for(n in i=this.hosts[r],i.paths)s+=this.removeEntries(r,n,t,e);return s},findByField:function(t,e){let r,n,i,s,o,a,l=[],u=!t;for(r in this.hosts)for(n in i=this.hosts[r],i.paths)for(o in s=i.paths[n],{observer:1,handler:1})for(a=s[o].length-1;0<=a;a--)if((u||s[o][a][t]===e)&&(l.push({path:s,entry:s[o][a]}),"id"==t))return l;return l},removeByURI:function(t,e){let r,n=0;return(t=new s(t)).valid&&(r=this.hosts[t.host])&&r.paths[t.path]&&(n+=this.removeEntries(t.host,t.path,e||null===e?"callback":"",e)),n},removePath:function(t){let e=0,r=t&&t.u&&this.hosts[t.u.host];return r&&r.paths[t.u.path]&&(e+=this.removeEntries(t.u.host,t.u.path,null,null)),e},matchPath:function(t){let e;if((t=t instanceof s?t:new s(t)).valid){let r,n,i,s,o,a=[];for(i in this.hosts)if(o=this.hosts[i],o.re&&o.re.test(t.host))if(a.length){for(s=0;s<a.length;s++)if(o.relen>a[s].relen){a.splice(s,0,o);break}}else a.push(o);if(this.hosts["*"]&&a.push(this.hosts["*"]),this.hosts[t.host]&&a.unshift(this.hosts[t.host]),a.length)for(s=0;s<a.length&&!e;s++){if(o=a[s],r=o.paths[t.path])e=r;else for(i in n=0,o.paths)r=o.paths[i],r.u.pathRe&&r.u.pathRe.test(t.path)&&r.u.pathReLen>n&&(e=r,n=r.u.pathReLen);e||(e=o.paths["*"])}}return e}};let a=r.XHRIntercept=function(){function e(t,e){return"responseURL"==t?function(){let r=this._internal;var n=r["get"+t];return(n=void 0===r[t]&&n?n():r[t])&&r.triggered&&(n=a.addTrigger(n,r.triggerLabel)),e&&e("XHR get "+t,"<<"+n+">>"),n}:function(){var r=this._internal;let n=r["get"+t];return r=void 0===r[t]&&n?n():r[t],e&&e("XHR get "+t,"<<"+r+">>"),r}}function n(t,e){return"responseType"==t?function(t){let r=this._internal,n=r.setresponseType;if(e&&e("XHR set responseType","<<"+t+">>"),r.responseType=t,n&&t in{arraybuffer:1,blob:1,document:1,text:1,"":1,json:1})try{n(t)}catch(t){}return t}:function(r){let n=this._internal,i=n["set"+t];return e&&e("XHR set "+t,"<<"+r+">>"),n[t]=r,i&&i(r),r}}let i=a.origXMLHttpRequest||t.XMLHttpRequest;this._member={on:{},events:{},boundIntercept:this.eventIntercept.bind(this),method:null,url:null,blob:!1,verbose:!1,triggered:!1,triggerLabel:"",name:"XI @"+r.XHRdepth+" "+a.source+"\n\t",stack:[],stackHasSend:!1,allowInternalHeaders:!0,xhr:new i},this.verbose=a.verbose,i=this._member.xhr,i._parent=this;let s,o,l=Object.getPrototypeOf(i),u={_internal:{value:{link:this,triggered:this.triggered,triggerLabel:this.triggerLabel,getallResponseHeaders:i.getAllResponseHeaders.bind(i),getAllResponseHeaders:i.getAllResponseHeaders.bind(i),getResponseHeader:i.getResponseHeader.bind(i)}},getAllResponseHeaders:{value:e("allResponseHeaders",this.verbose)},getResponseHeader:{value:function(t){t=t.toLowerCase();let e,r,n="",i="",s=this.getAllResponseHeaders().split(/\r\n|\r|\n/);for(s.length&&0==s[s.length-1].length&&s.splice(s.length-1,1),e=0;e<s.length;e++)r=s[e].split(": "),r[0].toLowerCase()==t&&(n+=i+r[1],i=", ");return n||null}},setResponseHeader:{value:function(t,e,r){t=t.toLowerCase();let n,i,s=-1,o=this.getAllResponseHeaders().split(/\r\n|\r|\n/);for(o.length&&0==o[o.length-1].length&&o.splice(o.length-1,1),n=o.length-1;0<=n;n--)i=o[n].split(": "),i[0].toLowerCase()==t&&r&&(o.splice(n,1),s=n);0<=s?o.splice(s,0,t+": "+e):o.push(t+": "+e),this._internal.allResponseHeaders=o.join("\r\n")+"\r\n"}}},c={status:void 0,statusText:void 0,readyState:void 0,response:void 0,responseText:void 0,responseType:void 0,responseURL:void 0,responseXML:void 0,allResponseHeaders:void 0,triggered:void 0,triggerLabel:void 0};for(o in c)u._internal.value[o]=c[o],s=Object.getOwnPropertyDescriptor(l,o)||{},s.get&&(u._internal.value["get"+o]=s.get.bind(i)),s.set&&(u._internal.value["set"+o]=s.set.bind(i)),u[o]={get:e(o,this.verbose),set:n(o,this.verbose)};Object.defineProperties(i,u)};if(a.prototype={get verbose(){return this._member.verbose},set verbose(t){this._member.verbose="function"==typeof t?t:!!t&&console.log.bind(console)},get triggered(){return this._member.triggered},set triggered(t){this._member.triggered=this._member.xhr.triggered=t},get triggerLabel(){return this._member.triggerLabel},set triggerLabel(t){this._member.triggerLabel=this._member.xhr.triggerLabel=t},get status(){return this._member.xhr.status},set status(t){this._member.xhr.status=t},set statusOverride(t){this._member.xhr.status=t},eventIntercept:function(t){var e=this._member;if(e.verbose&&e.verbose(e.name+" intercept event",t.type,t.type in e.events),!this.handleHostEvent(t)&&t.type in e.events){let r=e.events[t.type];for(e=0;e<r.length;e++)r[e]&&r[e].callback&&(r[e].callback.name&&0<=r[e].callback.name.indexOf("bound")?r[e].callback(t):r[e].callback.call(this,t))}},open:function(t,e,r,n,i){let s=this._member,o=e.match(a.triggerRe);r=void 0===r||!!r,void 0===n&&(n=null),void 0===i&&(i=null),s.verbose&&s.verbose(s.name+" capture open",t,e,r,n,i),s.method=t,o&&(this.triggered=!0,this.triggerLabel=o[1],e=a.removeTrigger(e)),s.url=e,this.handleHostOpen()?s.stack.push({method:t,url:s.url,async:r,user:n,pw:i}):s.xhr.open(t,s.url,r,n,i)},setRequestHeader:function(t,e){let r=this._member;r.stack.length?r.stack.push({header:t,value:e}):r.xhr.setRequestHeader(t,e)},sendAsBinary:function(t){this._member.xhr.sendAsBinary(t)},send:function(t){let e=this._member;e.verbose&&e.verbose(e.name+" capture send",e.method,e.url),this.handleHostSend(t)?this.clearStack(!0):e.stack.length?(e.stack.push({payload:t}),e.stackHasSend=!0):this.doSend(t)},doSend:function(t){let e,r=this._member;for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&void 0===r.xhr[e]&&Object.defineProperty(r.xhr,e,{value:this[e],enumerable:!0});r.xhr.send(t)},clearStack:function(t){let e,r=this._member,n=!1,i=!1;for(;r.stack.length;)e=r.stack.shift(),e.url?n||(n=!0,!t&&r.xhr.open(e.method,e.url,e.async,e.user,e.pw)):e.header?!t&&r.xhr.setRequestHeader(e.header,e.value):(!t&&this.doSend(e.payload),i=!0,r.stackHasSend=!1);return i},handleHostOpen:function(){let t,e=this._member,r=a.hostPath.matchPath(e.url);return r&&r.added&&(e.verbose&&e.verbose(e.name+" handling open",e.method,e.url),this.hd=r,t=r.callListeners(this,"open",null)),t},handleHostSend:function(t){var e=!1;let r=this.hd||{};return r.added&&((e=this._member).verbose&&e.verbose(e.name+" handling send",e.method,e.url),e.allowInternalHeaders&&r.setHeaders(this.setRequestHeader.bind(this)),e=r.callListeners(this,"send",t)),e},handleHostEvent:function(t){let e=this.hd||{};if(e.added){var r=this._member;r.verbose&&r.verbose(r.name+" handling event "+t.type,r.method,r.url),r=e.callListeners(this,"event",t)}return r},setHandler:function(t,e){let r=this._member;return t in r.on&&r.on[t]&&r.on[t]!==e&&(this.removeEventListener(t,r.on[t],!1),r.on[t]=null),e&&"function"==typeof e&&(r.on[t]=e,this.addEventListener(t,e,!1)),r.on[t]},set onreadystatechange(t){this.setHandler("readystatechange",t)},get onreadystatechange(){return this._member.on.readystatechange},set ontimeout(t){this.setHandler("timeout",t)},get ontimeout(){return this._member.on.timeout},set onabort(t){this.setHandler("abort",t)},get onabort(){return this._member.on.abort},set onload(t){this.setHandler("load",t)},get onload(){return this._member.on.load},set onloadstart(t){this.setHandler("loadstart",t)},get onloadstart(){return this._member.on.loadstart},set onloadend(t){this.setHandler("loadend",t)},get onloadend(){return this._member.on.loadend},set onerror(t){this.setHandler("error",t)},get onerror(){return this._member.on.error},set onprogress(t){this.setHandler("progress",t)},get onprogress(){return this._member.on.progress},addEventListener:function(t,e,r){let n,i=this._member,s={capture:!1};if("boolean"!=typeof r&&r)for(n in r)s[n]=r[n];else s.capture=!!r;n=this.findEventListener(t,e,s),0>n&&((i.events[t]||(i.events[t]=[])).push({callback:e,options:s}),i.xhr.addEventListener(t,i.boundIntercept,s))},removeEventListener:function(t,e,r){let n,i=this._member,s={capture:!1};if("boolean"!=typeof r&&r)for(n in r)s[n]=r[n];else s.capture=!!r;n=this.findEventListener(t,e,s),0<=n&&i.events[t].splice(n,1)},findEventListener:function(t,e,r){var n=this._member;let i=-1;if(t in n.events)for(n=n.events[t],t=0;t<n.length;t++)if(n[t].callback===e&&n[t].options.capture===r.capture){i=t;break}return i},get readyState(){return this._member.xhr.readyState},set readyState(t){this._member.xhr.readyState=t},get response(){return this._member.xhr.response},set response(t){this._member.xhr.response=t},get responseText(){return this._member.xhr.responseText},set responseText(t){this._member.xhr.responseText=t},get responseType(){return this._member.xhr.responseType},set responseType(t){this._member.xhr.responseType=t},get responseURL(){return this._member.xhr.responseURL},set responseURL(t){this._member.xhr.responseURL=t},get responseXML(){return this._member.xhr.responseXML},set responseXML(t){this._member.xhr.responseXML=t},get statusText(){return this._member.xhr.statusText},set statusText(t){this._member.xhr.statusText=t},set timeout(t){this._member.xhr.timeout=t},get timeout(){return this._member.xhr.timeout},get upload(){return this._member.xhr.upload},set withCredentials(t){this._member.xhr.withCredentials=t},get withCredentials(){return this._member.xhr.withCredentials},abort:function(){this._member.xhr.abort()},getAllResponseHeaders:function(){return this._member.xhr.getAllResponseHeaders()},get allResponseHeaders(){return this._member.xhr.allResponseHeaders},set allResponseHeaders(t){this._member.xhr.allResponseHeaders=t},getResponseHeader:function(t){return this._member.xhr.getResponseHeader(t)},setResponseHeader:function(t,e,r){this._member.xhr.setResponseHeader(t,e,r)},overrideMimeType:function(t){this._member.xhr.overrideMimeType(t)},dispatchEvent:function(t){this._member.xhr.dispatchEvent(t)}},a.DONE=t.XMLHttpRequest.DONE||4,a.LOADING=t.XMLHttpRequest.LOADING||3,a.HEADERS_RECEIVED=t.XMLHttpRequest.HEADERS_RECEIVED||2,a.OPENED=t.XMLHttpRequest.OPENED||1,a.UNSENT=t.XMLHttpRequest.UNSENT||0,a.inNode=t!==e,a.source="string"==typeof t.Bundle?t.Bundle:"string"==typeof t.APIBundle?t.APIBundle:"standalone",a.origXMLHttpRequest=null,a.origFetch=null,a.noFetch=!1,a.indirection=!0,a.indirect=!1,a.debug=!!r.Save&&r.Save.debug,a.verbose=!!r.Save&&r.Save.verbose,(e=r.currentScript)&&e.el){let r,s;for(s in n={debug:!0,verbose:!0,noFetch:!0,indirection:!0,indirect:!0})n=new RegExp("(?:^|&)(!?"+s+")(?:&|$)"),"string"==typeof(i=e.el.getAttribute("data-"+s))?(r=!0,i="true"===i||""===i):e.params&&("object"==typeof e.params&&(r=s in e.params)?i=!!e.params[s]:"string"==typeof e.params&&(r=e.params.match(n))&&(i=r[1]===s)),r&&("noFetch"===s&&!0===i&&(a.lastFetch=t.fetch,t.fetch=!1),a[s]=i)}a.setAction=function(t){return a.debug&&console.log("XI XHR set action",t),!0},a.getAction=function(){a.debug&&console.log("XI XHR get action")},a.stack=[],a.Promise=t.Promise||r.XPromise,a.triggerPrefix="//triggerurl/label/",a.triggerRe=/^.*\/\/triggerurl\/([^/]+)\//,a.active=!1,a.hostPath=new r.HostPath,a.addTrigger=function(t,e){function n(t){return t.replace(/^([^/:]*:)?\/\//,(function(t,e){return(e||r.pageProtocol).slice(0,-1)+"%3A/"}))}if(e=r.pageProtocol+a.triggerPrefix.replace(/label/,e||"default"),Array.isArray(t))for(let r=0;r<t.length;r++)t[r].src&&(t[r].src=e+n(t[r].src));else t=e+n(t);return t},a.removeTrigger=function(t){return t.replace(a.triggerRe,"").replace(/^([^/]+)?%3A?\//,"$1://")},a.XHRSelect=function(){return a.activeXHR?new a.activeXHR:{}},a.FetchSelect=function(){return a.activeFXX.bind(t)},a.setRequestors=function(){if(a.indirection)delete t.XMLHttpRequest,delete t.fetch,Object.defineProperty(t,"XMLHttpRequest",{enumerable:!1,configurable:!0,get:function(){return a.activeXHR&&a.activeXHR.getAction&&a.activeXHR.getAction(),a.indirect?a.XHRSelect:a.activeXHR},set:function(t){!a.activeXHR||a.activeXHR.setAction&&a.activeXHR.setAction(t)&&!a.activeXHR.locked||!a.activeXHR.setAction&&!a.activeXHR.locked?(a.debug&&console.warn("XMLHttpRequest changed\nfrom:",a.activeXHR,"\nto:",t),a.activeXHR=t):a.debug&&console.warn("XMLHttpRequest was not changed",a.activeXHR)}}),Object.defineProperty(t,"fetch",{enumerable:!0,configurable:!0,get:function(){return a.activeFXX&&a.activeFXX.getAction&&a.activeFXX.getAction(),a.activeFXX?a.FetchSelect():a.activeFXX},set:function(t){!a.activeFXX||a.activeFXX.setAction&&a.activeFXX.setAction(t)&&!a.activeFXX.locked||!a.activeFXX.setAction&&!a.activeFXX.locked?(a.debug&&console.warn("fetch changed\nfrom:",a.activeFXX,"\nto:",t),a.activeFXX=t):a.debug&&console.warn("fetch was not changed",a.activeFXX)}});else{let e=Object.getOwnPropertyDescriptor(t,"fetch");e&&"function"==typeof e.value&&"function"!=typeof e.get?t.fetch=a.activeFXX:Object.defineProperty(t,"fetch",{enumerable:!1,configurable:!0,value:a.activeFXX}),(e=Object.getOwnPropertyDescriptor(t,"XMLHttpRequest"))&&"function"==typeof e.value&&"function"!=typeof e.get?t.XMLHttpRequest=a.activeXHR:Object.defineProperty(t,"XMLHttpRequest",{enumerable:!1,configurable:!0,value:a.activeXHR})}},a.detectXHR=function(e,r,n){return e||(r||(r=t),n||(n="XMLHttpRequest"),e=r[n]),Object.getPrototypeOf(e)===t.XMLHttpRequestEventTarget?e="native":e.prototype instanceof t.XMLHttpRequestEventTarget?e="extension":(e="replacement",r&&n&&((r=Object.getOwnPropertyDescriptor(r,n)).hasOwnProperty("get")||"function"!=typeof r.value)&&(e="overlay")),e},a.detectFetch=function(e,r,n){let i;return e||(r||(r=t),n||(n="fetch"),i=r[n]),r&&n&&(i=Object.getOwnPropertyDescriptor(r,n),i=i.value),"function"==typeof i?"fetch"===i.name?"native":0<=i.name.indexOf("bound ")?"bound function":"function":"overlay"},a.getSrc=function(){let e=r.Save||{};return[{name:"__",kind:"XMLHttpRequest",ref:a.__XHR},{name:"orig",kind:"XMLHttpRequest",ref:e.origXMLHttpRequest||t.XMLHttpRequest},{name:"amp",kind:"XMLHttpRequest",ref:e.ampXMLHttpRequest||t.amp&&(t.amp.xhr||{}).XMLHttpRequest},{name:"videojs",kind:"XMLHttpRequest",ref:e.videojsXMLHttpRequest||t.videojs&&(t.videojs.xhr||{}).XMLHttpRequest},{name:"shaka",kind:"XMLHttpRequest",ref:e.shakaXMLHttpRequest||t.shaka&&(t.shaka.net.HttpXHRPlugin||{}).Xhr_},{name:"__",kind:"Fetch",ref:a.__fetch},{name:"orig",kind:"Fetch",ref:e.origFetch||t.fetch},{name:"shaka",kind:"Fetch",ref:e.shakaFetch||t.shaka&&(t.shaka.net.HttpFetchPlugin||{}).fetch_}]},a.init=function(){let e=a,n=r.Save||{};e.__XHR=e.activeXHR=n.origXMLHttpRequest||t.XMLHttpRequest,e.__XHR.setAction=function(t){return e.debug&&console.log("native XHR set action",t),"function"==typeof t},e.__XHR.getAction=function(){e.debug&&console.log("native XHR get action")},e.__fetch=e.activeFXX=n.origFetch||t.fetch||e.lastFetch,e.__fetch&&(e.__fetch.setAction=function(t){return e.debug&&console.log("native fetch set action",t),!0},e.__fetch.getAction=function(){e.debug&&console.log("native fetch get action")},e.noFetch||!t.fetch)&&(e.activeFXX=null);let i,s,o,l=e.getSrc();for(i=0;i<l.length;i++)if(n=l[i],n.ref&&("orig"!=n.name||!e[n.name+n.kind])){if("XMLHttpRequest"==n.kind)n.real=e.inNode||n.ref.prototype instanceof t.XMLHttpRequestEventTarget,n.real&&!s&&(s=n.ref);else if("Fetch"==n.kind){let t="function"==typeof n.ref&&n.ref instanceof Object&&Object.getOwnPropertyDescriptors(n.ref);n.real=e.inNode||t.name&&"fetch"===t.name.value&&t.length&&1===t.length.value,n.real&&!o&&(o=n.ref)}e[n.name+n.kind]=n.ref}e.origXMLHttpRequest&&l[1].real||(e.origXMLHttpRequest=s||e.ampXMLHttpRequest||e.videojsXMLHttpRequest||e.shakaXMLHttpRequest||e.origXMLHttpRequest),e.origFetch&&l[6].real||(e.origFetch=o||e.shakaFetch),e.savedOrigFetch=e.origFetch,e.savedOrigXMLHttpRequest=e.origXMLHttpRequest,e.stack.push({name:"orig",xhr:e.origXMLHttpRequest,fetch:e.origFetch}),e.setRequestors()},a.capture=function(e,r,n){let i,s;if(a.indirection){let e=0;s=Object.getOwnPropertyDescriptor(t,"fetch"),i=Object.getOwnPropertyDescriptor(t,"XMLHttpRequest"),s&&s.get&&s.set?s=a.activeFXX:(s=a.activeFXX=t.fetch,e++),i&&i.get&&i.set?i=a.activeXHR:(i=a.activeXHR=t.XMLHttpRequest,e++),e&&a.setRequestors()}else i=t.XMLHttpRequest,s=t.fetch;a.stack.push({name:e,noFetch:r,xhr:i,fetch:s}),a[e+"XMLHttpRequest"]=i,a[e+"Fetch"]=s,r&&(t.fetch=null),a.indirection&&(a.debug||n&&n.callback)&&(a.activeXHR&&(a.activeXHR.setAction||(a.activeXHR.setAction=function(t){return a.debug&&console.log(e+" XHR set action",t),!0}),n&&n.callback||!a.activeXHR.getAction)&&(a.activeXHR.getAction=function(){a.debug&&console.log(e+" XHR get action"),n&&n.callback&&n.callback()}),a.activeFXX&&(a.activeFXX.setAction||(a.activeFXX.setAction=function(t){return a.debug&&console.log(e+" fetch set action",t),!0}),n&&n.callback||!a.activeFXX.getAction)&&(a.activeFXX.getAction=function(){a.debug&&console.log(e+" fetch get action"),n&&n.callback&&n.callback()}))},a.restore=function(){if(a.stack.length){let e,r,n;if(1<a.stack.length){for(n=a.stack.pop(),e=a.stack.length-1;!r&&0<=e;e--)a.stack[e].name==n.name&&(r=a.stack[e]);r?(a[r.name+"XMLHttpRequest"]=r.xhr,a[r.name+"Fetch"]=r.fetch):(delete a[n.name+"XMLHttpRequest"],delete a[n.name+"Fetch"]),r=a.stack[a.stack.length-1],t.XMLHttpRequest=r.xhr,t.fetch=r.noFetch?null:r.fetch}}},a.init(),a.activate=function(){a.active||(a.origXMLHttpRequest&&(t.XMLHttpRequest=a,t.amp&&t.amp.xhr&&(a.ampXMLHttpRequest||(a.ampXMLHttpRequest=t.amp.xhr.XMLHttpRequest),t.amp.xhr.XMLHttpRequest=a),t.videojs&&t.videojs.xhr&&(a.videojsXMLHttpRequest||(a.videojsXMLHttpRequest=t.videojs.xhr.XMLHttpRequest),t.videojs.xhr.XMLHttpRequest=a),t.shaka&&t.shaka.net.HttpXHRPlugin.Xhr_&&(a.shakaXMLHttpRequest||(a.shakaXMLHttpRequest=t.shaka.net.HttpXHRPlugin.Xhr_),t.shaka.net.HttpXHRPlugin.Xhr_=a)),a.origFetch&&(t.fetch=a.noFetch?null:a.fetchIntercept,t.shaka&&t.shaka.net.HttpFetchPlugin.fetch_&&(a.shakaFetch||(a.shakaFetch=t.shaka.net.HttpFetchPlugin.fetch_),t.shaka.net.HttpFetchPlugin.fetch_=t.fetch)),a.active=!0,a.capture("active"))},a.blockFetch=function(e){a.noFetch=!!e,a.active&&(a.noFetch?t.fetch&&(a.lastFetch=t.fetch,t.fetch=null):t.fetch||(t.fetch=a.lastFetch||a.fetchIntercept,a.lastFetch=null),t.shaka&&t.shaka.net.HttpFetchPlugin.fetch_&&(t.shaka.net.HttpFetchPlugin.fetch_=t.fetch))},a.deactivate=function(){a.active&&(a.active=!1,a.origXMLHttpRequest&&(a.ampXMLHttpRequest&&t.amp&&t.amp.xhr&&(t.amp.xhr.XMLHttpRequest=a.ampXMLHttpRequest),a.videojsXMLHttpRequest&&t.videojs&&t.videojs.xhr&&(t.videojs.xhr.XMLHttpRequest=a.videojsXMLHttpRequest),a.shakaXMLHttpRequest&&t.shaka&&t.shaka.net.HttpXHRPlugin.Xhr_&&(t.shaka.net.HttpXHRPlugin.Xhr_=a.shakaXMLHttpRequest),t.XMLHttpRequest=a.savedOrigXMLHttpRequest||a.origXMLHttpRequest),a.origFetch&&(t.fetch=a.savedOrigFetch||a.origFetch,a.shakaFetch&&t.shaka&&t.shaka.net.HttpFetchPlugin.fetch_&&(t.shaka.net.HttpFetchPlugin.fetch_=a.shakaFetch)),a.stack.splice(1,a.stack.length))},a.swapRequestor=function(e,r){a.Swap?e&&a[e+"XMLHttpRequest"]?(a.origXMLHttpRequest=a[e+"XMLHttpRequest"],a.origFetch=a[e+"Fetch"],a.indirection?(a[e+"XMLHttpRequest"].getAction=function(){a.debug&&console.log(e+" XHR get action"),r&&r.callback&&setTimeout((function(){r.callback&&(t.XMLHttpRequest=a,console.warn("UPDATED XHR"),r.callback())}),1e3)},a.setAction=function(){setTimeout((function(){a.changeAction=null,t.XMLHttpRequest=a}),1e3)}):r&&r.callback&&setTimeout((function(){r.callback&&(t.XMLHttpRequest=a,console.warn("UPDATED XHR"),r.callback())}),1e3),t.fetch=r&&r.noFetch?null:a.fetchIntercept):(a.origXMLHttpRequest=a.Swap.origXHR,a.origFetch=a.Swap.origFetch,t.XMLHttpRequest=a.Swap.lastXHR,t.fetch=a.Swap.lastFetch,delete a.Swap,a.requestorSwap=!1):!0===e&&(a.Swap={origXHR:a.origXMLHttpRequest,lastXHR:t.XMLHttpRequest,origFetch:a.origFetch,lastFetch:t.fetch},t.XMLHttpRequest=a.origXMLHttpRequest,t.fetch=r&&r.noFetch?null:a.origFetch,a.requestorSwap=!0)},a.fetchIntercept=function(e,n){let i,s;var o;let l,u={get triggered(){return this._member.triggered},set triggered(t){this._member.triggered=t},get triggerLabel(){return this._member.triggerLabel},set triggerLabel(t){this._member.triggerLabel=t},_member:{triggered:!1,triggerLabel:""}};var c=u._member;let h,p,f,d;if(e&&("string"==typeof e?s=e:"url"in e?(s=e.url,e instanceof t.Request&&(l=!0)):"toString"in e&&(s=e.toString()),s)){var g=s.match(a.triggerRe);if(g&&(u.triggered=!0,u.triggerLabel=g[1],s=a.removeTrigger(s)),c.url=s,h=a.hostPath.matchPath(c.url))if(h&&h.added){let r={},p=0;if(h.setHeaders((function(t,e){r[t.toLowerCase()]=e,p++})),p)if(n){let t;for(t in c={},n)"headers"!=t&&(c[t]=n[t]);if(t="headers",n[t])if(n[t]instanceof Headers)n[t].forEach((function(t,e){e in r||(r[e]=t)}));else for(o in n[t])(g=o.toLowerCase())in r||(r[g]=n[o]);c[t]=r,n=c}else n={headers:r};(o=h.callListeners(u,"fetch",null))?i=a.Promise.reject("request not allowed"):l&&s!=e.url&&(s=new t.Request(s,{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}))}else h=null;else s=e}return i||(i=a.origFetch.call(t,s||e,n),h&&(p=new a.Promise((function(t,e){f=t,d=e})),i.then((function(t){let e=h.callListeners(u,"fetch response",t);e?e instanceof r.ResponseOverlay?f(e):d("not allowed"):f(t)}),(function(t){d(h.callListeners(u,"fetch error",t))})))),p||i},a.fetchIntercept.getAction=function(){a.debug&&console.log("XI fetch get action")},a.fetchIntercept.setAction=function(t){return a.debug&&console.log("XI fetch set action",t),!0},r.ResponseOverlay=function(t,e,r){function n(t,e){return"url"==t?function(){let r=this._internal;var n=r["get"+t];return(n=void 0===r[t]&&n?n():r[t])&&r.triggered&&(n=a.addTrigger(n,r.triggerLabel)),e&&e("Response get "+t,"<<"+n+">>"),n}:function(){var r=this._internal;let n=r["get"+t];return r=void 0===r[t]&&n?n():r[t],e&&e("Response get "+t,"<<"+r+">>"),r}}function i(t,e){return function(r){let n=this._internal,i=n["set"+t];return e&&e("Response set "+t,"<<"+r+">>"),n[t]=r,i&&i(r),r}}!((t=this._member={response:t||new Response(e||"default",r||{status:200,statusText:"OK, I guess"}),triggered:!1,triggerLabel:"",verbose:!1,text:null,json:null,blob:null,arrayBuffer:null}).response instanceof Response)&&t.response.source instanceof Response&&(t.orig=t.response,t.response=t.response.source),this.verbose=a.verbose,t=t.response,e=Object.getPrototypeOf(t),r={_internal:{value:{link:this,triggered:this.triggered,triggerLabel:this.triggerLabel}}};let s,o,l={url:void 0,status:void 0,statusText:void 0,ok:void 0,redirected:void 0,triggered:void 0,triggerLabel:void 0};for(o in l)r._internal.value[o]=l[o],s=Object.getOwnPropertyDescriptor(e,o)||{},s.get&&(r._internal.value["get"+o]=s.get.bind(t)),s.set&&(r._internal.value["set"+o]=s.set.bind(t)),r[o]={get:n(o,this.verbose),set:i(o,this.verbose)};Object.defineProperties(t,r)},r.ResponseOverlay.prototype={get verbose(){return this._member.verbose},set verbose(t){this._member.verbose="function"==typeof t?t:!!t&&console.log.bind(console)},get triggered(){return this._member.triggered},set triggered(t){this._member.triggered=this._member.response.triggered=t},get triggerLabel(){return this._member.triggerLabel},set triggerLabel(t){this._member.triggerLabel=this._member.response.triggerLabel=t},get status(){return this._member.response.status},set status(t){this._member.response.status=t},get statusText(){return this._member.response.statusText},set statusText(t){this._member.response.statusText=t},get url(){return this._member.response.url},set url(t){this._member.response.url=t},get ok(){return this._member.response.ok},set ok(t){this._member.response.ok=t},get redirected(){return this._member.response.redirected},set redirected(t){this._member.response.redirected=t},get headers(){return this._member.response.headers},get trailers(){return this._member.response.trailers},get type(){return this._member.response.type},get useFinalURL(){return this._member.response.useFinalURL},get body(){return this._member.response.body},get bodyUsed(){return this._member.response.bodyUsed},clone:function(){return this._member.response.clone?this._member.response.clone():this._member.response},error:function(){return this._member.response.error()},redirect:function(t,e){return this._member.response.redirect(t,e)},arrayBuffer:function(){let t=this._member;return"function"==typeof t.arrayBuffer?t.arrayBuffer():t.response.arrayBuffer()},blob:function(){let t=this._member;return"function"==typeof t.blob?t.blob():t.response.blob()},formData:function(){let t=this._member;return"function"==typeof t.formData?t.formData():t.response.formData()},json:function(){let t=this._member;return"function"==typeof t.json?t.json():t.response.json()},text:function(){let t=this._member;return"function"==typeof t.text?t.text():t.response.text()}}}(this.GlobalCTX,this.ExportCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["uuid.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){let e,r=t.Util||(t.Util={}),n=null;r.UUID&&(console.log("UUID ALREADY DEFINED"),n=r.UUID.Uuid,delete t.Util.UUID),r.UUID=function(t){this.details=1==t?this.reverse(this.version1random()):this.reverse(this.version4()),this.last=this.details.uuid},r.UUID.prototype={version4Array:function(){let t=new Uint8Array(16);r.UUID.random(t),t[6]=64|15&t[6],t[8]=128|63&t[8];let e,n,i="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".split("");for(n=e=0;16>e;e++,n++)"-"==i[n]&&n++,i[n++]="0123456789abcdef"[t[e]>>4],i[n]="0123456789abcdef"[15&t[e]];return i},version4:function(){return this.version4Array().join("")},version1random:function(){let t=this.version4Array();t[14]="1";let e=Date.now();console.log(e),e=(1e4*(e+r.UUID.epochOffset)).toString(16),15>e.length&&(e="0000000000000000"+e),e=e.substring(e.length-15);let n,i=[15,16,17,9,10,11,12,0,1,2,3,4,5,6,7];for(n=0;n<i.length;n++)t[i[n]]=e[n];return t.join("")},reverse:function(t){let e=null;return t&&"string"==typeof t&&36==t.length&&(e={uuid:t,version:parseInt(t[14],16),variant:parseInt(t[19],16),time:parseInt(t.substring(15,18)+t.substring(9,13)+t.substring(0,8),16),node:parseInt(t.substring(24,36),16),clkseq:parseInt(t.substring(19,23),16)},8==(8&e.variant)?(e.variant>>=2,e.clkseq&=16383,1==e.version&&(e.epoch=e.time/1e4-r.UUID.epochOffset)):12==(12&e.variant)?(e.variant>>=1,e.clkseq&=8191):(e.variant>>=3,e.clkseq&=32767)),e},fromDetails:function(t){if(2==(t=t||this.details||{}).variant){let r="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".split("");r[14]="0123456789abcdef"[15&t.version];let n,i=t.time.toString(16);15>i.length&&(i="0000000000000000"+i),i=i.substring(i.length-15);var e=[15,16,17,9,10,11,12,0,1,2,3,4,5,6,7];for(n=0;n<e.length;n++)r[e[n]]=i[n];for(i=(16383&t.clkseq|t.variant<<14).toString(16),e=19,n=0;4>n;e++,n++)r[e]=i[n];for(i=t.node.toString(16),12>i.length&&(i="0000000000000000"+i),i=i.substring(i.length-12),e=24,n=0;12>n;e++,n++)r[e]=i[n];t.uuid=r.join("")}return t}},e=(0x63727970746f).toString(16).replace(/../g,(function(t){return String.fromCharCode(parseInt(t,16))})),e=t[e]||t["msC"+e.substring(1)],r.UUID.random=e?e.getRandomValues.bind(e):function(t){for(let e=0;e<t.length;e++)t[e]=255&Math.floor(256*Math.random())},r.UUID.epochOffset=122192928e5,r.UUID.Uuid=n||(new r.UUID).last}(this.GlobalCTX),function(t,e){e.Util.UUID.restored=e.Util.UUID.saved="";var r=e.Util.currentScript||{};r=r&&r.el&&(""+r.el.src).replace(/^(?:https?:)?(?:\/\/)?([^/?]+)\/.*$/,"$1");let n="",i={};try{t.cookie.split(/;\s/).forEach((function(t){t=t.split("="),i[t[0]]=t[1],"rampapi.uuid"===t[0]&&(n="cookie")}))}catch(t){}try{let t,r,s=Object.keys(e.localStorage||{});for(t=0;t<s.length;t++)r=e.localStorage[s[t]],i[s[t]]=r,"rampapi.uuid"===s[t]&&(n="local")}catch(t){}"rampapi.uuid"in i&&(e.Util.UUID.Uuid=i["rampapi.uuid"],e.Util.UUID.restored=n);try{t.cookie="rampapi.uuid="+e.Util.UUID.Uuid+";path=/;domain="+r+";max-age=31536000;samesite=strict",e.Util.UUID.saved+="cookie"}catch(t){}try{e.localStorage&&e.localStorage.setItem("rampapi.uuid",e.Util.UUID.Uuid),e.Util.UUID.saved+="local"}catch(t){}}(document,this.GlobalCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["analytics.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){let e=t.Util||(t.Util={pageProtocol:"http:"===location.protocol?"http:":"https:"}),r=e.Analytics=function(t){var e=t||{};"string"==typeof e.url||(e.url=""),"string"==typeof e.src||(e.src=""),"number"==typeof e.intervalMs||(e.intervalMs=15e3),"number"==typeof e.limit||(e.limit=1),"number"==typeof e.ifxTimeoutMs||(e.ifxTimeoutMs=5e3),"function"==typeof e.callback||(e.callback=null),"string"==typeof e.algorithm&&e.algorithm in r.Algorithm||(e.algorithm="default"),this.algorithm=r.Algorithm[e.algorithm],this.intervalMs=e.intervalMs,this.ifxTimeoutMs=e.ifxTimeoutMs,this.limit=e.limit,this.stopOnLimit=!!e.stopOnLimit,this.callback=e.callback,this.verbose=e.verbose,this.debug=e.debug,this.rcvrP=e.rcvrP,this.semaphore=[],e.brokerSrc?"string"==typeof e.brokerSrc?this.brokerSrc=e.brokerSrc.split(","):Array.isArray(e.brokerSrc)?this.brokerSrc=e.brokerSrc:this.brokerSrc=[e.brokerSrc]:this.brokerSrc=[],this.broker=[],this.brokerObj={},this.randomMap=[],t=e.url.split(",");let n=e.src.split(",");for(e=0;e<t.length;e++)"guide"===t[e]?this.brokerSrc.unshift({url:""}):this.addBroker(t[e],n[e]||"");this.brokerSrc=this.parseBrokerSource(this.brokerSrc),this.index=-1,this.start()};r.prototype={start:function(){!this.interval&&0<this.intervalMs&&(this.packetBuffer||(this.packetBuffer=[]),this.packetWrapperBuffer||(this.packetWrapperBuffer=[]),this.packetWrapper||(this.packetWrapper=this.newPacketWrapper(),this.packet=this.newPacket(),this.packetWrapper.packets.push(this.packet)),this.packet.header.intervalStart=Date.now(),this.interval=setTimeout(this.sendPacket.bind(this),this.intervalMs))},stop:function(){this.interval&&(clearTimeout(this.interval),this.interval=null,this.sendPacket())},destroy:function(){this.stop(),this.packet=null;let t,e=this.broker.length-1;for(;this.broker.length;)t=this.broker[e],t.payload&&(t.timer?this.messageListener({data:{id:t.id}}):t.xhr&&(this.endTransaction(t,!1),t.xhr.abort())),delete this.brokerObj[t.id],delete this.broker[e],this.broker.pop(),e--;for(;this.packetBuffer.length;)delete this.packetBuffer[0],this.packetBuffer.shift();for(;this.packetWrapperBuffer.length;)delete this.packetWrapperBuffer[0],this.packetWrapperBuffer.shift();this.callback&&this.callback(this,"destroy"," ")},newPacket:function(){var t=r.protoRef;return(t=this.packetBuffer.length?this.packetBuffer.shift():t.Packet.create({header:t.PacketHeader.create({guid:{uuid:r.uuid},intervalStart:0,intervalEnd:0,componentVersion:r.version}),plugin:t.PluginPacket.create({domain:location.host,platformBrowser:navigator.userAgent,pluginOS:"",receiverGuid:null,pluginIP:"",externalIP:""})})).plugin.domain=location.host,t.plugin.platformBrowser=navigator.userAgent,t.plugin.receiverGuid=r.receiverGuid,t},deletePacket:function(t){if(t){let e;for(e in t.plugin)Object.prototype.hasOwnProperty.call(t.plugin,e)&&delete t.plugin[e];delete t.header.intervalStart,delete t.header.intervalEnd,this.packetBuffer.push(t)}},newPacketWrapper:function(){return this.packetWrapperBuffer.length?this.packetWrapperBuffer.shift():r.protoRef.PacketWrapper.create({packets:[]})},deletePacketWrapper:function(t){if(t){let e;for(;t.packets.length;)e=t.packets.shift(),this.deletePacket(e);this.packetWrapperBuffer.push(t)}},emptyPacketWrapper:function(t,e){if(t)for(;t.packets.length;)e.packets.unshift(t.packets.pop())},combinePackets:function(t,e){},addBroker:function(t,n){let i=(t=t.replace(/(?:^[^:]+:\/\/)|(?:^\/\/)/,e.pageProtocol+"//")).match(r.urlRE);if(n=n&&n.match(r.urlRE),i&&i[3]){t=i[1]+"//"+i[3],n&&n[4]&&(n="default"==n[4]?t+r.defaultSrc:t+n[4]);var s=i[4]&&"/"!=i[4]?i[4].replace(new RegExp(r.defaultEndPoint+"$"),""):"";s={url:t+s+r.defaultEndPoint,origin:t,ping:t+s+r.defaultPing,src:n,ifx:null,id:this.broker.length+"_"+performance.now(),fail:0,transaction:null,timer:null,xhr:null,payload:null},this.randomMap.push(this.broker.length),this.broker.push(s),this.brokerObj[s.id]=s,n?this.addIframe(s):this.sendToBroker(s,null)}this.callback&&this.callback(this,"addBroker",{broker:s})},addIframe:function(e){this.listeningForMessages||(t.addEventListener("message",this.messageListener.bind(this),!1),this.listeningForMessages=!0);let r=e.ifx=document.createElement("iframe");r.className="analytics_ifx",r.style.display="none",r.src=e.src,r.broker=e,r.addEventListener("load",this.ifxListener.bind(this),!1),r.addEventListener("error",this.ifxListener.bind(this),!1),document.body.appendChild(r)},ifxListener:function(t){let e=t.target;"error"==t.type?this.endTransaction(e.broker,!1):this.sendToBroker(e.broker,null)},messageListener:function(t){let e,r,n="",i="";try{e=JSON.parse(t.data)}catch(t){n+=i+"json failed",i=", "}if(e&&e.id&&this.brokerObj[e.id]){r=this.brokerObj[e.id];let s=!1;n+=i+"broker:"+e.id,i=", ",r.timer?(clearTimeout(r.timer),r.timer=null,n+=i+"timer cleared",t.origin==r.origin?(s="success"==e.state,n+=i+"success"):n+=i+"bad origin"):n+=i+"timer expired",this.endTransaction(r,s)}else n+=i+"no broker";this.callback&&this.callback(this,"message",{broker:r,state:n})},timeoutListener:function(t){(t=this.brokerObj[t]).timer=null,this.callback&&this.callback(this,"timeoutListener",{broker:t}),this.endTransaction(t,!1)},readyStateListener:function(t){let e=(t=t.target).broker,r=!1,n=!1;return 4==t.readyState?r=200!=t.status||(n=!0):t.readyState||(r=!0),r&&(e.xhr=null,this.endTransaction(e,n)),!1},sendToBroker:function(e,n){if(e.payload=n,e.transaction=n?"pending":"init",this.callback&&this.callback(this,"sendToBroker",{broker:e}),e.ifx){n={broker:{id:e.id,url:e.url,ping:e.ping,origin:e.origin},payload:n&&btoa(r.protoRef.PacketWrapper.encode(n).finish())};try{e.ifx.contentWindow.postMessage(JSON.stringify(n),e.origin),e.timer=setTimeout(this.timeoutListener.bind(this,e.id),this.ifxTimeoutMs)}catch(t){this.endTransaction(e,!1)}}else{let i=e.xhr=new t.XMLHttpRequest;i.broker=e,i.addEventListener("readystatechange",this.readyStateListener.bind(this),!1);try{n?(i.open("post",e.url,!0),i.setRequestHeader("Content-Type","application/x-protobuf"),i.send(r.protoRef.PacketWrapper.encode(n).finish())):(i.open("get",e.ping,!0),i.send(null))}catch(t){e.xhr=null,this.endTransaction(e,!1)}}},send:function(t){this.debug&&t&&console.log("RAMP Analytics: send",JSON.stringify(t,null,"  "));let e=!this.broker.length,n=0;if(0==this.randomMap.length)for(let t=0;t<this.broker.length;t++)this.randomMap.push(t);for(;!i&&!e&&n<this.broker.length;){switch(this.algorithm){case r.Algorithm.sequential:0>this.index?this.index=0:null===i&&(this.index=(this.index+1)%this.broker.length);break;case r.Algorithm.random:if(0>this.index||null===i){var i=Math.floor(Math.random()*this.randomMap.length);this.index=this.randomMap[i],this.randomMap.splice(i,1)}break;case r.Algorithm["round-robin"]:this.index=(this.index+1)%this.broker.length}(i=this.broker[this.index])&&("pending"==i.transaction||0<this.limit&&i.fail>this.limit)&&(i.fail=0,i=null),n++}i?(this.verbose&&console.log("RAMP Analytics: trying broker "+this.index+" "+i.url),this.sendToBroker(i,t)):n==this.broker.length?(console.warn("RAMP Analytics: All Brokers have FAILED"),this.stopOnLimit&&(this.intervalMs=0)):console.warn("RAMP Analytics: Broker["+this.index+"] is missing")},sendPacket:function(){this.interval&&clearTimeout(this.interval),this.callback&&this.callback(this,"sendPacket"," ");let t={};t.pw=this.newPacketWrapper(),t.p=this.newPacket(),t.pw.packets.push(t.p),t.pp=this.packet;let e=this.broker[this.index];t.ppw=this.packetWrapper,e&&"pending"==e.transaction&&(this.endTransaction(e,!1),e.xhr&&e.xhr.abort()),this.getSemaphore().then(this.swapAndSend.bind(this,t))},swapAndSend:function(t){let e,r="source eventId receiverGuid platformBrowser pluginOS bitrate domain manifestUrl effectiveManifestUrl pluginLoadGuid pluginLocalIp pluginExternalIp eventName eventStartTime eventEndTime eventType eventState".split(" ");for(e=0;e<r.length;e++)t.p.plugin[r[e]]=t.pp.plugin[r[e]];t.p.header.guid.uuid=t.pp.header.guid.uuid,t.p.header.componentVersion=t.pp.header.componentVersion,t.p.header.intervalStart=t.pp.header.intervalEnd=Date.now(),this.packet=t.p,this.packetWrapper=t.pw,this.interval&&0<this.intervalMs&&(this.interval=setTimeout(this.sendPacket.bind(this),this.intervalMs));let n=this;this.queryBrokerSource().then((function(e){n.updateBrokers(e),n.send(t.ppw),n.releaseSemaphore()}))},endTransaction:function(t,e){this.verbose&&console.log("RAMP Analytics:        broker "+(0<=this.index?this.index:"ping")+" "+t.url+" "+(e?"success":"failure")),e?(t.fail=0,t.transaction="success"):(t.fail++,t.transaction="failure",this.emptyPacketWrapper(t.payload,this.packetWrapper)),this.deletePacketWrapper(t.payload),this.callback&&this.callback(this,"endTransaction",{broker:t,success:e}),this.verbose&&console.log("RAMP Analytics: current state of buffers","PW: "+this.packetWrapperBuffer.length,"P: "+this.packetBuffer.length),this.verbose&&console.log("RAMP Analytics: state of current wrapper","P: "+this.packetWrapper.packets.length),t.payload=null},restoreBrokers:function(){let t;for(t=this.broker.length-1;0<=t;t--)this.broker[t].fail=0},getSemaphore:function(){let t=new e.XPromise;return 1==this.semaphore.push(t)&&t.resolve(),t},releaseSemaphore:function(){this.semaphore.shift(),this.semaphore.length&&this.semaphore[0].resolve()},applyValue:function(t,n){let i=this;this.getSemaphore().then((function(){let s,o,a,l=t;"string"==typeof t&&(l={},l[t]=n);let u=i.packet.header,c=i.packet.plugin;for(s in l){if(a=!1,o="?"==s[0]?s.substring(1):s,o in u)s!=o&&u[o]||(a=u,"guid"==o?u[o]=r.uuid=l[s]&&"string"==typeof l[s]?{uuid:l[s]}:null:"componentVersion"==s?u[o]=r.version=l[s]:a=!1);else if(o in c&&(s==o||!c[o]))if(a=c,o in r.sumField)c[o]+=l[s];else if("source"==o&&"string"==typeof l[s])c[o]=r.protoRef.PluginPacket.PluginEventStreamType[l[s]]||0;else if("receiverGuid"==o||"pluginLoadGuid"==o)c[o]=r[o]=l[s]&&"string"==typeof l[s]?{uuid:l[s]}:null;else if(!l[s]||"manifestUrl"!=o&&"effectiveManifestUrl"!=o)c[o]=l[s];else{let t;"string"==typeof l[s]?t=l[s]:(l[s].src&&(l[s]=[l[s]]),Array.isArray(l[s])&&(t=l[s][0]&&l[s][0].src)),e.XHRIntercept&&t.match(e.XHRIntercept.triggerRe)&&(t=e.XHRIntercept.removeTrigger(t)),c[o]=t}a&&i.verbose&&console.log("Analytics applyValue "+o,a[o])}i.releaseSemaphore()}))},parseBrokerSource:function(t){let e;if(t){if("string"==typeof t)if("{"==t[0]||"["==t[0]){try{e=JSON.parse(t)}catch(t){}e&&!Array.isArray(e)&&(e=[e])}else e=t.split(",");else Array.isArray(t)?e=t:"object"==typeof t&&(e=[t]);let n=this;e&&0<e.length&&e.forEach((function(t,e,i){"string"==typeof t&&(i[e]={url:t}),(t=i[e]).format&&t.format in r.BrokerFormat||(t.format="guide"),t.key||(t.key=r.BrokerFormat[t.format]),!t.url&&"guide"===t.format&&n.rcvrP&&n.rcvrP.then((function(e){e&&(t.url=e+"/rme/programguide")}))}))}return e},queryBrokerSource:function(t){let e,r=this;if(this.brokerSrc&&this.brokerSrc.length){let n;if(void 0===t&&(e=new Promise((function(t,e){r.brokerSrc.resolve=t,r.brokerSrc.reject=e,r.brokerSrc.brokers=[]})),t=0),n=this.brokerSrc[t],n.url){let e=new XMLHttpRequest;e.data=n,e.index=t,e.addEventListener("loadend",(function(n){if(4==e.readyState&&200==e.status&&e.response){let t,n;if("text"===e.data.format)t=e.response;else if("["===e.response[0]||"{"===e.response[0]){try{n=JSON.parse(e.response)}catch(t){}n&&(e.data.key?t=0<=e.data.key.indexOf(".")?r.deref(n,e.data.key):r.parseObject(n,e.data.key):Array.isArray(n)&&(t=n))}t&&(Array.isArray(t)||(t=t.split(",")),t.forEach((function(t,e,n){t&&(t=t.trim()),t&&(t=t.replace(/^(?:(?:https?:)?\/\/)?/,"//"),0>r.brokerSrc.brokers.indexOf(t)&&r.brokerSrc.brokers.push(t))})))}++t<r.brokerSrc.length?setTimeout(r.queryBrokerSource.bind(r,t),0):r.brokerSrc.resolve(r.brokerSrc.brokers)}),!1),e.open("get",n.url,!0),e.send(null)}else++t<r.brokerSrc.length?setTimeout(r.queryBrokerSource.bind(r,t),0):r.brokerSrc.resolve(r.brokerSrc.brokers)}else e=Promise.resolve(null);return e},parseObject:function(t,e){let r,n,i=[];for(r in t){if(r===e){n=t[r];break}"object"==typeof t[r]&&i.push(r)}if(!n&&i.length)for(r=0;r<i.length&&!n;r++)n=this.parseObject(t[i[r]],e);return n},deref:function(t,e){let r;for(e=e.split(".");t&&e.length&&e[0]&&t[e[0]];){if(1==e.length){r=t[e[0]];break}t=t[e[0]],e.shift()}return r},updateBrokers:function(t){if(t){var e,n=0;for(e=this.broker.length-1;0<=e;e--){var i=t.indexOf(this.broker[e].url);0>i?(n++,e==this.index?this.index=-1:this.index>e&&this.index--,this.broker.splice(e,1)):t.splice(i,1)}for(e=t.length,i=0;i<t.length;i++)this.addBroker(t[i]);if(e||n){if(this.debug&&console.log("Broker List was updated after query"),this.algorithm==r.Algorithm.random)for(this.randomMap=[],t=0;t<this.broker.length;t++)t!=this.index&&this.randomMap.push(t)}else this.debug&&console.log("Broker List was unchanged after query")}}},r.Algorithm={sequential:0,random:1,"round-robin":2,default:1},r.protoRef=t.protobuf.roots.default.com.ramp.analytics.proto,r.defaultSrc="/analytics.html",r.defaultEndPoint="/protobuf",r.defaultPing="/actuator/health",r.urlRE=/^(?:([^:]+:)?\/\/([^@]+@)?([^/?#]+))?(\/?[^?#]*)(\?[^#]*)?(#.*)?/,r.srcRE=/^(https?:)?(\/\/[^/?]+)?(\/)?([^/?]+\/)*([^/?]+)/,r.uuid=e.UUID.Uuid,r.version=t.Bundle||t.APIBundle,r.receiverGuid=null,r.sumField={bytesReceived:1,fragmentsReceived:1,fragmentsFailed:1,bufferingEvents:1},r.sourceMap={unknown:0,multicast:1,receiver:1,omnicache:2,p2p:3,direct:4,omnicache_p2p:5};{let t=document.querySelector("analytics_ss");t||(t=document.createElement("style"),t.id="analytics_ss",document.head.appendChild(t),t.sheet.insertRule.bind(t.sheet)(".analytics_ifx{display:none;width:0;height:0;border:0;}",0))}r.formatToType={hls:"application/vnd.apple.mpegurl",m3u8:"application/vnd.apple.mpegurl",dash:"application/dash+xml",mpd:"application/dash+xml"},r.typeToFormat={"application/x-mpegurl":"hls","application/vnd.apple.mpegurl":"hls","application/mpegurl":"hls","application/dash+xml":"dash","application/vnd.ms-sstr+xml":"sstr"},r.isManifest=function(t,e){let r;e=e&&this.typeToFormat[e.toLowerCase()];let n=t.match(/\.([^./?#$]+)(?:$|#|\?)/);return n?n=n[1]:(n=t.match(/\/([^(/]+)(?:\([^)]*format=([^-]+)-[^)]+\))|$/i))&&(n=(r="manifest"==n[1].toLowerCase())&&(n[2]||"sstr")),!n&&(t=t.match(/\?([^#]*)/))&&(n=(n=t[1].match(/(?:^|&)ext=\.?([^&]*)/))&&n[1]),t=n&&this.typeToFormat[this.formatToType[n]],e||t},r.BrokerFormat={guide:"programs.0.diagnosticServers",json:"",text:""}}(this.GlobalCTX),function(t){let e=t.Util||(t.Util={}),r=e.Extern=function(t){this.debug=this.verbose=!1,this.init(t)};r.prototype={init:function(e){if("object"==typeof e){let n,i;e.vendor&&"string"==typeof e.vendor&&e.vendor.toLowerCase()in r.Vendors||(e.vendor="generic"),e.vendor=e.vendor.toLowerCase();let s=r.Vendors[e.vendor];for(n in"RampMOPlugin"in t&&(i=r.Defaults[s+"MS"]),i||(i=r.Defaults[s]||r.Defaults.Generic),i)this[n]=i[n]&&"object"==typeof i[n]?JSON.parse(JSON.stringify(i[n])):i[n];for(n in"_"==e.key&&(e.key=i.key),e)n in this&&"_"!==n[0]&&(this[n]=e[n])}},replacer:function(t,e,r){for(t=(r=r.toLowerCase())===t?this._parent:this;t&&!(r in t);)t=t._parent;return t&&(e=t[r]),e},apply_r:function(t,e){if(t){var n,i=[];for(n in t._parent=e,t)if("_"!==n[0]&&t.hasOwnProperty(n)){var s=t[n];if("string"==typeof s){if(0<=s.indexOf("@@@")){let i=s.match(r.RE);if(i){for(e=0;e<i.length;e++)s=i[e].replace(/@@@/g,""),s=this.replacer.call(t,n,t[n],s),t[n]="string"==typeof s?t[n].replace(i[e],s):s;if("string"==typeof t[n]&&"{"===t[n][0])try{t[n]=JSON.parse(t[n])}catch(t){}}}}else"object"==typeof s&&i.push(n)}for(n in i)this.apply_r(t[i[n]],t);delete t._parent}},apply:function(){if(this.url)if("string"==typeof this.url)this.url=[{src:this.url}];else if(Array.isArray(this.url))for(let t in this.url)"string"==typeof this.url[t]&&(this.url[t]={src:this.url[t]});else this.url=[this.url];this.apply_r(this)},preLoadAction:function(t,e,n){this._player=n,this._playerSrc=e,this.format||(this.format=r.Util.formatFromUrl(e)),this.onAction&&this.onAction({type:"preLoadAction",flag:t,url:e,player:n},this),this.vendorPreLoadAction&&this.vendorPreLoadAction(t,e,n),this.apply()},setAction:function(){this.onAction&&this.onAction({type:"setAction"},this),this.vendorSetAction&&this.vendorSetAction()},loadAction:function(t){let e=!0;return this.base&&(this.base=(ElementLoader.Lookup(this.base)||{}).value),this.onAction&&this.onAction({type:"loadAction",flag:t},this),this.vendorLoadAction&&((e=this.vendorLoadAction(t))||!1===e||(e=!0)),e},failedLoadAction:function(t,e){this.onAction&&this.onAction({type:"failedLoadAction",flag:t,reason:e},this),this.vendorFailedLoadAction&&this.vendorFailedLoadAction(t,e)},unloadAction:function(t){this.onAction&&this.onAction({type:"unloadAction",flag:t},this),this.vendorUnloadAction&&this.vendorUnloadAction(t)},block:function(t){let r=(t||void 0===t)&&void 0===this.blockTag;if(t||void 0===this.blockTag){if(r)for(this.blockTag=(new e.UUID).last,t=0;t<this.blockList.length;t++)e.XHRIntercept.hostPath.addHostHandler(this.blockList[t],{tag:this.blockTag,callback:this.blocker.bind(this)})}else e.XHRIntercept.hostPath.removeHostsByTag(this.blockTag),this.blockTag=void 0},blocker:function(t,e,r){return r=0,"send"==e&&(t.readyState=4,t.status=0,r=1,setTimeout((function(){t.dispatchEvent(new Event("readystatechange")),t.dispatchEvent(new ProgressEvent("error")),t.dispatchEvent(new ProgressEvent("loadend"))}),100)),r}},r.RE=/@@@([_A-Z0-9]+)@@@/g,r.Vendors={generic:"Generic",ramp:"StriveCast",strivecast:"StriveCast",lumen:"Lumen",streamroot:"Lumen",peer5:"Peer5",test:"Test"},r.Defaults={Generic:{name:"",root:"",key:"",id:"",deploy:"",p2pdn:"",media:"",magic:"",srcver:"",conf:"",title:"",source:"",requestorSwap:!1,noFetch:!1,blocklist:"",url:"",debugUrl:"",base:"",isSupportedF:"",isEnabledF:"",getStatsF:"",overlayF:"",verbose:!1,overlay:!1,debug:!1,format:"",_player:null,_playerSrc:"",onAction:null,vendorPreLoadAction:function(t,e,r){},vendorSetAction:function(){},vendorLoadAction:function(t){return!0},vendorFailedLoadAction:function(t,e){},vendorUnloadAction:function(t){}},StriveCastMS:{name:"Ramp P2P",root:["striveCastMediaProxy","striveCastP2PDNProxy"],key:"",id:"1301861625241792512",deploy:"1301861652261490688",p2pdn:"v0.33.0",media:"v0.24.0",magic:"0fc3d5d229c04855a952795091c2df81",srcver:"3.7.0",title:"",source:"",requestorSwap:!0,noFetch:!1,url:[{src:"//amsglob0cdnstream14.azureedge.net/ramp/p2p/strive/@@@SRCVER@@@/pluginscript.min.js",root:"striveCastMediaTracker",method:"blob",blobPrefix:!0,prefix:'RampMOPlugin.s={a:"@@@ID@@@",d:"@@@DEPLOY@@@",m:null,p:null};RampMOPlugin.s.c="https://resource.analytics.rampecdn.com/services/storage/v0/entity-resource/"+RampMOPlugin.s.a+"/"+RampMOPlugin.s.d+"/strivecast-";Object.defineProperty(window,"@@@magic@@@",{get:function(){return RampMOPlugin.s.m||RampMOPlugin.s.p;},set:function(v){var s=RampMOPlugin.s;s.p=s.m=null;if(!v||!v.configURL||v.configURL.indexOf(".json")<0){return;}if(v.configURL.indexOf("media-tracker")!==-1){s.m={configURL:s.c+"media-tracker-@@@MEDIA@@@.json"};}if(v.configURL.indexOf("p2pdn-proxy")!==-1){s.p={configURL:s.c+"p2pdn-proxy-@@@P2PDN@@@.json"};}},enumerable:true,configurable:true});'}],blockList:["//ingest.analytics.rampecdn.com/*","//*strivecast.com/p2pdn*"],onAction:null,vendorPreLoadAction:function(t,e,r){this.onAction&&this.onAction({type:"vendorPreLoadAction",flag:t,url:e,player:r},this)},vendorSetAction:function(){if(!this.title&&this.selector&&(this.title=document.querySelector(this.selector))&&(this.title=this.title.textContent),this.source||this.title){let e,r={source:this.source,title:this.title?(this.source?this.source+" ":"")+this.title:""},n="string"==typeof this.root?[this.root]:Array.isArray(this.root)?this.root:[];for(e=0;e<n.length;e++)n[e]&&"string"==typeof n[e]&&t[n[e]]&&t[n[e]].eventValues&&(t[n[e]].eventValues.meta=r)}this.onAction&&this.onAction({type:"vendorSetAction",flag:flag,url:url,player:player},this)},vendorLoadAction:function(t){this.setAction(),e.XHRIntercept.origXMLHttpRequest&&e.XHRIntercept.capture("strive",this.noFetch,this),this.onAction&&this.onAction({type:"vendorLoadAction",flag:t},this);let r=function(t){let e=document.querySelector(".jsPanel-title");e?(e.textContent=e.textContent.replace(/strivecast.* \|/i,"Ramp P2P |"),(e=document.querySelector(".jsPanel.jsPanel-standard"))&&0>e.offsetTop&&(e.style.top="0px")):0<t&&setTimeout(r.bind(this,t-1),1e3)};return setTimeout(r.bind(this,10),1e3),!0},vendorFailedLoadAction:function(t,e){this.onAction&&this.onAction({type:"vendorFailedLoadAction",flag:t,reason:e},this)},vendorUnloadAction:function(t){this.onAction&&this.onAction({type:"vendorUnloadAction",flag:t},this)}},StriveCast:{name:"Ramp P2P",root:["striveCastMediaTracker","striveCastP2PDNProxy"],key:"",id:"1301861625241792512",deploy:"1301861652261490688",title:"",source:"",requestorSwap:!0,noFetch:!1,url:[{src:"//resource.analytics.rampecdn.com/services/storage/v0/entity-resource/@@@ID@@@/@@@DEPLOY@@@/gwc.min.js",root:"striveCastMediaTracker",method:"blob",blobPrefix:!0,prefix:""}],blockList:["//ingest.analytics.rampecdn.com/*","//*strivecast.com/p2pdn*"],onAction:null,vendorPreLoadAction:function(t,r,n){if(e.XHRIntercept.active){this.requestorSwap&&e.XHRIntercept.swapRequestor(!0,this.noFetch),this.wasIndirect=e.XHRIntercept.indirect,e.XHRIntercept.indirect=!1;let t=this;this.po||(this.po={}),this.po.id=e.XHRIntercept.hostPath.addHostObserver("//resource.analytics.rampecdn.com/*/strivecast-p2pdn-proxy*",{callback:function(r,n,i){"event"===n&&(console.log("StriveCast P2PDN JSON loaded",Date.now(),r._member.url),e.XHRIntercept.hostPath.removeHostById(t.po.id))}})}else this.requestorSwap=!1;this.onAction&&this.onAction({type:"vendorPreLoadAction",flag:t,url:r,player:n},this)},vendorSetAction:function(){if(!this.title&&this.selector&&(this.title=document.querySelector(this.selector))&&(this.title=this.title.textContent),this.source||this.title){let e,r={source:this.source,title:this.title?(this.source?this.source+" ":"")+this.title:""},n="string"==typeof this.root?[this.root]:Array.isArray(this.root)?this.root:[];for(e=0;e<n.length;e++)n[e]&&"string"==typeof n[e]&&t[n[e]]&&t[n[e]].eventValues&&(t[n[e]].eventValues.meta=r)}this.onAction&&this.onAction({type:"vendorSetAction",flag:flag,url:url,player:player},this)},vendorLoadAction:function(r){let n=!0,i=this;this.po||(this.po={}),this.setAction(),e.XHRIntercept.active&&(e.XHRIntercept.capture("strive",this.noFetch,this),this.requestorSwap?(n=this.po.p=new Promise((function(t,e){i.po.resolve=t,i.po.reject=e})),this.callback=function(){this.callback=null,console.warn("strive resolved",Date.now()),this.po.resolve()},e.XHRIntercept.swapRequestor("strive",this)):t.videojs?t.XMLHttpRequest!==e.XHRIntercept&&t.videojs.xhr.XMLHttpRequest!==t.XMLHttpRequest&&(t.videojs.xhr.XMLHttpRequest=t.XMLHttpRequest):t.shaka&&t.fetch!==e.XHRIntercept.fetchIntercept&&t.shaka.net.HttpFetchPlugin.fetch_&&t.shaka.net.HttpFetchPlugin.fetch_!==t.fetch&&(t.shaka.net.HttpXHRPlugin.Xhr_=t.XMLHttpRequest,t.shaka.net.HttpFetchPlugin.fetch_=t.fetch)),this.onAction&&this.onAction({type:"vendorLoadAction",flag:r},this);let s=function(t){let e=document.querySelector(".jsPanel-title");e?(e.textContent=e.textContent.replace(/strivecast.* \|/i,"Ramp P2P |"),(e=document.querySelector(".jsPanel.jsPanel-standard"))&&0>e.offsetTop&&(e.style.top="0px")):0<t&&setTimeout(s.bind(this,t-1),1e3)};return setTimeout(s.bind(this,10),1e3),n},vendorFailedLoadAction:function(t,r){this.onAction&&this.onAction({type:"vendorFailedLoadAction",flag:t,reason:r},this),e.XHRIntercept.active&&this.requestorSwap&&e.XHRIntercept.swapRequestor(!1,this)},vendorUnloadAction:function(r){this.onAction&&this.onAction({type:"vendorUnloadAction",flag:r},this),this.requestorSwap?(e.XHRIntercept.swapRequestor(!1,this),e.XHRIntercept.restore()):(e.XHRIntercept.restore(),t.videojs?t.XMLHttpRequest!==e.XHRIntercept&&t.videojs.xhr.XMLHttpRequest!==t.XMLHttpRequest&&(t.videojs.xhr.XMLHttpRequest=t.XMLHttpRequest):t.shaka&&t.fetch!==e.XHRIntercept.fetchIntercept&&t.shaka.net.HttpFetchPlugin.fetch_&&t.shaka.net.HttpFetchPlugin.fetch_!==t.fetch&&(t.shaka.net.HttpXHRPlugin.Xhr_=t.XMLHttpRequest,t.shaka.net.HttpFetchPlugin.fetch_=t.fetch)),this.block(!0)}},LumenMS:{name:"Lumen P2P",root:"AzureMPDnaWrapper",key:"81101cc0-5b40-4f90-9973-67300c332d5e",conf:'{"comment":"dnaConfig"}',url:[{src:"//cdn.streamroot.io/ramp/latest/ramp-mesh.js",method:"blob",root:"AzureMPDnaWrapper",activation:{conf:"@@@CONF@@@",entry:"@@@ROOT@@@",key:"@@@KEY@@@",param:["player","key","conf"],instantiate:!0,useInstance:!0}}],debugUrl:"//tools.streamroot.io/usage-graphs/stable/graphs.js",blocklist:"",onAction:null,vendorPreLoadAction:function(t,e,r){this.onAction&&this.onAction({type:"vendorPreLoadAction",flag:t,url:e,player:r},this)},vendorSetAction:function(){this.onAction&&this.onAction({type:"vendorSetAction"},this)},vendorLoadAction:function(t){return this.setAction(),e.XHRIntercept.origXMLHttpRequest&&e.XHRIntercept.capture("lumen",this.noFetch,this),this.onAction&&this.onAction({type:"vendorLoadAction",flag:t},this),!0},vendorFailedLoadAction:function(t){this.onAction&&this.onAction({type:"vendorFailedLoadAction",flag:t},this)},vendorUnloadAction:function(t){this.onAction&&this.onAction({type:"vendorUnloadAction",flag:t},this)}},Lumen:{},Peer5MS:{name:"Peer5",root:"peer5",key:"4q1677gdcjntxft7ly3z",url:[{src:"//api.peer5.com/peer5.js?id=@@@KEY@@@",method:"blob",root:"@@@ROOT@@@"},{src:"//api.peer5.com/peer5.generic.plugin.js",method:"blob",root:"__p5_plugins__"}],base:"@@@ROOT@@@",isSupportedF:"isSupported",isEnabledF:"isEnabled",getStatsF:"getStats",overlayF:"showStats",overlay:!1,blocklist:"",onAction:null,vendorPreLoadAction:function(t,e,r){this.onAction&&this.onAction({type:"vendorPreLoadAction",flag:t,url:e,player:r},this)},vendorSetAction:function(){this.onAction&&this.onAction({type:"vendorSetAction"},this)},vendorLoadAction:function(t){return this.setAction(),e.XHRIntercept.origXMLHttpRequest&&e.XHRIntercept.capture("peer5",this.noFetch,this),this.onAction&&this.onAction({type:"vendorLoadAction",flag:t},this),!0},vendorFailedLoadAction:function(t){this.onAction&&this.onAction({type:"vendorFailedLoadAction",flag:t},this)},vendorUnloadAction:function(t){this.onAction&&this.onAction({type:"vendorUnloadAction",flag:t},this)}},Peer5:{name:"Peer5",root:"peer5",key:"4q1677gdcjntxft7ly3z",url:[{src:"//api.peer5.com/peer5.js?id=@@@KEY@@@",method:"direct",root:"@@@ROOT@@@"},{src:"//api.peer5.com/peer5.generic.plugin.js",method:"direct",root:"__p5_plugins__"}],base:"@@@ROOT@@@",isSupportedF:"isSupported",isEnabledF:"isEnabled",getStatsF:"getStats",overlayF:"showStats",overlay:!1,blocklist:"",onAction:null,vendorPreLoadAction:function(t,e,r){this.onAction&&this.onAction({type:"vendorPreLoadAction",flag:t,url:e,player:r},this)},vendorSetAction:function(){this.onAction&&this.onAction({type:"vendorSetAction"},this)},vendorLoadAction:function(t){return this.setAction(),e.XHRIntercept.origXMLHttpRequest&&e.XHRIntercept.capture("peer5",this.noFetch,this),this.onAction&&this.onAction({type:"vendorLoadAction",flag:t},this),!0},vendorFailedLoadAction:function(t){this.onAction&&this.onAction({type:"vendorFailedLoadAction",flag:t},this)},vendorUnloadAction:function(t){this.onAction&&this.onAction({type:"vendorUnloadAction",flag:t},this)}},Test:{name:"ExternTest",root:"ExternRoot",key:"",url:[{src:"//livetools.rampecdn.com/plugin/dev/extern.js"}],base:"ExternRoot",overlayF:"overlay",isSupportedF:"isSupported",isEnabledF:"isEnabled",getStatsF:"getStats",overlay:!0,verbose:!0,debug:!0,blockList:"",onAction:null,vendorPreLoadAction:function(t,r,n){this.onAction&&this.onAction({type:"vendorPreLoadAction",flag:t,url:r,player:n},this),e.XHRIntercept.origXMLHttpRequest&&e.XHRIntercept.active?(this.requestorSwap&&e.XHRIntercept.swapRequestor(!0,this.noFetch),this.wasIndirect=e.XHRIntercept.indirect,e.XHRIntercept.indirect=!1):this.requestorSwap=!1},vendorSetAction:function(){this.onAction&&this.onAction({type:"vendorSetAction"},this)},vendorLoadAction:function(r){let n=!0;if(console.log("Extern Test ("+this.name+") loadAction called "+(r?"from "+r+" on load":"after load")),this.setAction(),e.XHRIntercept.active){let r,i=this;this.result&&(!(r=this.result.inst||this.result.root||this.result.rv)||r instanceof Promise||(r=r.promise),r||t.ExternDef&&t.ExternDef.url||(r=!0)),r?n=r:(this.po={},n=this.po.p=new Promise((function(t,e){i.po.resolve=t,i.po.reject=e})),this.callback=function(){this.callbackTimer&&(clearTimeout(this.callbackTimer),this.callbackTimer=null),this.callback=null,this.po.resolve()},this.callbackTimer=setTimeout(this.callback.bind(this),5e3)),e.XHRIntercept.capture("test",this.noFetch,this),this.requestorSwap?e.XHRIntercept.swapRequestor("test",this):t.videojs?t.XMLHttpRequest!==e.XHRIntercept&&t.videojs.xhr.XMLHttpRequest!==t.XMLHttpRequest&&(t.videojs.xhr.XMLHttpRequest=t.XMLHttpRequest):t.shaka&&t.fetch!==e.XHRIntercept.fetchIntercept&&t.shaka.net.HttpFetchPlugin.fetch_&&t.shaka.net.HttpFetchPlugin.fetch_!==t.fetch&&(t.shaka.net.HttpXHRPlugin.Xhr_=t.XMLHttpRequest,t.shaka.net.HttpFetchPlugin.fetch_=t.fetch)}return this.onAction&&this.onAction({type:"vendorLoadAction",flag:r},this),n},vendorFailedLoadAction:function(t){this.onAction&&this.onAction({type:"vendorFailedLoadAction",flag:t},this),e.XHRIntercept.active&&this.requestorSwap&&e.XHRIntercept.swapRequestor(!1,this)},vendorUnloadAction:function(t){this.onAction&&this.onAction({type:"vendorUnloadAction",flag:t},this)}}},r.Util={formatToType:{hls:"application/vnd.apple.mpegurl",m3u8:"application/vnd.apple.mpegurl",dash:"application/dash+xml",mpd:"application/dash+xml",sstr:"application/vnd.ms-sstr+xml",mp4:"video/mp4"},typeToFormat:{"application/x-mpegurl":"hls","application/vnd.apple.mpegurl":"hls","application/mpegurl":"hls","application/dash+xml":"dash","video/mp4":"mp4","application/vnd.ms-sstr+xml":"sstr"},formatFromUrl:function(t){if(t){Array.isArray(t)&&(t=t.length?t[0]:""),"string"!=typeof t&&(t=t.src||"");var e=t.match(/\.([^./?#$]+)(?:\?|#|$)/);e||(e=t.match(/\/manifest(?:\(.*format=([^-]+)-.*\))?/i))&&!e[1]&&(e[1]="sstr"),e||(t=t.match(/\?([^#]*)/))&&(e=t[1].match(/(?:^|&)ext=\.?([^&]*)/)),e=(e=e&&r.Util.formatToType[e[1].toLowerCase()])&&r.Util.typeToFormat[e]}return e||""}}}(this.GlobalCTX||this),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["rcvr.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){var e=t.Receiver=function(t){this.index=e.unique++,t=t||{},this.uuid="uuid"in t?t.uuid:e.uuid,this.verbose=e.Settings.verbose,this.debug=e.Settings.debug,this.boundListener=this.statusListener.bind(this),this.maddr=null,this.keyStoreUri=e.Settings.keyStoreUri,this.keyStoreKey=e.Settings.keyStoreKey,this.streamKey=e.Settings.streamKey,this.ignorePrefix=e.Settings.ignorePrefix,this.multiStream=e.Settings.multiStream,this.httpPort=e.Settings.httpPort,this.httpsPort=e.Settings.httpsPort,this.reset(),this.params=e.assign({},e.Params),this.params.multicastAddress=e.Settings.maddr,this.params.receiverKeyStore=null,this.options=e.assign({},e.Options),this.onStatus=t.onStatus,this.onStateChange=t.onStateChange,this.onReady=t.onReady,this.onError=t.onError,this.onPGReady=t.onPGReady,this.onDone=t.onDone,this.setParams(t)};e.unique=0,e.uuid=t.Util&&t.Util.UUID?t.Util.UUID.Uuid:"",e.UUIDHeader="x-rampecdn-client-instance-id",e.useProtocol="http:"===t.location.protocol?"http:":"https:",e.Callbacks={onStatus:null,onStateChange:null,onReady:null,onError:null,onPGReady:null,onDone:null},e.Settings={protocol:e.useProtocol,host:"https:"==e.useProtocol?"ramp-demo.multicast-receiver-altitudecdn.net":"127.0.0.1",port:0,httpPort:12345,httpsPort:12350,verbose:!1,debug:!1,maddr:"-1",keyStoreUri:"default",keyStoreKey:"default",streamKey:"",ignorePrefix:!0,multiStream:!1,source:null},e.Params={multicastAddress:"0",senderSubjectDNSuffix:"OU=Ramp Multicast Engine Portal,O=Ramp Holdings Inc,L=Boston,ST=MA,C=US",diagnosticsServer:"use_sender:18000",diagnosticsIntervalMs:15e3,bufferMs:1e3,nativeMode:!1,dvrDurationMs:9e5,dontOutputDiscontinuitySequence:!1,resetDvrOnStreamSwap:!0,maintainTimeline:!1},e.Options={minSegments:3,ignoreReady:!1,monitorStatus:!1,pingTimeMs:1e3,nSegmentPings:30,maxSegmentTimeMs:0,maxTime0Ms:5e3,maxTime1Ms:15e3,nStartPings:1,maxStartTimeMs:0,nRunPings:2,maxRunTimeMs:0,nFailPings:5,maxFailTimeMs:0,nInitPings:2,maxInitTimeMs:0,restartTries:1,timeoutMs:0,nZeroPings:0},e.assign=function(){var t,e,r=arguments[0];for(t=1;t<arguments.length;t++)for(e in arguments[t])r[e]=arguments[t][e];return r},e.prototype={reset:function(){this.nRestarts=this.lastState=this.bytes=this.prevBytes=this.nPings=0,this.sendReady=!1,this.time0=this.nZeroPings=0,this.maxState=-1,this.lastReason=this.lastAction=null,this.lastSegments=0,this.programGuide=this.obj=this.program=null},setParams:function(t,r){t=t||{};var n=null==this.params.receiverKeyStore;(n||void 0!==t.verbose&&t.verbose!==this.verbose)&&("function"==typeof t.verbose?(this.verbose=!0,this.logger=t.verbose):(this.verbose=!!t.verbose,this.logger=console.log.bind(console))),(n||void 0!==t.verbose&&t.verbose!==this.verbose)&&(this.debug=!!t.debug),(n||void 0!==t.protocol&&t.protocol!=this.protocol||void 0!==t.host&&t.host!==this.host||void 0!==t.port&&t.port!==this.port||void 0!==t.httpPort&&t.httpPort!==this.httpPort||void 0!==t.httpsPort&&t.httpsPort!==this.httpsPort)&&(t.protocol?this.protocol=t.protocol:void 0===t.protocol&&this.protocol||(this.protocol=e.Settings.protocol),t.host?this.host=t.host:void 0===t.host&&this.host||(this.host=e.Settings.host),void 0!==t.port?this.port=t.port?this.httpPort=this.httpsPort=t.port:0:void 0===this.port&&(this.port=0),this.port||(void 0!==t.httpPort?this.httpPort=t.httpPort:void 0===this.httpPort&&(this.httpPort=e.Settings.httpPort),void 0!==t.httpsPort?this.httpsPort=t.httpsPort:void 0===this.httpsPort&&(this.httpsPort=e.Settings.httpsPort)),this.url=(this.host.match(/^(?:https?):\/\//)?"":this.protocol+"//")+this.host+":",0==this.url.indexOf("https:")?this.url+=this.httpsPort:this.url+=this.httpPort),"streamKey"in t&&t.streamKey!==this.streamKey&&(this.streamKey="string"==typeof t.streamKey?t.streamKey:!0===t.streamKey||"",r=!n),"multiStream"in t&&t.multiStream!==this.multiStream&&(this.multiStream=t.multiStream,r=!n),"ignorePrefix"in t&&t.ignorePrefix!==this.ignorePrefix&&(this.ignorePrefix=t.ignorePrefix,r=!n),"source"in t&&(this.source=t.source);var i=[0,0,0];for(s in t)if(s in e.Callbacks)t[s]!==this[s]&&(this[s]="function"==typeof t[s]?t[s]:e.Callbacks[s],i[2]++);else if(s in e.Params){if(t[s]!==this.params[s])switch(typeof e.Params[s]){case"boolean":this.params[s]=null!=t[s]?!!t[s]:e.Params[s],i[0]++;break;case"number":this.params[s]="number"==typeof t[s]?t[s]:e.Params[s],i[0]++;break;case"string":this.params[s]=t[s]||e.Params[s],i[0]++}}else if(s in e.Options&&t[s]!==this.options[s])switch(typeof e.Options[s]){case"boolean":this.options[s]=null!=t[s]?!!t[s]:e.Options[s],"monitorStatus"!=s||n||this.statusUpdate(this.options[s]),i[1]++;break;case"number":this.options[s]="number"==typeof t[s]?t[s]:e.Options[s],i[1]++;break;case"string":this.options[s]=t[s]||e.Options[s],i[1]++}if(null==this.maddr||"maddr"in t||"multicastAddress"in t){var s=("number"==typeof t.maddr?t.maddr+"":t.maddr)||("number"==typeof t.multicastAddress?t.multicastAddress+"":t.multicastAddress)||e.Settings.maddr;s!=this.maddr&&(null!=this.maddr&&(r=!0),this.setMaddr(s))}return n||"keyStoreUri"in t&&t.keyStoreUri!=this.keyStoreUri||"keyStoreKey"in t&&t.keyStoreKey!=this.keyStoreKey?(this.setKeyStore(t.keyStoreUri||e.Settings.keyStoreUri,t.keyStoreKey||e.Settings.keyStoreKey),r=!1):0<i[0]&&(r=!0),r&&this.start(!0),!!r},setMaddr:function(t,e){let r;if(this.maddr=this.params.multicastAddress="",this.reset(),"0"==t||0===t)this.maddrStr="",this.maddr="0";else if("string"!=typeof t||"-1"==t)this.maddr=this.maddrStr="";else if(this.maddrStr="maddr="+t+"&",this.maddr=this.params.multicastAddress=t,e)this.program=e;else{let e=this;r=new Promise((function(r,n){e.getProgramGuide((function(n,i){if("load"==n&&i&&i.programs){e.programGuide=i;for(let r=i.programs,n=0;n<r.length;n++)if(r[n].multicastAddress&&0===r[n].multicastAddress.indexOf(t)){e.program=r[n];break}}r()}))}))}return r},setKeyStore:function(e,r){return this.keyStore?this.keyStore.setUriKey(e,r):this.keyStore=new t.KeyStoreObj(e,r),this.keyStore.load(this.keyStoreSuccess.bind(this),this.keyStoreError.bind(this),this.verbose&&this.logger)},keyStoreSuccess:function(t){this.params.receiverKeyStore=t.keyStore,this.start()},keyStoreError:function(){this.verbose&&this.logger("Receiver["+this.index+"]: failed to load key store");var t=this.obj={state:0,action:"fail",reason:"keystore"};this.onStateChange&&this.onStateChange(this,t),this.onError&&this.onError(this,t),this.onDone&&this.onDone(this,t)},getAddressEntry:function(t){if(this.maddrStr){for(var e in t=t&&t.addresses||{})if(e)break;return t[e]}},getStatus:function(r,n,i,s){s="string"==typeof s?s?"maddr="+s+"&":"":this.maddrStr,this.params.uri&&(s="uri="+this.params.uri+"&");var o=new t.XMLHttpRequest;return o.addEventListener("load",this.boundListener,!1),o.addEventListener("error",this.boundListener,!1),o.addEventListener("abort",this.boundListener,!1),o.addEventListener("timeout",this.boundListener,!1),o.data={onDone:r,onSuccess:n,onFailure:i},o.open("get",this.url+"/rme/status?"+s+"_="+Date.now(),!0),this.uuid&&o.setRequestHeader(e.UUIDHeader,this.uuid),o.timeout=this.options.timeoutMs,o.send(null),!1},getProgramGuide:function(r){var n=new t.XMLHttpRequest;return n.addEventListener("load",this.boundListener,!1),n.addEventListener("error",this.boundListener,!1),n.addEventListener("abort",this.boundListener,!1),n.addEventListener("timeout",this.boundListener,!1),n.data={onDone:r},n.open("get",this.url+"/rme/programGuide?_="+Date.now(),!0),this.uuid&&n.setRequestHeader(e.UUIDHeader,this.uuid),n.timeout=this.options.timeoutMs,n.send(null),!1},sortProgramGuide:function(t){if((t=t||this.programGuide||{}).programs&&1<t.programs.length){let e,r,n,i=t.programs,s=[];for(e=0;e<i.length;e++)if(i[e].eventHistoryId){for(i[e].normId=n=("000000"+i[e].eventHistoryId).slice(-20),r=0;r<s.length&&s[r].normId&&n>=s[r].normId;)r++;r<s.length?s.splice(r,0,i[e]):s.push(i[e])}else s.push(i[e]);t.programs=s}return t},programGuideListener:function(t,r){r=this.programGuide=r&&this.sortProgramGuide(r),(t=this.obj={state:5,action:"guide",reason:"load"==t?"success":"fail",type:t,resp:r}).reason=r?r.programs?r.programs.length?"success":"empty":"config":"receiver",this.onStateChange&&this.onStateChange(this,t),this.lastState=t.state,this.lastAction=t.action,this.lastReason=t.reason,this.onPGReady&&this.onPGReady(this,t),this.streamKey&&"success"==t.reason?this.pgh||(this.pgh=new e.ProgramGuideHandler(this,0)):(this.streamKey||("config"==t.reason||"receiver"==t.reason)&&this.onError&&this.onError(this,t),this.onDone&&this.onDone(this,t))},programGuideFinal:function(t){delete this.pgh,t?(this.setMaddr(t.params.multicastAddress,t.program),this.start(!0)):(t=this.obj={state:5,action:"guide",reason:"program"},this.program=null,this.onError&&this.onError(this,t),this.onDone&&this.onDone(this,t))},sendStart:function(r){this.lastState=2;var n=new t.XMLHttpRequest;if(n.addEventListener("load",this.boundListener,!1),n.addEventListener("error",this.boundListener,!1),n.addEventListener("abort",this.boundListener,!1),n.addEventListener("timeout",this.boundListener,!1),n.data={wasStart:!0,onDone:r},n.open("post",this.url+"/rme/start",!0),this.uuid&&n.setRequestHeader(e.UUIDHeader,this.uuid),n.timeout=this.options.timeoutMs,this.params.uri)n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(this.params));else{var i;for(i in n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r={},this.params)r[i]=this.params[i],"number"==typeof r[i]&&(r[i]+="");n.send(JSON.stringify(r))}return!1},statusListener:function(t){var r=t.target,n=r.data;if("load"==t.type){try{var i=JSON.parse(r.response)}catch(t){}i?(i.guid=r.getResponseHeader(e.UUIDHeader),n.onSuccess&&n.onSuccess(t.type,i)):n.onFailure&&n.onFailure(t.type,r.response)}else n.onFailure&&n.onFailure(t.type,r.response);return n.onDone&&n.onDone(t.type,i||r.response),!1},startListener:function(t,e){this.getStatus(this.pingListener.bind(this))},start:function(t){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.maddr?t&&this.params.multicastAddress&&"0"!=this.params.multicastAddress?this.sendStart(this.startListener.bind(this)):this.getStatus(this.pingListener.bind(this)):(t=this.obj={state:0,action:"fail",reason:"maddr"},this.onStateChange&&this.onStateChange(this,t),this.onError&&this.onError(this,t),this.onDone&&this.onDone(this,t))},pingListener:function(t,e){this.nPings++;var r=Date.now()-this.time0,n=this.obj={state:0,action:null,reason:null,addrEntry:this.getAddressEntry(e),resp:e};switch(this.onStatus&&this.onStatus(this,{type:t,resp:e,addrEntry:n.addrEntry}),"load"==t&&"object"==typeof e?"RME Running"==e.result?n.addrEntry?(this.prevBytes=this.bytes,this.bytes=n.addrEntry.totalBytesReceived,(n.addrEntry.readyForPlayer||this.options.ignoreReady)&&n.addrEntry.segmentsInPlaylist>=this.options.minSegments?(n.state=4,n.action=this.options.monitorStatus?"ping":"stop",n.reason="success",n.state!=this.lastState&&this.bytes>this.prevBytes?(n.url=n.addrEntry.multicastUrl,this.onReady&&this.onReady(this,n.addrEntry.multicastUrl,n.addrEntry.format),this.nPings=0,this.time0=Date.now(),this.nRestarts=0,this.sendReady=!1):this.bytes<=this.prevBytes?(this.nZeroPings++,0<this.options.nZeroPings&&this.nZeroPings>=this.options.nZeroPings&&(n.action="fail",n.reason="zero")):this.nZeroPings=0):(n.state=3,n.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),0==n.addrEntry.totalBytesReceived&&0<this.options.maxTime0Ms&&r>=this.options.maxTime0Ms?(n.action="fail",n.reason="maxTime0"):0==n.addrEntry.segmentsInPlaylist&&0<this.options.maxTime1Ms&&r>=this.options.maxTime1Ms?(n.action="fail",n.reason="maxTime1"):(n.action=0<this.options.nSegmentPings&&this.nPings>=this.options.nSegmentPings||0<this.options.maxSegmentTimeMs&&r>=this.options.maxSegmentTimeMs?"fail":"ping",n.reason="segments"))):this.maddrStr?(n.state=2,this.bytes=this.prevBytes=0,n.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),n.state>this.maxState?(n.action="start",n.reason="first"):(n.action=0<this.options.nStartPings&&this.nPings>=this.options.nStartPings||0<this.options.maxStartTimeMs&&r>=this.options.maxStartTimeMs?"fail":"ping",n.reason=4==n.maxState?"restart":"start")):(n.state=5,n.action="guide",n.reason="guide"):(n.state=1,n.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),n.reason="run",n.action=0<this.options.nRunPings&&this.nPings>=this.options.nRunPings||0<this.options.maxRunTimeMs&&r>=this.options.maxRunTimeMs?"fail":"ping"):(n.state=0,n.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),0==this.maxState&&(0<this.options.nInitPings&&this.nPings>=this.options.nInitPings||0<this.options.maxInitTimeMs&&r>=this.options.maxInitTimeMs)||0<this.maxState&&(0<this.options.nFailPings&&this.nPings>=this.options.nFailPings||0<this.options.maxFailTimeMs&&r>=this.options.maxFailTimeMs)?(n.action="fail",n.reason=(0==this.maxState?"init ":"latent ")+t):(n.action="ping",n.reason="response")),(n.state!=this.lastState||n.action!=this.lastAction||n.reason!=this.lastReason||"segments"==n.reason&&n.addrEntry.segmentsInPlaylist!=this.lastSegments||n.addrEntry&&1==n.addrEntry.segmentsInPlaylist)&&(this.onStateChange&&this.onStateChange(this,n),this.lastState=n.state,this.lastAction=n.action,this.lastReason=n.reason,"segments"==n.reason&&(this.lastSegments=n.addrEntry.segmentsInPlaylist),n.state>this.maxState&&(this.maxState=n.state),4==n.state&&"ping"==n.action&&this.onDone&&this.onDone(this,n)),"fail"==n.action&&1<n.state&&(0>this.options.restartTries||this.nRestarts<this.options.restartTries)&&(this.nRestarts++,this.nZeroPings=0,n.action="start",this.onStateChange&&this.onStateChange(this,n),this.lastAction=n.action,this.lastState=this.maxState=0),this.verbose&&this.logger("Receiver["+this.index+"]: state:"+n.state+" action:"+n.action+" reason:"+n.reason,n.addrEntry?n.addrEntry.totalBytesReceived+" bytes, "+n.addrEntry.segmentsInPlaylist+" segments":""),n.action){case"ping":this.pingTimer=setTimeout(this.start.bind(this),this.options.pingTimeMs);break;case"start":this.sendStart(this.startListener.bind(this));break;case"guide":this.getProgramGuide(this.programGuideListener.bind(this));break;case"fail":if(!this.maddrStr){this.programGuideListener();break}this.onError&&this.onError(this,n);default:this.onDone&&this.onDone(this,n)}return!1},statusUpdate:function(t){return this.options.monitorStatus=void 0===t?!this.options.monitorStatus:"boolean"==typeof t?t:this.options.monitorStatus,t=this.options.monitorStatus||!!t,!this.pingTimer&&t&&(this.pingTimer=setTimeout(this.start.bind(this),this.options.pingTimeMs)),this.options.monitorStatus},fullStatus:function(t,e,r){this.getStatus(t,e,r,"")},interpretResponse:function(t){if(t&&0<=t.state&&t.state<e.states.length){var r=e.states[t.state];r=r[t.action]&&r[t.action][t.reason.replace(/ .*/,"")]||"",3==t.state&&0<=r.indexOf("SEG")&&(r=(r=r.split("SEG"))[0]+t.addrEntry.segmentsInPlaylist+r[1]+this.options.minSegments+r[2])}return r}},e.states=[{core:"not detected",fail:{keystore:"failed to load keystore",maddr:"did not attempt to detect receiver",init:"failed to detect receiver during initial attempt",latent:"failed to detect receiver after previous detection",other:"failed to detect receiver"},ping:{response:"receiver was not detected on this try"}},{core:"detected but not running",fail:{run:"receiver was detected but is not running"},ping:{run:"receiver was detected but is not yet running"}},{core:"running but not started",fail:{start:"receiver has failed to start",restart:"receiver has failed to start again"},start:{first:"starting the receiver for the first time",restart:"restarting the receiver",start:"re-attempting to start the receiver"},ping:{start:"starting the receiver",restart:"restarting the receiver"}},{core:"started but not ready",fail:{segments:"receiver did not receive enough segments within supplied limits",maxTime0:"receiver did not receive any bytes within supplied limits",maxTime1:"receiver did not receive any segments within supplied limits"},start:{segments:"receiver has not received enough segments within supplied limits, restarting",maxTime0:"receiver has not received any bytes within supplied limits, restarting",maxTime1:"receiver has not received any segments within supplied limits, restarting"},ping:{segments:"receiver has received SEG out of SEG required segments"}},{core:"ready",ping:{success:"receiver is ready, monitoring status"},stop:{success:"receiver is ready, monitoring has stopped"},fail:{zero:"receiver byte stream has stalled"}},{core:"program guide",guide:{guide:"receiver is checking for a program guide",fail:"receiver has failed to supply a program guide",success:"receiver has supplied a program guide",empty:"program guide contains no programs",config:"program guide feature is not configured",receiver:"no program guide, receiver was not detected",program:"no matching program was found"}}],e.ProgramGuideHandler=function(t,e){var r;this.rcvr=t,this.timeoutMs=e||0,this.match=[],this.instance=[],this.done=!1,this.completed=this.expected=0,e=!1;var n=[];if(t.source)if("string"==typeof t.source)n.push({src:t.source,type:""});else if("src"in t.source)n.push(t.source);else if(Array.isArray(t.source))for(r=0;r<t.source.length;r++)"string"==typeof t.source[r]?n.push({src:t.source[r],type:""}):"src"in t.source[r]&&n.push(t.source[r]);if((r=t.programGuide)&&r.programs.length){var i=r.programs;for(r=0;r<i.length;r++){var s=!1;if(!0===t.streamKey||"true"===t.streamKey?t.ignorePrefix&&i[r].guid&&i[r].guid.match(/^(?:stream|teams)[_-]/)||(s="multicastAddress"in i[r]&&i[r].multicastAddress&&"!global"!=i[r].multicastAddress):0===i[r].programType?s="triggerPattern"in i[r]&&0<=i[r].triggerPattern.indexOf(t.streamKey):1===i[r].programType?s="guid"in i[r]&&i[r].guid==t.streamKey:(s="string"==typeof i[r].guid&&i[r].guid&&0===i[r].guid.indexOf(t.streamKey)||"string"==typeof i[r].eventHistoryId&&i[r].eventHistoryId===t.streamKey||"string"==typeof i[r].triggerRegExp&&0<=i[r].triggerRegExp.indexOf(t.streamKey),"string"==typeof i[r].uri&&i[r].uri.indexOf(t.streamKey)),s&&"multicastAddress"in i[r]&&i[r].multicastAddress){if("string"==typeof s&&t.streamKey!=s&&i[r].manifests&&i[r].manifests.length)if(n.length){for(e=!0,s=n.length-1;e&&0<=s;s--)for(var o=i[r].manifests.length-1;e&&0<=o;o--)e=n[s].src!=i[r].manifests[o];e||(this.match=[])}else e=!0;e||0!=this.match.length&&!t.multiStream||this.match.push({program:i[r],maddr:i[r].multicastAddress.replace(/\/\d*/,"")}),e=!1}}for(this.expected=this.match.length,r=0;r<this.match.length;r++)this.addInstance(t,this.match[r])}0==this.instance.length?setTimeout(this.final.bind(this),100):this.timeoutMs&&(this.timer=setTimeout(this.final.bind(this),this.timeoutMs))},e.ProgramGuideHandler.prototype={addInstance:function(t,r){var n={protocol:t.protocol,host:t.host,port:t.port,httpPort:t.httpPort,httpsPort:t.httpsPort,verbose:!!t.verbose&&(t.logger||t.verbose),debug:t.debug,maddr:r.maddr,keyStoreUri:t.keyStoreUri,keyStoreKey:t.keyStoreKey,multiStream:!1,streamKey:null,ignorePrefix:!0};e.assign(n,t.options),n.monitorStatus=!1,e.assign(n,t.params),delete n.receiverKeyStore,n.onDone=this.instanceDone.bind(this,this.instance.length),(t=new e(n)).program=r.program,this.instance.push(t)},instanceDone:function(t,e,r){this.timer&&(clearTimeout(this.timer),this.timer=null),this.completed++,this.instance[t]._done=!0,this.done||(4==r.state?this.final(t):this.completed>=this.expected?this.final():this.timeoutMs&&(this.timer=setTimeout(this.final.bind(this),this.timeoutMs)))},final:function(t){var e;for(this.done=!0,this.rcvr.programGuideFinal("number"==typeof t?this.instance[t]:null),e=0;e<this.instance.length;e++){var r=this.instance[e];e==t||r._done||(r.maddr="",r.start())}}}}(this.GlobalCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["iptools.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){var e=t.Util||(t.Util={});if(e.IPTools||(e.IPTools={}),!(t=e.IPTools).ipaddr){var r=t.ipaddr={};r.matchCIDR=function(t,e,r,n){var i;if(t.length!==e.length)throw Error("ipaddr: cannot match CIDR for objects with different lengths");for(i=0;0<n;){var s=r-n;if(0>s&&(s=0),t[i]>>s!=e[i]>>s)return!1;n-=r,i+=1}return!0},r.subnetMatch=function(t,e,r){var n,i;for(n in null==r&&(r="unicast"),e){var s=e[n];!s[0]||s[0]instanceof Array||(s=[s]);var o=0;for(i=s.length;o<i;o++){var a=s[o];if(t.match(a))return n}}return r},r.IPv4=function(t){var e;if(4!==t.length)throw Error("ipaddr: ipv4 octet count should be 4");var r=0;for(e=t.length;r<e;r++){var n=t[r];if(!(0<=n&&255>=n))throw Error("ipaddr: ipv4 octet should fit in 8 bits")}this.octets=t},r.IPv4.prototype={kind:function(){return"ipv4"},toString:function(){return this.octets.join(".")},toByteArray:function(){return this.octets.slice(0)},match:function(t,r){if(void 0===r&&(t=(r=t)[0],r=r[1]),"ipv4"!==t.kind())throw Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return e.IPTools.ipaddr.matchCIDR(this.octets,t.octets,8,r)},range:function(){return e.IPTools.ipaddr.subnetMatch(this,e.IPTools.ipaddr.IPv4.SpecialRanges)},toIPv4MappedAddress:function(){return e.IPTools.ipaddr.IPv6.parse("::ffff:"+this.toString())},prefixLengthFromSubnetMask:function(){var t,e,r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},n=0,i=!1;for(t=e=3;0<=e;t=e+=-1){if(!((t=this.octets[t])in r))return null;if(t=r[t],i&&0!==t)return null;8!==t&&(i=!0),n+=t}return 32-n}},r.IPv4.SpecialRanges={unspecified:[[new r.IPv4([0,0,0,0]),8]],broadcast:[[new r.IPv4([255,255,255,255]),32]],multicast:[[new r.IPv4([224,0,0,0]),4]],linkLocal:[[new r.IPv4([169,254,0,0]),16]],loopback:[[new r.IPv4([127,0,0,0]),8]],private:[[new r.IPv4([10,0,0,0]),8],[new r.IPv4([172,16,0,0]),12],[new r.IPv4([192,168,0,0]),16]],reserved:[[new r.IPv4([192,0,0,0]),24],[new r.IPv4([192,0,2,0]),24],[new r.IPv4([192,88,99,0]),24],[new r.IPv4([198,51,100,0]),24],[new r.IPv4([203,0,113,0]),24],[new r.IPv4([240,0,0,0]),4]]},r.IPv4.Part="(0?\\d+|0x[a-f0-9]+)",r.IPv4.Regexes={fourOctet:new RegExp("^"+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"$","i"),longValue:new RegExp("^"+r.IPv4.Part+"$","i")},r.IPv4.parser=function(t){var r,n,i,s=function(t){return"0"===t[0]&&"x"!==t[1]?parseInt(t,8):parseInt(t)};if(r=t.match(e.IPTools.ipaddr.IPv4.Regexes.fourOctet))return function(){var t,e=r.slice(1,6),i=[],o=0;for(t=e.length;o<t;o++)n=e[o],i.push(s(n));return i}();if(r=t.match(e.IPTools.ipaddr.IPv4.Regexes.longValue)){var o=s(r[1]);if(4294967295<o||0>o)throw Error("ipaddr: address outside defined range");return function(){var t,e=[];for(i=t=0;24>=t;i=t+=8)e.push(o>>i&255);return e}().reverse()}return null},r.IPv6=function(t){var e,r;if(16===t.length)for(this.parts=[],e=r=0;14>=r;e=r+=2)this.parts.push(t[e]<<8|t[e+1]);else{if(8!==t.length)throw Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=t}var n=this.parts;for(e=0,r=n.length;e<r;e++)if(!(0<=(t=n[e])&&65535>=t))throw Error("ipaddr: ipv6 part should fit in 16 bits")},r.IPv6.prototype={kind:function(){return"ipv6"},toString:function(){var t,e,r=function(){var t,e=this.parts,r=[],n=0;for(t=e.length;n<t;n++)o=e[n],r.push(o.toString(16));return r}.call(this),n=[],i=function(t){return n.push(t)},s=t=0;for(e=r.length;s<e;s++){var o=r[s];switch(t){case 0:i("0"===o?"":o),t=1;break;case 1:"0"===o?t=2:i(o);break;case 2:"0"!==o&&(i(""),i(o),t=3);break;case 3:i(o)}}return 2===t&&(i(""),i("")),n.join(":")},toByteArray:function(){var t,e=[],r=this.parts,n=0;for(t=r.length;n<t;n++){var i=r[n];e.push(i>>8),e.push(255&i)}return e},toNormalizedString:function(){var t,e=this.parts,r=[],n=0;for(t=e.length;n<t;n++){var i=e[n];r.push(i.toString(16))}return r.join(":")},match:function(t,r){if(void 0===r&&(t=(r=t)[0],r=r[1]),"ipv6"!==t.kind())throw Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return e.IPTools.ipaddr.matchCIDR(this.parts,t.parts,16,r)},range:function(){return e.IPTools.ipaddr.subnetMatch(this,e.IPTools.ipaddr.IPv6.SpecialRanges)},isIPv4MappedAddress:function(){return"ipv4Mapped"===this.range()},toIPv4Address:function(){if(!this.isIPv4MappedAddress())throw Error("ipaddr: trying to convert a generic ipv6 address to ipv4");var t=this.parts.slice(-2),r=t[0];return t=t[1],new e.IPTools.ipaddr.IPv4([r>>8,255&r,t>>8,255&t])}},r.IPv6.SpecialRanges={unspecified:[new r.IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new r.IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new r.IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new r.IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new r.IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new r.IPv6([0,0,0,0,0,65535,0,0]),96],rfc6145:[new r.IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new r.IPv6([100,65435,0,0,0,0,0,0]),96],"6to4":[new r.IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new r.IPv6([8193,0,0,0,0,0,0,0]),32],reserved:[[new r.IPv6([8193,3512,0,0,0,0,0,0]),32]]},r.IPv6.Part="(?:[0-9a-f]+::?)+",r.IPv6.Regexes={native:new RegExp("^(::)?("+r.IPv6.Part+")?([0-9a-f]+)?(::)?$","i"),transitional:new RegExp("^((?:"+r.IPv6.Part+")|(?:::)(?:"+r.IPv6.Part+")?)"+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"$","i")},r.IPv6.parser=function(t){var r,n;if(t.match(e.IPTools.ipaddr.IPv6.Regexes.native))return e.IPTools.ipaddr.expandIPv6(t,8);if((r=t.match(e.IPTools.ipaddr.IPv6.Regexes.transitional))&&(t=e.IPTools.ipaddr.expandIPv6(r[1].slice(0,-1),6))){var i=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])],s=0;for(n=i.length;s<n;s++)if(!(0<=(r=i[s])&&255>=r))return null;return t.push(i[0]<<8|i[1]),t.push(i[2]<<8|i[3]),t}return null},r.expandIPv6=function(t,e){var r;if(t.indexOf("::")!==t.lastIndexOf("::"))return null;var n=0;for(r=-1;0<=(r=t.indexOf(":",r+1));)n++;if("::"===t.substr(0,2)&&n--,"::"===t.substr(-2,2)&&n--,n>e)return null;for(n=e-n,e=":";n--;)e+="0:";":"===(t=t.replace("::",e))[0]&&(t=t.slice(1)),":"===t[t.length-1]&&(t=t.slice(0,-1));var i=[];for(e=0,n=(r=t.split(":")).length;e<n;e++)t=r[e],i.push(parseInt(t,16));return i},r.IPv4.isIPv4=r.IPv6.isIPv6=function(t){return null!==this.parser(t)},r.IPv4.isValid=function(t){try{return new this(this.parser(t)),!0}catch(t){return!1}},r.IPv4.isValidFourPartDecimal=function(t){return!(!e.IPTools.ipaddr.IPv4.isValid(t)||!t.match(/^\d+(\.\d+){3}$/))},r.IPv6.isValid=function(t){if("string"==typeof t&&-1===t.indexOf(":"))return!1;try{return new this(this.parser(t)),!0}catch(t){return!1}},r.IPv4.parse=r.IPv6.parse=function(t){if(null===(t=this.parser(t)))throw Error("ipaddr: string is not formatted like ip address");return new this(t)},r.IPv4.parseCIDR=function(t){var e;if((e=t.match(/^(.+)\/(\d+)$/))&&0<=(t=parseInt(e[2]))&&32>=t)return[this.parse(e[1]),t];throw Error("ipaddr: string is not formatted like an IPv4 CIDR range")},r.IPv6.parseCIDR=function(t){var e;if((e=t.match(/^(.+)\/(\d+)$/))&&0<=(t=parseInt(e[2]))&&128>=t)return[this.parse(e[1]),t];throw Error("ipaddr: string is not formatted like an IPv6 CIDR range")},r.isValid=function(t){return e.IPTools.ipaddr.IPv6.isValid(t)||e.IPTools.ipaddr.IPv4.isValid(t)},r.parse=function(t){if(e.IPTools.ipaddr.IPv6.isValid(t))return e.IPTools.ipaddr.IPv6.parse(t);if(e.IPTools.ipaddr.IPv4.isValid(t))return e.IPTools.ipaddr.IPv4.parse(t);throw Error("ipaddr: the address has neither IPv6 nor IPv4 format")},r.parseCIDR=function(t){try{return e.IPTools.ipaddr.IPv6.parseCIDR(t)}catch(r){try{return e.IPTools.ipaddr.IPv4.parseCIDR(t)}catch(t){throw Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},r.fromByteArray=function(t){var r=t.length;if(4===r)return new e.IPTools.ipaddr.IPv4(t);if(16===r)return new e.IPTools.ipaddr.IPv6(t);throw Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},r.process=function(t){return"ipv6"===(t=this.parse(t)).kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t}}if(!t.ip6){var n,i=t.ip6={};i.normalize=function(t){if(!this._validate(t))return!1;var e=t.split(/::/g);if(2<e.length)return!1;var r=[];if(1==e.length){if(8!==(r=t.split(/:/g)).length)return!1}else if(2==e.length){for(n in t=e[1],e=e[0].split(/:/g),t=t.split(/:/g),e)r[n]=e[n];for(n=t.length;0<n;--n)r[7-(t.length-n)]=t[n-1]}for(n=0;8>n;++n)void 0===r[n]&&(r[n]="0000"),4>r[n].length&&(r[n]="0000".substring(0,4-r[n].length)+r[n]);return r.join(":")},i.abbreviate=function(t){if(!this._validate(t))return!1;t=(t=(t=(t=(t=(t=(t=i.normalize(t)).replace(/0000/g,"g")).replace(/:000/g,":")).replace(/:00/g,":")).replace(/:0/g,":")).replace(/g/g,"0")).split(/:/g);for(var e=!1,r=-1,n=0,s=-1,o=0,a=0;8>a;++a){var l=t[a],u="0"===l;u&&!e&&(s=a),!u&&e&&(o=a-s),1<o&&o>n&&(r=s,n=o),e="0"===l}return e&&(o=8-s),1<o&&o>n&&(r=s,n=o),0<=r&&1<n&&t.splice(r,n,"g"),(t=(t=(t=(t=t.join(":")).replace(/:g:/g,"::")).replace(/:g/g,"::")).replace(/g:/g,"::")).replace(/g/g,"::")},i._validate=function(t){return/^[a-f0-9\\:]+$/gi.test(t)}}t.ipValidator||((r=t.ipValidator={}).ipaddr=t.ipaddr,r.ip6=t.ip6,r.isIP=function(t){return this.ipaddr.isValid(t)},r.isRange=function(t){try{return this.ipaddr.parseCIDR(t),!0}catch(t){return!1}},r.ver=function(t){try{var e=this.ipaddr.parse(t).kind();return"ipv4"==e?4:"ipv6"==e?6:0}catch(t){return 0}},r.isV4=function(t){return 4==this.ver(t)},r.isV6=function(t){return 6==this.ver(t)},r.storeIP=function(t){try{var e=this.ipaddr.parse(t),r=e.kind();return"ipv4"==r?t:"ipv6"==r?e.isIPv4MappedAddress()?e.toIPv4Address().toString():this.ip6.abbreviate(t):null}catch(t){return null}},r.displayIP=function(t){try{var e=this.ipaddr.parse(t),r=e.kind();return"ipv4"==r?t:"ipv6"==r?e.isIPv4MappedAddress()?e.toIPv4Address().toString():this.ip6.normalize(t):""}catch(t){return""}},r.inRange=function(t,e){if("string"!=typeof e){if(e&&"object"==typeof e)for(var r in e)if(!0===this.inRange(t,e[r]))return!0;return!1}if(-1===e.indexOf("/"))return t=this.isV6(t)?this.ip6.normalize(t):t,e=this.isV6(e)?this.ip6.normalize(e):e,this.isIP(e)&&t===e;try{var n=e.split("/"),i=this.ipaddr.parse(t),s=this.ipaddr.parse(n[0]);return i.match(s,n[1])}catch(t){return!1}},r.InRange=r.inRange,t.range_check={isIP:r.isIP.bind(r),isV4:r.isV4.bind(r),isV6:r.isV6.bind(r),storeIP:r.storeIP.bind(r),displayIP:r.displayIP.bind(r),isRange:r.isRange.bind(r),inRange:r.inRange.bind(r),ver:r.ver.bind(r)},t.range_check.validIp=t.range_check.vaildIp=t.range_check.valid_ip=t.range_check.vaild_ip=t.range_check.isIP,t.range_check.searchIP=t.range_check.storeIP,t.range_check.valid_range=t.range_check.validRange=t.range_check.isRange,t.range_check.in_range=t.range_check.inRange)}(this.GlobalCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["omnicache.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){"QManager"in(t=t.Util||(t.Util={pageProtocol:"http:"===location.protocol?"http:":"https:"}))||(t.QManager=function(t,e,r,n){this.callback=t,this.method=e,this.match="boolean"!=typeof r||r,"function"==typeof n?(this.verbose=!0,this.logger=n):(this.verbose=n,this.logger=console.log.bind(console)),this.queue=[],this.push=function(t){this.queue.push(t)},this.pop=function(){return this.queue.pop()},this.matchObject=function(t,e){var r,n=!1,i=typeof t;if(i==typeof e)if("object"==i&&null!=t){for(r in n=!0,t)if(!this.matchObject(t[r],e[r])){n=!1;break}}else t==e&&(n=!0);return n},this.flush=function(){if(this.queue.length)if(this.method){var t=1==this.method?0:this.queue.length-1,e=this.queue.splice(t,1);this.verbose&&this.logger("QM callback",e),this.callback(e),this.queue=[]}else for(;e=this.queue.shift();)if(this.verbose&&this.logger("QM callback",e),this.callback(e),this.qflag)for(t=this.queue.length-1;0<=t;t--)this.matchObject(e,this.queue[t])&&(this.verbose&&this.logger("QM removing duplicate",this.queue[t]),this.queue.splice(t,1))},this.empty=function(){this.verbose&&this.logger("QM empty"),this.queue.length&&(this.queue=[])}})}(this.GlobalCTX),function(t){var e=t.OmniCacheInterface=function(r){this.index=e.unique++,r=r||{},this.uuid="uuid"in r?r.uuid:e.uuid,this.re4cache=/^https?:\/\/[^/]+\/http(?:https|s)?\//,this.resp=null,this.done=!1,this.uriStr=this.ipRangeStr="",this.httpPort=e.Defaults.httpPort,this.httpsPort=e.Defaults.httpsPort,this.filter=r.filter||[],this.qmethod=r.qmethod,this.qflag=r.qflag,this.q=new t.Util.QManager(this.rewrite.bind(this),this.qmethod,this.qflag,r.verbose),this.onDone=this.onFailure=this.onSuccess=this.onStateChange=this.statusTimer=null,this.directMod=!0,this.setParams(r)};e.unique=0,e.uuid=t.Util&&t.Util.UUID?t.Util.UUID.Uuid:"",e.UUIDHeader="x-rampecdn-client-instance-id",e.Callbacks={onStateChange:!0,onSuccess:!0,onFailure:!0,onDone:!0},e.Defaults={uri:"",httpPort:80,httpsPort:443,ipRange:"",ipExclude:!0,verbose:!1,src:function(){},timeoutMs:5e3,monitorStatus:!1,statusIntervalMs:5e3,analytics:!1,nPings:1},e.prototype={setParams:function(r){var n,i=r||{},s=0,o=!this.ipRange;for(n in(o||"ipRange"in i&&i.ipRange!==this.ipRangeStr)&&("string"==typeof i.ipRange&&i.ipRange!=e.Defaults.ipRange?(this.ipRangeStr=i.ipRange,this.ipRange=i.ipRange.split(",")):(this.ipRangeStr=e.Defaults.ipRange,this.ipRange=[]),s++),(o||"ipExclude"in i&&i.ipExclude!==this.ipExclude)&&(this.ipExclude=void 0!==i.ipExclude?!!i.ipExclude:e.Defaults.ipExclude,s++),e.Callbacks)n in r&&("function"==typeof r[n]||null===r[n])&&(this[n]=r[n]);return(o||"verbose"in i)&&("function"==typeof i.verbose?(this.verbose=!0,this.logger=i.verbose):(this.verbose=void 0!==i.verbose?!!i.verbose:e.Defaults.verbose,this.logger=console.log.bind(console))),(o||"analytics"in i)&&(this.analytics=void 0!==i.analytics?!!i.analytics:e.Defaults.analytics),(o||"timeoutMs"in i)&&(this.timeoutMs=i.timeoutMs&&isFinite(i.timeoutMs)?i.timeoutMs:e.Defaults.timeoutMs),(o||"statusIntervalMs"in i)&&(this.statusIntervalMs=i.statusIntervalMs&&isFinite(i.statusIntervalMs)?i.statusIntervalMs:e.Defaults.statusIntervalMs),(o||"monitorStatus"in i)&&(this.monitorStatus=void 0!==i.monitorStatus?!!i.monitorStatus:e.Defaults.monitorStatus),(o||"nPings"in i)&&(this.nPings=i.nPings&&isFinite(i.nPings)?i.nPings:e.Defaults.nPings),(o||"src"in i&&i.src!==this.src)&&(this.src="function"==typeof i.src?i.src:e.Defaults.src,s++),r=!0,o||"uri"in i&&i.uri!==this.uriStr||"httpPort"in i&&i.httpPort!==this.httpPort||"httpsPort"in i&&i.httpsPort!==this.httpsPort||i.force?(this.uriPing=0,void 0!==i.httpPort&&i.httpPort!==this.httpPort&&(this.httpPort=i.httpPort||e.Defaults.httpPort),void 0!==i.httpsPort&&i.httpsPort!==this.httpsPort&&(this.httpsPort=i.httpsPort||e.Defaults.httpsPort),i.uri&&"string"==typeof i.uri||i.force&&this.uriStr?(s=i.uri,0<=i.uri.indexOf(",")&&(this.uriList=s.split(","),s=this.uriList.shift()),this.uriStr=s&&"string"==typeof s?s:this.uriStr,this.uri=(this.uriStr.match("^(?:https?:)?//")?"":"//")+this.uriStr,this.uri=this.uri.replace(/^\/\//,t.Util.pageProtocol+"//"),this.uriStr=this.uri=this.uri.replace(/\/+$/,""),this.uri.match(/:[0-9]+$/)||(this.uri+=":"+(0==this.uri.indexOf("https:")?this.httpsPort:this.httpPort)),this.restart(!0)):(this.uri=this.uriStr=e.Defaults.uri,this.onReject())):s?this.uri?(this.uriPing=0,this.restart(!0)):this.onReject():r=!1,r},restart:function(t){t||(this.uri=this.uriStr),this.start().then(this.onResolve.bind(this),this.onReject.bind(this))},start:function(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),delete this.resp,this.done=!1;var r=new t.Util.XPromise(this.xpromise.bind(this));if(this.uri){var n=new t.XMLHttpRequest,i=this.listener.bind(this);0<=this.uri.indexOf("?")?n.uri="&":n.uri="?",n.uri=this.uri+n.uri+"_="+(new Date).getTime();try{n.addEventListener("readystatechange",i,!1),n.addEventListener("load",i,!1),n.addEventListener("error",i,!1),n.addEventListener("abort",i,!1),n.addEventListener("timeout",i,!1),n.open("get",n.uri,!0),n.setRequestHeader("Accept","application/json"),this.uuid&&this.analytics&&n.setRequestHeader(e.UUIDHeader,this.uuid),n.timeout=this.timeoutMs,n.send(null)}catch(t){this.uuid?(this.uuid="",this.rejector&&this.rejector(null),setTimeout(this.restart.bind(this,!0),100)):this.rejector&&this.rejector({message:"xhr failed"})}}else this.rejector&&this.rejector({message:"missing URI"});return r},listener:function(t){if(t){var e=t.target;if("readystatechange"==t.type){if(4==e.readyState){t=null;try{t=JSON.parse(e.response)}catch(t){}this.resp=t}}else e={status:e.status,resp:this.resp,uri:this.uri},this.done=!0,this.logger("----\x3e OCI listener: "+t.type),"load"==t.type?this.resp&&this.resp.Ip?this.ipIsAllowed(this.resp.Ip)?(e.message="success",this.resolver(e)):(e.message="IP is not in range.",this.rejector(e)):(e.message="failure",this.rejector(e)):(this.uriPing++,0<this.nPings&&this.uriPing<this.nPings?(this.rejector(null),setTimeout(this.restart.bind(this,!0),100)):"error"==t.type&&this.uuid?(this.uuid="",this.rejector(null),setTimeout(this.restart.bind(this,!0),100)):(e.message="failure: "+t.type,e.timeout="timeout"==t.type,this.rejector(e)))}},ipIsAllowed:function(e){var r=this.ipExclude,n="IPTools"in t.Util&&t.Util.IPTools.ipValidator,i=0==this.ipRange.length,s=n||{inRange:function(){return!r}},o=(s=i||s.inRange(e,this.ipRange)^this.ipExclude)^this.ipExclude;return this.verbose&&this.logger("OCI: Client IP "+e+" "+(s?"accepted":"rejected")+" - "+(n?i?"No IP Range":(o?"in":"not in")+" supplied IP "+(this.ipExclude?"exclusion":"inclusion")+" Range":"Missing IPTools"),this.ipRange,this.ipExclude),s},statusUpdate:function(t){return t=(this.monitorStatus=void 0===t?!this.monitorStatus:"boolean"==typeof t?t:this.monitorStatus)||!!t,!this.statusTimer&&t&&this.restart(),this.monitorStatus},xpromise:function(t,e){this.resolver=t,this.rejector=e},onResolve:function(t){this.verbose&&this.logger("OCI onResolve",this.uri),this.done=!0,this.status!=t.message&&(this.onStateChange&&this.onStateChange(this,t),this.status=t.message),this.onSuccess&&this.onSuccess(this,t),this.onDone&&this.onDone(this,t),this.q.flush(),this.uriPing=0,this.monitorStatus&&!this.statusTimer&&(this.statusTimer=setTimeout(this.restart.bind(this),this.statusIntervalMs))},onReject:function(t){null===t?this.resolver=this.rejector=null:(this.verbose&&this.logger("OCI onReject",this.uri),this.uriList&&this.uriList.length?(t={uri:this.uriList.shift()},this.uuid=e.uuid,this.setParams(t)):(this.done=!0,this.uri=null,(t=t||{message:"rejected"}).uri=null,this.status!=t.message&&(this.onStateChange&&this.onStateChange(this,t),this.status=t.message),this.onFailure&&this.onFailure(this,t),this.onDone&&this.onDone(this,t),this.q.flush(),this.monitorStatus&&!this.statusTimer&&(this.statusTimer=setTimeout(this.restart.bind(this),this.statusIntervalMs))))},isCacheable:function(t){var e=!1;if(t)if(0<this.filter.length){var r,n;for(n=2;0<n;n--){for(r=this.filter.length-1;!e&&0<=r;r--)e=null!=t.match(this.filter[r]+"$");e||2!=n?n=0:(r=t.match(/([^?#]*)\/([^/?#]+)/))&&(t=r[2])||(n=0)}}else e=!0;return e},isCached:function(t){return t&&t.match(this.re4cache)},rewrite:function(t,e){if(this.verbose&&this.logger("OCI rewrite",t),t){if(this.done){if("string"==typeof t)var r=2,n=[{src:t}];else t instanceof Array?(r=0,n=t):(r=1,n=[t]);var i=/^(?:(https?):)?(\/\/)?/;for(t=0;t<n.length;t++){var s=this.isCacheable(n[t].src),o=!1,a=this.isCached(n[t].src);this.uri&&s&&!a?(this.verbose&&this.logger("OmniCache src was: "+n[t].src),o=!0,a=(a=n[t].src.match(i))[1]?"/"+a[1]+"/":"/httphttps/",n[t].src=n[t].src.replace(i,this.uri+a)):this.verbose&&this.logger("OmniCache:"+(this.uri?(s?"":" not")+" cacheable"+(a?"":" not")+" cached":"no uri")),this.verbose&&(o?this.logger(".... updated to OmniCache: "+n[t].src):this.logger(".... unchanged: "+(n[t].src||"undefined"))),n[t].callback&&n[t].callback(n[t])}return r=r?1==r?n[0]:n[0].src:n,this.src&&this.src(r),e&&r}this.verbose&&this.logger("... queued"),this.q.push(t)}}}}(this.GlobalCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["elementLoader.js"]="$Id$ $Change$ $Revision$ $DateTime$",Function.prototype.construct||Object.defineProperty(Function.prototype,"construct",{enumerable:!1,value:function(t){let e=Object.create(this.prototype);return this.apply(e,t),e}}),function(t,e){let r=t.ElementLoader=function(t,e){this.options=e||{},this.done=this.started=!1,this.count=this.loaded=this.activated=0,this.callback=this.options.callback,this.src=[],this.boundListener=this.listener.bind(this),t&&setTimeout(this.load.bind(this,t,e),10)};r.prototype={depend:function(t,e,n){let i=[],s=[],o=e||{};"dlimit"in o||(o.dlimit=5),"dinterval"in o||(o.dinterval=1e3),i.failed=0,n&&("string"==typeof n?s=n.split(","):Array.isArray(n)&&(s=n),s.length&&(i=r.LookupMultiple(s))),0!=i.failed&&o.dlimit?(o.dlimit--,setTimeout(this.depend.bind(this,t,o,s),o.dinterval)):this.load(t,e)},load:function(t,e){if(this.started)return!1;if(this.started=!0,this.done=!1,this.count=this.loaded=this.activated=0,this.options=e||{},this.options.callback&&(this.callback=this.options.callback),this.block={},this.block.define=__webpack_require__.amdD,__webpack_require__.amdD=void 0,!r.inNode&&module&&(this.block.module=module,module=void 0),!r.inNode&&"object"==typeof exports&&exports&&(this.block.exports=exports,exports=void 0),e=this.src=[],t&&("string"==typeof t?t=[{src:t,kind:"js"}]:"src"in t&&(t=[t]),Array.isArray(t)&&t.length))for(let r,n=0;n<t.length;n++)"string"==typeof t[n]&&(t[n]={src:t[n]}),r=t[n],this.validateObject(r,e);if(this.src.length)if(this.sequential)t=this.index=0,"direct"==this.src[t].method?this.loadDirect(this.src[t]):this.loadBlob(this.src[t]);else for(t=0;t<this.src.length;t++)"direct"==this.src[t].method?this.loadDirect(this.src[t]):this.loadBlob(this.src[t]);else this.done=!0,this.started=!1,this.doCallback(this.count==this.loaded,this.count==this.activated);return this.started},doCallback:function(t,e){this.block&&(this.block.exports&&(exports=this.block.exports,delete this.block.exports),this.block.module&&(module=this.block.module,delete this.block.module),this.block.define&&(__webpack_require__.amdD=this.block.define,delete this.block.define));let r=this;this.callback&&setTimeout((function(){r.callback(r,t,e)}),10)},validateObject:function(e,n){var i=e.src||e.url;return(i={src:i,url:i,sequential:!!e.sequential,kind:e.kind||(e.tag?"":"js"),tag:e.tag,attr:e.attr||{},key:e.key||this.options.key||"",data:e.data||null,parent:e.parent||void 0,index:-1,loaded:null,resp:null,element:e.element||null,root:e.root||null,method:e.method in r.Methods?e.method:"direct",prefix:e.prefix||"",suffix:e.suffix||"",blobPrefix:!!e.blobPrefix,activation:e.activation||null,preload:void 0===e.preload||!!e.preload}).sequential&&(this.sequential=i.sequential),r.inNode&&"blob"==i.method&&!t.Blob&&(i.method="func"),e.type&&(i.attr.type=e.type),i.tag?i.tag in r.Tags||(i.src=""):"js"==i.kind?(i.tag="script","type"in i.attr||(i.attr.type="text/javascript")):"css"==i.kind?(i.tag="link",i.attr.rel="stylesheet","type"in i.attr||(i.attr.type="text/css")):i.src="","script"==i.tag?i.root&&"define"in t&&(i.prefix="var def=define; define=null; "+i.prefix,i.suffix+=";; define=def;",i.blobPrefix=!0):(i.root="","func"==i.method&&(i.src="")),i.src?(i.parent&&"string"==typeof i.parent&&(i.parent=document.querySelector(i.parent)),i.parent&&i.parent instanceof Element||(i.parent=document["script"==i.tag||"link"==i.tag?"head":"body"]),i.key&&(i.url=i.src.replace(/__KEY__/g,i.key)),n&&(i.index=n.length,n.push(i))):i=null,i},listener:function(e){let n=this,i=e.currentTarget||e.target,s=this.src[i.dataIndex];if("loadend"==e.type?e=200==i.status:(e="load"==e.type)&&"iframe"==s.tag&&(e=!i.contentDocument||"complete"==i.contentDocument.readyState),s.el=i,console.log("EL listener "+s.index+" state="+e,"method:"+s.method,"loaded:"+!!s.loaded,"resp:"+!!s.resp),e?"direct"==s.method?(s.loaded&&(s.resp=null,URL.revokeObjectURL(s.url),s.url=null),console.log("... "+s.src+" loaded as "+i.src),e=r.LookupMultiple(s.root||""),s.loaded=(!s.root||0===e.failed)&&i,s.method=null):"blob"==s.method?(s.resp=i.response,s.loaded=s.url=URL.createObjectURL(new Blob([s.blobPrefix?s.prefix+i.response+s.suffix:i.response],{type:s.attr.type})),s.method="direct"):"func"==s.method&&(s.loaded?(console.log("... "+s.src+" loaded as "+s.method),s.loaded=!0,s.resp=null,s.method=null):s.loaded=s.resp=i.response):"direct"==s.method?(s.element||s.parent.removeChild(i),s.loaded?(URL.revokeObjectURL(s.url),s.url=null,"script"==s.tag&&s.resp?(s.loaded=s.resp,s.method="func"):(s.loaded=!1,s.method=null)):s.method=r.inNode?null:"blob"):"blob"==s.method?(s.loaded=!1,s.resp=null,s.method=null):"func"==s.method&&(s.resp&&(s.resp=null),s.loaded=!1,s.method=null),s.method)"direct"==s.method?this.loadDirect(s):"blob"==s.method?this.loadBlob(s):"func"==s.method&&setTimeout((function(){new r.Ref(s.prefix+s.resp+s.suffix).apply(t);let e=r.LookupMultiple(s.root||"");n.listener({type:s.root&&0!==e.failed?"error":"load",target:{dataIndex:s.index}})}),10);else{let t;s.loaded&&(this.loaded++,s.activation&&(t=this.activate(s))),t&&"function"==typeof t.then?t.then(this.finishItem.bind(this,s,"success")).catch(this.finishItem.bind(this,s,"failure")):this.finishItem(s)}return!1},finishItem:function(t,e,r){if(t.activation){if(t.loaded){var n=t.activation.result;0===n.state&&(2>arguments.length||"failure"!==arguments[1])&&this.activated++,2<=arguments.length&&(n.rv=r)}}else this.activated++;this.count++,(this.done=this.count==this.src.length)?(this.started=!1,this.doCallback(this.count==this.loaded,this.count==this.activated)):this.sequential&&(this.index++,n=this.index,"direct"==this.src[n].method?this.loadDirect(this.src[n]):this.loadBlob(this.src[n]))},activate:function(t){var e=!1;if(t.activation){let n=t.activation;e=n.root||t.root;let i=n.result={root:e?r.LookupMultiple(e):void 0,base:null,state:0};if(i.root&&0<i.root.failed&&(i.root=void 0),i.state|=t.loaded?0:1,i.state|=e&&i.root.failed===i.root.length?2:0,i.state|=e&&0<i.root.failed?4:0,(e=0===i.state)&&n.entry&&"string"==typeof n.entry){let r,i;n.player||(n.player=t.player||this.options.player),n.key||(n.key=t.key||this.options.key),e=new Promise((function(t,e){r=t,i=e})),this.entryCall(n,r,i)}}return e},entryCall:function(t,e,n){let i=t.result,s=r.Lookup(t.entry,{player:t.player});if(s&&"function"==typeof s.value){let a,l,u;if(n=[],t.conf&&"object"==typeof t.conf)for(a in t.conf)if("string"==typeof t.conf[a]&&0===t.conf[a].indexOf("lookup:")){var o=r.Lookup(t.conf[a].substring(7));t.conf[a]=o?o.value:void 0}if(t.param&&Array.isArray(t.param))for(a=0;a<t.param.length;a++)switch(o=t.param[a],o){case"self":n.push(this);break;case"data":n.push(this.options.data);break;case"player":n.push(t.player);break;case"key":n.push(t.key);break;case"conf":n.push(t.conf);break;default:if("string"==typeof o&&0==o.indexOf("conf.")){for(l=t.conf,u=t.param[a].split("."),o=1;o<u.length&&u[o]in l;o++)l=l[u[o]];o<u.length&&(l=void 0),n.push(l)}else n.push(o)}t.instantiate?i.inst=s.value.construct(n):i.rv=s.value.apply(s.root,n),i.base=i.inst&&t.useInstance?i.inst:i.root?i.root[0].value:{},i.rv&&"function"==typeof i.rv.then?i.rv.then((function(t){e(t)})):e()}else isFinite(t.tries)&&0<t.tries?(t.tries--,setTimeout(this.entryCall.bind(this,t,e,n),t.delay||100)):(i.state|=8,e())},loadDirect:function(t){if(t.preload&&this.detectPreload(t))setTimeout(this.listener.bind(this,{type:"load",target:t.element}),0);else{let e,n=t.element||document.createElement(t.tag);for(e in t.element||t.parent.appendChild(n),t.attr)n.setAttribute(e,t.attr[e]);n.dataIndex=t.index,n.addEventListener("load",this.boundListener,!1),n.addEventListener("error",this.boundListener,!1),n.setAttribute(r.Tags[t.tag],t.url)}},loadBlob:function(e){let r=new t.XMLHttpRequest;r.overrideMimeType("text/plain"),r.addEventListener("loadend",this.boundListener,!1),r.dataIndex=e.index,r.open("get",e.url,!0),r.send(null)},detectPreload:function(t){t.element||(t.element=document.querySelector('[src$="'+t.url+'"]'))||(t.element=document.querySelector('[src$="'+t.url.replace(/^.*\//,"")+'"]'));let e=t.element,n=[],i=t.activation||{};return t.root&&n.push(t.root),i.root&&n.push(i.root),i.entry&&n.push(i.entry),n.length&&(e=r.LookupMultiple(n),e=!(0<e.failed)&&(t.element||(t.element={}))),e&&(e.dataIndex=t.index),e}},r.Tags={script:"src",link:"href",iframe:"src",img:"src",video:"src",audio:"src",object:"data",embed:"src"},r.Methods={direct:"blob",blob:"func",func:null},r.Ref=t.Function,r.inNode=t!==e,r.Lookup=function(e,r){e=e.split(".");let n={root:t,name:e[0],value:t[e[0]]};r&&e[0]in r&&(n.root=r,n.name=e[0],n.value=r[e[0]]),void 0===n.value&&(n.root=n.name=null);for(r=1;n.root&&r<e.length;r++)n.value&&n.value[e[r]]?(n.root=n.value,n.name=e[r],n.value=n.root[n.name]):n.root=n.name=n.value=null;return n.root?n:void 0},r.LookupMultiple=function(t){let e=[],n="string"==typeof t?t.split(","):t;for(t=e.failed=0;t<n.length;t++)e.push(r.Lookup(n[t])),void 0===e[t]&&e.failed++;return e}}(this.GlobalCTX,this.ExportCTX),(this.GlobalCTX.RampVersion||(this.GlobalCTX.RampVersion={}))["rcvrInterface.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(t){var e=t.Util||(t.Util={});e.queryToObject||(e.queryToObject=function(t,e,r){if(r=r||{},!t||""==t)return r;var n,i;for(t=t.split("&"),i=0;i<t.length;i++){var s=n=t[i].indexOf("=");n+1||(n=t[i].length),n=[decodeURIComponent(t[i].substring(0,n)),decodeURIComponent(t[i].substring(n+1))],0>s?(n[1]="!"!=n[0].charAt(0),n[1]||(n[0]=n[0].substring(1))):"true"==n[1]?n[1]=!0:"false"==n[1]?n[1]=!1:n[1]&&""==n[1].replace(/^[+-]?\d+$/,"")&&(n[1]=parseInt(n[1])),e&&void 0!==r[n[0]]?"object"!=typeof r[n[0]]?r[n[0]]=[r[n[0]],n[1]]:r[n[0]].push(n[1]):r[n[0]]=n[1]}return r}),e.UTF8ToString||(e.rawUTF8ToString=function(t,e,r){let n="",i=t.length,s=e?Math.min(Math.max(0,e),i):0;for(e=s+1024,i=r?Math.max(Math.min(r,i),0):i;s<i;)r=t.subarray(s,e>i?i:e),n+=encodeURIComponent(String.fromCharCode.apply(String,r)),s=e,e+=1024;return decodeURIComponent(n)},e.UTF8ToString=function(t,e,r){let n="";for(r=(r=r||t.length)>t.length?t.length:r,e=e||0;e<r;e++)n=128>t[e]?n+String.fromCharCode(t[e]):n+"%"+("00"+t[e].toString(16)).slice(-2);return decodeURIComponent(n)},e.StringToUTF8=function(t){let e=[],r=0,n=encodeURIComponent(t);for(t=0;t<n.length;t++)switch(r){case 0:"%"==n[t]?r=1:e.push(n.charCodeAt(t));break;case 1:r=2;break;case 2:e.push(parseInt(n[t-1]+n[t],16)),r=0}return new Uint8Array(e)},e.StringToUTF16=function(t){let e,r=new Uint16Array(t.length);for(e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},e.ArrayToString=function(t){let e,r="";for(e=0;e<t.length;e+=1024)r+=String.fromCharCode.apply(String,t.subarray(e,e+1024));return r}),Array.prototype.peek||Object.defineProperty(Array.prototype,"peek",{enumerable:!1,configurable:!0,value:function(){return 0<this.length?this[this.length-1]:void 0}}),Array.prototype.binaryInsert||Object.defineProperty(Array.prototype,"binaryInsert",{enumerable:!1,value:function(t,e,r,n){let i=-2,s=r||0,o=this.length-1;if(this.length)for(;-2==i;){var a=this[r=Math.floor((s+o)/2)];0>(a=e(t,a))?(o=r-1,s>o&&(n||this.splice(s,0,t),i=-1)):0<a?(s=r+1,s>o&&(n||this.splice(s,0,t),i=-1)):i=r}else i=-1,n||this.push(t);return i}}),Uint8Array.prototype.substring||Object.defineProperty(Uint8Array.prototype,"substring",{enumerable:!1,value:function(t,r){t=isNaN(t)||0>t?0:t>this.length?this.length:t;let n=void 0===r||r>this.length?this.length:isNaN(r)||0>r?0:r;return t>n&&(r=t,t=n,n=r),e.rawUTF8ToString(this,t,n)}}),Uint8Array.prototype.indexOfSequence||Object.defineProperty(Uint8Array.prototype,"indexOfSequence",{enumerable:!1,value:function(t,e){let r,n=-1,i=!1,s=void 0===e||isNaN(e)?0:0>e?this.length-1:e;if(0>s&&(s=0),s<this.length)for(;!i&&s<this.length;){for(e=s,r=0;r<t.length&&e<this.length&&t[r]===this[e];)e++,r++;r==t.length&&(i=!0,n=s),s++}return n}}),t.NodeList&&!NodeList.prototype.forEach&&Object.defineProperty(NodeList.prototype,"forEach",{enumerable:!1,value:function(t,e){let r;for(r=0;r<this.length;r++)t.call(e,this[r],r,this)}})}(this.GlobalCTX),function(t){let e=t.Util||(t.Util={});if(e.UUID){var r=0;e.RampPage||(e.RampPage=(new e.UUID).last),e.RampSDK&&(r=parseInt(e.RampSDK),r=(isFinite(r)?r:9999)+1),e.RampSDK=r+"_"+(new e.UUID).last}let n=e.XHRIntercept;n.activate();var i=t.RcvrInterface=function(t,r,n){1==arguments.length&&(n=t.o_param,r=t.r_param,t=t.i_param),this.index=i.unique++,this.name="RcvrInterface["+this.index+"]",this.uuid=i.uuid,this.iuuid=e.UUID.restored?(new e.UUID).last:this.uuid,this.param={},this.state=0,this.terminal="",this.manifest={url:"",format:"",source:"",firstPass:!0,last404Override:{},prvTSBD:0},this.omnicache=null,this.ocReady=!1,this.ocParams={},this.analytics=this.analyticsUrl=this.analyticsSrc=this.onPostRcvr=this.onDone=this.extraOnDone=null,this.setParams(t||{},r||{},n||{})};if(i.unique=0,i.uuid=e&&e.UUID?e.UUID.Uuid:"",i.UUIDHeader="x-rampecdn-client-instance-id",i.State={MC_REQUESTED:1,MC_SUCCEEDED:2,MC_GROUP:3,PG_REQUESTED:4,PG_SUCCEEDED:8,PG_GROUP:12,MC_ALL:15,FB_SUPPLIED:16,FB_APPLIED:32,FB_GROUP:48,VS_SUPPLIED:64,VS_APPLIED:128,VS_GROUP:192,OC_REQUESTED:1024,OC_SUCCEEDED:2048,OC_GROUP:3072,OF_SUPPLIED:4096,OF_APPLIED:8192,OF_GROUP:12288,OC_APPLIED:16384,MC_RESTARTED:32768,X_REQUESTED:65536,X_ACTIVATED:131072,X_LOADED:262144,X_GROUP:458752,A_REQUESTED:1048576,A_ACTIVATED:2097152,A_GROUP:3145728,TERMINAL:1073741824},i.StateStrings="Multicast was requested;Multicast succeeded;Program Guide was requested;Program Guide succeeded;Fallback was supplied;Fallback was applied;VDMS Fallback was supplied;VDMS Fallback was applied;;;OmniCache was requested;OmniCache succeeded;OmniCache-specific Fallback was supplied;OmniCache-specific Fallback was applied;OmniCache was applied as source;Multicast was restarted;External service requested;External service activated;External service loaded;;Analytics service requested;Analytics service activated;;;;;;;;;Marked as terminal;".split(";"),i.Defaults={verbose:!1,debug:!1,title:"",selector:"",source:"",allowFallback:!1,allowVdmsFallback:!1,vdmsServers:"",fallbackUrl:"",fallbackType:"",omnicacheFallbackUrl:"",omnicacheFallbackType:"",allowXOC:!1,extern:null,enableBuffering:!1,analyticsUrl:"guide",analyticsSrc:"",brokerSrc:"",analyticsOptions:{brokerSrc:void 0,url:void 0,src:void 0,verbose:void 0,debug:void 0,intervalMs:15e3,limit:1,stopOnLimit:!1,ifxTimeoutMs:5e3,algorithm:"random"},allowManifestUpdate:!1,options:{stripBaseURL:!1,fixHLSEscaping:!1,removeHLSEscaping:!1,publishTime:!1,segments:0,offsetMs:0,ASToffsetMs:0,ASTstr:"",TSBDsec:0,TSBoffsetMs:0,ATOsec:0,minUPsec:0,useBufferTimeMs:0,xmlns:!1,location:!1,loadDelayMs:0,override404:!1,fragmentDelayMs:0},noFetch:!1,player:null},(r=e.currentScript)&&r.el){let t,e,n;var s={debug:!0,verbose:!0,noFetch:!0};for(n in s)s=new RegExp("(?:^|&)(!?"+n+")(?:&|$)"),e=r.el.getAttribute("data-"+n),"string"==typeof e?(t=!0,e="true"===e||""===e):r.params&&("object"==typeof r.params&&(t=n in r.params)?e=!!r.params[n]:"string"==typeof r.params&&(t=r.params.match(s))&&(e=t[1]===n)),t&&(i.Defaults[n]=e)}i.GetDefaults=function(e,r,n,s){return r={i_param:t.Receiver.assign({},i.Defaults,r),r_param:t.Receiver.assign({},t.Receiver.Settings,t.Receiver.Params,t.Receiver.Options,n),o_param:t.Receiver.assign({},t.OmniCacheInterface.Defaults,s)},e&&i.GetQueryParams(r,r,"object"==typeof e?e:void 0),r},i.GetQueryParams=function(r,n,s){var o;(r=r&&r.i_param?r:{}).i_param||(r.i_param={}),r.i_param.options||(r.i_param.options={}),r.i_param.analyticsOptions||(r.i_param.analyticsOptions={}),r.r_param||(r.r_param={}),r.o_param||(r.o_param={}),n=n||i.GetDefaults(!1),s=s||e.queryToObject(t.location.search.substring(1),!1);var a={limitStatus:"monitorStatus",omnicache:"o_uri",minTime0:"maxTime0Ms",minTime1:"maxTime1Ms",startPort:"port",receiverHost:"host"};for(o in s)if(o in a)switch(o){case"limitStatus":s[a[o]]=!s[o];break;case"minTime0":case"minTime1":s[a[o]]=1e3*("string"==typeof s[o]?parseInt(s[o]):s[o]);break;default:s[a[o]]=s[o]}for(o in s){if(a=o.match(/^([iro]_)/)){var l=o.substring(2);a=a[1]}else l=o;if(a&&"i_"!=a||!(l in n.i_param)||!(typeof s[o]==typeof n.i_param[l]||0<l.indexOf("allbackUrl")))if(a&&"i_"!=a||"onDone"!=l||"function"!=typeof s[o]){if((!a||"i_"==a)&&"extern"==l&&s[o]){if("object"==typeof s[o])var u=s[o];else if("string"==typeof s[o]){if(!(u=s[o]).match(/[^A-Za-z0-9/+=\s]/))try{u=atob(u)}catch(t){u=""}try{u=JSON.parse(u)}catch(t){u=null}}if(u){r.i_param.extern=u;continue}}a&&"r_"!=a||!(l in n.r_param)||typeof s[o]!=typeof n.r_param[l]?"maddr"!=l&&"multicastAddress"!=l||"number"!=typeof s[o]?"streamKey"==l&&!0===s[o]?r.r_param[l]=s[o]:a&&"o_"!=a||!(l in n.o_param)||typeof s[o]!=typeof n.o_param[l]?a&&"i_"!=a||!(l in n.i_param.options)?(!a||"i_"==a)&&l in n.i_param.analyticsOptions&&(r.i_param.analyticsOptions[l]=s[o]):r.i_param.options[l]=s[o]:r.o_param[l]=s[o]:r.r_param[l]=""+s[o]:r.r_param[l]=s[o]}else r.i_param.extraOnDone=s[o];else r.i_param[l]=s[o]}return r},i.prototype={setParams:function(r,n,s){var o,a=void 0===this.verbose,l=r||{};s=s||{},(a||void 0!==l.verbose&&l.verbose!==this.verbose)&&("function"==typeof l.verbose?(this.verbose=!0,this.logger=l.verbose):(this.verbose=!!l.verbose,this.logger=console.log.bind(console))),(a||"function"==typeof l.onPostRcvr&&l.onPostRcvr!==this.onPostRcvr)&&(this.onPostRcvr=l.onPostRcvr),(a||"function"==typeof l.onDone&&l.onDone!==this.onDone)&&(this.onDone=l.onDone),(a||"function"==typeof l.extraOnDone&&l.extraOnDone!==this.extraOnDone)&&(this.extraOnDone=l.extraOnDone);var u,c="debug allowFallback allowVdmsFallback allowXOC allowManifestUpdate enableBuffering noFetch".split(" "),h="fallbackUrl fallbackType vdmsServers omnicacheFallbackUrl omnicacheFallbackType extern analyticsUrl analyticsSrc brokerSrc title selector source player".split(" "),p={};for(o=c.length-1;0<=o;o--){var f=c[o];(a||f in l)&&(p[f]=void 0!==l[f]?!!l[f]:i.Defaults[f],p[f]===this[f]?delete p[f]:this[f]=p[f])}for(o=h.length-1;0<=o;o--)f=h[o],(a||f in l&&l[f]!==this[f])&&(p[f]="extern"==f&&void 0!==l[f]&&e.Extern&&(l[f].vendor||l[f].url)?this[f]=new e.Extern(l[f]):this[f]=void 0!==l[f]?l[f]:i.Defaults[f]);this.enableBuffering&&!this.buffering&&(this.buffering=new e.BufferTracker(null,this.debug)),this.extern&&(this.selector?(this.extern.selector=this.selector,this.extern.title=this.title):this.title?(this.extern.title=this.title,this.extern.selector=""):(this.title=this.extern.title,this.selector=this.extern.selector),this.source?this.extern.source=this.source:this.source=this.extern.source),this.selector&&(o=this.selector&&(u=document.querySelector(this.selector))&&u.textContent||"")&&(this.title=o,this.selector="",this.extern&&(this.extern.title=this.title,this.extern.selector="")),u=["url","src","brokerSrc"],h=["analyticsUrl","analyticsSrc","brokerSrc"];let d=this.analyticsOptions||(this.analyticsOptions={});for(a&&(d.rcvrP=new Promise((function(t,e){d.resolve=t,d.reject=e}))),p=0,f=1,c=l.analyticsOptions||{},o=0;o<u.length;o++)(a=void 0!==c[u[o]]?c[u[o]]||"":void 0!==l[h[o]]?l[h[o]]||"":this[h[o]])!==d[u[o]]&&(this[h[o]]=d[u[o]]=c[u[o]]=l[h[o]]=a,p|=f),f<<=1,d[u[o]]&&(p|=f),f<<=1;for(o in"boolean"==typeof c.verbose?d.verbose=!!c.verbose:"boolean"!=typeof d.verbose&&(d.verbose=!!this.verbose),"boolean"==typeof c.debug?d.debug=!!c.debug:"boolean"!=typeof d.debug&&(d.debug=!!this.debug),u=["intervalMs","limit","stopOnLimit","ifxTimeout","algorithm"])typeof c[u[o]]==typeof i.Defaults.analyticsOptions[u[o]]&&(d[u[o]]=c[u[o]]);this.analytics&&(16&p||!(32&p||!(1&p)&&2&p))&&(this.buffering&&this.buffering.removeCallback(this.analytics.bc),this.analytics.destroy(),delete this.analytics,this.analytics=null,this.rcvr&&(this.rcvr.uuid=null),this.omnicache&&(this.omnicache.uuid=null),s.analytics=!1),!this.analytics&&(32&p||2&p)&&(this.analytics=new e.Analytics(d),this.buffering||(this.buffering=new e.BufferTracker(null,this.debug)),this.analytics.bc=this.onBuffering.bind(this),this.buffering.addCallback(this.analytics.bc),this.manifestURL||e.Manifest(this,this.options),this.rcvr&&(this.rcvr.uuid=this.uuid),this.omnicache&&(this.omnicache.uuid=this.uuid),s.analytics=!0),l=this.allowFallback&&this.fallbackUrl?i.State.FB_SUPPLIED:0,this.state=this.state&~i.State.FB_GROUP|l,this.vdmsServers&&("string"==typeof this.vdmsServers&&(this.vdmsServers=this.vdmsServers.split(","),this.allowVdmsFallback=!0),Array.isArray(this.vdmsServers)&&0!=this.vdmsServers.length||(this.vdmsServers=null,this.allowVdmsFallback=!1)),l=this.allowVdmsFallback&&this.vdmsServers?i.State.VS_SUPPLIED:0,this.state=this.state&~i.State.VS_GROUP|l,l=this.allowFallback&&this.omnicacheFallbackUrl?i.State.OF_SUPPLIED:0,this.state=this.state&~i.State.OF_GROUP|l,l=this.extern&&"key"in this.extern?i.State.X_REQUESTED:(this.extern=null,0),this.state=this.state&~i.State.X_GROUP|l,t.Receiver.assign(this.param,n),"function"!=typeof n.onDone&&null!==n.onDone||(this.onRcvrDone=n.onDone),this.param.onDone=this.onDoneIntercept.bind(this),"function"!=typeof n.onReady&&null!==n.onReady||(this.onRcvrReady=n.onReady),this.param.onReady=this.onReadyIntercept.bind(this),"function"!=typeof n.onPGReady&&null!==n.onPGReady||(this.onRcvrPGReady=n.onPGReady),this.param.onPGReady=this.onPGReadyIntercept.bind(this),"function"!=typeof n.onStateChange&&null!==n.onStateChange||(this.onRcvrStateChange=n.onStateChange),this.param.onStateChange=this.onStateChangeIntercept.bind(this),"function"!=typeof n.onStatus&&null!==n.onStatus||(this.onRcvrStatus=n.onStatus),this.param.onStatus=this.onStatusIntercept.bind(this),l="-1"==(l=0===this.param.maddr?"0":this.param.maddr||this.param.multicastAddress||"-1")?0:"0"==l?i.State.PG_REQUESTED:i.State.MC_REQUESTED,this.state=this.state&~i.State.MC_ALL|l,!this.manifestURL&&(r&&r.allowManifestUpdate||this.analytics)?e.Manifest(this,r.options):this.allowManifestUpdate&&r&&r.options&&(this.options=r.options),this.setOmniCache(s)},statusUpdate:function(t){this.rcvr&&this.rcvr.statusUpdate(t)},fullStatus:function(t,e,r){this.rcvr?this.rcvr.fullStatus(t,e,r):(r&&r(),t&&t())},init:function(){this.rcvr?this.rcvr.setParams(this.param,!0)||this.rcvr.start():(this.rcvr=new t.Receiver(this.param),this.analytics||(this.rcvr.uuid=null),this.analyticsOptions&&this.analyticsOptions.resolve&&this.analyticsOptions.resolve(this.rcvr.url))},setOmniCache:function(e){var r=!1;return t.Receiver.assign(this.ocParams,e),this.state=this.state&~i.State.OC_GROUP|(this.ocParams.uri?i.State.OC_REQUESTED:0),this.state&=~i.State.OC_APPLIED,"function"!=typeof e.onDone&&null!==e.onDone||(this.onOCDone=e.onDone),this.ocParams.onDone=this.onOCDoneIntercept.bind(this),"function"!=typeof e.onStateChange&&null!==e.onStateChange||(this.onOCStateChange=e.onStateChange),this.ocParams.onStateChange=this.onOCStateChangeIntercept.bind(this),this.omnicache?this.omnicache.setParams(this.ocParams)?r=!0:this.init():this.ocParams.uri&&"OmniCacheInterface"in t?(this.omnicache=new t.OmniCacheInterface(this.ocParams),r=!0):this.onOCDoneIntercept(),r},onOCDoneIntercept:function(t,e){(this.ocReady=!(!t||!t.uri))?(this.analytics||(t.uuid=null),this.state|=i.State.OC_SUCCEEDED):this.state&=~i.State.OC_SUCCEEDED,this.onOCDone&&this.onOCDone(t,e),t&&!t.firstPass||(t&&(t.firstPass=!1),this.init())},onOCStateChangeIntercept:function(t,e){t.status||(t.firstPass=!0),this.onOCStateChange&&this.onOCStateChange(t,e)},onDoneIntercept:function(t,r){this.rcvr||(this.rcvr=t),5>r.state&&"maddr"!=r.reason&&!(this.state&i.State.MC_REQUESTED)&&(this.state|=i.State.MC_REQUESTED),this.onRcvrDone&&this.onRcvrDone(t,r),this.onPostRcvr&&this.onPostRcvr(this,r);var n=5==r.state&&t.streamKey&&("empty"==r.reason||"program"==r.reason);(n="fail"==r.action||"guide"==r.action&&("config"==r.reason||"receiver"==r.reason||n))&&this.allowFallback?this.fallbackProtocol(this.allowFallback,this.allowVdmsFallback):(n&&this.setAnalytics({source:0,sourceURL:null,sourceFormat:null,effectiveManifestUrl:null,eventName:this.title,receiverGuid:this.receiverGuid,pluginLoadGuid:e.RampSDK.replace(/^\d+_/,""),pluginLocalIp:this.omnicache&&this.omnicache.resp&&this.omnicache.resp.Ip,eventId:t.program&&t.program.eventHistoryId?t.program.eventHistoryId:"",programId:t.program&&t.program.guid?t.program.guid:""}),this.obj=r,this.onDoneCall(r))},setEvent:function(t){var r=t||{};if(this.infra||(this.infra=t.infra||"RampSDK"),!this.eventType)switch(this.eventType="unknown_event_type",this.infra[0]){case"M":this.eventType=0<this.infra.indexOf("Teams")?"microsoft_teams":"microsoft_stream";break;case"R":this.eventType="multicast"}if(!this.title)if(this.selector)setTimeout(this.checkTitleSelector.bind(this,3,r),1e3);else if(r.friendlyName)this.title=r.friendlyName.replace(/; Altimeter.*/,"");else{let n,i;switch(t="unknown",this.manifest&&"boolean"==typeof this.manifest.isDynamic?t=this.manifest.isDynamic?"live":"vod":r.uri&&"string"==typeof r.uri.type&&(t="static"==r.uri.type?"vod":"live"),typeof r.uri){case"string":i=r.uri;break;case"object":Array.isArray(r.uri)?(i=r.uri[0],i.src&&(i=i.src)):r.uri&&(i=r.uri.src),"string"!=typeof i&&(i="")}r="M"===this.infra[0]&&i&&(n=i.match(/([0-9a-f-]+)\/([0-9a-f-]+)\.ism/))?n[1].slice(-4)+"-"+n[2].slice(-4):e.UUID.Uuid.slice(-4)+"-"+e.RampSDK.slice(-4),this.title=this.infra+"-"+t+"-"+r}},checkTitleSelector:function(t,e){if(t--,!this.title){if(this.selector){let t=document.querySelector(this.selector);t&&(this.title=t.textContent)}this.title||0>=t?(this.selector="",this.title||this.setEvent(e),this.setAnalytics({"?eventName":this.title,eventType:this.eventType}),this.extern&&(this.extern.title=this.title,this.extern.setAction&&this.extern.setAction()),e&&e.callback&&e.callback(this.title)):setTimeout(this.checkTitleSelector.bind(this,t,e),1e3)}},onReadyIntercept:function(t,r,n){let s=t.program||{};this.setEvent(s),r=this.setAnalytics({source:r?"receiver":"unknown_stream_type",sourceURL:r,sourceFormat:n,"?manifestUrl":s.uri||"",effectiveManifestUrl:r,"?eventName":this.title,eventType:this.eventType,receiverGuid:this.receiverGuid,pluginLoadGuid:e.RampSDK.replace(/^\d+_/,""),pluginLocalIp:this.omnicache&&this.omnicache.resp&&this.omnicache.resp.Ip,eventId:s.eventHistoryId||"",programId:s.guid||""})||r,this.state=this.state|i.State.MC_SUCCEEDED|i.State.MC_REQUESTED,this.onRcvrReady&&this.onRcvrReady(t,r,n)},onPGReadyIntercept:function(t,e){"success"!=e.reason&&"empty"!=e.reason||(this.state|=i.State.PG_SUCCEEDED),!e.resp||!e.resp.guid||this.receiverGuid&&e.resp.guid===this.receiverGuid||e.resp.guid==i.uuid||(this.receiverGuid=e.resp.guid,this.setAnalytics("receiverGuid",e.resp.guid)),this.onRcvrPGReady&&this.onRcvrPGReady(t,e)},onStateChangeIntercept:function(t,e){this.rcvr||(this.rcvr=t),2==e.state&&this.state&i.State.MC_SUCCEEDED&&(this.state|=i.State.MC_RESTARTED,this.state&=~i.State.MC_SUCCEEDED),this.onRcvrStateChange&&this.onRcvrStateChange(t,e)},onStatusIntercept:function(t,e){this.rcvr||(this.rcvr=t),!e.resp||!e.resp.guid||this.receiverGuid&&e.resp.guid===this.receiverGuid||e.resp.guid==i.uuid||(this.receiverGuid=e.resp.guid,this.setAnalytics("receiverGuid",e.resp.guid)),this._options&&(e.addrEntry?(this._options.dvrDurationMs=e.addrEntry.dvrDurationMs,this._options.millisecondsInPlaylist=e.addrEntry.millisecondsInPlaylist):this._options.dvrDurationMs=this._options.millisecondsInPlaylist=0),this.onRcvrStatus&&this.onRcvrStatus(t,e)},fallbackProtocol:function(e,r){if(e){if(e={state:6,action:"fallback",reason:void 0,origUrl:void 0,url:void 0,type:void 0},this.ocReady&&this.omnicacheFallbackUrl)e.url=e.origUrl=this.omnicacheFallbackUrl,e.type=this.omnicacheFallbackType,e.reason="omnicache",this.state|=i.State.OF_APPLIED;else{if(r&&this.vdmsServers&&this.attemptVdmsFallback())return void(e.reason="vdms");e.url=e.origUrl=this.fallbackUrl,e.type=this.fallbackType,e.reason="direct",e.url&&(this.state|=i.State.FB_APPLIED)}e.source="unknown_stream_type",e.url&&(this.ocReady?(e.source="omnicache",e.origUrl=e.url,e.url=this.omnicache.rewrite(e.url,!0),e.url&&(this.state|=i.State.OC_APPLIED)):e.source="direct"),this.obj=e,this.extern&&(this.extern.url||this.extern.vendor)?this.ocReady&&!this.allowXOC||!t.ElementLoader?this.externLoadFinish(e):(this.state|=i.State.X_ACTIVATED,this.extern.loaded?this.externLoadListener({data:e},!0,!0):(r=this.extern._instance=new t.ElementLoader,this.extern._data=r.data=e,this.extern.preLoadAction&&this.extern.preLoadAction("rcvrInterface",e.origUrl,this.player),r.load(this.extern.url,{data:this.extern,callback:this.externLoadListener.bind(this),key:this.extern.key,player:this.player}))):this.externLoadFinish(e)}},attemptVdmsFallback:function(){var e=!1;if(Array.isArray(this.vdmsServers)&&this.vdmsServers.length){e=this.vdmsServers[Math.floor(Math.random()*this.vdmsServers.length)].replace(/[/]*$/,"/rest/services/getunicast?multicastAddress="+this.param.multicastAddress);var r=new t.XMLHttpRequest;r.addEventListener("readystatechange",this.attemptVdmsListener.bind(this),!1),r.open("get",e,!0),r.send(null),e=!0}return e},attemptVdmsListener:function(e){if(4==(e=e.target).readyState&&200==e.status){try{var r=JSON.parse(e.response);"string"==typeof r&&(r=JSON.parse(r))}catch(t){}r&&r.sourceUri?(this.state|=i.State.VS_APPLIED,this.vdmsFallbackUrl=r.sourceUri,e={state:6,action:"fallback",reason:"vdms",origUrl:r.sourceUri,url:r.sourceUri,resp:r,type:r.sourceFormat},this.ocReady&&(this.state|=i.State.OC_APPLIED,r.sourceUri=e.url=this.omnicache.rewrite(r.sourceUri,!0)),this.extern&&(!this.ocReady||this.allowXOC)&&t.ElementLoader?(this.state|=i.State.X_ACTIVATED,this.extern.loaded?this.externLoadListener({data:e},!0,!0):(r=this.extern._instance=new t.ElementLoader,this.extern._data=r.data=e,this.extern.preLoadAction&&this.extern.preLoadAction("rcvrInterface",e.origUrl,this.player),r.load(this.extern.url,{data:this.extern,callback:this.externLoadListener.bind(this),key:this.extern.key,player:this.player}))):this.externLoadListener({data:e},!1)):this.fallbackProtocol(!0,!1)}},interpretResponse:function(e){if(e&&0<=e.state)if(e.state<t.Receiver.states.length)var r=this.rcvr.interpretResponse(e);else r=(r=i.states[e.state-t.Receiver.states.length])[e.action]&&r[e.action][e.reason.replace(/ .*/,"")]||"";return r},interpretState:function(t){var e="",r=i.State;return t||(t=this.rcvr&&this.rcvr.obj||{}),this.state&r.MC_REQUESTED?(e+="Multicast was requested for "+this.rcvr.params.multicastAddress+".\nMulticast "+(this.state&r.MC_SUCCEEDED?"succeeded.\n":"failed ("+t.reason+").\n"),this.state&r.MC_RESTARTED&&(e+="Multicast was restarted.\n")):e+="Multicast was not requested.\n",e=this.state&r.PG_REQUESTED?e+"Program Guide was requested.\nProgram Guide "+(this.state&r.PG_SUCCEEDED?"empty"==t.reason?"is empty\n":"succeeded.\n":"failed ("+t.reason+").\n"):e+"Program Guide was not requested.\n",this.state&r.FB_SUPPLIED?(e+="Fallback was allowed and supplied. ("+this.fallbackUrl+").\n",e=this.state&r.FB_APPLIED?e+"Fallback was applied as source"+(this.state&r.OC_APPLIED?" via OmniCache":"")+".\n":e+"Fallback was not applied as source.\n"):e+="Fallback was "+(this.allowFallback?"allowed but not supplied":"not allowed")+".\n",this.state&r.VS_SUPPLIED?(e+="VDMS fallback was allowed and supplied ("+this.vdmsFallbackUrl+").\n",e=this.state&r.VS_APPLIED?e+"VDMS fallback was applied as source"+(this.state&r.OC_APPLIED?" via OmniCache":"")+".\n":e+"VDMS fallback was not applied as source.\n"):e+="VDMS fallback was "+(this.allowVdmsFallback?"allowed but not supplied":"not allowed")+".\n",this.state&r.OC_REQUESTED?(e+="OmniCache was requested ("+this.ocParams.uri+").\nOmniCache "+(this.state&r.OC_SUCCEEDED?"was":"was not")+" detected.\n",this.state&r.OC_APPLIED&&(e+="OmniCache rewrite was applied.\n")):e+="OmniCache was not requested.\n",this.state&r.OF_SUPPLIED?(e+="OmniCache-specific Fallback was allowed and supplied. ("+this.omnicacheFallbackUrl+")\n",e=this.state&r.OF_APPLIED?e+"OmniCache-specific Fallback was applied as source"+(this.state&r.OC_APPLIED?" via OmniCache":"")+".\n":e+"OmniCache-specific Fallback was not applied as source.\n"):e+="OmniCache-specific Fallback was "+(this.allowFallback?"allowed but not supplied":"not allowed")+".\n",this.state&r.X_REQUESTED&&(e+=i.StateStrings[16]+"\n",this.state&r.X_ACTIVATED&&(e+=i.StateStrings[17]+"\n",this.state&r.X_LOADED&&(e+=i.StateStrings[18]+"\n"))),this.state&r.TERMINAL?e+"Marked as terminal because "+this.terminal:e+"Not marked as terminal"},interpretStateBrief:function(t){for(var e="",r=0,n=t?t^this.state:this.state,s=1;n;){for(;!(1&n);)r++,n>>=1,s<<=1;e+=(t?s&t?"Expected ":"Unexpected ":"")+"["+r+"] (0x"+(1<<r).toString(16)+") "+i.StateStrings[r]+"\n",n>>=1,s<<=1,r++}return e},onDoneCall:function(t){let e=i.State,r="";0==(this.state&~e.TERMINAL)?r="nothing requested":this.state&(e.FB_APPLIED|e.OF_APPLIED)?r="fallback applied":0==(this.state&(e.MC_SUCCEEDED|e.OC_SUCCEEDED|e.PG_SUCCEEDED))?r="all requests failed without fallback":(this.state&(e.MC_REQUESTED|e.PG_REQUESTED))==e.PG_REQUESTED?r="no program guide or no multicast":this.state&e.MC_SUCCEEDED&&!this.rcvr.options.monitorStatus?r="multicast without monitoring":this.state&e.MC_SUCCEEDED&&t&&"zero"==t.reason?r="multicast stalled or ended":t&&4>t.state&&"fail"==t.action?r="multicast failed or ended without fallback":(this.state&e.OC_GROUP)==e.OC_GROUP&&t&&!t.url&&(r="omnicache without multicast or fallback"),r&&(t||(t={}),t.terminal=r,this.state|=e.TERMINAL,this.terminal+=(this.terminal?", ":"")+r),this.verbose&&this.logger(this.name,"ONDONECALL","0x"+this.state.toString(16),this.debug?JSON.stringify(t,null,"  "):t),this.onDone&&this.onDone(this,t),this.extraOnDone&&this.extraOnDone(this,t)},externLoadListener:function(t,e,r){var n,s=this.extern||{};e&&r&&(this.state|=i.State.X_LOADED),s.loadAction&&!(n=s.loadAction("rcvrInterface"))||s.base&&(s.base[s.isSupportedF]&&!s.base[s.isSupportedF]()||s.base[s.isEnabledF]&&!s.base[s.isEnabledF]())?(s.failedLoadAction&&s.failedLoadAction("rcvrInterface",t),s.key=""):(this.verbose&&this.logger(this.name,s.name+" ("+s.root+"):",s.verbose&&s.base&&s.base[s.getStatsF]&&s.base[s.getStatsF]()),s.base&&s.overlay&&s.base[s.overlayF]&&s.base[s.overlayF](),t.data.source="omnicache"==t.data.source?"omnicache_p2p":"p2p"),n&&n instanceof Promise?n.then(this.externLoadFinish.bind(this,t.data)):this.externLoadFinish(t.data)},externLoadFinish:function(t){this.obj=t||{},this.onRcvrStateChange&&this.onRcvrStateChange(this,this.obj),this.obj.url=this.setAnalytics({source:this.obj.url?this.obj.source:0,sourceURL:this.obj.url,sourceFormat:null,"?manifestUrl":this.obj.origUrl,effectiveManifestUrl:this.obj.url,"?eventName":this.title,eventType:this.eventType,receiverGuid:this.receiverGuid,pluginLoadGuid:e.RampSDK.replace(/^\d+_/,""),pluginLocalIp:this.omnicache&&this.omnicache.resp&&this.omnicache.resp.Ip})||this.obj.url,this.obj.url&&this.onRcvrReady&&this.onRcvrReady(this,this.obj.url,this.obj.type),this.onDoneCall(this.obj)},setAnalytics:function(t,e){let r,s=t;if("string"==typeof t&&(s={},s[t]=e),this.analytics)this.analytics.applyValue(t,e);else if(!this.allowManifestUpdate||"receiver"!==s.source&&!this.manifest.url)return r;if("source"in s){if(t=!this.analytics&&this.allowManifestUpdate&&"receiver"!=s.source&&this.manifest.url,n.hostPath.removeHostsByTag("rifc"),this.manifestURL)for(;this.manifestURL.length;)URL.revokeObjectURL(this.manifestURL.shift());let o;if(e="start",t)this.manifest.url=this.manifest.format=this.manifest.uuid="",this.manifest.source=null,this.manifest.firstPass=!1;else{if(this.manifest.url=s.sourceURL,Array.isArray(s.sourceURL)){this.manifest.url=[];for(let t=0;t<s.sourceURL.length;t++)this.manifest.url.push(s.sourceURL[t].src)}else this.manifest.url=s.sourceURL;this.manifest.format=s.sourceFormat,this.manifest.source=s.source,this.manifest.firstPass=!0}switch(s.source){case 0:case"unknown_stream_type":this.manifest.url=this.manifest.format=this.manifest.uuid="",e="stop";break;case 1:case"receiver":o="receiver",this.manifest.prvTSBD=0,this.manifest.uuid=this.uuid;break;case 2:case"omnicache":o="omnicache",this.manifest.uuid=this.ocReady&&this.omnicache.uuid;break;case 3:case"p2p":o="p2p",this.manifest.uuid=this.ocReady&&this.allowXOC?this.omnicache.uuid:"";break;case 4:case"direct":o="direct";break;case 5:case"omnicache_p2p":o="p2poc",this.manifest.uuid=this.ocReady&&this.allowXOC?this.omnicache.uuid:""}this.analytics&&e in this.analytics&&this.analytics[e](),!t&&o&&(t=null,this.analytics&&this.manifest.uuid&&((t={})[i.UUIDHeader]=this.manifest.uuid),r=n.addTrigger(s.sourceURL,o),this.boundAbsListener=this.absoluteListener.bind(this),this.triggerHeaders=t,n.hostPath.addHostHandler("//*/*",{tag:"rifc",callback:this.triggerListener.bind(this),headers:t}))}return r},onBuffering:function(t){if(t)switch(t.type){case"bufferingstart":this.setAnalytics("bufferingEvents",1);break;case"bitratechanged":this.setAnalytics("bitrate",t.bitrate)}}},i.states=[{core:"fallback",fallback:{vdms:"using Altimeter-configured fallback source",direct:"using directly-configured fallback source",omnicache:"using OmniCache-specific fallback source"}}]}(this.GlobalCTX),function(t){let e=t.Util||(t.Util={}),r=e.XHRIntercept;e.Manifest=function(n,i){Object.defineProperties(n,{_options:{enumerable:!0,writable:!0,value:{}},options:{set:function(t){if(t=t||{},r&&(t.allowManifestUpdate||this.allowManifestUpdate)){this.allowManifestUpdate=!0,t.debug=t.debug||this.debug;let e,r={segments:1,offsetMs:1,ASTstr:"",ASToffsetMs:1,minUPsec:1,TSBDsec:2,TSBoffsetMs:1,ATOsec:2,useBufferTimeMs:1,manifest:!0,backFill:!0,xmlns:!0,publishTime:"1",location:"1",debug:!0,loadDelayMs:1,override404:!0,fragmentDelayMs:1,stripBaseURL:!0,fixHLSEscaping:!0,removeHLSEscaping:!0},n=this._options;for(e in r)e in t&&(n[e]=t[e]),n[e]&&1===r[e]&&"number"!=typeof n[e]?"string"==typeof n[e]?(n[e]=parseInt(n[e]),isNaN(n[e])&&(n[e]=0)):n[e]=0:n[e]&&2===r[e]&&"number"!=typeof n[e]&&("string"==typeof n[e]?(n[e]=parseFloat(n[e]),isNaN(n[e])&&(n[e]=0)):n[e]=0);"number"!=typeof n.segments&&(n.segments=0),n.backFill&&!n.manifest&&(n.manifest=!0)}else this.allowManifestUpdate=!1},get:function(){return this._options}},triggerListener:{value:function(t,r,n){var i=t._member;let s=this;if(t.triggered){if(this.manifest.firstPass){let t,e=Array.isArray(this.manifest.url)?this.manifest.url:[this.manifest.url];for(t=e.length-1;0<=t&&!(0<=i.url.indexOf(e[t]));t--);if(0>t)return;this.manifest.url=i.url}if("send"==r)"readystatechange"in t._member.events||t.addEventListener("readystatechange",null,!1),"loadend"in t._member.events||t.addEventListener("loadend",null,!1);else if("event"==r)if("readystatechange"==n.type){if(4==t.readyState)if(200==t.status){let r={url:t._member.url,format:this.manifest.format,type:t.getResponseHeader("content-type"),source:t.response,responseType:t.responseType||"text",size:parseInt(t.getResponseHeader("content-length")||"0"),bytes:0};var o={text:"length",arraybuffer:"byteLength",blob:"size"};if(r.responseType in o&&(r.bytes=t.response[o[r.responseType]]),this.setAnalytics("bytesReceived",r.bytes||r.size),o=this.detect(r)){let n=i.async={};n.p=new e.XPromise((function(t,e){n.resolve=t,n.reject=e})),n.p.then((function(i){r.async.p.then((function(r){r&&(t.responseType&&"text"!=t.responseType?"arraybuffer"==t.responseType&&(t.response=e.StringToUTF8(r).buffer,t.responseText=null):t.response=t.responseText=r),setTimeout((function(){s.eventDelay(t,{type:"readystatechange"}),s.eventDelay(t,{type:"load",lengthComputable:n.lengthComputable,loaded:n.loaded,total:n.total}),s.eventDelay(t,{type:"loadend",lengthComputable:n.lengthComputable,loaded:n.loaded,total:n.total})}),10)}))}))}}else 404==t.status&&this.allowManifestUpdate&&"receiver"==this.manifest.source&&this.options.override404&&0<=i.url.indexOf("Fragments")&&(r=i.url.match(/(Fragments\([^=]+)=(\d+)/))&&i.url!=this.manifest.last404Override[r[1]]&&(this.manifest.last404Override[r[1]]=i.url,t.status=412)}else"loadend"==n.type?i.async&&!i.redispatched&&(o=!0,i.async.loaded=n.loaded,i.async.total=n.total,i.async.lengthComputable=n.lengthComputable,i.async.resolve()):"load"==n.type&&i.async&&!i.redispatched&&(o=!0);else"fetch response"==r&&(200==n.status?(i={url:i.url,format:this.manifest.format,type:n.headers.get("content-type"),source:n},o=this.detect(i)):404==n.status&&this.allowManifestUpdate&&"receiver"==this.manifest.source&&this.options.override404&&0<=i.url.indexOf("Fragments")&&(r=i.url.match(/(Fragments\([^=]+)=(\d+)/))&&i.url!=this.manifest.last404Override[r[1]]&&(this.manifest.last404Override[r[1]]=i.url,t.status=412));return o}i.allowInternalHeaders=!1}},detect:{value:function(r){let n,i=this,s=r||{};r=!1;let o=10;if(s.source&&"string"!=typeof s.source&&"object"==typeof s.source)if(s.source instanceof ArrayBuffer)s.source=new Uint8Array(s.source);else if(ArrayBuffer.isView(s.source))s.source=1==s.source.BYTES_PER_ELEMENT?s.source:new Uint8Array(s.source.buffer);else if(s.source instanceof Blob)if(s.async={},s.async.p=new e.XPromise((function(t,e){s.async.resolve=t,s.async.reject=e})),n=r=!0,s.source.type&&0>s.source.type.indexOf("text/plain")&&(s.type=s.source.type),s.source.arrayBuffer)s.source.arrayBuffer().then((function(t){s.source=new Uint8Array(t),i.detectPhase2(s)}));else{let t=new FileReader;t.addEventListener("loadend",(function(e){s.source=new Uint8Array(t.result),i.detectPhase2(s)})),t.readAsArrayBuffer(s.source)}else"Response"in t&&s.source instanceof Response&&(r=!0,n=new e.ResponseOverlay(s),n._member.text=function(){return s.text().then((function(t){return s.source=t,i.detectPhase2(s),t}))},n._member.arrayBuffer=function(){return s.arrayBuffer().then((function(t){return s.source=new Uint8Array(t),i.detectPhase2(s),t}))},n._member.blob=function(){return s.blob().then((function(t){return t}))});return this.allowManifestUpdate&&"receiver"==this.manifest.source&&(s.async=!0,this.options.loadDelayMs&&(o=this.options.loadDelayMs)),r||s.async?!0===s.async&&(s.async={},s.async.p=new e.XPromise((function(t,e){s.async.resolve=t,s.async.reject=e})),setTimeout(this.detectPhase2.bind(this,s),o),n=!0):n=this.detectPhase2(s),n}},detectPhase2:{value:function(t){let e;var n;let i=t.source.substring(0,1024);switch(0==i.search(/^#\s*EXTM3U/)?t.format="hls":(n=i.match(/<(MPD|SmoothStreamingMedia)(?:\s|>)/))?t.format="MPD"==n[1]?"dash":"sstr":t.format="other",!this.manifest.firstPass&&this.manifest.format||(this.manifest.format=t.format),t.format){case"hls":for(e=this.parseHLS(t.source),n=0;n<this.manifest.absolute.length;n++)r.hostPath.addHostHandler(this.manifest.absolute[n],{tag:"rifc",headers:this.triggerHeaders,callback:this.boundAbsListener});this.manifest.absolute=[];break;case"dash":for(e=this.parseDASH(t.source),n=0;n<this.manifest.absolute.length;n++)r.hostPath.addHostHandler(this.manifest.absolute[n],{tag:"rifc",headers:this.triggerHeaders,callback:this.boundAbsListener});this.manifest.absolute=[];break;case"sstr":e=0}return this.manifest.firstPass=!1,t.async&&t.async.resolve(e),e}},absoluteListener:{value:function(t,e,r){return"omnicache"!==this.manifest.source||t._member.url.match(/\/http(?:s|https)?\//),t._member.triggered=!0,this.triggerListener(t,e,r)}},parseHLS:{value:function(t){function e(e){return 0<=(e=t.indexOf("\n",e))&&e++,e}let r,n={EXTM3U:1,"EXT-X-VERSION":1,"EXT-X-INDEPENDENT-SEGMENTS":1,"EXT-X-START":1,"EXT-X-DEFINE":1,"EXT-X-MEDIA":2,"EXT-X-STREAM-INF":2,"EXT-X-I-FRAME-STREAM-INF":2,"EXT-X-SESSION-DATA":2,"EXT-X-SESSION-KEY":2},i=[],s="EXTM3U";var o;let a,l=0,u="dynamic";var c,h=e(0);let p="",f=this.allowManifestUpdate&&"receiver"==this.manifest.source,d=f&&this._options.fixHLSEscaping,g=f&&this._options.removeHLSEscaping,v=/\/[^/?]*(?:\?.*)?$/;for(;0<=h;){var m=null;if(a=e(h),"#"==(h=a<h?t.substring(h).trim():t.substring(h,a-1).trim())[0]){if((c=h.match(/^# *(EXT[-A-Z0-9]+)(?::(.*))?/))&&(m={tag:c[1]},s=c[1],r||((o=n[s])?2==o&&(r="master"):r="media"),"EXT-X-ENDLIST"===c[1]&&(u="static"),c[2])){let t;if(m.attr={},0>(o=c[2].split(","))[0].indexOf("="))m.attr[m.tag]=c[2];else for(c=0;c<o.length;c++)t=o[c].indexOf("="),t=[-1==t?m.tag:o[c].substring(0,t),o[c].substring(t+1)],m.attr[t[0]]=m.attr[t[0]]?m.attr[t[0]]+","+t[1]:t[1];m.attr.URI&&(d&&(o=m.attr.URI.replace(/-[2-7][0-9a-f]/g,(function(t){return String.fromCharCode(parseInt(t.substring(1),16))})),o!=m.attr.URI&&(m.attr.URI=o,m.updated=!0,l++)),m.attr.URI.match(/^(?:https?:)?\/\//)&&i.binaryInsert(m.attr.URI.replace(v,"/*"),this.compareURL.bind(this)))}}else h.length&&(g&&(m=h.replace(/-[2-7][0-9a-f]/g,(function(t){return String.fromCharCode(parseInt(t.substring(1),16))})),m!=h&&(h=m,l++)),m={tag:s,url:h},h.match(/^(?:https?:)?\/\//)&&i.binaryInsert(h.replace(v,"/*"),this.compareURL.bind(this)));f&&(p+=h),h=a}return this.manifest.absolute=i,this.manifest.isDynamic="dynamic"===u,l&&p}},parseDASH:{value:function(t){function e(t,e,r,i){(t=t?e.getAttribute(t):e.textContent)&&t.match(/^(?:https?:)?\/\//)&&(e=(t=t.replace(/\$\$/g,"$")).search(/\$[A-Za-z0-9%]+\$/),t=0<=e?t.substring(e)+"*":t.replace(s,"/*"),n.binaryInsert(t,this.compareURL.bind(this)))}let r,n=[],i=0,s=/\/[^/?]*(?:\?.*)?$/;this.allowManifestUpdate&&"receiver"==this.manifest.source?(this._options.location=this.manifest.url,t=this.parseManifest(t),i++):this.manifest.isDynamic=0<t.substring(0,1024).indexOf('type="dynamic"');try{r=new DOMParser;var o=r.parseFromString(t,"application/xml")}catch(t){}return o&&(o.querySelectorAll("BaseURL").forEach(e.bind(this,null)),i||o.querySelectorAll("Location").forEach(e.bind(this,null)),o.querySelectorAll("[sourceURL]").forEach(e.bind(this,"sourceURL")),(o=o.querySelectorAll("[media]")).forEach(e.bind(this,"media")),o.forEach(e.bind(this,"index")),o.forEach(e.bind(this,"initialization")),o.forEach(e.bind(this,"bitstreamSwitching"))),this.manifest.absolute=n,i&&t}},compareURL:{value:function(t,e){return t.localeCompare(e)}},manifestMod:{enumerable:!0,writable:!0,value:!1},triggerManifestMonitoring:{value:function(n,i){if(this.stopManifestMonitoring(),this.allowManifestUpdate&&!this.manifestMod){this.manifestMod=!0;let s=this.rcvr&&this.rcvr.url||"//*";if(r.hostPath.findPathsByTag("rcvrCtl").length||r.hostPath.addHostObserver(s+"/rme/*",{tag:"rcvrCtl"}),n&&i in{hls:1,dash:2}?(this.manifest.url=n,this.manifest.format=i,s=new e.URIMatch(n)):this.manifest.url=this.manifest.format=s="",s&&this.manifest.format&&(this._options.boundListener="dash"==this.manifest.format?this.listenForManifest.bind(this):this.listenForPlaylist.bind(this),r.hostPath.addHostHandler(s,{tag:"rifc"+this.index,callback:this._options.boundListener}),t.THEOplayer)){let e=this;t.THEOplayer.players.forEach((function(t){t.network.addResponseInterceptor(e.interceptor.bind(e))}))}}}},interceptor:{value:function(t){let e,r=t.body;200==t.status&&this.manifest.url&&"string"==typeof r&&("dash"==this.manifest.format&&0<=r.indexOf("<MPD")?e=this.parseManifest(r):"hls"==this.manifest.format&&0<=r.indexOf("#EXT")&&(e=this.parsePlaylist(r))),t.respondWith({body:e||r})}},stopManifestMonitoring:{value:function(){if(this.manifestMod)for(this.manifestMod=!1,this.manifest.url=this.manifest.format="",r.hostPath.removeHostsByTag("rifc"+this.index);this.manifestURL.length;)URL.revokeObjectURL(this.manifestURL.shift())}},manifestURL:{enumerable:!0,writable:!0,value:[]},listenForPlaylist:{value:function(t,n,i){let s,o=this;var a=t._member;let l=a.url&&0==a.url.indexOf(this.manifest.url);return"open"==n?t.addEventListener("loadend",(function(t){}),"false"):"send"!=n&&("event"==n?(n=i.target,a.redispatched||4!=n.readyState||200!=n.status||(t.handled?0<t.handled&&(s=!0,"loadend"==i.type&&(t.gotLoadEnd=!0)):(a=n.responseType&&"text"!=n.responseType?n.response:n.responseText,l||a&&"string"==typeof a&&0<=a.indexOf("#EXTM3U")?(t.handled=1,s=!0,"loadend"==i.type&&(t.gotLoadEnd=!0)):t.handled=-1),t.gotLoadEnd&&setTimeout(this.modifyPlaylist.bind(this,t),10))):"fetch"!=n&&"fetch response"==n&&200==i.status&&(s=new e.ResponseOverlay(i),(a=s._member).text=function(){return i.text().then((function(e){return t.responseText=e,l||0<=e.indexOf("#EXTM3U")?o.modifyPlaylist(t,!0):r.Promise.resolve(e)}))},a.arrayBuffer=function(){return i.text().then((function(e){return t.responseText=e,l||0<=e.indexOf("#EXTM3U")?o.modifyPlaylist(t,"arrayBuffer"):i.arrayBuffer()}))})),s}},modifyPlaylist:{value:function(t,n){let i=this,s=[],o=this.parsePlaylist(t.responseType&&"text"!=t.responseType?t.response:t.responseText,s);if(t.responseType="text",t.response=t.responseText=o,s.length){let n,i,o=new e.URIMatch(t._member.url),a="rifc"+this.index;for(i=o.path.match(/\/[^/]*$/),o.path=i?o.path.substring(0,i.index+1):"/*",n=0;n<s.length;n++)i=new e.URIMatch(s[n]),"*"==i.host&&(i.host=o.host,"/"!=i.path[0]&&(i.path=o.path+i.path.replace(/^\*/,"")),i=new e.URIMatch("//"+i.host+("/"==i.path[0]?"":"/")+i.path)),s[n]=i,r.hostPath.addHostHandler(i,{callback:this._options.boundListener,tag:a})}if(n)return r.Promise.resolve("arrayBuffer"==n?e.StringToUTF8(o).buffer:o);{let e=o.length;setTimeout((function(){i.eventDelay(t,{type:"readystatechange"}),i.eventDelay(t,{type:"load",lengthComputable:!0,loaded:e,total:e}),i.eventDelay(t,{type:"loadend",lengthComputable:!0,loaded:e,total:e})}),10)}}},parsePlaylist:{value:function(t,e){function r(t,e){return 0<=(t=t.indexOf("\n",e))&&t++,t}let n,i="";var s=0;let o,a;var l;let u;for(;0<=s;){if(o=r(t,s),"#"==(s=o<s?t.substring(s).trim():t.substring(s,o-1).trim())[0])if(l=s.match(/^# *(EXT[-A-Z0-9]+)(?::(.*))?/)){if(n={tag:l[1]},"EXT-X-STREAM-INF"==n.tag&&(u=!0),l[2]){n.attr={};var c=l[2].split(",");if(-1==c[0].indexOf("="))n.attr[n.tag]=l[2];else{for(a=0;a<c.length;a++)l=[-1==(l=c[a].indexOf("="))?n.tag:c[a].substring(0,l),c[a].substring(l+1)],n.attr[l[0]]=n.attr[l[0]]?n.attr[l[0]]+","+l[1]:l[1];this._options.fixHLSEscaping&&n.attr.URI&&(c=n.attr.URI.replace(/-[2-7][0-9a-f]/g,(function(t){return String.fromCharCode(parseInt(t.substring(1),16))})),c!=n.attr.URI&&(n.attr.URI=c,n.updated=!0))}}if(n.updated){for(a in s="#"+n.tag+":",c="",n.attr)s+=c,s=a==n.tag?s+n.attr[a]:s+(a+"=")+n.attr[a],c=",";this.debug&&console.log(s)}}else n=null;else s.length?(this._options.removeHLSEscaping&&(c=s.replace(/-[2-7][0-9a-f]/g,(function(t){return String.fromCharCode(parseInt(t.substring(1),16))})),c!=s&&(s=c,this.debug&&console.log(s))),this.debug&&(s+="?_=debug"),n.uri=s,u&&"EXT-X-STREAM-INF"==n.tag&&e&&e.push(s)):n=null;i+=s+"\n",s=o}return i}},listenForManifest:{value:function(t,n,i){let s,o=this,a=t._member,l=a.url&&0==a.url.indexOf(this.manifest.url);return"open"==n?t.addEventListener("loadend",(function(t){}),"false"):"send"!=n&&("event"==n?(n=i.target,a.redispatched||4!=n.readyState||200!=n.status||(t.handled?0<t.handled&&(s=!0,"loadend"==i.type&&(t.gotLoadEnd=!0)):l?(t.handled=1,s=!0,"loadend"==i.type&&(t.gotLoadEnd=!0)):t.handled=-1,t.gotLoadEnd&&setTimeout(this.modifyManifest.bind(this,t),10))):"fetch"!=n&&"fetch response"==n&&200==i.status&&(s=new e.ResponseOverlay(i),s.text=function(){return i.text().then((function(e){return t.responseText=e,l?o.modifyManifest(t,!0):r.Promise.resolve(e)}))},s.arrayBuffer=function(){return i.text().then((function(e){return t.responseText=e,l?o.modifyManifest(t,"arrayBuffer"):i.arrayBuffer()}))})),s}},modifyManifest:{value:function(t,e){let n=this;this._options.location=t._member.url;let i=this.parseManifest(t.responseType&&"text"!=t.responseType?t.response:t.responseText);if(e)return r.Promise.resolve("arrayBuffer"==e?this.string2UTF8(i).buffer:i);{t.responseType="text",t.response=t.responseText=i;let e=i.length;setTimeout((function(){n.eventDelay(t,{type:"readystatechange"}),n.eventDelay(t,{type:"load",lengthComputable:!0,loaded:e,total:e}),n.eventDelay(t,{type:"loadend",lengthComputable:!0,loaded:e,total:e})}),10)}}},fragmentDelay:{value:function(t){t._member.modifyPending=!1,t._member.stackHasSend&&t.clearStack()}},manifestDelay:{value:function(t){let e=new r.origXMLHttpRequest;e.xi=t,e.addEventListener("readystatechange",this.modifyManifest.bind(this),!1),e.open("get",t._member.url,!0),e.send(null)}},eventDelay:{value:function(t,e){t._member.redispatched=!0,e="readystatechange"==e.type?new Event(e.type):new ProgressEvent(e.type,{lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}),t.dispatchEvent(e)}},str2attr:{value:function(t,e){let r={tag:"",attr:{},first:e,next:e},n=t.indexOf("<",e),i=t.indexOf(">",n+1);if(n>=e&&i>n)for(r.first=n,e=t.substring(n+1,i).match(/\s([^=]+="[^"]*")/g)||[],r.tag=t.substring(n+1,t.indexOf(" ",n)),r.next=i+1,i=0;i<e.length;i++)0>(t=e[i].indexOf("="))&&(t=e[i].length),t=[e[i].substring(1,t),e[i].substring(t+1)],r.attr[t[0]]=t[1].substring(1,t[1].length-1);return r}},durationFromSeconds:{value:function(t){let e=t;if(0>t?(t="-P",e=-e):t="P",0<e){let r=Math.floor(e/86400);e-=86400*r,0<r&&(t+=r+"D"),0<e&&(t+="T"),r=Math.floor(e/3600),e-=3600*r,0<r&&(t+=r+"H"),r=Math.floor(e/60),e-=60*r,0<r&&(t+=r+"M"),0<e&&(t+=e+"S")}else t+="0S";return t}},parseDuration:{value:function(t){let e,r={error:0,sign:1,years:0,months:0,days:0,hours:0,minutes:0,seconds:0},n=0,i=0,s=-1,o=n>=t.length,a=0,l=[{c:89,f:"years"},{c:77,f:"months"},{c:68,f:"days"}],u=[{c:72,f:"hours"},{c:77,f:"minutes"},{c:83,f:"seconds"},{c:46,f:"wholeSeconds"},{c:83,f:"fractSeconds"}],c=l;for(;!o&&!r.error;){switch(e=t.charCodeAt(n),s){case-1:43==e?(r.sign=1,s=0,i++):45==e?(r.sign=-1,s=0,i++):80==e?(s=1,i++):r.error++;break;case 0:80==e?(s=1,c=l,i++):r.error++;break;default:if(48<=e&&57>=e)a=10*a+(e-48);else if(i==n)5>s&&84==e?(s=5,c=u,i++):r.error++;else{let l={c:0,f:""};for(;c.length&&e!=l.c;)l=c.shift(),s++;e==l.c?(r[l.f]="fractSeconds"==l.f?t.substring(i,n):a,a=0,i=n+1,o=83==e):r.error++}}n++,o=o||n>=t.length}return r.error||("wholeSeconds"in r&&(r.seconds=parseFloat(r.wholeSeconds+"."+r.fractSeconds)),r.time=60*(24*r.days+60*r.hours+r.minutes)+r.seconds,0>r.sign&&(r.time=-r.time)),r}},parseManifest:{value:function(t){let e=this._options||{};var r=!1,n=0;let i,s,o,a=!1,l="";var u=t.indexOf("<MPD ",n);if(0<=u){var c=this.str2attr(t,u);if(this.manifest.isDynamic="dynamic"===c.attr.type,e.publishTime||e.location||e.segments){if(l+=t.substring(n,c.next),n=c.next,e.publishTime){var h="number"==typeof e.publishTime?e.publishTime:0,p=' publishTime="'+(h=new Date(Date.now()+h).toISOString())+'"';e.debug&&console.log("SS old publishTime",c.attr.publishTime,"\nSS new publishTime",h),l=l.replace(/ publishTime="[^"]*"/,p)}var f="availabilityStartTime";c.attr[f]&&(e.ASTstr?p=e.ASTstr:e.ASToffsetMs?(o=c.attr[f]=new Date(c.attr[f]),e.debug&&console.log("SS old "+f,o.toISOString()),o.setTime(o.getTime()+e.ASToffsetMs),p=o.toISOString()):p="",p&&(e.debug&&console.log("SS new "+f,p),l=l.replace(/( availabilityStartTime=")[^"]+"/,"$1"+p+'"'))),f="timeShiftBufferDepth",c.attr[f]&&(o=c.attr[f]=this.parseDuration(c.attr[f]),!e.dvrDurationMs||o.time<e.dvrDurationMs/1e3?(p=o.time,e.TSBDsec&&0<e.TSBDsec?p=e.TSBDsec:e.TSBoffsetMs&&(e.TSBoffsetMs+2e3)/1e3<o.time&&(p+=e.TSBoffsetMs/1e3),p!=o.time&&(p=this.durationFromSeconds(p),e.debug&&console.log("SS old "+f,this.durationFromSeconds(o.time),"\nSS new "+f,p),c.attr[f]=this.parseDuration(p),l=l.replace(/( timeShiftBufferDepth=")[^"]+"/,"$1"+p+'"'))):r=!0),f="minimumUpdatePeriod",e.minUPsec&&this.manifest.isDynamic&&!r&&(p=" "+f+'="'+this.durationFromSeconds(e.minUPsec)+'"',l=c.attr[f]?l.replace(/ minimumUpdatePeriod="[^"]*"/,p):l.replace(/>$/,p+">")),this.manifest.prvTSBD=c.attr.timeShiftBufferDepth||0,f="minBufferTime",c.attr[f]&&(o=c.attr[f]=this.parseDuration(c.attr[f]),e.useBufferTimeMs&&(p=this.durationFromSeconds(e.useBufferTimeMs/1e3),e.debug&&console.log("SS old "+f,this.durationFromSeconds(o.time),"\nSS new "+f,p),c.attr[f]=this.parseDuration(p),l=l.replace(/( minBufferTime=")[^"]+"/,"$1"+p+'"'))),e.location&&(p="<Location>"+e.location+"</Location>",e.debug&&console.log("SS new location",p),l+=p)}}if(e.segments||e.manifest||e.offsetMs||e.ATOsec){var d;let y,b;for((r=e.manifest?"boolean"==typeof e.manifest?{}:e.manifest:{}).mpd=c;!a;)if(h=[],0<=(u=t.indexOf("<AdaptationSet",n))){if(c=t.indexOf("</AdaptationSet",u),y=t.indexOf("<ProducerReferenceTime",u),y>u&&y<c?(y=this.str2attr(t,y),y.attr.wallClockTime=new Date(y.attr.wallClockTime),y.attr.presentationTime=parseInt(y.attr.presentationTime),e.offsetMs&&(e.debug&&console.log("SS old wallClockTime",y.attr.wallClockTime.toISOString()),y.attr.wallClockTime.setTime(y.attr.wallClockTime.getTime()+e.offsetMs),e.debug&&console.log("SS new wallClockTime",y.attr.wallClockTime.toISOString()),l+=t.substring(n,y.next).replace(/wallClockTime="[^"]+"/,'wallClockTime="'+y.attr.wallClockTime.toISOString()+'"'),n=y.next)):y={},b=t.indexOf("<SegmentTemplate",n),b>u&&b<c){b=this.str2attr(t,b),b.attr.timescale=parseInt(b.attr.timescale||"1"),b.attr.presentationTimeOffset=parseInt(b.attr.presentationTimeOffset||"0"),b.attr.availabilityTimeOffset=parseInt(b.attr.availabilityTimeOffset||"0");var g=b.attr.media.indexOf("Fragments");if(r[g=b.attr.media.substring(g,b.attr.media.indexOf("=",g))]={prft:y,temp:b,cnv0:b.attr.presentationTimeOffset,cnv1:1e3/b.attr.timescale,cnv2:y&&y.attr&&y.attr.wallClockTime.getTime(),segments:[]},e.ATOsec){var v=(p=t.substring(b.first,b.next)).match(/availabiltyTimeOffset="([-0-9.]+)"/);e.debug&&v&&console.log("SS old availabilityTimeOffset",v[1],b.attr.availabilityTimeOffset),e.debug&&console.log("SS new availabilityTimeOffset",e.ATOsec),p=t.substring(n,b.first)+p.replace(/(?:(?: availabilityTimeOffset="[-0-9.]+")|(\/>))/,' availabilityTimeOffset="'+e.ATOsec+'"$1')}else p=t.substring(n,b.next);if(l+=p,n=b.next,s=t.indexOf("<SegmentTimeline",n),s>u&&s<c){for(p=i=f=t.indexOf("</SegmentTimeline",s+1),d=e.manifest?1e4:e.segments;i>u&&(0<d||e.backFill);)if(i=t.lastIndexOf("<S ",f),i>s){var m=t.substring(i+3,t.indexOf("/>",i));for(f=m.split(/\s+/),m={},v=0;v<f.length;v++)o=f[v].replace(/"/g,"").split("="),o[0]&&(m[o[0]]=parseInt(o[1]));h.unshift(m),d--,f=i-1}if("Fragments(audio"==g&&h.length&&(this.manifest&&(this.manifest.captionOffset=h[0].t&&5e3*Math.floor(1e3*(h[0].t-b.attr.presentationTimeOffset)/b.attr.timescale/5e3)),e.debug&&console.log("FIRST STORED SEGMENT",h[0],h[0].t&&h[0].t-b.attr.presentationTimeOffset,b.attr.presentationTimeOffset,this.manifest.captionOffset)),l+=t.substring(n,f),e.debug&&(e.backFill||!e.manifest&&e.segments)&&console.log("SS old segment set",t.substring(f,p)),e.segments)for(d=e.segments,v=h.length-1;0<d&&0<=v&&h.length;)h[v].r?h[v].r>=d?(h[v].r-=d,d=0):(d-=h[v].r+1,h.splice(v,1)):(h.splice(v,1),d--),v--;else e.backFill&&(n=b.attr.presentationTimeOffset||y.attr.presentationTime,u=h[0].d,v=h[0].r||0,m=h[0].t-n,0<(m-=(d=Math.floor(m/u))*u)?(h[0].t=0,h.unshift({t:0,d:m,r:0}),h.unshift({t:n,d:u,r:d?d-1:0})):(h[0].t=n,h[0].d=u,h[0].r=v+d),f=p);for(d="",n=0,p=e.manifest&&!e.backFill?r[g].segments:null,v=0;v<h.length;v++)if(d+="<S "+((m=h[v]).t?'t="'+m.t+'" ':"")+(m.d?'d="'+m.d+'" ':"")+(m.r?'r="'+m.r+'" ':"")+"/>",p)for(n=m.t||n,g=m.r?h[v].r+1:1,u=m.d;0<g;)p.push(n),n+=u,g--;l+=d,e.debug&&(e.backFill||!e.manifest&&e.segments)&&console.log("SS new segment set",d),n=f}}else b={};l+=t.substring(n,c),n=c}else l+=t.substring(n),a=!0}else l=l?l+t.substring(n):t;return e.xmlns&&(l=l.replace(/\sxmlns:[^=]+=""/g,"")),e.stripBaseURL&&(l=l.replace(/<BaseURL>[^<]*<\/BaseURL>/,(function(t){return e.debug&&console.log("Removed "+t),""}))),l}}}),n.options=i||n}}(this.GlobalCTX),function(t){let e=t.Util,r=t.ElementLoader,n="LumenVideoJS";if(r&&e&&e.Extern){let t=e.Extern;t[n]=function(e,n){let i="lumen_override",s="LumenOverride";t.Vendors[i]=s;let o=t.Defaults[s]={name:"Lumen P2P",key:"",conf:'{"comment":"dnaConfig","override":true}',media:'{"comment":"player config","override":true}',title:"",source:"",url:"",debugUrl:"//tools.streamroot.io/usage-graphs/stable/graphs.js",onAction:function(t,e){console.log(s,e.name,"onAction for "+t.type,t)},vendorPreLoadAction:function(t,e,r){console.log(s,"vendorPreLoadAction",t,e,r)},vendorLoadAction:function(t){console.log(s,"vendorLoadAction",t)},vendorFailedLoadAction:function(t){console.log(s,"vendorFailedLoadAction",t)},vendorUnloadAction:function(t){console.log(s,"vendorUnloadAction",t)}};"dash"===e.format?(o.srcver="2.5.0",o.magic="2.9.3",o.url=[{sequential:!0,src:"//cdnjs.cloudflare.com/ajax/libs/dashjs/@@@SRCVER@@@/dash.all.min.js",root:"dashjs"},{src:"//cdnjs.cloudflare.com/ajax/libs/videojs-contrib-dash/@@@MAGIC@@@/videojs-dash.min.js",root:"videojs.Html5DashJS"},{src:"//cdn.streamroot.io/videojs-dash-dna-plugin/1/stable/videojs-dash-dna-plugin.js?srKey=@@@KEY@@@",root:"Streamroot"}]):o.url=[{sequential:!0,src:"//cdn.streamroot.io/videojs-hlsjs-plugin/1/stable/videojs-hlsjs-plugin.js",root:"hlsSourceHandler",activation:{conf:"@@@MEDIA@@@",entry:"player.streamrootHls",param:["conf"]}},{src:"//cdn.streamroot.io/videojs-hls-dna-plugin/1/stable/videojs-hls-dna-plugin.js?srKey=@@@KEY@@@",root:"hlsDnaPlugin",activation:{conf:"@@@CONF@@@",entry:"player.streamrootDna",param:["conf"]}}];let a=n||{};a.vendor=i,"onAction"in a||(a.onAction=e.onAction),e.init(a),e.preLoadAction(i,e._playerSrc,e._player);let l,u,c=new Promise((function(t,e){l=t,u=e}));return(new r).depend(e.url,{data:e,callback:function(t,e){l(e)},key:e.key,player:e._player,dlimit:5,dinterval:1e3},"videojs"),c}}else console.warn("Cannot Define "+n)}(this.GlobalCTX||this)},7201:function(t){"use strict";t.exports="data:font/woff;base64,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"},8156:function(t){"use strict";t.exports=__WEBPACK_EXTERNAL_MODULE__8156__},715:function(t){"use strict";t.exports=__WEBPACK_EXTERNAL_MODULE__715__},7815:function(t){"use strict";t.exports=__WEBPACK_EXTERNAL_MODULE__7815__},1699:function(t){"use strict";t.exports=JSON.parse('{"name":"freewheel","type":"adapter","tech":"js","author":"Jesus Lopez","version":"6.8.1","built":"2022-03-30","repo":"https://bitbucket.org/npaw/freewheel-adapter-js","libVersion":"^6.8.15","features":{"buffer":"monitor","seek":"monitor","error":true,"stop":true,"pause":true,"resume":true,"getters":["getPlayhead","getDuration","getTitle","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getCreativeId"]},"ads":[]}')},7768:function(t){"use strict";t.exports=JSON.parse('{"name":"videojs","type":"adapter","tech":"js","author":"Jesus Lopez","version":"6.8.11","built":"2022-09-22","repo":"https://bitbucket.org/npaw/videojs-adapter-js.git","libVersion":"^6.8.24","features":{"buffer":"native","seek":"native","error":true,"stop":true,"pause":true,"resume":true,"getters":["getPlayhead","getPlayrate","getDuration","getBitrate","getRendition","getTitle","getIsLive","getResource","getPlayerVersion"]},"ads":[{"buffer":"monitor","seek":"monitor","error":true,"stop":true,"pause":true,"resume":true,"getters":["getPlayhead","getDuration","getTitle","getResource","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"],"filename":"bcove-freewheel.js"},{"buffer":"monitor","seek":"monitor","error":true,"stop":true,"pause":true,"resume":true,"getters":["getPlayhead","getDuration","getBitrate","getTitle","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen","getCreativeId"],"filename":"bcove-ima.js"},{"buffer":"monitor","seek":"monitor","error":false,"stop":false,"pause":false,"resume":false,"getters":[],"filename":"freewheel.js"},{"buffer":"monitor","seek":"monitor","error":true,"stop":true,"pause":false,"resume":false,"getters":[],"filename":"generic.js"},{"buffer":"monitor","seek":"monitor","error":true,"stop":true,"pause":true,"resume":true,"getters":["getPlayhead","getDuration","getTitle","getIsLive","getResource","getPlayerVersion","getPosition","getGivenBreaks","getBreaksTime","getGivenAds","getIsVisible","getAudioEnabled","getIsSkippable","getIsFullscreen"],"filename":"ima.js"},{"buffer":"monitor","seek":"monitor","error":true,"stop":true,"pause":true,"resume":true,"getters":["getPlayhead","getDuration","getResource","getPosition"],"filename":"onceux.js"}]}')},1060:function(t){"use strict";t.exports={version:"6.8.28"}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(t,e){for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},__webpack_require__.b=document.baseURI||self.location.href,__webpack_require__.nc=void 0;var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorCode:function(){return Tn},Player:function(){return Ys},PlayerEvent:function(){return Fn},SourceType:function(){return jn}});var t=__webpack_require__(2322),e=__webpack_require__(8156),r=function(){return r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};function n(t){return{hive:s(null==t?void 0:t.hive),ramp:o(null==t?void 0:t.ramp),miJavaAnalytics:null==t?void 0:t.miJavaAnalytics,youboraAnalytics:i(null==t?void 0:t.youboraAnalytics)}}function i(t){return t?r({},t):void 0}function s(t){return(null==t?void 0:t.ticket)?{ticket:t.ticket,techOrder:t.techOrder||["HiveJava","StatsJS"],debugLevel:"off",HiveJS:{onActiveSession:window.hiveOnActiveSession,onError:function(t){return"function"==typeof window.hiveOnErrorCallback&&window.hiveOnErrorCallback(t),!0},renderStatsCallback:window.hiveRenderStatsCallback}}:void 0}function o(t){var e=null==t?void 0:t.omnicacheUris,r=null==t?void 0:t.streamRootKey,n=!!(null==t?void 0:t.debug);return e||r?{omnicacheUris:e,streamRootKey:r,debug:n}:void 0}function a(t){return{videoId:(null==t?void 0:t.videoId)||"",title:(null==t?void 0:t.title)||""}}var l=__webpack_require__(7815),u=__webpack_require__.n(l);function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=function(t){var e=this;return e.id=t.id,e.label=e.id,e.width=t.width,e.height=t.height,e.bitrate=t.bandwidth,e.frameRate=t.frameRate,e.enabled_=t.enabled,Object.defineProperty(e,"enabled",{get:function(){return e.enabled_()},set:function(t){e.enabled_(t)}}),e},p=function(t){var e,r;function n(){var e,r=c(c(e=t.call(this)||this));return r.levels_=[],r.selectedIndex_=-1,Object.defineProperty(r,"selectedIndex",{get:function(){return r.selectedIndex_}}),Object.defineProperty(r,"length",{get:function(){return r.levels_.length}}),r||c(e)}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var i=n.prototype;return i.addQualityLevel=function(t){var e=this.getQualityLevelById(t.id);if(e)return e;var r=this.levels_.length;return e=new h(t),""+r in this||Object.defineProperty(this,r,{get:function(){return this.levels_[r]}}),this.levels_.push(e),this.trigger({qualityLevel:e,type:"addqualitylevel"}),e},i.removeQualityLevel=function(t){for(var e=null,r=0,n=this.length;r<n;r++)if(this[r]===t){e=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return e&&this.trigger({qualityLevel:t,type:"removequalitylevel"}),e},i.getQualityLevelById=function(t){for(var e=0,r=this.length;e<r;e++){var n=this[e];if(n.id===t)return n}return null},i.dispose=function(){this.selectedIndex_=-1,this.levels_.length=0},n}(u().EventTarget);for(var f in p.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"},p.prototype.allowedEvents_)p.prototype["on"+f]=null;var d="2.2.0",g=function(t){return function(t,e){var r=t.qualityLevels,n=new p;return t.on("dispose",(function e(){n.dispose(),t.qualityLevels=r,t.off("dispose",e)})),t.qualityLevels=function(){return n},t.qualityLevels.VERSION=d,n}(this,u().mergeOptions({},t))};(u().registerPlugin||u().plugin)("qualityLevels",g),g.VERSION=d;var v=__webpack_require__(715),m=/iPhone/i,y=/iPod/i,b=/iPad/i,E=/\biOS-universal(?:.+)Mac\b/i,w=/\bAndroid(?:.+)Mobile\b/i,A=/Android/i,S=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,T=/Silk/i,I=/Windows Phone/i,P=/\bWindows(?:.+)ARM\b/i,k=/BlackBerry/i,R=/BB10/i,C=/Opera Mini/i,O=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i,x=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};function L(t){if(Array.isArray(t))return t}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D(t,e){if(t){if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(t,e):void 0}}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(t,e){return L(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,s=[],o=!0,a=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(s.push(n.value),!e||s.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return s}}(t,e)||D(t,e)||M()}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function H(t,e,r){return e&&U(t.prototype,e),r&&U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var q=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,V={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},G=function(t){return V[t]},z={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(t){return t.replace(q,G)}},W=(0,e.createContext)();function X(){return z}var Q=function(){function t(){F(this,t),this.usedNamespaces={}}return H(t,[{key:"addUsedNamespaces",value:function(t){var e=this;t.forEach((function(t){e.usedNamespaces[t]||(e.usedNamespaces[t]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function Z(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];"string"==typeof r[0]&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var K={};function Y(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];"string"==typeof e[0]&&K[e[0]]||("string"==typeof e[0]&&(K[e[0]]=new Date),Z.apply(void 0,e))}function J(t,e,r){t.loadNamespaces(e,(function(){t.isInitialized?r():t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),r()}))}))}function $(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.languages[0],i=!!e.options&&e.options.fallbackLng,s=e.languages[e.languages.length-1];if("cimode"===n.toLowerCase())return!0;var o=function(t,r){var n=e.services.backendConnector.state["".concat(t,"|").concat(r)];return-1===n||2===n};return!(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)||!e.hasResourceBundle(n,t)&&e.services.backendConnector.backend&&(!e.options.resources||e.options.partialBundledLanguages)&&(!o(n,t)||i&&!o(s,t)))}function tt(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return Y("i18n.languages were undefined or empty",e.languages),!0;var n=void 0!==e.options.ignoreJSONStructure;return n?e.hasLoadedNamespace(t,{precheck:function(e,n){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!n(e.isLanguageChangingTo,t))return!1}}):$(t,e,r)}function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?et(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var nt=function(t,r){var n=(0,e.useRef)();return(0,e.useEffect)((function(){n.current=r?n.current:t}),[t,r]),n.current};function it(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.i18n,i=(0,e.useContext)(W)||{},s=i.i18n,o=i.defaultNS,a=n||s||void 0;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Q),!a){Y("You will need to pass in an i18next instance by using initReactI18next");var l=function(t){return Array.isArray(t)?t[t.length-1]:t},u=[l,{},!1];return u.t=l,u.i18n={},u.ready=!1,u}a.options.react&&void 0!==a.options.react.wait&&Y("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=rt(rt(rt({},X()),a.options.react),r),h=c.useSuspense,p=c.keyPrefix,f=t||o||a.options&&a.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(f);var d=(a.isInitialized||a.initializedStoreOnce)&&f.every((function(t){return tt(t,a,c)}));function g(){return a.getFixedT(null,"fallback"===c.nsMode?f:f[0],p)}var v=(0,e.useState)(g),m=B(v,2),y=m[0],b=m[1],E=f.join(),w=nt(E),A=(0,e.useRef)(!0);(0,e.useEffect)((function(){var t=c.bindI18n,e=c.bindI18nStore;function r(){A.current&&b(g)}return A.current=!0,d||h||J(a,f,(function(){A.current&&b(g)})),d&&w&&w!==E&&A.current&&b(g),t&&a&&a.on(t,r),e&&a&&a.store.on(e,r),function(){A.current=!1,t&&a&&t.split(" ").forEach((function(t){return a.off(t,r)})),e&&a&&e.split(" ").forEach((function(t){return a.store.off(t,r)}))}}),[a,E]);var S=(0,e.useRef)(!0);(0,e.useEffect)((function(){A.current&&!S.current&&b(g),S.current=!1}),[a,p]);var T=[y,a,d];if(T.t=y,T.i18n=a,T.ready=d,d)return T;if(!d&&!h)return T;throw new Promise((function(t){J(a,f,(function(){t()}))}))}var st=__webpack_require__(2779),ot=__webpack_require__.n(st),at=__webpack_require__(6062),lt=__webpack_require__.n(at),ut=__webpack_require__(4036),ct=__webpack_require__.n(ut),ht=__webpack_require__(6793),pt=__webpack_require__.n(ht),ft=__webpack_require__(7892),dt=__webpack_require__.n(ft),gt=__webpack_require__(1173),vt=__webpack_require__.n(gt),mt=__webpack_require__(2464),yt=__webpack_require__.n(mt),bt=__webpack_require__(6985),Et={};Et.styleTagTransform=yt(),Et.setAttributes=dt(),Et.insert=pt().bind(null,"head"),Et.domAPI=ct(),Et.insertStyleElement=vt(),lt()(bt.Z,Et);var wt=bt.Z&&bt.Z.locals?bt.Z.locals:void 0,At=function(){return At=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},At.apply(this,arguments)};function St(e){var r=e.children;return(0,t.jsx)("div",At({className:wt.tooltip},{children:r}))}var Tt=function(){return Tt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Tt.apply(this,arguments)},It=function(){return(0,t.jsx)("svg",Tt({width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fff"},{children:(0,t.jsx)("path",{d:"M0 0h5v2H2v3H0V0zm9 0h5v5h-2V2H9V0zm3 9h2v5H9v-2h3V9zm-7 3v2H0V9h2v3h3z"})}))},Pt=function(){return Pt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Pt.apply(this,arguments)},kt=function(){return(0,t.jsx)("svg",Pt({width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fff"},{children:(0,t.jsx)("path",{d:"M9 9h5v2h-3v3H9V9zM0 9h5v5H3v-3H0V9zm3-9h2v5H0V3h3V0zm11 3v2H9V0h2v3h3z"})}))},Rt=__webpack_require__(6372),Ct={};Ct.styleTagTransform=yt(),Ct.setAttributes=dt(),Ct.insert=pt().bind(null,"head"),Ct.domAPI=ct(),Ct.insertStyleElement=vt(),lt()(Rt.Z,Ct);var Ot=Rt.Z&&Rt.Z.locals?Rt.Z.locals:void 0,_t=function(){return _t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},_t.apply(this,arguments)};function xt(e){var r=e.isFullscreen,n=void 0!==r&&r,i=e.onClick,s=e.className,o=it().t;return n?(0,t.jsx)(Nt,{className:s,label:o("ui.fullscreen.button.label.active"),onClick:i}):(0,t.jsx)(Lt,{className:s,label:o("ui.fullscreen.button.label.inactive"),onClick:i})}function Lt(e){var r=e.label,n=e.onClick,i=e.className;return(0,t.jsxs)("button",_t({type:"button",name:"fullscreen-button",className:ot()(i,Ot.button),onClick:n},{children:[(0,t.jsx)(St,{children:r}),(0,t.jsx)(It,{})]}))}function Nt(e){var r=e.label,n=e.onClick,i=e.className;return(0,t.jsxs)("button",_t({type:"button",name:"fullscreen-exit-button",className:ot()(i,Ot.button),onClick:n},{children:[(0,t.jsx)(St,{children:r}),(0,t.jsx)(kt,{})]}))}var Dt=__webpack_require__(892),Mt={};Mt.styleTagTransform=yt(),Mt.setAttributes=dt(),Mt.insert=pt().bind(null,"head"),Mt.domAPI=ct(),Mt.insertStyleElement=vt(),lt()(Dt.Z,Mt);var Bt=Dt.Z&&Dt.Z.locals?Dt.Z.locals:void 0,jt=function(){return jt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},jt.apply(this,arguments)};function Ft(e){var r=e.className,n=it().t;return(0,t.jsx)("div",jt({"data-testid":"live-badge",className:ot()(r,Bt.liveBadge)},{children:n("ui.live-badge.text")}))}var Ut=function(){return Ut=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ut.apply(this,arguments)},Ht=function(){return(0,t.jsx)("svg",Ut({width:"18",height:"20",viewBox:"0 0 18 20",fill:"#fff"},{children:(0,t.jsx)("path",{d:"M14 15H4v-3l-4 4 4 4v-3h12v-6h-2v4zM4 5h10v3l4-4-4-4v3H2v6h2V5z"})}))},qt=function(){return qt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qt.apply(this,arguments)};function Vt(e){var r,n=e.isLooping,i=e.onClick,s=e.className,o=(0,it().t)(n?"ui.loop.button.label.active":"ui.loop.button.label.inactive");return(0,t.jsxs)("button",qt({type:"button",name:"loop-button",className:ot()(s,Ot.button,(r={},r[Ot.active]=n,r)),onClick:i},{children:[(0,t.jsx)(St,{children:o}),(0,t.jsx)(Ht,{})]}))}var Gt=function(){return Gt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Gt.apply(this,arguments)},zt=function(){return(0,t.jsx)("svg",Gt({width:"20",height:"20",viewBox:"0 0 20 20",fill:"#fff","data-testid":"play-circle-button"},{children:(0,t.jsx)("path",{d:"M8 14.5v-9l6 4.5-6 4.5zM10 0a10 10 0 100 20 10 10 0 000-20z"})}))},Wt=function(){return Wt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Wt.apply(this,arguments)},Xt=function(e){var r=e.onAnimationEnd,n=e.width,i=void 0===n?"12":n,s=e.height,o=void 0===s?"14":s;return(0,t.jsx)("svg",Wt({width:i,height:o,viewBox:"0 0 12 14",fill:"#fff",onAnimationEnd:r,"data-testid":"pause-icon"},{children:(0,t.jsx)("path",{d:"M8 14h4V0H8v14zm-8 0h4V0H0v14z"})}))},Qt=__webpack_require__(2984),Zt={};Zt.styleTagTransform=yt(),Zt.setAttributes=dt(),Zt.insert=pt().bind(null,"head"),Zt.domAPI=ct(),Zt.insertStyleElement=vt(),lt()(Qt.Z,Zt);var Kt=Qt.Z&&Qt.Z.locals?Qt.Z.locals:void 0,Yt=function(){return Yt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Yt.apply(this,arguments)};function Jt(e){var r=e.isPlaying,n=void 0!==r&&r,i=e.onClick,s=it().t,o=s("ui.play.button.label.active"),a=s("ui.play.button.label.inactive");return n?(0,t.jsx)("button",Yt({type:"button",name:"pause-button","aria-label":o,className:Kt.button,onClickCapture:i},{children:(0,t.jsx)(Xt,{})})):(0,t.jsx)("button",Yt({type:"button",name:"big-play-button","aria-label":a,className:Kt.button,onClickCapture:i},{children:(0,t.jsx)(zt,{})}))}var $t=function(){return $t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},$t.apply(this,arguments)},te=function(e){var r=e.onAnimationEnd;return(0,t.jsx)("svg",$t({width:"20",height:"19",viewBox:"0 0 20 19",fill:"#fff",onAnimationEnd:r,"data-testid":"step-back-icon"},{children:(0,t.jsx)("path",{d:"M9.5 0c4.65 0 8.58 3.03 9.97 7.22L17.1 8A7.95 7.95 0 004.38 4.38L7 7H0V0l2.6 2.6C4.45 1 6.85 0 9.5 0zM7 9v10H5v-8H3V9h4zm8 2v6a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6a2 2 0 012-2h2a2 2 0 012 2zm-4 0v6h2v-6h-2z"})}))},ee=function(){return ee=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ee.apply(this,arguments)},re=function(e){var r=e.onAnimationEnd;return(0,t.jsx)("svg",ee({width:"20",height:"19",viewBox:"0 0 20 19",fill:"#fff",onAnimationEnd:r,"data-testid":"step-forward-icon"},{children:(0,t.jsx)("path",{d:"M9 9v10H7v-8H5V9h4zm8 2v6a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6a2 2 0 012-2h2a2 2 0 012 2zm-4 0v6h2v-6h-2zM10.5 0c2.65 0 5.05 1 6.9 2.6L20 0v7h-7l2.62-2.62A7.95 7.95 0 002.9 8L.53 7.22A10.51 10.51 0 0110.5 0z"})}))},ne=__webpack_require__(5044),ie={};ie.styleTagTransform=yt(),ie.setAttributes=dt(),ie.insert=pt().bind(null,"head"),ie.domAPI=ct(),ie.insertStyleElement=vt(),lt()(ne.Z,ie);var se=ne.Z&&ne.Z.locals?ne.Z.locals:void 0,oe=function(){return oe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},oe.apply(this,arguments)};function ae(r){var n,i=r.isPlaying,s=void 0!==i&&i,o=r.liveUI,a=void 0!==o&&o,l=r.isHidden,u=void 0!==l&&l,c=r.doubleClickDelay,h=void 0===c?300:c,p=r.onPlayClick,f=r.onBackButtonClick,d=r.onForwardButtonClick,g=it().t,v=(0,e.useState)(!1),m=v[0],y=v[1],b=(0,e.useState)(!1),E=b[0],w=b[1],A=(0,e.useState)(0),S=A[0],T=A[1],I=function(t){return function(){var e=Date.now();e-S<h&&(null==t||t()),T(e)}};return(0,t.jsxs)("div",oe({className:ot()(se.wrapper,(n={},n[se.hidden]=u,n)),"data-testid":"overlay"},{children:[!a&&(0,t.jsx)("button",oe({type:"button",name:"step-back-mobile-button","aria-label":g("ui.step-back.button.label"),className:se.stepButton,onClick:I((function(){y(!0),null==f||f()}))},{children:m&&(0,t.jsx)(te,{onAnimationEnd:function(){y(!1)}})})),(0,t.jsx)(Jt,{isPlaying:s,onClick:p}),!a&&(0,t.jsx)("button",oe({type:"button",name:"step-forward-mobile-button","aria-label":g("ui.step-forward.button.label"),className:se.stepButton,onClick:I((function(){w(!0),null==d||d()}))},{children:E&&(0,t.jsx)(re,{onAnimationEnd:function(){w(!1)}})}))]}))}var le=function(){return le=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},le.apply(this,arguments)},ue=function(e){var r=e.onAnimationEnd,n=e.width,i=void 0===n?"11":n,s=e.height,o=void 0===s?"15":s;return(0,t.jsx)("svg",le({height:o,width:i,viewBox:"0 0 11 15",fill:"#fff",onAnimationEnd:r,"data-testid":"play-icon"},{children:(0,t.jsx)("path",{d:"M0 0v14l11-7L0 0z"})}))},ce=function(){return ce=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ce.apply(this,arguments)};function he(e){var r=e.isPlaying,n=void 0!==r&&r,i=e.onClick,s=e.className,o=it().t;return n?(0,t.jsxs)("button",ce({type:"button",name:"pause-button",className:ot()(s,Ot.button),onClickCapture:i},{children:[(0,t.jsx)(St,{children:o("ui.play.button.label.active")}),(0,t.jsx)(Xt,{})]})):(0,t.jsxs)("button",ce({type:"button",name:"play-button",className:ot()(s,Ot.button),onClickCapture:i},{children:[(0,t.jsx)(St,{children:o("ui.play.button.label.inactive")}),(0,t.jsx)(ue,{})]}))}var pe=function(){return pe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},pe.apply(this,arguments)};function fe(e){var r=e.onClick,n=e.className,i=(0,it().t)("ui.step-back.button.label");return(0,t.jsxs)("button",pe({type:"button",name:"step-back-button",className:ot()(n,Ot.button),onClick:r},{children:[(0,t.jsx)(St,{children:i}),(0,t.jsx)(te,{})]}))}function de(e){var r=e.onClick,n=(0,it().t)("ui.step-forward.button.label");return(0,t.jsxs)("button",pe({type:"button",name:"step-forward-button",className:Ot.button,onClick:r},{children:[(0,t.jsx)(St,{children:n}),(0,t.jsx)(re,{})]}))}var ge=__webpack_require__(4687),ve={};ve.styleTagTransform=yt(),ve.setAttributes=dt(),ve.insert=pt().bind(null,"head"),ve.domAPI=ct(),ve.insertStyleElement=vt(),lt()(ge.Z,ve);var me=ge.Z&&ge.Z.locals?ge.Z.locals:void 0,ye=function(){return ye=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ye.apply(this,arguments)};function be(e){var r,n=e.textColor,i=e.backgroundColor,s=e.withSpaceForBottomBar,o=e.children,a=e.wrapperWidth,l=void 0===a?0:a;return(0,t.jsx)("div",ye({"data-testid":"subtitle",className:ot()(me.subtitles,(r={},r[me.withSpaceForBottomBar]=s,r)),style:{color:n,background:i,"--wrapperWidth":l}},{children:o}))}var Ee=function(){return Ee=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ee.apply(this,arguments)},we=function(){return(0,t.jsx)("svg",Ee({width:"20",height:"16",viewBox:"0 0 20 16",fill:"#fff"},{children:(0,t.jsx)("path",{d:"M18 0H2a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V2a2 2 0 00-2-2zM2 8h4v2H2V8zm10 6H2v-2h10v2zm6 0h-4v-2h4v2zm0-4H8V8h10v2z"})}))},Ae=function(){return Ae=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ae.apply(this,arguments)};function Se(e){var r,n=e.isActive,i=e.onClick,s=e.className,o=(0,it().t)(n?"ui.subtitles.button.label.active":"ui.subtitles.button.label.inactive");return(0,t.jsxs)("button",Ae({type:"button",name:"subtitles-button",className:ot()(s,Ot.button,(r={},r[Ot.active]=n,r)),onClick:i},{children:[(0,t.jsx)(St,{children:o}),(0,t.jsx)(we,{})]}))}function Te(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var r=isFinite(t)?t:0,n=new Date(0);n.setMilliseconds(r);var i=n.toISOString().substr(11,8);return e&&i.startsWith("00")?i.substr(3):i}function Ie(t){return void 0===t&&(t=0),isFinite(t)?Math.floor(1e3*t):0}function Pe(t){return t.length>0&&t.every((function(t){return"number"==typeof t}))}function ke(t,e,r){return Math.min(Math.max(t,e),r)}function Re(t,r,n){void 0===r&&(r=!1),void 0===n&&(n=!0);var i=(0,e.useState)({x:0,y:0}),s=i[0],o=i[1],a=(0,e.useState)(!1),l=a[0],u=a[1],c=(0,e.useCallback)((function(t,e,n){var i=n.getBoundingClientRect(),s=i.left,a=i.top,l=i.width,c=i.height,h=ke(0,t-s,l),p=ke(0,e-a,l);r&&(h=h/l*100,p=p/c*100),o({x:h,y:p}),u(!0)}),[r]),h=(0,e.useCallback)((function(){n&&o({x:0,y:0}),u(!1)}),[n]);return(0,e.useEffect)((function(){var e=t.current;if(e){var r=function(t){c(t.clientX,t.clientY,e)},n=function(t){c(t.touches[0].clientX,t.touches[0].clientY,e)};return e.addEventListener("mousemove",r),e.addEventListener("mouseleave",h),e.addEventListener("touchmove",n),e.addEventListener("touchend",h),function(){e.removeEventListener("mousemove",r),e.removeEventListener("mouseleave",h),e.removeEventListener("touchmove",n),e.removeEventListener("touchend",h)}}}),[t,c,h]),[s,l]}function Ce(t,r){void 0===r&&(r=t);var n=(0,e.useState)({x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0,toJSON:function(){return null}}),i=n[0],s=n[1],o=(0,e.useCallback)((function(){var e=null==t?void 0:t.current,n=null==r?void 0:r.current;e&&n&&s(n.getBoundingClientRect())}),[r,t]);return function(t,r){(0,e.useEffect)((function(){var e=null==t?void 0:t.current;if(e&&window.ResizeObserver){var n=new ResizeObserver(r);return n.observe(e),function(){return n.disconnect()}}}),[t,r])}(t,o),i}var Oe=__webpack_require__(560),_e={};_e.styleTagTransform=yt(),_e.setAttributes=dt(),_e.insert=pt().bind(null,"head"),_e.domAPI=ct(),_e.insertStyleElement=vt(),lt()(Oe.Z,_e);var xe=Oe.Z&&Oe.Z.locals?Oe.Z.locals:void 0,Le=function(){return Le=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Le.apply(this,arguments)};function Ne(e){var r,n,i=e.timelineRef,s=e.totalTime,o=e.storyboard,a=e.style,l=Ce(i).width,u=Re(i,!1,!1),c=u[0].x,h=u[1];if(!(null===(n=null==o?void 0:o.sources)||void 0===n?void 0:n.length)||!i.current||!s)return null;var p=o.sources,f=o.interval,d=o.width,g=o.height,v=o.spritesPerRow,m={left:ke(0,c-d/2,l-d)},y=c/l*s,b=y/f/1e3,E=Math.floor(b%v),w=Math.floor(b/v),A="-".concat(E*d,"px -").concat(w*g,"px"),S={width:d,height:g,backgroundImage:"url(".concat(p[0],")"),backgroundPosition:A};return(0,t.jsxs)("div",Le({"data-testid":"timeline-preview",className:ot()(xe.wrapper,(r={},r[xe.active]=h,r)),style:Le(Le({},m),a)},{children:[(0,t.jsx)("div",{style:S}),Te(y)]}))}var De=__webpack_require__(88),Me={};Me.styleTagTransform=yt(),Me.setAttributes=dt(),Me.insert=pt().bind(null,"head"),Me.domAPI=ct(),Me.insertStyleElement=vt(),lt()(De.Z,Me);var Be=De.Z&&De.Z.locals?De.Z.locals:void 0,je=function(){return je=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},je.apply(this,arguments)};function Fe(r){var n,i=r.currentTime,s=void 0===i?0:i,o=r.totalTime,a=void 0===o?100:o,l=r.min,u=void 0===l?0:l,c=r.max,h=void 0===c?a:c,p=r.step,f=void 0===p?100:p,d=r.bufferPercentage,g=void 0===d?0:d,v=r.liveUI,m=void 0!==v&&v,y=r.isMobile,b=void 0!==y&&y,E=r.storyboard,w=r.onChange,A=(0,e.useRef)(null),S=it().t,T=Re(A,!0)[0].x;if(!Pe([u,h,f,s,a]))return null;var I=m?100:h-u<=0?0:100*(s-u)/(h-u);return(0,t.jsxs)("div",je({ref:A,className:Be.wrapper},{children:[(0,t.jsxs)("div",je({className:Be.indicators},{children:[(0,t.jsx)("div",{style:{width:"".concat(I,"%")}}),(0,t.jsx)("div",{style:{width:"".concat(T,"%")}}),(0,t.jsx)("div",{style:{width:"".concat(100*g,"%")}})]})),(0,t.jsx)("input",{type:"range",name:"timeline-slider","aria-label":S("ui.timeline.slider.label"),"aria-valuemin":u,"aria-valuemax":h,"aria-valuenow":s,"aria-valuetext":"".concat(Te(s)," / ").concat(Te(a)),min:u,max:m?1:h,step:f,value:m?1:s,onChange:function(t){!m&&(null==w||w(t.target.valueAsNumber))},className:ot()(Ot.rangeInput,(n={},n[Ot.animated]=!b,n),Be.input)}),(0,t.jsx)(Ne,{timelineRef:A,totalTime:a,storyboard:E})]}))}var Ue=__webpack_require__(6824),He={};He.styleTagTransform=yt(),He.setAttributes=dt(),He.insert=pt().bind(null,"head"),He.domAPI=ct(),He.insertStyleElement=vt(),lt()(Ue.Z,He);var qe=Ue.Z&&Ue.Z.locals?Ue.Z.locals:void 0,Ve=function(){return Ve=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ve.apply(this,arguments)},Ge=36e5;function ze(e){var r=e.currentTime,n=void 0===r?0:r,i=e.totalTime,s=void 0===i?0:i,o=e.className,a=it().t;return(0,t.jsxs)("div",Ve({className:ot()(o,qe.wrapper)},{children:[(0,t.jsx)("span",Ve({role:"timer","aria-label":a("ui.timer.current-time.label"),"data-testid":"current-time"},{children:Te(n,s<Ge)})),s>0&&(0,t.jsx)("span",Ve({role:"timer","aria-label":a("ui.timer.total-time.label"),"data-testid":"total-time"},{children:Te(s,s<Ge)}))]}))}function We(t){var r=(0,e.useRef)();return(0,e.useEffect)((function(){r.current=t}),[t]),r.current}var Xe=function(){return Xe=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Xe.apply(this,arguments)},Qe=function(){return(0,t.jsx)("svg",Xe({width:"20",height:"20",viewBox:"0 0 20 20",fill:"#fff"},{children:(0,t.jsx)("path",{d:"M16 14v-3h-3v9h-2V0h2v9h3V6l4 4-4 4ZM0 10l4 4v-3h3v9h2V0H7v9H4V6l-4 4Z"})}))},Ze=__webpack_require__(3116),Ke={};Ke.styleTagTransform=yt(),Ke.setAttributes=dt(),Ke.insert=pt().bind(null,"head"),Ke.domAPI=ct(),Ke.insertStyleElement=vt(),lt()(Ze.Z,Ke);var Ye=Ze.Z&&Ze.Z.locals?Ze.Z.locals:void 0,Je=function(){return Je=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Je.apply(this,arguments)},$e=function(t){return t&&t.getBoundingClientRect().width||1},tr=function(t,e,r){var n=t/(r||1)*100,i=100-e/(r||1)*100;return{left:n,right:i,width:100-n-i}};function er(r){var n,i=r.wrapper,s=r.isPlaying,o=r.startTime,a=r.endTime,l=r.currentTime,u=r.totalTime,c=r.storyboard,h=r.onChange,p=r.onTrimStartTimeChange,f=r.onTrimEndTimeChange,d=it().t,g=(0,e.useRef)(null),v=(0,e.useRef)(null),m=(0,e.useRef)(null),y=We(o),b=We(a),E=Re(g,!0,!1)[0].x,w=(0,e.useState)(!1),A=w[0],S=w[1],T=(0,e.useState)(tr(o,a,u)),I=T[0],P=T[1],k=ot()(Ye.trimArea,((n={})[Ye.narrow]=A,n)),R={left:"".concat(I.left,"%"),width:"".concat(I.width,"%")},C={left:"".concat(E,"%")},O={left:"".concat(ke(100*l/u,I.left,I.left+I.width),"%")},_={background:"linear-gradient(to right, var(--primaryColor) ".concat(I.left,"%, rgba(255, 255, 255, 0.5) 0, rgba(255, 255, 255, 0.5) ").concat(100-I.right,"%, var(--primaryColor) 0)")};(0,e.useEffect)((function(){l<o&&(null==h||h(o)),l>a&&(null==h||h(s?o:a))}),[s,l,a,o,h]);var x=function(){return parseInt(getComputedStyle(v.current).minWidth)/$e(g.current)*100};return(0,e.useEffect)((function(){var t=Math.round(u*(x()/100));o!==y&&o>a-t&&(null==p||p(a-t)),a!==b&&a<o+t&&(null==f||f(o+t)),a>u&&(null==f||f(u)),o<0&&(null==p||p(0));var e=$e(v.current),r=$e(m.current),n=tr(o,a,u);S(e<=2*r),P(n)}),[o,a,u,y,b,p,f]),(0,t.jsxs)("div",Je({ref:g,className:Ye.wrapper,tabIndex:-1,onClick:function(t){if(t.target===g.current){var e=(t.pageX-t.currentTarget.getBoundingClientRect().left)/$e(g.current);null==h||h(ke(u*e,o,a))}},"data-testid":"trimmer"},{children:[(0,t.jsx)("div",{className:Ye.backgroundLine,style:_}),(0,t.jsx)("div",{className:Ye.currentTimeIndicator,style:O}),(0,t.jsx)("div",{className:Ye.hoverIndicator,style:C}),(0,t.jsxs)("div",Je({ref:v,className:k,style:R,"data-testid":"trim-area"},{children:[(0,t.jsx)("span",Je({className:Ye.label,"aria-label":d("ui.trimmer.start.label"),ref:m},{children:Te(o)})),(0,t.jsx)("span",Je({className:Ye.label,"aria-label":d("ui.trimmer.end.label")},{children:Te(a)})),(0,t.jsx)(rr,{name:"left-trim-handle","aria-label":d("ui.trimmer.start.button"),wrapper:i,onKeyDown:function(t){null==p||p(Math.round(ke(o+t,0,a)))},onChange:function(t){var e=t/$e(g.current)*100;if(!(I.left+e+I.right>100-x())){var r=u*(I.left+e)/100;null==p||p(Math.round(ke(r,0,a)))}}}),(0,t.jsx)(rr,{name:"right-trim-handle","aria-label":d("ui.trimmer.end.button"),wrapper:i,onKeyDown:function(t){null==f||f(Math.round(ke(a+t,o,u)))},onChange:function(t){var e=t/$e(g.current)*100;if(!(I.width+e<x())){var r=u*(100-I.right+e)/100;null==f||f(Math.round(ke(r,o,u)))}}})]})),(0,t.jsx)(Ne,{timelineRef:g,totalTime:u,storyboard:c,style:{bottom:73}})]}))}function rr(e){var r=e.name,n=e["aria-label"],i=e.wrapper,s=e.onKeyDown,o=e.onChange;return i?(0,t.jsx)("button",Je({name:r,"aria-label":n,onMouseDown:function(t){var e=t.clientX,r=function(t){o(t.clientX-e)},n=function(){i.removeEventListener("mousemove",r)};i.addEventListener("mousemove",r),i.addEventListener("mouseup",n),i.addEventListener("mouseleave",n)},onKeyDown:function(t){if(["ArrowLeft","ArrowRight"].includes(t.key)){var e=500;t.shiftKey&&(e*=10),"ArrowLeft"===t.key&&(e*=-1),s(e)}}},{children:(0,t.jsx)(Qe,{})})):null}var nr=__webpack_require__(4496),ir={};ir.styleTagTransform=yt(),ir.setAttributes=dt(),ir.insert=pt().bind(null,"head"),ir.domAPI=ct(),ir.insertStyleElement=vt(),lt()(nr.Z,ir);var sr=nr.Z&&nr.Z.locals?nr.Z.locals:void 0,or=function(){return or=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},or.apply(this,arguments)};function ar(r){var n=r.isPlaying,i=void 0!==n&&n,s=r.onClick,o=(0,e.useState)(!1),a=o[0],l=o[1],u=(0,e.useState)(!1),c=u[0],h=u[1],p=(0,e.useState)(!i),f=p[0],d=p[1];return(0,e.useEffect)((function(){i&&d(!1)}),[i]),(0,t.jsxs)("div",or({className:sr.wrapper,onClickCapture:function(t){t.target===t.currentTarget&&(i?h(!0):l(!0)),null==s||s()},"data-testid":"overlay"},{children:[a&&(0,t.jsx)(ue,{width:"108",height:"137",onAnimationEnd:function(){l(!1)}}),c&&(0,t.jsx)(Xt,{width:"108",height:"126",onAnimationEnd:function(){h(!1)}}),f&&(0,t.jsx)(Jt,{})]}))}var lr=function(){return lr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},lr.apply(this,arguments)},ur=function(){return(0,t.jsx)("svg",lr({width:"18",height:"18",viewBox:"0 0 18 18",fill:"#fff"},{children:(0,t.jsx)("path",{d:"M11 .23v2.06a7 7 0 010 13.41v2.07A9 9 0 0011 .23zM13.5 9c0-1.77-1-3.29-2.5-4.03V13a4.4 4.4 0 002.5-4zM0 6v6h4l5 5V1L4 6H0z"})}))},cr=function(){return cr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},cr.apply(this,arguments)},hr=function(){return(0,t.jsx)("svg",cr({width:"18",height:"18",viewBox:"0 0 18 18",fill:"var(--primaryColor)"},{children:(0,t.jsx)("path",{d:"M1.6.6l15.8 15.8-1.5 1.4-3.9-4V17l-5-5H3V6h1.2l-4-4L1.6.6zM12 1v7.2L8.4 4.6 12 1z"})}))},pr=__webpack_require__(574),fr={};fr.styleTagTransform=yt(),fr.setAttributes=dt(),fr.insert=pt().bind(null,"head"),fr.domAPI=ct(),fr.insertStyleElement=vt(),lt()(pr.Z,fr);var dr=pr.Z&&pr.Z.locals?pr.Z.locals:void 0,gr=__webpack_require__(1818),vr={};vr.styleTagTransform=yt(),vr.setAttributes=dt(),vr.insert=pt().bind(null,"head"),vr.domAPI=ct(),vr.insertStyleElement=vt(),lt()(gr.Z,vr);var mr=gr.Z&&gr.Z.locals?gr.Z.locals:void 0,yr=function(){return yr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},yr.apply(this,arguments)};function br(e){var r=e.min,n=void 0===r?0:r,i=e.max,s=void 0===i?1:i,o=e.step,a=void 0===o?.1:o,l=e.value,u=void 0===l?0:l,c=e.muted,h=void 0!==c&&c,p=e.onChange,f=e.onToggleMute,d=e.className,g=it().t;if(!Pe([n,s,a,u]))return null;var v="linear-gradient(to right, var(--primaryColor) ".concat(h||s-n<=0?0:100*(u-n)/(s-n),"%, ").concat(mr["slider-background-color"]," 0)");return(0,t.jsxs)("div",yr({className:ot()(d,dr.wrapper)},{children:[(0,t.jsx)(Er,{muted:h,onClick:function(){null==f||f(!h)}}),(0,t.jsx)("input",{type:"range",name:"volume-slider","aria-label":g("ui.volume.slider.label"),"aria-valuemin":n,"aria-valuemax":s,"aria-valuenow":u,min:n,max:s,step:a,value:h?0:u,onChange:function(t){null==p||p(t.target.valueAsNumber)},className:ot()(Ot.rangeInput,dr.input),style:{background:v}})]}))}function Er(e){var r=e.muted,n=e.onClick,i=(0,it().t)(r?"ui.volume.mute-button.label.active":"ui.volume.mute-button.label.inactive");return(0,t.jsxs)("button",yr({type:"button",name:"mute-button",className:Ot.button,onClick:n},{children:[(0,t.jsx)(St,{children:i}),r?(0,t.jsx)(hr,{}):(0,t.jsx)(ur,{})]}))}var wr=function(){return wr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},wr.apply(this,arguments)},Ar=function(){return(0,t.jsx)("svg",wr({width:"8",height:"12",viewBox:"0 0 8 12",fill:"currentColor","data-testid":"chevron-icon"},{children:(0,t.jsx)("path",{d:"M.6 10.6 5.2 6 .6 1.4 2 0l6 6-6 6-1.4-1.4Z"})}))},Sr=__webpack_require__(3731),Tr={};Tr.styleTagTransform=yt(),Tr.setAttributes=dt(),Tr.insert=pt().bind(null,"head"),Tr.domAPI=ct(),Tr.insertStyleElement=vt(),lt()(Sr.Z,Tr);var Ir=Sr.Z&&Sr.Z.locals?Sr.Z.locals:void 0,Pr=function(){return Pr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Pr.apply(this,arguments)};function kr(e){var r=e.goTo,n=e.label,i=e.menuOption,s=e.tabIndex,o=e.onClick;return e.hasSubMenu?(0,t.jsxs)("button",Pr({type:"button",role:"menuitem","data-goto":r,className:ot()(Ir.item,Ir.mainMenuItem),onClick:function(){return o(r)},tabIndex:s},{children:[(0,t.jsx)("span",{children:n}),i&&(0,t.jsx)("span",Pr({lang:i.languageCode},{children:i.label})),(0,t.jsx)(Ar,{})]})):(0,t.jsxs)("button",Pr({disabled:!0,type:"button",role:"menuitem",className:ot()(Ir.item,Ir.mainMenuItem)},{children:[(0,t.jsx)("span",{children:n}),i&&(0,t.jsx)("span",Pr({lang:i.languageCode},{children:i.label}))]}))}var Rr=function(){return Rr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Rr.apply(this,arguments)},Cr=function(){return(0,t.jsx)("svg",Rr({width:"18",height:"14",viewBox:"0 0 18 14",fill:"var(--primaryColor)","data-testid":"check-icon"},{children:(0,t.jsx)("path",{d:"M18 2 6 14 .5 8.5l1.41-1.41L6 11.17 16.59.59 18 2Z"})}))},Or=function(){return Or=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Or.apply(this,arguments)};function _r(e){var r=e.label,n=e.chosenItemId,i=e.menuOptions,s=e.onChooseItem,o=e.onGoBack,a=e.dataTestId;return(0,t.jsxs)("div",Or({role:"menu",className:Ir.menu,"data-testid":a},{children:[(0,t.jsxs)("button",Or({type:"button",role:"menuitem",className:ot()(Ir.item,Ir.backButton),onClick:o,"data-testid":"menu-back-button"},{children:[(0,t.jsx)(Ar,{}),r]})),null==i?void 0:i.map((function(e){var r;return(0,t.jsxs)("button",Or({type:"button",role:"menuitem","data-testid":e.id,className:ot()(Ir.item,Ir.subMenuItem,(r={},r[Ir.active]=e.id===n,r)),onClick:function(){null==s||s(e.id),o()}},{children:[(0,t.jsx)(Cr,{}),(0,t.jsx)("span",Or({lang:e.languageCode},{children:e.label}))]}),e.id)}))]}))}function xr(t,e){return e?{id:e.id,label:t("ui.menu.item.quality.item",{height:e.height})}:{id:wn,label:t("ui.menu.item.quality.auto")}}function Lr(t,e,r){var n=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}([],e.map((function(e){var r=e.id,n=e.height;return{id:r,label:t("ui.menu.item.quality.item",{height:n})}})),!0);return r&&n.push({id:wn,label:t("ui.menu.item.quality.auto")}),n}function Nr(t,e,r,n){var i={id:"",label:t("ui.subtitles.menu-item.label.off")};if(n&&r){var s=Mr(t,e,r),o=s.label,a=s.languageCode;i={id:r.languageCode,label:o,languageCode:a}}return i}function Dr(t,e,r){var n=r.map((function(r){var n=Mr(t,e,r),i=n.label,s=n.languageCode;return{id:r.id,label:i,languageCode:s}}));return n.length>0&&n.unshift({id:"",label:t("ui.subtitles.menu-item.label.off"),languageCode:void 0}),n}function Mr(t,e,r){var n="lang.".concat(r.languageCode).toLowerCase(),i=e.exists(n);return{label:i?t(n):r.englishLabel,languageCode:i?void 0:"en"}}var Br=function(){return Br=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Br.apply(this,arguments)},jr="ArrowUp",Fr="ArrowDown",Ur="ArrowLeft",Hr="ArrowRight",qr="Escape",Vr=[jr,Fr,Ur,Hr,qr];function Gr(r){var n=r.isOpen,i=r.chosenSubtitleId,s=r.subtitles,o=r.subtitlesEnabled,a=r.chosenQualityId,l=r.qualities,u=r.autoQualityOptionAvailable,c=r.chosenPlaybackSpeedId,h=r.playbackSpeeds,p=r.playerWrapperRef,f=r.hidePlaybackSpeed,d=r.onSetSubtitle,g=r.onSetQuality,v=r.onSetPlaybackSpeed,m=r.onClose,y=it(),b=y.t,E=y.i18n,w=(0,e.useRef)(null),A=(0,e.useRef)(!1),S=Ce(p),T=S.height-(S.bottom-Ce(p,w).bottom),I=(0,e.useState)("main"),P=I[0],k=I[1],R=We(P),C=null==s?void 0:s.find((function(t){return t.id===i})),O=null==l?void 0:l.find((function(t){return t.id===a})),_=null==h?void 0:h.find((function(t){return t.id===c}));!function(t,r,n){(0,e.useEffect)((function(){var e=function(e){var i=e.target;t.current&&!t.current.contains(i)&&i.getAttribute("name")!==n&&r()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,r,n])}(w,m,"menu-button");var x=function(){k("main")},L=function(){var t,e;null===(e=null===(t=w.current)||void 0===t?void 0:t.querySelectorAll("button"))||void 0===e||e[0].focus()};return(0,e.useEffect)((function(){R&&("main"!==R&&"main"===P&&function(t){var e;(null===(e=w.current)||void 0===e?void 0:e.querySelector('[data-goto="'.concat(t,'"]'))).focus()}(R),"main"===R&&"main"!==P&&L())}),[P,R]),(0,e.useEffect)((function(){var t;n&&(null===(t=w.current)||void 0===t||t.focus())}),[n]),(0,e.useEffect)((function(){var t=w.current;if(t){var e=function(t){var e,r,n,i,s;if(!A.current)return A.current=!0,void L();switch(t.key){case jr:null===(r=null===(e=document.activeElement)||void 0===e?void 0:e.previousElementSibling)||void 0===r||r.focus();break;case Fr:null===(i=null===(n=document.activeElement)||void 0===n?void 0:n.nextElementSibling)||void 0===i||i.focus();break;case Ur:k("main");break;case Hr:var o=null===(s=document.activeElement)||void 0===s?void 0:s.getAttribute("data-goto");"string"==typeof o&&k(o);break;case qr:m()}Vr.includes(t.key)&&t.preventDefault()};return t.addEventListener("keydown",e),function(){t.removeEventListener("keydown",e)}}}),[P,m]),(0,t.jsx)("div",Br({ref:w,className:ot()(Ir.wrapper,!n&&Ir.closed),tabIndex:-1},{children:(0,t.jsxs)("div",Br({className:Ir.scroller,style:{maxHeight:T},"data-testid":"settings-menu-scroll-container"},{children:["main"===P&&(0,t.jsxs)("div",Br({role:"menu",className:Ir.menu,"data-testid":"settings-menu"},{children:[s&&s.length>0&&(0,t.jsx)(kr,{hasSubMenu:s.length>1,goTo:"subtitle",label:b("ui.menu.item.subtitle"),menuOption:Nr(b,E,C,o),onClick:k,tabIndex:n?0:-1}),l&&(0,t.jsx)(kr,{hasSubMenu:l.length>1,goTo:"quality",label:b("ui.menu.item.quality"),menuOption:xr(b,O),onClick:k,tabIndex:n?0:-1}),!f&&(0,t.jsx)(kr,{hasSubMenu:!0,goTo:"speed",label:b("ui.menu.item.speed"),menuOption:_,onClick:k,tabIndex:n?0:-1})]})),"subtitle"===P&&s&&(0,t.jsx)(_r,{label:b("ui.menu.item.subtitle"),chosenItemId:o?i:"",menuOptions:Dr(b,E,s),dataTestId:"subtitle-menu",onChooseItem:d,onGoBack:x}),"quality"===P&&l&&(0,t.jsx)(_r,{label:b("ui.menu.item.quality"),chosenItemId:a,menuOptions:Lr(b,l,u),dataTestId:"quality-menu",onChooseItem:g,onGoBack:x}),"speed"===P&&(0,t.jsx)(_r,{label:b("ui.menu.item.speed"),chosenItemId:c,menuOptions:h,dataTestId:"speed-menu",onChooseItem:v,onGoBack:x})]}))}))}var zr=function(){return zr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},zr.apply(this,arguments)},Wr=function(){return(0,t.jsx)("svg",zr({width:"20",height:"20",viewBox:"0 0 20 20",fill:"#fff","data-testid":"gear-icon"},{children:(0,t.jsx)("path",{d:"M10 13.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm7.43-2.53a7.77 7.77 0 0 0 0-1.97l2.11-1.63a.5.5 0 0 0 .12-.64l-2-3.46a.5.5 0 0 0-.61-.22l-2.49 1a7.25 7.25 0 0 0-1.69-.98L12.5.42A.5.5 0 0 0 12 0H8a.5.5 0 0 0-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1a.5.5 0 0 0-.61.22l-2 3.46a.5.5 0 0 0 .12.64L2.57 9a7.77 7.77 0 0 0 0 1.97L.46 12.63a.5.5 0 0 0-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65A.5.5 0 0 0 8 20h4a.5.5 0 0 0 .5-.42l.37-2.65a7.28 7.28 0 0 0 1.69-.99l2.49 1.01a.5.5 0 0 0 .61-.22l2-3.46a.5.5 0 0 0-.12-.64l-2.11-1.66Z"})}))},Xr=__webpack_require__(4032),Qr={};Qr.styleTagTransform=yt(),Qr.setAttributes=dt(),Qr.insert=pt().bind(null,"head"),Qr.domAPI=ct(),Qr.insertStyleElement=vt(),lt()(Xr.Z,Qr);var Zr=Xr.Z&&Xr.Z.locals?Xr.Z.locals:void 0,Kr=function(){return Kr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Kr.apply(this,arguments)};function Yr(e){var r,n=e.isActive,i=e.onClick,s=(0,it().t)(n?"ui.menu.button.label.active":"ui.menu.button.label.inactive");return(0,t.jsxs)("button",Kr({"data-testid":"settings-menu-button",type:"button",name:"menu-button","aria-expanded":n,"aria-haspopup":"true",className:ot()(Ot.button,Zr.menuButton,(r={},r[Zr.active]=n,r)),onClick:i},{children:[(0,t.jsx)(St,{children:s}),(0,t.jsx)(Wr,{})]}))}var Jr=__webpack_require__(5725),$r={};$r.styleTagTransform=yt(),$r.setAttributes=dt(),$r.insert=pt().bind(null,"head"),$r.domAPI=ct(),$r.insertStyleElement=vt(),lt()(Jr.Z,$r);var tn=Jr.Z&&Jr.Z.locals?Jr.Z.locals:void 0,en=function(){return en=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},en.apply(this,arguments)};function rn(){return(0,t.jsx)("div",en({className:tn.wrapper},{children:(0,t.jsxs)("div",en({className:tn.spinner},{children:[(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{})]}))}))}var nn=function(){return nn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},nn.apply(this,arguments)};function sn(e){var r=e.isPlaying,n=void 0!==r&&r,i=e.onClick,s=e.className,o=it().t;return n?(0,t.jsxs)("button",nn({type:"button",name:"stop-button",className:ot()(s,Ot.button),onClickCapture:i},{children:[(0,t.jsx)(St,{children:o("ui.play-live.button.label.active")}),(0,t.jsx)(Xt,{})]})):(0,t.jsxs)("button",nn({type:"button",name:"play-button",className:ot()(s,Ot.button),onClickCapture:i},{children:[(0,t.jsx)(St,{children:o("ui.play-live.button.label.inactive")}),(0,t.jsx)(ue,{})]}))}var on=__webpack_require__(1691),an={};an.styleTagTransform=yt(),an.setAttributes=dt(),an.insert=pt().bind(null,"head"),an.domAPI=ct(),an.insertStyleElement=vt(),lt()(on.Z,an);var ln=on.Z&&on.Z.locals?on.Z.locals:void 0,un=function(){return un=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},un.apply(this,arguments)},cn=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}([],Array(20),!0).map((function(t){return"".concat((void 0===e&&(e=.5),void 0===r&&(r=1),Math.random()*(r-e)+e),"s");var e,r}));function hn(r){var n=r.isPlaying,i=r.isStopped,s=(0,e.useMemo)((function(){return cn.map((function(e,r){return(0,t.jsx)("div",{className:ln.bar,style:{animationDuration:e,animationPlayState:n&&!i?"running":"paused"}},r)}))}),[n,i]);return(0,t.jsx)("div",un({className:ln.waveform,"data-is-playing":n,"data-is-stopped":i,"data-testid":"waveform"},{children:s}))}var pn=__webpack_require__(8009),fn={};fn.styleTagTransform=yt(),fn.setAttributes=dt(),fn.insert=pt().bind(null,"head"),fn.domAPI=ct(),fn.insertStyleElement=vt(),lt()(pn.Z,fn);var dn=pn.Z&&pn.Z.locals?pn.Z.locals:void 0,gn=function(){return gn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gn.apply(this,arguments)};function vn(e){var r=e.isPlaying,n=void 0!==r&&r,i=e.isStopped,s=void 0===i||i,o=e.imageUrl,a=it().t;return o?(0,t.jsx)("img",{src:o,alt:a("ui.audio-image-overlay.alt"),className:dn.image,"data-testid":"audio-image-overlay"}):(0,t.jsx)("div",gn({className:dn.wrapper,"data-testid":"audio-animation-overlay"},{children:(0,t.jsx)(hn,{isPlaying:n,isStopped:s})}))}var mn=__webpack_require__(7297),yn={};yn.styleTagTransform=yt(),yn.setAttributes=dt(),yn.insert=pt().bind(null,"head"),yn.domAPI=ct(),yn.insertStyleElement=vt(),lt()(mn.Z,yn);var bn=mn.Z&&mn.Z.locals?mn.Z.locals:void 0,En=function(){return En=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},En.apply(this,arguments)},wn="auto";function An(r){var n,i,s=r.isMobile,o=void 0!==s&&s,a=r.isPlaying,l=void 0!==a&&a,u=r.isStopped,c=void 0===u||u,h=r.logoUrl,p=void 0===h?"":h,f=r.title,d=void 0===f?"":f,g=r.currentTime,v=void 0===g?0:g,m=r.totalTime,y=void 0===m?0:m,b=r.bufferPercentage,E=void 0===b?0:b,w=r.stepButtonsAreVisible,A=void 0!==w&&w,S=r.isLooping,T=void 0!==S&&S,I=r.volume,P=void 0===I?1:I,k=r.isFullscreen,R=void 0!==k&&k,C=r.liveUI,O=void 0!==C&&C,_=r.audioOnly,x=void 0!==_&&_,L=r.audioOnlyImageUrl,N=void 0===L?"":L,D=r.subtitlesEnabled,M=void 0!==D&&D,B=r.subtitle,j=void 0===B?"":B,F=r.customPrimaryColor,U=void 0===F?"":F,H=r.subtitleOptionId,q=void 0===H?"":H,V=r.subtitleOptions,G=void 0===V?[]:V,z=r.qualityId,W=void 0===z?"":z,X=r.qualities,Q=void 0===X?[]:X,Z=r.autoQualityOptionAvailable,K=void 0===Z||Z,Y=r.playbackSpeedId,J=void 0===Y?"":Y,$=r.playbackSpeeds,tt=void 0===$?[]:$,et=r.storyboard,rt=r.isTrimmable,nt=void 0!==rt&&rt,st=r.trimStartTime,at=void 0===st?0:st,lt=r.trimEndTime,ut=void 0===lt?0:lt,ct=r.muted,ht=void 0!==ct&&ct,pt=r.hideLogo,ft=void 0!==pt&&pt,dt=r.hideTitle,gt=void 0!==dt&&dt,vt=r.hidePlayButton,mt=void 0!==vt&&vt,yt=r.hideTimeline,bt=void 0!==yt&&yt,Et=r.hideVolumeInput,wt=void 0!==Et&&Et,At=r.hideTimer,St=void 0!==At&&At,Tt=r.hideLoopButton,It=void 0!==Tt&&Tt,Pt=r.hideSubtitlesButton,kt=void 0!==Pt&&Pt,Rt=r.hideMenu,Ct=void 0!==Rt&&Rt,Ot=r.hideFullscreenButton,_t=void 0!==Ot&&Ot,Lt=r.hidePlaybackSpeed,Nt=void 0!==Lt&&Lt,Dt=r.onPlayButtonClick,Mt=r.onTimelineDrag,Bt=r.onBackButtonClick,jt=r.onForwardButtonClick,Ut=r.onLoopButtonClick,Ht=r.onVolumeChange,qt=r.onToggleMute,Gt=r.onFullscreenButtonClick,zt=r.onSubtitlesButtonClick,Wt=r.onSetSubtitle,Xt=r.onSetQuality,Qt=r.onSetPlaybackSpeed,Zt=r.onTrimStartTimeChange,Kt=r.onTrimEndTimeChange,Yt=it().t,Jt=(0,e.useRef)(null),$t=(0,e.useRef)(null),te=function(t,r){void 0===r&&(r=3e3);var n=(0,e.useRef)(),i=(0,e.useState)(!1),s=i[0],o=i[1];return(0,e.useEffect)((function(){var e=null==t?void 0:t.current;if(e){var i=function(){clearTimeout(n.current),o(!0),n.current=window.setTimeout((function(){o(!1)}),r)},s=function(){clearTimeout(n.current),o(!1)};return e.addEventListener("mousemove",i),e.addEventListener("mouseleave",s),function(){clearTimeout(n.current),e.removeEventListener("mousemove",i),e.removeEventListener("mouseleave",s)}}}),[t,r]),s}(Jt),ee=function(t){var r=(0,e.useState)(!1),n=r[0],i=r[1],s=function(){return i(!0)},o=function(){return i(!1)};return(0,e.useEffect)((function(){var e=null==t?void 0:t.current;if(e)return e.addEventListener("mouseover",s),e.addEventListener("mouseout",o),function(){e.removeEventListener("mouseover",s),e.removeEventListener("mouseout",o)}}),[t]),n}($t),re=Ce(Jt).width,ne=(0,e.useState)(!1),ie=ne[0],se=ne[1],oe=function(){se((function(t){return!t}))},le=function(){se(!1)},ue=l&&!te,ce=!ft&&""!==p,pe=!gt&&""!==d,ge=!bt&&y>0,ve=o&&!Ct,me=ce||pe||ve,ye=M&&""!==j,Ee=ee||!ue,we=nt&&!O?(0,t.jsx)(er,{wrapper:Jt.current,isPlaying:l,startTime:at,endTime:ut,currentTime:v,totalTime:y,storyboard:et,onChange:Mt,onTrimStartTimeChange:Zt,onTrimEndTimeChange:Kt}):(0,t.jsx)(Fe,{currentTime:v,totalTime:y,bufferPercentage:E,liveUI:O,isMobile:o,storyboard:et,onChange:Mt}),Ae=(0,t.jsxs)("div",En({className:bn.buttonsSection},{children:[!O&&!St&&(0,t.jsx)(ze,{currentTime:v,totalTime:O?void 0:y}),(0,t.jsxs)("div",En({className:bn.timelineWrapper},{children:[ge&&(0,t.jsx)(e.Suspense,En({fallback:null},{children:we})),!kt&&(0,t.jsx)(Se,{isActive:M,onClick:zt}),!_t&&(0,t.jsx)(xt,{isFullscreen:R,onClick:Gt})]}))]})),Te=(0,t.jsxs)(t.Fragment,{children:[ge&&(0,t.jsx)(e.Suspense,En({fallback:null},{children:we})),(0,t.jsxs)("div",En({className:bn.buttonsSection},{children:[!O&&A&&(0,t.jsx)(fe,{className:"left-side",onClick:Bt}),O&&!mt&&(0,t.jsx)(sn,{className:"left-side",isPlaying:l,onClick:Dt}),!O&&!mt&&(0,t.jsx)(he,{className:"left-side",isPlaying:l,onClick:Dt}),!O&&A&&(0,t.jsx)(de,{className:"left-side",onClick:jt}),!wt&&(0,t.jsx)(br,{className:"left-side",value:P,muted:ht,onChange:Ht,onToggleMute:qt}),O&&(0,t.jsx)(Ft,{className:"left-side"}),!O&&!St&&(0,t.jsx)(ze,{className:"left-side",currentTime:v,totalTime:O?void 0:y}),!O&&!It&&(0,t.jsx)(Vt,{className:"right-side",isLooping:T,onClick:Ut}),!kt&&(0,t.jsx)(Se,{className:"right-side",isActive:M,onClick:zt}),!Ct&&(0,t.jsxs)("div",En({className:ot()("right-side",bn.menuButtonWrapper)},{children:[(0,t.jsx)(Yr,{isActive:ie,onClick:oe}),(0,t.jsx)(Gr,{isOpen:ie,chosenSubtitleId:q,subtitles:G,subtitlesEnabled:M,chosenQualityId:W,qualities:Q,autoQualityOptionAvailable:K,chosenPlaybackSpeedId:J,playbackSpeeds:tt,playerWrapperRef:Jt,hidePlaybackSpeed:O||Nt,onSetSubtitle:Wt,onSetQuality:Xt,onSetPlaybackSpeed:Qt,onClose:le})]})),!_t&&(0,t.jsx)(xt,{className:"right-side",isFullscreen:R,onClick:Gt})]}))]});return(0,t.jsxs)("div",En({ref:Jt,className:ot()(bn.wrapper,{mobile:o,desktop:!o,menuIsOpen:ie}),style:U?{"--primaryColor":U}:void 0,"data-testid":"player-wrapper"},{children:[(0,t.jsx)(rn,{}),me&&(0,t.jsxs)("div",En({className:ot()(bn.topBar,(n={},n[bn.hidden]=!nt&&ue,n)),"data-testid":"top-bar"},{children:[ce&&(0,t.jsx)("img",{src:p,alt:Yt("ui.video-logo.alt")}),pe&&(0,t.jsx)("span",{children:d}),ve&&(0,t.jsx)(Yr,{isActive:ie,onClick:oe})]})),x&&(0,t.jsx)(vn,{imageUrl:N,isPlaying:l,isStopped:c}),!o&&!ie&&(0,t.jsx)(ar,{isPlaying:l,onClick:Dt}),(0,t.jsx)("div",En({ref:$t,className:ot()(bn.bottomBar,(i={},i[bn.hidden]=!nt&&ue,i)),"data-testid":"bottom-bar"},{children:o?Ae:Te})),ye&&(0,t.jsx)(be,En({withSpaceForBottomBar:Ee,wrapperWidth:re},{children:j})),o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ae,{isPlaying:l,liveUI:O,isHidden:ue,onPlayClick:Dt,onBackButtonClick:Bt,onForwardButtonClick:jt}),(0,t.jsx)(Gr,{isOpen:ie,chosenSubtitleId:q,subtitles:G,subtitlesEnabled:M,chosenQualityId:W,qualities:Q,autoQualityOptionAvailable:K,chosenPlaybackSpeedId:J,playbackSpeeds:tt,playerWrapperRef:Jt,hidePlaybackSpeed:O||Nt,onSetSubtitle:Wt,onSetQuality:Xt,onSetPlaybackSpeed:Qt,onClose:le})]})]}))}var Sn,Tn,In=function(){return In=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},In.apply(this,arguments)},Pn=function(){return(0,t.jsx)("svg",In({width:"50",height:"50",viewBox:"0 0 50 50",fill:"var(--primaryColor)","data-testid":"crying-face-icon"},{children:(0,t.jsx)("path",{d:"M14.3 44.3a5.9 5.9 0 0 1-5.9-5.8c0-2.6 2.9-7.5 5.9-11.5 3 4 5.9 8.9 5.9 11.5a5.9 5.9 0 0 1-6 5.8ZM25 .8A24.2 24.2 0 0 0 3.8 36.6a24 24 0 0 1 2.6-6.4 19.3 19.3 0 1 1 18.6 14h-1.7a10.6 10.6 0 0 1-4.7 4c2 .7 4.2 1 6.4 1A24.2 24.2 0 1 0 25 .8Zm0 29c-1 0-2 .1-2.9.3a33 33 0 0 1 2.2 4.6h.7c3 0 5.6 1.2 6.7 3l3.4-3.5A13.1 13.1 0 0 0 25 29.8Zm8.5-14.5c-2 0-3.7 1.7-3.7 3.7 0 1.9 1.7 3.6 3.7 3.6 1.9 0 3.6-1.7 3.6-3.6 0-2-1.7-3.7-3.6-3.7ZM20.2 19c0-2-1.7-3.7-3.7-3.7a3.7 3.7 0 0 0-3.6 3.7c0 1.9 1.7 3.6 3.6 3.6 2 0 3.7-1.7 3.7-3.6Z"})}))},kn=(Sn=function(t,e){return Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Sn(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Sn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function Rn(t){switch(t.code){case 0:return Tn.MEDIA_ERR_CUSTOM;case 1:return Tn.MEDIA_ERR_ABORTED;case 2:return Tn.MEDIA_ERR_NETWORK;case 3:return Tn.MEDIA_ERR_DECODE;case 4:return Tn.MEDIA_ERR_SRC_NOT_SUPPORTED;case 5:return Tn.MEDIA_ERR_ENCRYPTED;default:return Tn.MEDIA_ERR_UNKNOWN}}!function(t){t.PLAYER_ERR_NOT_VALID="PLAYER_ERR_NOT_VALID",t.PLAYER_ERR_NOT_SUPPORTED="PLAYER_ERR_NOT_SUPPORTED",t.PLAYER_ERR_EVENT_NOT_SUPPORTED="PLAYER_ERR_EVENT_NOT_SUPPORTED",t.UNKNOWN="UNKNOWN",t.MEDIA_ERR_CUSTOM="MEDIA_ERR_CUSTOM",t.MEDIA_ERR_ABORTED="MEDIA_ERR_ABORTED",t.MEDIA_ERR_NETWORK="MEDIA_ERR_NETWORK",t.MEDIA_ERR_DECODE="MEDIA_ERR_DECODE",t.MEDIA_ERR_SRC_NOT_SUPPORTED="MEDIA_ERR_SRC_NOT_SUPPORTED",t.MEDIA_ERR_ENCRYPTED="MEDIA_ERR_ENCRYPTED",t.MEDIA_ERR_UNKNOWN="MEDIA_ERR_UNKNOWN"}(Tn||(Tn={}));var Cn=function(t){function e(e,r){var n=t.call(this,r)||this;return n.code=e,n.name="PlayerError",n}return kn(e,t),e}(Error),On=__webpack_require__(8696),_n={};_n.styleTagTransform=yt(),_n.setAttributes=dt(),_n.insert=pt().bind(null,"head"),_n.domAPI=ct(),_n.insertStyleElement=vt(),lt()(On.Z,_n);var xn,Ln,Nn=On.Z&&On.Z.locals?On.Z.locals:void 0,Dn=function(){return Dn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Dn.apply(this,arguments)};function Mn(e){var r=e.onReloadSources,n=e.mediaError,i=it().t,s=function(t){switch(t){case Tn.MEDIA_ERR_ABORTED:return{label:"ui.error.aborted.label",canReloadSources:!0};case Tn.MEDIA_ERR_NETWORK:return{label:"ui.error.network.label",canReloadSources:!0};case Tn.MEDIA_ERR_DECODE:return{label:"ui.error.decode.label",canReloadSources:!0};case Tn.MEDIA_ERR_SRC_NOT_SUPPORTED:return{label:"ui.error.not.supported.label",canReloadSources:!1};case Tn.MEDIA_ERR_ENCRYPTED:return{label:"ui.error.encrypted.label",canReloadSources:!1};default:return{label:"ui.error.unexpected.label",canReloadSources:!0}}}(Rn(n)),o=s.label,a=s.canReloadSources;return(0,t.jsxs)("div",Dn({className:Nn.wrapper,"data-testid":"error-wrapper"},{children:[(0,t.jsx)(Pn,{}),o&&(0,t.jsx)("span",Dn({role:"alert"},{children:i(o)})),a&&(0,t.jsx)("span",Dn({role:"link",className:Nn.link,onClick:function(){return r()}},{children:i("ui.retry.button.label")}))]}))}function Bn(t,e){return void 0===e&&(e=""),Array.from(t.remoteTextTracks()).find((function(t){return"subtitles"===t.kind&&t.id===e}))}!function(t){t.TIMED_METADATA="custom::timedmetadata",t.UI_LOADED="custom::uiloaded"}(xn||(xn={})),function(t){t.ABORT="abort",t.CAN_PLAY="canplay",t.CAN_PLAY_THROUGH="canplaythrough",t.CONTROLS_DISABLED="controlsdisabled",t.CONTROLS_ENABLED="controlsenabled",t.DISPOSE="dispose",t.DURATION_CHANGE="durationchange",t.EMPTIED="emptied",t.ENDED="ended",t.ENTER_FULL_WINDOW="enterFullWindow",t.ENTER_PICTURE_IN_PICTURE="enterpictureinpicture",t.ERROR="error",t.EXIT_FULL_WINDOW="exitFullWindow",t.FIRST_PLAY="firstplay",t.FULLSCREEN_CHANGE="fullscreenchange",t.FULLSCREEN_ERROR="fullscreenerror",t.LANGUAGE_CHANGE="languagechange",t.LEAVE_PICTURE_IN_PICTURE="leavepictureinpicture",t.LOAD_START="loadstart",t.LOADED_DATA="loadeddata",t.LOADED_METADATA="loadedmetadata",t.PAUSE="pause",t.PLAY="play",t.PLAYBACK_RATES_CHANGE="playbackrateschange",t.PLAYING="playing",t.POSTER_CHANGE="posterchange",t.PROGRESS="progress",t.RATE_CHANGE="ratechange",t.RESIZE="resize",t.SEEKED="seeked",t.SEEKING="seeking",t.SOURCE_SET="sourceset",t.STALLED="stalled",t.SUSPEND="suspend",t.TEXT_DATA="textdata",t.TEXT_TRACK_CHANGE="texttrackchange",t.TIME_UPDATE="timeupdate",t.USER_ACTIVE="useractive",t.USER_INACTIVE="userinactive",t.USING_CUSTOM_CONTROLS="usingcustomcontrols",t.USING_NATIVE_CONTROLS="usingnativecontrols",t.VOLUME_CHANGE="volumechange",t.WAITING="waiting",t.ADD_TRACK="addtrack",t.CUE_CHANGE="cuechange"}(Ln||(Ln={}));var jn,Fn;!function(t){t.MP4="video/mp4",t.WEBM="video/webm",t.APPLE_HLS="application/vnd.apple.mpegurl",t.HLS="application/x-mpegURL"}(jn||(jn={})),function(t){t.PLAY="play",t.PAUSE="pause",t.TIMED_METADATA="timedmetadata",t.TIME_UPDATE="timeupdate",t.SEEKED="seeked",t.ENDED="ended",t.LOADED_METADATA="loadedmetadata"}(Fn||(Fn={}));var Un=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))};function Hn(t){return t===jn.APPLE_HLS||t===jn.HLS}function qn(t){return Array.from(t).reduce((function(t,e){var r="".concat(e.height,"p");return!t.some((function(t){return t.id===r}))&&e.height&&t.push({id:r,height:e.height}),t}),[])}function Vn(t,e){return"".concat(e.height).localeCompare("".concat(t.height),void 0,{numeric:!0,sensitivity:"base"})}function Gn(t){var r=(0,e.useState)(t),n=r[0],i=r[1],s=(0,e.useRef)(n);return(0,e.useEffect)((function(){s.current=n}),[n]),[s,n,i]}var zn=-1!==document.cookie.search("gpc=1;"),Wn=navigator.globalPrivacyControl||zn||navigator.doNotTrack&&("yes"===navigator.doNotTrack||"1"===navigator.doNotTrack);var Xn=function(){return Xn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Xn.apply(this,arguments)};function Qn(t,e,r){var n=Xn({event:t},r);fetch("".concat(e,"?").concat(function(t){var e=[];for(var r in t)e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}(n)),{method:"GET"})}var Zn,Kn=__webpack_require__(2866),Yn=(__webpack_require__(5350),function(){return Yn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Yn.apply(this,arguments)}),Jn=Kn.adapters.Videojs.extend({getPlayerVersion:function(){return"9.3.0"}});var $n=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(t){return function(e){return e.test(t)}}(r),s={apple:{phone:i(m)&&!i(I),ipod:i(y),tablet:!i(m)&&(i(b)||x(e))&&!i(I),universal:i(E),device:(i(m)||i(y)||i(b)||i(E)||x(e))&&!i(I)},amazon:{phone:i(S),tablet:!i(S)&&i(T),device:i(S)||i(T)},android:{phone:!i(I)&&i(S)||!i(I)&&i(w),tablet:!i(I)&&!i(S)&&!i(w)&&(i(T)||i(A)),device:!i(I)&&(i(S)||i(T)||i(w)||i(A))||i(/\bokhttp\b/i)},windows:{phone:i(I),tablet:i(P),device:i(I)||i(P)},other:{blackberry:i(k),blackberry10:i(R),opera:i(C),firefox:i(_),chrome:i(O),device:i(k)||i(R)||i(C)||i(_)||i(O)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}(window.navigator).phone,ti=function(r){var n=r.player,i=r.playerOptions,s=it(),o=s.i18n,a=s.t,l=(0,e.useState)(i.tracks),c=l[0],h=l[1],p=i.settings;(0,e.useEffect)((function(){n.trigger(xn.UI_LOADED)}),[n]),function(t,r,n){(0,e.useEffect)((function(){if(!Wn&&n&&r.videoId){var e=r.videoId,i=!1,s=!1,o=0,a=function(){s=!1,t.off(Ln.ENDED,p),window.removeEventListener("pagehide",u),window.removeEventListener("unload",u),window.removeEventListener("beforeunload",u),window.removeEventListener("visibilitychange",l)},l=function(){"hidden"===document.visibilityState&&u()},u=function(){i||(Qn("exit",n.url,{"video-id":e,"current-time":"".concat(o)}),i=!0)},c=function(){o=t.currentTime()},h=function(){Qn("play",n.url,{"video-id":e,url:document.location.href}),s=!0,t.one(Ln.ENDED,p),"onpagehide"in window?window.addEventListener("pagehide",u):(window.addEventListener("unload",u),window.addEventListener("beforeunload",u)),window.addEventListener("visibilitychange",l)},p=function(){u(),a(),t.one(Ln.PLAY,h)};return t.on(Ln.TIME_UPDATE,c),t.one(Ln.PLAY,h),Qn("view",n.url,{"video-id":e,url:document.location.href}),function(){s&&u(),t.off(Ln.TIME_UPDATE,c),t.off(Ln.PLAY,h),a()}}}),[t,n,r])}(n,i.metadata,i.plugins.miJavaAnalytics),function(t,r){(0,e.useEffect)((function(){if(!Wn&&r){var e=function(){n.setOptions({"content.isLive":"".concat(t.duration()===1/0)})},n=function(t){return Zn||(Zn=new Kn.Plugin(Yn({"content.customDimension.4":document.location.href,"content.customDimension.5":document.referrer?document.referrer:"Direct access without referrer / Referrer information not available"},t)),Kn.Util.logAllEvents(Zn)),Zn}(r);return n.setAdapter(new Jn(t)),t.on(Ln.LOADED_METADATA,e),function(){t.off(Ln.LOADED_METADATA,e),n.removeAdapter()}}}),[t,r])}(n,i.plugins.youboraAnalytics);var f=(0,e.useState)(void 0),d=f[0],g=f[1],v=function(t,r){var n=(0,e.useState)([]),i=n[0],s=n[1];return(0,e.useEffect)((function(){var e,n=function(){var t=qn(e).sort(Vn);s(t)},i=function(){if(Hn(t.currentType())){var i=qn(e=t.qualityLevels()).sort(Vn);s(i),e.on("addqualitylevel",n)}else if(r){var o=function(t){return Object.keys(t).map((function(t){return{id:t,height:Number(t.replace("p",""))}}))}(r).sort(Vn);s(o)}};return t.on(Ln.LOAD_START,i),function(){t.off(Ln.LOAD_START,i),e&&e.off("addqualitylevel",n)}}),[t,r]),i}(n,i.sources.progressive),m=n.currentSource().src,y=(0,e.useMemo)((function(){return function(t,e){if(t.sources.hls)return wn;var r=e;if(void 0!==r&&t.sources.progressive){var n=function(t,e){return Object.keys(e).find((function(r){return void 0!==e[r].find((function(e){return e.src===t}))}))}(r,t.sources.progressive);if(n)return n}}(i,m)}),[i,m]),b=(0,e.useState)(0),E=b[0],w=b[1],A=function(t){var e;w(t),n.currentTime((void 0===(e=t)&&(e=0),isFinite(e)?e/1e3:0))},S=(0,e.useState)((function(){return Ie(n.duration())})),T=S[0],I=S[1],P=(0,e.useState)((function(){return n.volume(p.volume),p.volume})),k=P[0],R=P[1],C=(0,e.useState)((function(){return n.muted()})),O=C[0],_=C[1],x=(0,e.useState)((function(){return n.isFullscreen()})),L=x[0],N=x[1],D=(0,e.useState)((function(){return!n.paused()})),M=D[0],B=D[1],j=(0,e.useState)((function(){return n.bufferedPercent()})),F=j[0],U=j[1],H=(0,e.useState)((function(){return n.ended()})),q=H[0],V=H[1],G=(0,e.useState)((function(){return n.loop(p.looping),p.looping})),z=G[0],W=G[1],X=Gn(0),Q=X[0],Z=X[1],K=X[2],Y=Gn(0),J=Y[0],$=Y[1],tt=Y[2],et=(0,e.useState)(!1),rt=et[0],nt=et[1],st=(0,e.useState)((function(){return ei(c)})),ot=st[0],at=st[1],lt=(0,e.useState)((function(){return ri(o.resolvedLanguage,c)})),ut=lt[0],ct=lt[1],ht=function(t,r,n,i){var s=(0,e.useState)(null),o=s[0],a=s[1],l=(0,e.useRef)();return(0,e.useEffect)((function(){var e=!1;if(i){var s=r.find((function(t){return t.id===n&&"subtitles"===t.kind}));return s&&function(t,r){var n=Bn(t,r.id);n?(o(n),u(n)):t.addRemoteTextTrack(r,!1).addEventListener("load",(function(){if(!e&&i&&t){var n=Bn(t,r.id);n&&(o(n),u(n),(s=n).addEventListener("cuechange",(function(){u(s)})))}var s}),{once:!0})}(t,s),function(){var t;e=!0,l.current&&(t=l.current,l.current=void 0,t.mode="disabled",a(null))}}function o(t){l.current=t,t.mode="showing"}function u(t){if(t&&t.activeCues){var e=t.activeCues[0];a(e?{text:e.text}:null)}}}),[t,r,n,i]),o}(n,c,ut,rt),pt=function(t){t&&ct(t),nt(Boolean(t))},ft=function(t){return[{id:"0.25",label:"0.25"},{id:"0.5",label:"0.5"},{id:"0.75",label:"0.75"},{id:"1",label:t("ui.menu.item.speed.normal")},{id:"1.25",label:"1.25"},{id:"1.5",label:"1.5"},{id:"1.75",label:"1.75"},{id:"2",label:"2"}]}(a),dt=(0,e.useState)("1"),gt=dt[0],vt=dt[1];(0,e.useEffect)((function(){at(ei(c)),ct(ri(o.resolvedLanguage,c))}),[c,o]);var mt=(0,e.useState)(void 0),yt=mt[0],bt=mt[1];return function(t){(0,e.useEffect)((function(){if(t){var e,r,n=function(){if(console.log("a safari cue change was triggered"),e.activeCues){var r=function(t){var e=[];return Array.from(t).forEach((function(t){var r;"org.id3"===(null==(r=t)?void 0:r.type)&&e.push({value:t.value.data,start:t.startTime,end:t.endTime})})),e}(e.activeCues);r.length>0&&(console.log("A timed metadata event was triggered",r),t.trigger(xn.TIMED_METADATA,r))}},i=function(t){var r=t.track;console.log("native add track called"),"metadata"===(null==r?void 0:r.kind)&&(console.log("track was metadata"),null==e||e.removeEventListener(Ln.CUE_CHANGE,n),(e=r).mode="hidden",e.addEventListener(Ln.CUE_CHANGE,n))},s=function(){if(console.log("a cue videojs change was triggered"),e.activeCues){var r=function(t){var e=[];return Array.from(t).forEach((function(t){if(null===(i=null==(n=t)?void 0:n.value)||void 0===i?void 0:i.data){var r=(new TextDecoder).decode(t.value.data).replace("","").replace("\0","");e.push({value:r,start:t.startTime,end:t.endTime})}var n,i})),e}(e.activeCues);r.length>0&&(console.log("A timed metadata event was triggered",r),t.trigger(xn.TIMED_METADATA,r))}},o=function(t){var r=t.track;console.log("native add track called"),"metadata"===(null==r?void 0:r.kind)&&"Timed Metadata"===r.label&&(console.log("track was metadata and timed metadata"),null==e||e.removeEventListener(Ln.CUE_CHANGE,s),(e=r).mode="hidden",e.addEventListener(Ln.CUE_CHANGE,s))};return u().browser.IS_ANY_SAFARI?(console.log("This is safari"),(r=t.tech({IWillNotUseThisInPlugins:!0}).el()).textTracks.addEventListener(Ln.ADD_TRACK,i)):(console.log("This is not safari"),console.log("Track length",t.textTracks().length),t.remoteTextTracks().addEventListener(Ln.ADD_TRACK,o)),function(){null==r||r.textTracks.removeEventListener(Ln.ADD_TRACK,i),null==e||e.removeEventListener(Ln.CUE_CHANGE,n),t.textTracks().removeEventListener(Ln.ADD_TRACK,o),null==e||e.removeEventListener(Ln.CUE_CHANGE,s)}}}),[t])}(n),(0,e.useEffect)((function(){var t=i.settings,e=function(){var t=Ie(n.duration());I(t),tt(t)},r=function(){R(n.volume()),_(n.muted())},s=function(){w(Ie(n.currentTime()))},o=function(){B(!0),V(!1)},a=function(){return B(!1)},l=function(){return e()},u=function(){return e()},c=function(){return N(n.isFullscreen())},p=function(){return U(n.bufferedPercent())},f=function(){return V(!0)},d=function(t){return bt(t)};if(n.on(Ln.PLAY,o),n.on(Ln.PAUSE,a),n.on(Ln.VOLUME_CHANGE,r),n.on(Ln.TIME_UPDATE,s),n.on(Ln.FULLSCREEN_CHANGE,c),n.on(Ln.PROGRESS,p),n.on(Ln.ENDED,f),n.on(Ln.ERROR,d),n.on(Ln.DURATION_CHANGE,l),n.on(Ln.LOAD_START,u),i.onReady){var g={setTextTracks:h,handleSubtitleSelection:pt,setStartTime:K,setEndTime:tt,getTrimStartTime:function(){return Q.current},getTrimEndTime:function(){return J.current},options:{defaultVolume:t.volume}},v=function(t,e){var r={play:[],pause:[],timedmetadata:[],timeupdate:[],seeked:[],ended:[],loadedmetadata:[]},n=function(){r[Fn.PLAY].forEach((function(t){return t()}))},i=function(){r[Fn.PAUSE].forEach((function(t){return t()}))},s=function(){r[Fn.TIME_UPDATE].forEach((function(t){return t()}))},o=function(){r[Fn.SEEKED].forEach((function(t){return t()}))},a=function(){r[Fn.ENDED].forEach((function(t){return t()}))},l=function(t,e){r[Fn.TIMED_METADATA].forEach((function(t){return t({metadata:e})}))},u=function(){r[Fn.LOADED_METADATA].forEach((function(t){return t()}))};return{play:function(){var e=t.play();return new Promise((function(t,r){e?e.then(t).catch((function(t){return r(new Cn(Rn(t),t.message))})):r(new Cn(Tn.PLAYER_ERR_NOT_SUPPORTED,"Play method did not return a promise"))}))},pause:function(){t.pause()},getCurrentTime:function(){return t.currentTime()},setCurrentTime:function(e){t.currentTime(e)},getTrimStartTime:function(){return e.getTrimStartTime()},setTrimStartTime:function(t){e.setStartTime(t)},getTrimEndTime:function(){return e.getTrimEndTime()},setTrimEndTime:function(t){e.setEndTime(t)},addSubtitle:function(r){return new Promise((function(n,i){!function(t,e){return!(!1===[void 0,null,""].includes(null==e?void 0:e.id)&&Boolean(t.find((function(t){return t.id===e.id}))))&&"subtitles"===e.kind&&Boolean(e.label)&&Boolean(e.src)&&Boolean(e.srclang)}(Array.from(t.remoteTextTracks()),r)?i(new Cn(Tn.PLAYER_ERR_NOT_VALID,"Subtitle object is not valid")):(e.setTextTracks((function(t){return Un(Un([],t,!0),[r],!1)})),n())}))},removeSubtitles:function(){Array.from(t.remoteTextTracks()).forEach((function(e){return t.removeRemoteTextTrack(e)})),e.setTextTracks([])},setSelectedSubtitle:function(t){e.handleSubtitleSelection(t)},getPaused:function(){return t.paused()},setMuted:function(r){t.muted(r),!r&&t.volume()<=0&&t.volume(e.options.defaultVolume)},getMuted:function(){return t.muted()},getVolume:function(){return t.volume()},setVolume:function(e){var r;"number"==typeof(r=e)&&0<=r&&r<=1&&(t.volume(e),t.muted(e<=0))},hasEnded:function(){return t.ended()},getDuration:function(){return t.duration()},addEventListener:function(e,c){r.hasOwnProperty(e)&&c&&"function"==typeof c&&(0===r[e].length&&function(e){switch(e){case Fn.PLAY:t.on(Ln.PLAY,n);break;case Fn.PAUSE:t.on(Ln.PAUSE,i);break;case Fn.TIME_UPDATE:t.on(Ln.TIME_UPDATE,s);break;case Fn.SEEKED:t.on(Ln.SEEKED,o);break;case Fn.ENDED:t.on(Ln.ENDED,a);break;case Fn.TIMED_METADATA:t.on(xn.TIMED_METADATA,l);break;case Fn.LOADED_METADATA:t.on(Ln.LOADED_METADATA,u)}}(e),r[e].push(c))},removeEventListener:function(e,c){if(r.hasOwnProperty(e)&&c&&"function"==typeof c){var h=r[e].indexOf(c);-1!==h&&r[e].splice(h,1),0===r[e].length&&function(e){switch(e){case Fn.PLAY:t.off(Ln.PLAY,n);break;case Fn.PAUSE:t.off(Ln.PAUSE,i);break;case Fn.TIME_UPDATE:t.off(Ln.TIME_UPDATE,s);break;case Fn.SEEKED:t.off(Ln.SEEKED,o);break;case Fn.ENDED:t.off(Ln.ENDED,a);break;case Fn.TIMED_METADATA:t.off(xn.TIMED_METADATA,l);break;case Fn.LOADED_METADATA:t.off(Ln.LOADED_METADATA,u)}}(e)}}}}(n,g);i.onReady(v)}return function(){n.off(Ln.PLAY,o),n.off(Ln.PAUSE,a),n.off(Ln.VOLUME_CHANGE,r),n.off(Ln.TIME_UPDATE,s),n.off(Ln.FULLSCREEN_CHANGE,c),n.off(Ln.PROGRESS,p),n.off(Ln.ENDED,f),n.off(Ln.ERROR,d),n.off(Ln.DURATION_CHANGE,l),n.off(Ln.LOAD_START,u)}}),[n,i,K,tt,Q,J]),yt?(0,t.jsx)(Mn,{mediaError:yt,onReloadSources:function(){bt(void 0),n.src(n.currentSources())}}):(0,t.jsx)(An,{hideFullscreenButton:p.hideFullscreenButton,hideLogo:p.hideLogo,hideLoopButton:p.hideLoopButton,hideMenu:p.hideMenu,hidePlayButton:p.hidePlayButton,hideSubtitlesButton:!ot.length,hideTimeline:p.hideTimeline,hideTimer:p.hideTimer,hideTitle:p.hideTitle,hideVolumeInput:p.hideVolumeInput,hidePlaybackSpeed:p.hidePlaybackSpeed,customPrimaryColor:p.primaryColor,isFullscreen:L,isMobile:$n,liveUI:p.liveUI,isPlaying:M,isStopped:q,isLooping:z,audioOnly:p.audioOnly,audioOnlyImageUrl:p.audioOnlyImageUrl,isTrimmable:p.trimmable,bufferPercentage:F,currentTime:E,logoUrl:p.logoUrl,playbackSpeedId:gt,playbackSpeeds:ft,qualities:v,autoQualityOptionAvailable:Hn(n.currentType()),qualityId:d||y,stepButtonsAreVisible:p.stepButtonsAreVisible,storyboard:i.storyboard,subtitle:null==ht?void 0:ht.text,subtitleOptionId:ut,subtitleOptions:ot,subtitlesEnabled:rt,title:i.metadata.title,totalTime:T,trimEndTime:$,trimStartTime:Z,volume:k,muted:O,onBackButtonClick:function(){var t=Ie(n.currentTime());A(ke(t-1e4,0,T))},onForwardButtonClick:function(){var t=Ie(n.currentTime());A(ke(t+1e4,0,T))},onFullscreenButtonClick:function(){n.isFullscreen()?n.exitFullscreen():n.requestFullscreen()},onPlayButtonClick:function(){n.paused()?(n.play(),n.duration()===1/0&&n.liveTracker.seekToLiveEdge()):n.pause()},onLoopButtonClick:function(){W(!z),n.loop(!z)},onSetPlaybackSpeed:function(t){var e=Number(t);vt(t),n.playbackRate(e)},onSetSubtitle:pt,onSetQuality:function(t){(function(t,e,r,n){return Hn(t.currentType())?function(t,e){return Array.from(t.qualityLevels()).forEach((function(t){t.enabled=e===wn||"".concat(t.height,"p")===e})),Promise.resolve()}(t,e):function(t,e,r,n){var i=e===wn?r[n]:r[e];return t.src(i),function(t){var e=t.currentTime(),r=t.playbackRate(),n=t.paused();return new Promise((function(i,s){t.one(Ln.TIME_UPDATE,(function(){t.currentTime(e),t.playbackRate(r),n?i():t.play().then(i).catch(s)}))}))}(t)}(t,e,r.sources.progressive,n[0].id)})(n,t,i,v).then((function(){g(t)}))},onSubtitlesButtonClick:function(){nt((function(t){return!t}))},onTimelineDrag:A,onTrimEndTimeChange:tt,onTrimStartTimeChange:K,onVolumeChange:function(t){n.volume(t),n.muted(t<=0)},onToggleMute:function(t){n.muted(t),!t&&n.volume()<=0&&n.volume(p.volume)}})};function ei(t){return t.map((function(t){return{id:t.id,languageCode:t.srclang,englishLabel:t.label}}))}function ri(t,e){var r=t.split("-")[0],n=e.find((function(t){return t.srclang.includes(r)}))||e.find(Boolean);return(null==n?void 0:n.id)||""}function ni(t){var r=t.i18n,n=t.defaultNS,i=t.children,s=(0,e.useMemo)((function(){return{i18n:r,defaultNS:n}}),[r,n]);return(0,e.createElement)(W.Provider,{value:s},i)}var ii=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),si=function(){return si=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},si.apply(this,arguments)},oi=function(r){function n(t,e,n){var i=r.call(this,t)||this;return i.vjsPlayer=t,i.playerOptions=e,i.i18nInstance=n,i.init(),i}return ii(n,r),n.prototype.init=function(){var r=this;this.player().ready((function(){return(0,v.createRoot)(r.el()).render((0,t.jsx)(e.StrictMode,{children:(0,t.jsx)(ni,si({i18n:r.i18nInstance},{children:(0,t.jsx)(ti,{player:r.vjsPlayer,playerOptions:r.playerOptions})}))}))}))},n}(u().getComponent("Component"));function ai(t){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(t)}function li(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ui(t,e){return ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ui(t,e)}function ci(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ui(t,e)}function hi(t,e){if(e&&("object"===ai(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pi(t)}function fi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fi(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var gi={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},vi=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};F(this,t),this.init(e,r)}return H(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||gi,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,r,n){return n&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,di(di({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}]),t}(),mi=new vi,yi=function(){function t(){F(this,t),this.observers={}}return H(t,[{key:"on",value:function(t,e){var r=this;return t.split(" ").forEach((function(t){r.observers[t]=r.observers[t]||[],r.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(this.observers[t]){var i=[].concat(this.observers[t]);i.forEach((function(t){t.apply(void 0,r)}))}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach((function(e){e.apply(e,[t].concat(r))}))}}}]),t}();function bi(){var t,e,r=new Promise((function(r,n){t=r,e=n}));return r.resolve=t,r.reject=e,r}function Ei(t){return null==t?"":""+t}function wi(t,e,r){t.forEach((function(t){e[t]&&(r[t]=e[t])}))}function Ai(t,e,r){function n(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var s="string"!=typeof e?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=n(s.shift());!t[o]&&r&&(t[o]=new r),t=Object.prototype.hasOwnProperty.call(t,o)?t[o]:{}}return i()?{}:{obj:t,k:n(s.shift())}}function Si(t,e,r){var n=Ai(t,e,Object);n.obj[n.k]=r}function Ti(t,e){var r=Ai(t,e),n=r.obj,i=r.k;if(n)return n[i]}function Ii(t,e,r){var n=Ti(t,r);return void 0!==n?n:Ti(e,r)}function Pi(t,e,r){for(var n in e)"__proto__"!==n&&"constructor"!==n&&(n in t?"string"==typeof t[n]||t[n]instanceof String||"string"==typeof e[n]||e[n]instanceof String?r&&(t[n]=e[n]):Pi(t[n],e[n],r):t[n]=e[n]);return t}function ki(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ri={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ci(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return Ri[t]})):t}var Oi="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,_i=[" ",",","?","!",";"];function xi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xi(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ni(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,s=0;s<n.length;++s){if(!i)return;if("string"==typeof i[n[s]]&&s+1<n.length)return;if(void 0===i[n[s]]){for(var o=2,a=n.slice(s,s+o).join(r),l=i[a];void 0===l&&n.length>s+o;)o++,l=i[a=n.slice(s,s+o).join(r)];if(void 0===l)return;if(null===l)return null;if(e.endsWith(a)){if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a]}var u=n.slice(s+o).join(r);return u?Ni(l,u,r):void 0}i=i[n[s]]}return i}}var Di=function(t){ci(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=pi(e);if(r){var i=pi(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return hi(this,t)});function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return F(this,i),e=n.call(this),Oi&&yi.call(li(e)),e.data=t||{},e.options=r,void 0===e.options.keySeparator&&(e.options.keySeparator="."),void 0===e.options.ignoreJSONStructure&&(e.options.ignoreJSONStructure=!0),e}return H(i,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,s=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[t,e];r&&"string"!=typeof r&&(o=o.concat(r)),r&&"string"==typeof r&&(o=o.concat(i?r.split(i):r)),t.indexOf(".")>-1&&(o=t.split("."));var a=Ti(this.data,o);return a||!s||"string"!=typeof r?a:Ni(this.data&&this.data[t]&&this.data[t][e],r,i)}},{key:"addResource",value:function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=this.options.keySeparator;void 0===s&&(s=".");var o=[t,e];r&&(o=o.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(n=e,e=(o=t.split("."))[1]),this.addNamespaces(e),Si(this.data,o,n),i.silent||this.emit("added",t,e,r,n)}},{key:"addResources",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in r)"string"!=typeof r[i]&&"[object Array]"!==Object.prototype.toString.apply(r[i])||this.addResource(t,e,i,r[i],{silent:!0});n.silent||this.emit("added",t,e,r)}},{key:"addResourceBundle",value:function(t,e,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[t,e];t.indexOf(".")>-1&&(n=r,r=e,e=(o=t.split("."))[1]),this.addNamespaces(e);var a=Ti(this.data,o)||{};n?Pi(a,r,i):a=Li(Li({},a),r),Si(this.data,o,a),s.silent||this.emit("added",t,e,r)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Li(Li({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(yi),Mi={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,r,n,i){var s=this;return t.forEach((function(t){s.processors[t]&&(e=s.processors[t].process(e,r,n,i))})),e}};function Bi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bi(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Fi={},Ui=function(t){ci(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=pi(e);if(r){var i=pi(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return hi(this,t)});function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return F(this,i),e=n.call(this),Oi&&yi.call(li(e)),wi(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,li(e)),e.options=r,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=mi.create("translator"),e}return H(i,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var r=this.resolve(t,e);return r&&void 0!==r.res}},{key:"extractFromKey",value:function(t,e){var r=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");var n=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS||[],s=r&&t.indexOf(r)>-1,o=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,r){e=e||"",r=r||"";var n=_i.filter((function(t){return e.indexOf(t)<0&&r.indexOf(t)<0}));if(0===n.length)return!0;var i=new RegExp("(".concat(n.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}(t,r,n));if(s&&!o){var a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:i};var l=t.split(r);(r!==n||r===n&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),t=l.join(n)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,e,r){var n=this;if("object"!==ai(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var s=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,a=this.extractFromKey(t[t.length-1],e),l=a.key,u=a.namespaces,c=u[u.length-1],h=e.lng||this.language,p=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(p){var f=e.nsSeparator||this.options.nsSeparator;return s?(d.res="".concat(c).concat(f).concat(l),d):"".concat(c).concat(f).concat(l)}return s?(d.res=l,d):l}var d=this.resolve(t,e),g=d&&d.res,v=d&&d.usedKey||l,m=d&&d.exactUsedKey||l,y=Object.prototype.toString.apply(g),b=["[object Number]","[object Function]","[object RegExp]"],E=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,A="string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g;if(w&&g&&A&&b.indexOf(y)<0&&("string"!=typeof E||"[object Array]"!==y)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,g,ji(ji({},e),{},{ns:u})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return s?(d.res=S,d):S}if(o){var T="[object Array]"===y,I=T?[]:{},P=T?m:v;for(var k in g)if(Object.prototype.hasOwnProperty.call(g,k)){var R="".concat(P).concat(o).concat(k);I[k]=this.translate(R,ji(ji({},e),{joinArrays:!1,ns:u})),I[k]===R&&(I[k]=g[k])}g=I}}else if(w&&"string"==typeof E&&"[object Array]"===y)(g=g.join(E))&&(g=this.extendTranslation(g,t,e,r));else{var C=!1,O=!1,_=void 0!==e.count&&"string"!=typeof e.count,x=i.hasDefaultValue(e),L=_?this.pluralResolver.getSuffix(h,e.count,e):"",N=e["defaultValue".concat(L)]||e.defaultValue;!this.isValidLookup(g)&&x&&(C=!0,g=N),this.isValidLookup(g)||(O=!0,g=l);var D=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,M=D&&O?void 0:g,B=x&&N!==g&&this.options.updateMissing;if(O||C||B){if(this.logger.log(B?"updateKey":"missingKey",h,c,l,B?N:g),o){var j=this.resolve(l,ji(ji({},e),{},{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var H=0;H<U.length;H++)F.push(U[H]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(e.lng||this.language):F.push(e.lng||this.language);var q=function(t,r,i){var s=x&&i!==g?i:M;n.options.missingKeyHandler?n.options.missingKeyHandler(t,c,r,s,B,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,c,r,s,B,e),n.emit("missingKey",t,c,r,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?F.forEach((function(t){n.pluralResolver.getSuffixes(t,e).forEach((function(r){q([t],l+r,e["defaultValue".concat(r)]||N)}))})):q(F,l,N))}g=this.extendTranslation(g,t,e,d,r),O&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(c,":").concat(l)),(O||C)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(l):l,C?g:void 0):this.options.parseMissingKeyHandler(g))}return s?(d.res=g,d):g}},{key:"extendTranslation",value:function(t,e,r,n,i){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,ji(ji({},this.options.interpolation.defaultVariables),r),n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(ji(ji({},r),{interpolation:ji(ji({},this.options.interpolation),r.interpolation)}));var o,a="string"==typeof t&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var l=t.match(this.interpolator.nestingRegexp);o=l&&l.length}var u=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(u=ji(ji({},this.options.interpolation.defaultVariables),u)),t=this.interpolator.interpolate(t,u,r.lng||this.language,r),a){var c=t.match(this.interpolator.nestingRegexp);o<(c&&c.length)&&(r.nest=!1)}!1!==r.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i&&i[0]===n[0]&&!r.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(e[0])),null):s.translate.apply(s,n.concat([e]))}),r)),r.interpolation&&this.interpolator.reset()}var h=r.postProcess||this.options.postProcess,p="string"==typeof h?[h]:h;return null!=t&&p&&p.length&&!1!==r.applyPostProcessor&&(t=Mi.handle(p,t,e,this.options&&this.options.postProcessPassResolved?ji({i18nResolved:n},r):r,this)),t}},{key:"resolve",value:function(t){var e,r,n,i,s,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!o.isValidLookup(e)){var l=o.extractFromKey(t,a),u=l.key;r=u;var c=l.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,p=h&&!a.ordinal&&0===a.count&&o.pluralResolver.shouldUseIntlApi(),f=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,d=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);c.forEach((function(t){o.isValidLookup(e)||(s=t,!Fi["".concat(d[0],"-").concat(t)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(s)&&(Fi["".concat(d[0],"-").concat(t)]=!0,o.logger.warn('key "'.concat(r,'" for languages "').concat(d.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach((function(r){if(!o.isValidLookup(e)){i=r;var s,l=[u];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(l,u,r,t,a);else{var c;h&&(c=o.pluralResolver.getSuffix(r,a.count,a));var d="".concat(o.options.pluralSeparator,"zero");if(h&&(l.push(u+c),p&&l.push(u+d)),f){var g="".concat(u).concat(o.options.contextSeparator).concat(a.context);l.push(g),h&&(l.push(g+c),p&&l.push(g+d))}}for(;s=l.pop();)o.isValidLookup(e)||(n=s,e=o.getResource(r,t,s,a))}})))}))}})),{res:e,usedKey:r,exactUsedKey:n,usedLng:i,usedNS:s}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,r,n):this.resourceStore.getResource(t,e,r,n)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e===r.substring(0,e.length)&&void 0!==t[r])return!0;return!1}}]),i}(yi);function Hi(t){return t.charAt(0).toUpperCase()+t.slice(1)}var qi=function(){function t(e){F(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mi.create("languageUtils")}return H(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map((function(t){return t.toLowerCase()})):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=Hi(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),e.indexOf(r[1].toLowerCase())>-1&&(r[1]=Hi(r[1].toLowerCase())),e.indexOf(r[2].toLowerCase())>-1&&(r[2]=Hi(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,r=this;return t?(t.forEach((function(t){if(!e){var n=r.formatLanguageCode(t);r.options.supportedLngs&&!r.isSupportedCode(n)||(e=n)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var n=r.getLanguagePartFromCode(t);if(r.isSupportedCode(n))return e=n;e=r.options.supportedLngs.find((function(t){if(0===t.indexOf(n))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var r=t[e];return r||(r=t[this.getScriptPartFromCode(e)]),r||(r=t[this.formatLanguageCode(e)]),r||(r=t[this.getLanguagePartFromCode(e)]),r||(r=t.default),r||[]}},{key:"toResolveHierarchy",value:function(t,e){var r=this,n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],s=function(t){t&&(r.isSupportedCode(t)?i.push(t):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(t))):"string"==typeof t&&s(this.formatLanguageCode(t)),n.forEach((function(t){i.indexOf(t)<0&&s(r.formatLanguageCode(t))})),i}}]),t}(),Vi=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Gi={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},zi=["v1","v2","v3"],Wi={zero:0,one:1,two:2,few:3,many:4,other:5};function Xi(){var t={};return Vi.forEach((function(e){e.lngs.forEach((function(r){t[r]={numbers:e.nr,plurals:Gi[e.fc]}}))})),t}var Qi=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};F(this,t),this.languageUtils=e,this.options=r,this.logger=mi.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xi()}return H(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(t,e);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,r).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((function(t,e){return Wi[t]-Wi[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):n.numbers.map((function(n){return e.getSuffix(t,n,r)})):[]}},{key:"getSuffix",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(t,r);return n?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.select(e)):this.getSuffixRetroCompatible(n,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var r=this,n=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),i=t.numbers[n];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var s=function(){return r.options.prepend&&i.toString()?r.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}},{key:"shouldUseIntlApi",value:function(){return!zi.includes(this.options.compatibilityJSON)}}]),t}();function Zi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zi(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Yi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F(this,t),this.logger=mi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return H(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:Ci,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?ki(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?ki(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?ki(e.nestingPrefix):e.nestingPrefixEscaped||ki("$t("),this.nestingSuffix=e.nestingSuffix?ki(e.nestingSuffix):e.nestingSuffixEscaped||ki(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(t,e,r,n){var i,s,o,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(a.formatSeparator)<0){var i=Ii(e,l,t);return a.alwaysFormat?a.format(i,void 0,r,Ki(Ki(Ki({},n),e),{},{interpolationkey:t})):i}var s=t.split(a.formatSeparator),o=s.shift().trim(),u=s.join(a.formatSeparator).trim();return a.format(Ii(e,l,o),u,r,Ki(Ki(Ki({},n),e),{},{interpolationkey:o}))};this.resetRegExp();var h=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,p=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return u(t)}},{regex:this.regexp,safeValue:function(t){return a.escapeValue?u(a.escape(t)):u(t)}}].forEach((function(e){for(o=0;i=e.regex.exec(t);){var r=i[1].trim();if(void 0===(s=c(r)))if("function"==typeof h){var l=h(t,i,n);s="string"==typeof l?l:""}else if(n&&n.hasOwnProperty(r))s="";else{if(p){s=i[0];continue}a.logger.warn("missed to pass in variable ".concat(r," for interpolating ").concat(t)),s=""}else"string"==typeof s||a.useRawValueToEscape||(s=Ei(s));var u=e.safeValue(s);if(t=t.replace(i[0],u),p?(e.regex.lastIndex+=s.length,e.regex.lastIndex-=i[0].length):e.regex.lastIndex=0,++o>=a.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var r,n,i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Ki({},s);function a(t,e){var r=this.nestingOptionsSeparator;if(t.indexOf(r)<0)return t;var n=t.split(new RegExp("".concat(r,"[ ]*{"))),i="{".concat(n[1]);t=n[0];var s=(i=this.interpolate(i,o)).match(/'/g),a=i.match(/"/g);(s&&s.length%2==0&&!a||a.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),e&&(o=Ki(Ki({},e),o))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(r).concat(i)}return delete o.defaultValue,t}for(o.applyPostProcessor=!1,delete o.defaultValue;r=this.nestingRegexp.exec(t);){var l=[],u=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){var c=r[1].split(this.formatSeparator).map((function(t){return t.trim()}));r[1]=c.shift(),l=c,u=!0}if((n=e(a.call(this,r[1].trim(),o),o))&&r[0]===t&&"string"!=typeof n)return n;"string"!=typeof n&&(n=Ei(n)),n||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(t)),n=""),u&&(n=l.reduce((function(t,e){return i.format(t,e,s.lng,Ki(Ki({},s),{},{interpolationkey:r[1].trim()}))}),n.trim())),t=t.replace(r[0],n),this.regexp.lastIndex=0}return t}}]),t}();function Ji(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ji(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ji(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ts(t){var e={};return function(r,n,i){var s=n+JSON.stringify(i),o=e[s];return o||(o=t(n,i),e[s]=o),o(r)}}var es=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F(this,t),this.logger=mi.create("formatter"),this.options=e,this.formats={number:ts((function(t,e){var r=new Intl.NumberFormat(t,e);return function(t){return r.format(t)}})),currency:ts((function(t,e){var r=new Intl.NumberFormat(t,$i($i({},e),{},{style:"currency"}));return function(t){return r.format(t)}})),datetime:ts((function(t,e){var r=new Intl.DateTimeFormat(t,$i({},e));return function(t){return r.format(t)}})),relativetime:ts((function(t,e){var r=new Intl.RelativeTimeFormat(t,$i({},e));return function(t){return r.format(t,e.range||"day")}})),list:ts((function(t,e){var r=new Intl.ListFormat(t,$i({},e));return function(t){return r.format(t)}}))},this.init(e)}return H(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=e.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"addCached",value:function(t,e){this.formats[t.toLowerCase().trim()]=ts(e)}},{key:"format",value:function(t,e,r,n){var i=this;return e.split(this.formatSeparator).reduce((function(t,e){var s=function(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);"currency"===e&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):"relativetime"===e&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach((function(t){if(t){var e=function(t){return L(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||D(t)||M()}(t.split(":")),n=e[0],i=e.slice(1).join(":").trim().replace(/^'+|'+$/g,"");r[n.trim()]||(r[n.trim()]=i),"false"===i&&(r[n.trim()]=!1),"true"===i&&(r[n.trim()]=!0),isNaN(i)||(r[n.trim()]=parseInt(i,10))}}))}return{formatName:e,formatOptions:r}}(e),o=s.formatName,a=s.formatOptions;if(i.formats[o]){var l=t;try{var u=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},c=u.locale||u.lng||n.locale||n.lng||r;l=i.formats[o](t,c,$i($i($i({},a),n),u))}catch(t){i.logger.warn(t)}return l}return i.logger.warn("there was no format function for ".concat(o)),t}),t)}}]),t}();function rs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rs(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var is=function(t){ci(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=pi(e);if(r){var i=pi(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return hi(this,t)});function i(t,e,r){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return F(this,i),s=n.call(this),Oi&&yi.call(li(s)),s.backend=t,s.store=e,s.services=r,s.languageUtils=r.languageUtils,s.options=o,s.logger=mi.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=o.maxParallelReads||10,s.readingCalls=0,s.maxRetries=o.maxRetries>=0?o.maxRetries:5,s.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(r,o.backend,o),s}return H(i,[{key:"queueLoad",value:function(t,e,r,n){var i=this,s={},o={},a={},l={};return t.forEach((function(t){var n=!0;e.forEach((function(e){var a="".concat(t,"|").concat(e);!r.reload&&i.store.hasResourceBundle(t,e)?i.state[a]=2:i.state[a]<0||(1===i.state[a]?void 0===o[a]&&(o[a]=!0):(i.state[a]=1,n=!1,void 0===o[a]&&(o[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===l[e]&&(l[e]=!0)))})),n||(a[t]=!0)})),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(t,e,r){var n=t.split("|"),i=n[0],s=n[1];e&&this.emit("failedLoading",i,s,e),r&&this.store.addResourceBundle(i,s,r),this.state[t]=e?-1:2;var o={};this.queue.forEach((function(r){!function(t,e,r,n){var i=Ai(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],s[o].push(r)}(r.loaded,[i],s),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(r,t),e&&r.errors.push(e),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach((function(t){o[t]||(o[t]={});var e=r.loaded[t];e.length&&e.forEach((function(e){void 0===o[t][e]&&(o[t][e]=!0)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;return t.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:t,ns:e,fcName:r,tried:i,wait:s,callback:o}):(this.readingCalls++,this.backend[r](t,e,(function(a,l){if(n.readingCalls--,n.waitingReads.length>0){var u=n.waitingReads.shift();n.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}a&&l&&i<n.maxRetries?setTimeout((function(){n.read.call(n,t,e,r,i+1,2*s,o)}),s):o(a,l)}))):o(null,{})}},{key:"prepareLoading",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var s=this.queueLoad(t,e,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach((function(t){r.loadOne(t)}))}},{key:"load",value:function(t,e,r){this.prepareLoading(t,e,{},r)}},{key:"reload",value:function(t,e,r){this.prepareLoading(t,e,{reload:!0},r)}},{key:"loadOne",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(function(n,o){n&&e.logger.warn("".concat(r,"loading namespace ").concat(s," for language ").concat(i," failed"),n),!n&&o&&e.logger.log("".concat(r,"loaded namespace ").concat(s," for language ").concat(i),o),e.loaded(t,n,o)}))}},{key:"saveMissing",value:function(t,e,r,n,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=r&&""!==r&&(this.backend&&this.backend.create&&this.backend.create(t,e,r,n,null,ns(ns({},s),{},{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,r,n))}}]),i}(yi);function ss(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===ai(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===ai(t[2])||"object"===ai(t[3])){var r=t[3]||t[2];Object.keys(r).forEach((function(t){e[t]=r[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,r,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function os(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function as(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ls(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?as(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):as(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function us(){}function cs(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}))}var hs=function(t){ci(i,t);var e,r,n=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=pi(e);if(r){var i=pi(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return hi(this,t)});function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(F(this,i),t=n.call(this),Oi&&yi.call(li(t)),t.options=os(e),t.services={},t.logger=mi,t.modules={external:[]},cs(li(t)),r&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,r),hi(t,li(t));setTimeout((function(){t.init(e,r)}),0)}return t}return H(i,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(r=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var n=ss();function i(t){return t?"function"==typeof t?new t:t:null}if(this.options=ls(ls(ls({},n),this.options),os(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ls(ls({},n.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var s;this.modules.logger?mi.init(i(this.modules.logger),this.options):mi.init(null,this.options),this.modules.formatter?s=this.modules.formatter:"undefined"!=typeof Intl&&(s=es);var o=new qi(this.options);this.store=new Di(this.options.resources,this.options);var a=this.services;a.logger=mi,a.resourceStore=this.store,a.languageUtils=o,a.pluralResolver=new Qi(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!s||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(a.formatter=i(s),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Yi(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new is(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.emit.apply(t,[e].concat(n))})),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new Ui(this.services,this.options),this.translator.on("*",(function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.emit.apply(t,[e].concat(n))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,r||(r=us),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(e){t[e]=function(){var r;return(r=t.store)[e].apply(r,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(e){t[e]=function(){var r;return(r=t.store)[e].apply(r,arguments),t}}));var h=bi(),p=function(){var e=function(e,n){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),h.resolve(n),r(e,n)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),h}},{key:"loadResources",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:us,n=r,i="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var s=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){s.indexOf(t)<0&&s.push(t)}))};if(i)o(i);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(t){return o(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return o(t)})),this.services.backendConnector.load(s,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),n(t)}))}else n(null)}},{key:"reloadResources",value:function(t,e,r){var n=bi();return t||(t=this.languages),e||(e=this.options.ns),r||(r=us),this.services.backendConnector.reload(t,e,(function(t){n.resolve(),r(t)})),n}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&Mi.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var r=this.languages[e];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}},{key:"changeLanguage",value:function(t,e){var r=this;this.isLanguageChangingTo=t;var n=bi();this.emit("languageChanging",t);var i=function(t){r.language=t,r.languages=r.services.languageUtils.toResolveHierarchy(t),r.resolvedLanguage=void 0,r.setResolvedLanguage(t)},s=function(s){t||s||!r.services.languageDetector||(s=[]);var o="string"==typeof s?s:r.services.languageUtils.getBestMatchFromCodes(s);o&&(r.language||i(o),r.translator.language||r.translator.changeLanguage(o),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage(o)),r.loadResources(o,(function(t){!function(t,s){s?(i(s),r.translator.changeLanguage(s),r.isLanguageChangingTo=void 0,r.emit("languageChanged",s),r.logger.log("languageChanged",s)):r.isLanguageChangingTo=void 0,n.resolve((function(){return r.t.apply(r,arguments)})),e&&e(t,(function(){return r.t.apply(r,arguments)}))}(t,o)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(t,e,r){var n=this,i=function t(e,i){var s;if("object"!==ai(i)){for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];s=n.options.overloadTranslationOptionHandler([e,i].concat(a))}else s=ls({},i);s.lng=s.lng||t.lng,s.lngs=s.lngs||t.lngs,s.ns=s.ns||t.ns,s.keyPrefix=s.keyPrefix||r||t.keyPrefix;var u=n.options.keySeparator||".",c=s.keyPrefix?"".concat(s.keyPrefix).concat(u).concat(e):e;return n.t(c,s)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i.keyPrefix=r,i}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var o=function(t,r){var n=e.services.backendConnector.state["".concat(t,"|").concat(r)];return-1===n||2===n};if(r.precheck){var a=r.precheck(this,o);if(void 0!==a)return a}return!(!this.hasResourceBundle(n,t)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!o(n,t)||i&&!o(s,t)))}},{key:"loadNamespaces",value:function(t,e){var r=this,n=bi();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){r.options.ns.indexOf(t)<0&&r.options.ns.push(t)})),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var r=bi();"string"==typeof t&&(t=[t]);var n=this.options.preload||[],i=t.filter((function(t){return n.indexOf(t)<0}));return i.length?(this.options.preload=n.concat(i),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:us,n=ls(ls(ls({},this.options),e),{isClone:!0}),s=new i(n);void 0===e.debug&&void 0===e.prefix||(s.logger=s.logger.clone(e));var o=["store","services","language"];return o.forEach((function(e){s[e]=t[e]})),s.services=ls({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new Ui(s.services,s.options),s.translator.on("*",(function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];s.emit.apply(s,[t].concat(r))})),s.init(n,r),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(yi);j(hs,"createInstance",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new hs(t,e)}));var ps=hs.createInstance();ps.createInstance=hs.createInstance,ps.createInstance,ps.init,ps.loadResources,ps.reloadResources,ps.use,ps.changeLanguage,ps.getFixedT,ps.t,ps.exists,ps.setDefaultNamespace,ps.hasLoadedNamespace,ps.loadNamespaces,ps.loadLanguages;var fs=ps;function ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var vs=[],ms=vs.forEach,ys=vs.slice;function bs(t){return ms.call(ys.call(arguments,1),(function(e){if(e)for(var r in e)void 0===t[r]&&(t[r]=e[r])})),t}var Es=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ws=function(t,e,r){var n=r||{};n.path=n.path||"/";var i=encodeURIComponent(e),s="".concat(t,"=").concat(i);if(n.maxAge>0){var o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+="; Max-Age=".concat(Math.floor(o))}if(n.domain){if(!Es.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain=".concat(n.domain)}if(n.path){if(!Es.test(n.path))throw new TypeError("option path is invalid");s+="; Path=".concat(n.path)}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s},As={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&"undefined"!=typeof document){var r=function(t){for(var e="".concat(t,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}(t.lookupCookie);r&&(e=r)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*r*1e3)),n&&(i.domain=n),document.cookie=ws(t,encodeURIComponent(e),i)}(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain,e.cookieOptions)}},Ss={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var n=r.substring(1).split("&"),i=0;i<n.length;i++){var s=n[i].indexOf("=");s>0&&n[i].substring(0,s)===t.lookupQuerystring&&(e=n[i].substring(s+1))}}return e}},Ts=null,Is=function(){if(null!==Ts)return Ts;try{Ts="undefined"!==window&&null!==window.localStorage;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(t){Ts=!1}return Ts},Ps={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&Is()){var r=window.localStorage.getItem(t.lookupLocalStorage);r&&(e=r)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&Is()&&window.localStorage.setItem(e.lookupLocalStorage,t)}},ks=null,Rs=function(){if(null!==ks)return ks;try{ks="undefined"!==window&&null!==window.sessionStorage;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(t){ks=!1}return ks},Cs={name:"sessionStorage",lookup:function(t){var e;if(t.lookupSessionStorage&&Rs()){var r=window.sessionStorage.getItem(t.lookupSessionStorage);r&&(e=r)}return e},cacheUserLanguage:function(t,e){e.lookupSessionStorage&&Rs()&&window.sessionStorage.setItem(e.lookupSessionStorage,t)}},Os={name:"navigator",lookup:function(t){var e=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)e.push(navigator.languages[r]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return e.length>0?e:void 0}},_s={name:"htmlTag",lookup:function(t){var e,r=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(e=r.getAttribute("lang")),e}},xs={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof r[t.lookupFromPathIndex])return;e=r[t.lookupFromPathIndex].replace("/","")}else e=r[0].replace("/","")}return e}},Ls={name:"subdomain",lookup:function(t){var e="number"==typeof t.lookupFromSubdomainIndex?t.lookupFromSubdomainIndex+1:1,r="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[e]}},Ns=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ds(this,t),this.type="languageDetector",this.detectors={},this.init(e,r)}var e,r;return e=t,r=[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=bs(e,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(As),this.addDetector(Ss),this.addDetector(Ps),this.addDetector(Cs),this.addDetector(Os),this.addDetector(_s),this.addDetector(xs),this.addDetector(Ls)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this;t||(t=this.options.order);var r=[];return t.forEach((function(t){if(e.detectors[t]){var n=e.detectors[t].lookup(e.options);n&&"string"==typeof n&&(n=[n]),n&&(r=r.concat(n))}})),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var r=this;e||(e=this.options.caches),e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||e.forEach((function(e){r.detectors[e]&&r.detectors[e].cacheUserLanguage(t,r.options)})))}}],r&&gs(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();Ns.type="languageDetector";var Ds=JSON.parse('{"ui.fullscreen.button.label.active":"Turn fullscreen off","ui.fullscreen.button.label.inactive":"Turn fullscreen on","ui.live-badge.text":"Live","ui.loop.button.label.active":"Turn loop off","ui.loop.button.label.inactive":"Loop video","ui.menu.button.label.active":"Close settings","ui.menu.button.label.inactive":"Open settings","ui.menu.item.subtitle":"Subtitle / CC","ui.menu.item.quality":"Quality","ui.menu.item.quality.auto":"Automatic","ui.menu.item.quality.item":"{{height}}p","ui.menu.item.speed":"Speed","ui.menu.item.speed.normal":"Normal","ui.play.button.label.active":"Pause video","ui.play.button.label.inactive":"Play video","ui.play-live.button.label.active":"Pause stream","ui.play-live.button.label.inactive":"Play stream","ui.step-back.button.label":"Rewind 10 seconds","ui.step-forward.button.label":"Forward 10 seconds","ui.subtitles.button.label.active":"Turn subtitles off","ui.subtitles.button.label.inactive":"Turn subtitles on","ui.subtitles.menu-item.label.off":"Off","ui.timeline.slider.label":"Timeline","ui.timer.current-time.label":"Current time","ui.timer.total-time.label":"Total time","ui.video-logo.alt":"Video logo","ui.audio-image-overlay.alt":"Audio overlay","ui.volume.mute-button.label.active":"Unmute volume","ui.volume.mute-button.label.inactive":"Mute volume","ui.volume.slider.label":"Volume","ui.trimmer.start.label":"Trim start time","ui.trimmer.end.label":"Trim end time","ui.trimmer.start.button":"Start time trim handle","ui.trimmer.end.button":"End time trim handle","ui.error.aborted.label":"Request stopped by the user request.","ui.error.network.label":"A network error caused the video download to fail part-way.","ui.error.decode.label":"Playback was interrupted due to a corruption problem or because of unsupported features in your browser.","ui.error.not.supported.label":"The source has been found to be unsuitable.","ui.error.encrypted.label":"This media source is encrypted and cannot be played.","ui.error.unexpected.label":"An unexpected error has occurred.","ui.retry.button.label":"Retry","lang.de":"German","lang.de-de":"German","lang.de-ch":"German (CH)","lang.de-at":"German (AT)","lang.de-lu":"German (LU)","lang.en":"English","lang.en-en":"English","lang.en-us":"English (US)","lang.en-au":"English (AU)","lang.en-ca":"English (CA)","lang.en-gb":"English (UK)","lang.en-ie":"English (IE)","lang.en-in":"English (IN)","lang.en-mt":"English (MT)","lang.en-nz":"English (NZ)","lang.en-ph":"English (PH)","lang.en-sg":"English (SG)","lang.en-za":"English (ZA)"}'),Ms=JSON.parse('{"datetime":"dd/MM/yyyy","datetime_full":"dd/MM/yyyy kk:mm"}'),Bs=JSON.parse('{"ui.fullscreen.button.label.active":"Vollbildmodus beenden","ui.fullscreen.button.label.inactive":"Vollbildmodus aktivieren","ui.live-badge.text":"Live","ui.loop.button.label.active":"Video-Loop beenden","ui.loop.button.label.inactive":"Video-Loop","ui.menu.button.label.active":"Einstellungen schlieen","ui.menu.button.label.inactive":"Einstellungen ffnen","ui.menu.item.subtitle":"Untertitel / CC","ui.menu.item.quality":"Qualitt","ui.menu.item.quality.auto":"Automatisch","ui.menu.item.quality.item":"{{height}}p","ui.menu.item.speed":"Geschwindigkeit","ui.menu.item.speed.normal":"Normal","ui.play.button.label.active":"Video pausieren","ui.play.button.label.inactive":"Video wiedergeben","ui.play-live.button.label.active":"Stream pausieren","ui.play-live.button.label.inactive":"Stream wiedergeben","ui.step-back.button.label":"10 Sekunden zurckspulen","ui.step-forward.button.label":"10 Sekunden vorwrts","ui.subtitles.button.label.active":"Untertitel ausblenden","ui.subtitles.button.label.inactive":"Untertitel einblenden","ui.subtitles.menu-item.label.off":"Aus","ui.timeline.slider.label":"Zeitleiste","ui.timer.current-time.label":"Aktuelle Uhrzeit","ui.timer.total-time.label":"Gesamtzeit","ui.video-logo.alt":"Video-Logo","ui.audio-image-overlay.alt":"Audio-Overlay","ui.volume.mute-button.label.active":"Stummschaltung aufheben","ui.volume.mute-button.label.inactive":"Stummschalten","ui.volume.slider.label":"Lautstrke","ui.trimmer.start.label":"Startzeit (Zuschnitt)","ui.trimmer.end.label":"Endzeit (Zuschnitt)","ui.trimmer.start.button":"Schaltflche zum ndern der Startzeit","ui.trimmer.end.button":"Schaltflche zum ndern der Endzeit","ui.error.aborted.label":"Das Laden des Videos wurde durch eine Benutzerinteraktion gestoppt.","ui.error.network.label":"Ein Netzwerkfehler fhrte dazu, dass der Videodownload teilweise fehlschlug.","ui.error.decode.label":"Die Wiedergabe wurde aufgrund einer Beschdigung im Video oder wegen nicht untersttzter Funktionen in Ihrem Browser unterbrochen.","ui.error.not.supported.label":"Das Video wird nicht untersttzt.","ui.error.encrypted.label":"Das Video ist verschlsselt und kann nicht wiedergegeben werden.","ui.error.unexpected.label":"Ein unerwarteter Fehler ist aufgetreten.","ui.retry.button.label":"Erneut versuchen","lang.de":"Deutsch","lang.de-de":"Deutsch","lang.de-ch":"Deutsch (CH)","lang.de-at":"Deutsch (AT)","lang.de-lu":"Deutsch (LU)","lang.en":"Englisch","lang.en-en":"Englisch","lang.en-us":"Englisch (US)","lang.en-au":"Englisch (AU)","lang.en-ca":"Englisch (CA)","lang.en-gb":"Englisch (UK)","lang.en-ie":"Englisch (IE)","lang.en-in":"Englisch (IN)","lang.en-mt":"Englisch (MT)","lang.en-nz":"Englisch (NZ)","lang.en-ph":"Englisch (PH)","lang.en-sg":"Englisch (SG)","lang.en-za":"Englisch (ZA)"}'),js=JSON.parse('{"datetime":"dd.MM.yyyy","datetime_full":"dd.MM.yyyy kk:mm"}'),Fs={en:{translations:Ds,formats:Ms},de:{translations:Bs,formats:js},"de-DE":{translations:Bs,formats:js}},Us=__webpack_require__(33),Hs={};Hs.styleTagTransform=yt(),Hs.setAttributes=dt(),Hs.insert=pt().bind(null,"head"),Hs.domAPI=ct(),Hs.insertStyleElement=vt(),lt()(Us.Z,Hs);var qs=Us.Z&&Us.Z.locals?Us.Z.locals:void 0,Vs=function(){return Vs=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Vs.apply(this,arguments)};function Gs(t,e,r,n){return i=this,s=void 0,a=function(){var i,s;return function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(o){switch(o.label){case 0:i=function(t,e){var r={debugLevel:"debug",playerName:"videojs",playerVersion:u().VERSION,hiveTechOrder:null==e?void 0:e.techOrder},n=t.tech().el();return new(0,__webpack_require__(7899).HiveHtml5)(n,r)}(t,e),a=i,u().xhr.XMLHttpRequest=function(){return a.createXMLHttpRequest()},s=e.ticket,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i.initSession(s)];case 2:return[2,[{src:o.sent().manifest,type:jn.HLS}]];case 3:return o.sent(),[2,Qs(r,n)];case 4:return[2]}var a}))},new((o=void 0)||(o=Promise))((function(t,e){function r(t){try{l(a.next(t))}catch(t){e(t)}}function n(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o((function(t){t(i)}))).then(r,n)}l((a=a.apply(i,s||[])).next())}));var i,s,o,a}function zs(t,e,r,n){return i=this,s=void 0,a=function(){return function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(i){return[2,new Promise((function(i,s){var o=Qs(r,n)[0].src,a=e.streamRootKey,l=e.omnicacheUris,u=e.debug,c=RcvrInterface.GetDefaults(!0,{player:t,verbose:u,allowFallback:!0,fallbackUrl:o,analyticsUrl:"",debug:u,extern:{key:a,url:{preload:!0,src:"LumenVideoJS.js",activation:{entry:"Util.Extern.LumenVideoJS",conf:{name:"Lumen P2P for Video.js",key:"@@@KEY@@@",media:{maxBufferSize:0,maxBufferLength:30,liveSyncDuration:30,liveMaxLatencyDuration:1/0}},param:["data","conf"]}}}},{maddr:"-1",onReady:function(t,e,r){e?i([{src:e,type:jn.HLS}]):s("RAMP is ready but no source was detected.")}},{verbose:u,uri:l});new RcvrInterface(c.i_param,c.r_param,c.o_param)}))]}))},new((o=void 0)||(o=Promise))((function(t,e){function r(t){try{l(a.next(t))}catch(t){e(t)}}function n(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof o?i:new o((function(t){t(i)}))).then(r,n)}l((a=a.apply(i,s||[])).next())}));var i,s,o,a}var Ws=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))};function Xs(t,e){return r=this,n=void 0,s=function(){return function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(r){switch(r.label){case 0:return t.plugins.hive?[2,Gs(e,t.plugins.hive,t.sources,t.settings.preferredQuality)]:[3,1];case 1:return t.plugins.ramp?[4,zs(e,t.plugins.ramp,t.sources,t.settings.preferredQuality)]:[3,3];case 2:return[2,r.sent()];case 3:return[2,Qs(t.sources,t.settings.preferredQuality)]}}))},new((i=void 0)||(i=Promise))((function(t,e){function o(t){try{l(s.next(t))}catch(t){e(t)}}function a(t){try{l(s.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(o,a)}l((s=s.apply(r,n||[])).next())}));var r,n,i,s}function Qs(t,e){var r=[];if(t.hls&&r.push(t.hls),t.progressive){var n=function(t,e){var r=Object.keys(t);return e&&t[e]?t[e]:r.reduce((function(e,r){var n=t[r];return Ws(Ws([],e,!0),n,!0)}),[])}(t.progressive,e);r=Ws(Ws([],r,!0),n,!0)}return r}u().log.level("warn");var Zs=function(r){var n;(null===(n=r.plugins)||void 0===n?void 0:n.ramp)&&(window.videojs||(window.videojs=u()),__webpack_require__(5158));var i=function(r){var n=(0,e.useState)(null),i=n[0],s=n[1],o=(0,e.useCallback)((function(){var e=!1!==r.settings.responsive;return(0,t.jsx)("div",Vs({"data-vjs-player":!0,"data-testid":"video-player","data-version":"9.3.0",className:ot()(qs.wrapper,{"vjs-fluid":e})},{children:(0,t.jsx)("video",{ref:function(t){return s(t)},playsInline:!0,controlsList:"nodownload"})}))}),[r]);return[o,i]}(r),s=i[0],o=i[1];return(0,e.useEffect)((function(){if(o&&o.parentNode){var t=u()(o,(n=(e=r).settings,{children:["mediaLoader","posterImage","liveTracker"],html5:{nativeTextTracks:!1,vhs:{maxPlaylistRetries:15}},poster:e.poster,autoplay:n.autoplay,muted:n.muted}));return window.player=t,t.ready((function(){return e=void 0,n=void 0,s=function(){var e;return function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(n){switch(n.label){case 0:return[4,Ks(t,r)];case 1:return n.sent(),[4,Xs(r,t)];case 2:return e=n.sent(),t.isDisposed()||t.src(e),[2]}}))},new((i=void 0)||(i=Promise))((function(t,r){function o(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(o,a)}l((s=s.apply(e,n||[])).next())}));var e,n,i,s})),function(){null==t||t.dispose()}}var e,n}),[o,r]),s};function Ks(t,e){var r=function(t){var e=fs.createInstance().use(Ns),r={lng:t,resources:Fs,fallbackLng:"en",ns:["translations","formats"],defaultNS:"translations",debug:!1,keySeparator:".",interpolation:{escapeValue:!1},cleanCode:!0,detection:{order:["navigator","htmlTag"],caches:[]}};return e.init(r),e}(e.lng);return new Promise((function(n){var i=new oi(t,e,r);t.addChild(i),t.one(xn.UI_LOADED,n)}))}var Ys=function(i){var s,o=(s=i,(0,e.useMemo)((function(){return{lng:s.lng,poster:s.poster,sources:s.sources,metadata:a(s.metadata),settings:(t=s.settings,e={primaryColor:"",logoUrl:"",responsive:!0,autoplay:!1,looping:!1,muted:!1,liveUI:!1,audioOnly:!1,audioOnlyImageUrl:"",volume:.7,trimmable:!1,hideLogo:!1,hideTitle:!1,hidePlayButton:!1,hideTimeline:!1,hideVolumeInput:!1,hideTimer:!1,hideLoopButton:!1,hideMenu:!1,hideFullscreenButton:!1,hidePlaybackSpeed:!1,stepButtonsAreVisible:!1},t?r(r({},e),t):e),tracks:s.tracks||[],storyboard:s.storyboard,plugins:n(s.plugins),onReady:s.onReady};var t,e}),[s.lng,s.metadata,s.onReady,s.plugins,s.poster,s.settings,s.sources,s.storyboard,s.tracks])),l=Zs(o);return(0,t.jsx)(l,{})}}(),__webpack_exports__}()}));
//# sourceMappingURL=index.js.map